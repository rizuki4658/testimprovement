import{k as a,r as e,y as t,m as i,o as n,t as s,B as l,D as o,a2 as d,a3 as r,K as u,w as p,I as c,S as m,O as b}from"./vendor.f1efedad.js";import{u as y,a as g}from"./shipengine.98b08858.js";import{f as h,b as f,_ as k}from"./index.161fb295.js";import{u as v}from"./index.32689823.js";import{c as _}from"./index.05b14cb2.js";import{r as S}from"./index.a87b789d.js";const x=a({components:{Input:h,Button:f},props:{data:{type:Object,default:()=>({api_key:""})},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["submit"],setup(a,{emit:i}){const n=e({api_key:a.data.api_key}),s={api_key:{required:_.withMessage("API key is required",S)}},l=v(s,n,{$lazy:!0});return t((()=>a.data),(a=>{n.api_key=a.api_key})),{data:n,validation:l,handleSubmit:()=>{l.value.$validate(),l.value.$invalid||i("submit",n)}}}}),w={class:"my-4"};const j=a({components:{Input:h,Button:f,FormConnect:k(x,[["render",function(a,e,t,b,y,g){const h=i("Input"),f=i("Button");return n(),s("form",{onSubmit:e[1]||(e[1]=m(((...e)=>a.handleSubmit&&a.handleSubmit(...e)),["prevent"]))},[l("div",w,[o(h,{modelValue:a.data.api_key,"onUpdate:modelValue":e[0]||(e[0]=e=>a.data.api_key=e),disabled:a.disabled,class:"mb-2",label:"API Key",placeholder:"API key",block:"",view:a.validation.api_key.$invalid?"danger":"default"},null,8,["modelValue","disabled","view"]),(n(!0),s(d,null,r(a.validation.api_key.$errors,((a,e)=>(n(),s("small",{class:"text-red-04",key:e},u(a.$message),1)))),128))]),o(f,{loading:a.loading,disabled:a.disabled||!a.data.api_key,class:"my-4",color:"teal",block:""},{default:p((()=>e[2]||(e[2]=[c("Connect")]))),_:1},8,["loading","disabled"])],32)}]])},setup(){const a=b(),t=e({api_key:""}),{loading:i,connect:n,setCredential:s}=y(),{status:l}=g();return t.api_key=l.value.api_key,{loading:i,data:t,status:l,handleSubmit:async({api_key:e})=>{s({api_key:e});try{await n(),a.push({name:"integrationShipengineConfigShippingProvider"})}catch(t){}}}}}),I={class:"pb-16 pt-4"},B={class:"md:w-1/3 w-full mx-auto my-8"};var C=k(j,[["render",function(a,e,t,d,r,u){const p=i("FormConnect");return n(),s("div",I,[e[1]||(e[1]=l("div",{class:"text-center my-6"},[l("img",{draggable:"false",class:"mx-auto my-2 select-none",src:"/assets/connect-shipengine.5819a5d7.svg",alt:"Connect Shipengine",whitelabel:"image-replace","data-image-type":"shipengine"}),l("p",{whitelabel:"text-replace","data-label":"addons host"},"Reusely.com would like to connect to your Shipengine account")],-1)),l("div",B,[o(p,{disabled:0==a.status.is_ready,data:a.data,loading:a.loading,onSubmit:a.handleSubmit},null,8,["disabled","data","loading","onSubmit"]),e[0]||(e[0]=l("div",{class:"my-6 text-center"},[l("a",{class:"transition duration:300 hover:bg-teal-01 hover:text-teal-04 rounded-lg p-4 block w-full",href:"https://dashboard.shipengine.com",target:"_blank",rel:"noopener noreferrer"},"Login to your Shipengine Account")],-1))])])}]]);export{C as default};
