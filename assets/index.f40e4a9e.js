import{au as e,f as t,as as r,y as n,av as a,r as s,X as l,g as i,ap as o,aw as u,ax as c,ay as $,az as v,s as d}from"./vendor.9695fe57.js";function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce(((r,n)=>(t.includes(n)||(r[n]=o(e[n])),r)),{})}function g(e){return"function"==typeof e}function m(e){return u(e)||c(e)}function b(e,t,r){let n=e;const a=t.split(".");for(let s=0;s<a.length;s++){if(!n[a[s]])return r;n=n[a[s]]}return n}function O(e,t,r){return i((()=>e.some((e=>b(t,e,{[r]:!1})[r]))))}function E(e,t,r){return i((()=>e.reduce(((e,n)=>{const a=b(t,n,{[r]:!1})[r]||[];return e.concat(a)}),[])))}function j(e,t,r,n){return e.call(n,o(t),o(r),n)}function w(e){return void 0!==e.$valid?!e.$valid:!e}function R(e,r,a,s,l,o,u,c,$,v,d){const p=t(!1),h=e.$params||{},y=t(null);let m,b;e.$async?({$invalid:m,$unwatch:b}=function(e,r,a,s,l,i,o){let{$lazy:u,$rewardEarly:c}=l,$=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],v=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0;const h=t(!!s.value),y=t(0);a.value=!1;const f=n([r,s].concat($,p),(()=>{if(u&&!s.value||c&&!d.value&&!a.value)return;let t;try{t=j(e,r,v,o)}catch(n){t=Promise.reject(n)}y.value++,a.value=!!y.value,h.value=!1,Promise.resolve(t).then((e=>{y.value--,a.value=!!y.value,i.value=e,h.value=w(e)})).catch((e=>{y.value--,a.value=!!y.value,i.value=e,h.value=!0}))}),{immediate:!0,deep:"object"==typeof r});return{$invalid:h,$unwatch:f}}(e.$validator,r,p,a,s,y,l,e.$watchTargets,$,v,d)):({$invalid:m,$unwatch:b}=function(e,t,r,n,a,s,l,o){let{$lazy:u,$rewardEarly:c}=n;return{$unwatch:()=>({}),$invalid:i((()=>{if(u&&!r.value||c&&!o.value)return!1;let n=!0;try{const r=j(e,t,l,s);a.value=r,n=w(r)}catch(i){a.value=i}return n}))}}(e.$validator,r,a,s,y,l,$,v));const O=e.$message;return{$message:g(O)?i((()=>O(f({$pending:p,$invalid:m,$params:f(h),$model:r,$response:y,$validator:o,$propertyPath:c,$property:u})))):O||"",$params:h,$pending:p,$invalid:m,$response:y,$unwatch:b}}function C(e){let{validations:r,state:l,key:u,parentKey:c,childResults:$,resultsCache:v,globalConfig:p={},instance:y,externalResults:f}=e;const m=c?`${c}.${u}`:u,{rules:b,nestedValidators:j,config:w,validationGroups:P}=function(){const e=o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=Object.keys(e),r={},n={},a={};let s=null;return t.forEach((t=>{const l=e[t];switch(!0){case g(l.$validator):r[t]=l;break;case g(l):r[t]={$validator:l};break;case"$validationGroups"===t:s=l;break;case t.startsWith("$"):a[t]=l;break;default:n[t]=l}})),{rules:r,nestedValidators:n,config:a,validationGroups:s}}(r),_=h(h({},p),w),k=u?i((()=>{const e=o(l);return e?o(e[u]):void 0})):l,L=h({},o(f)||{}),x=i((()=>{const e=o(f);return u?e?o(e[u]):void 0:e})),D=function(e,r,n,a,l,u,c,$,v){const d=Object.keys(e),p=a.get(l,e),h=t(!1),y=t(!1),f=t(0);if(p){if(!p.$partial)return p;p.$unwatch(),h.value=p.$dirty.value}const g={$dirty:h,$path:l,$touch:()=>{h.value||(h.value=!0)},$reset:()=>{h.value&&(h.value=!1)},$commit:()=>{}};return d.length?(d.forEach((t=>{g[t]=R(e[t],r,g.$dirty,u,c,t,n,l,v,y,f)})),g.$externalResults=i((()=>$.value?[].concat($.value).map(((e,t)=>({$propertyPath:l,$property:n,$validator:"$externalResults",$uid:`${l}-externalResult-${t}`,$message:e,$params:{},$response:null,$pending:!1}))):[])),g.$invalid=i((()=>{const e=d.some((e=>o(g[e].$invalid)));return y.value=e,!!g.$externalResults.value.length||e})),g.$pending=i((()=>d.some((e=>o(g[e].$pending))))),g.$error=i((()=>!!g.$dirty.value&&(g.$pending.value||g.$invalid.value))),g.$silentErrors=i((()=>d.filter((e=>o(g[e].$invalid))).map((e=>{const t=g[e];return s({$propertyPath:l,$property:n,$validator:e,$uid:`${l}-${e}`,$message:t.$message,$params:t.$params,$response:t.$response,$pending:t.$pending})})).concat(g.$externalResults.value))),g.$errors=i((()=>g.$dirty.value?g.$silentErrors.value:[])),g.$unwatch=()=>d.forEach((e=>{g[e].$unwatch()})),g.$commit=()=>{y.value=!0,f.value=Date.now()},a.set(l,e,g),g):(p&&a.set(l,e,g),g)}(b,k,u,v,m,_,y,x,l),I=function(e,t,r,n,a,s,l){const i=Object.keys(e);return i.length?i.reduce(((i,o)=>(i[o]=C({validations:e[o],state:t,key:o,parentKey:r,resultsCache:n,globalConfig:a,instance:s,externalResults:l}),i)),{}):{}}(j,k,m,v,_,y,x),T={};P&&Object.entries(P).forEach((e=>{let[t,r]=e;T[t]={$invalid:O(r,I,"$invalid"),$error:O(r,I,"$error"),$pending:O(r,I,"$pending"),$errors:E(r,I,"$errors"),$silentErrors:E(r,I,"$silentErrors")}}));const{$dirty:V,$errors:A,$invalid:N,$anyDirty:G,$error:S,$pending:z,$touch:F,$reset:K,$silentErrors:M,$commit:W}=function(e,t,r){const n=i((()=>[t,r].filter((e=>e)).reduce(((e,t)=>e.concat(Object.values(o(t)))),[]))),a=i({get:()=>e.$dirty.value||!!n.value.length&&n.value.every((e=>e.$dirty)),set(t){e.$dirty.value=t}}),s=i((()=>{const t=o(e.$silentErrors)||[],r=n.value.filter((e=>(o(e).$silentErrors||[]).length)).reduce(((e,t)=>e.concat(...t.$silentErrors)),[]);return t.concat(r)})),l=i((()=>{const t=o(e.$errors)||[],r=n.value.filter((e=>(o(e).$errors||[]).length)).reduce(((e,t)=>e.concat(...t.$errors)),[]);return t.concat(r)})),u=i((()=>n.value.some((e=>e.$invalid))||o(e.$invalid)||!1)),c=i((()=>n.value.some((e=>o(e.$pending)))||o(e.$pending)||!1)),$=i((()=>n.value.some((e=>e.$dirty))||n.value.some((e=>e.$anyDirty))||a.value)),v=i((()=>!!a.value&&(c.value||u.value))),d=()=>{e.$touch(),n.value.forEach((e=>{e.$touch()}))};return n.value.length&&n.value.every((e=>e.$dirty))&&d(),{$dirty:a,$errors:l,$invalid:u,$anyDirty:$,$error:v,$pending:c,$touch:d,$reset:()=>{e.$reset(),n.value.forEach((e=>{e.$reset()}))},$silentErrors:s,$commit:()=>{e.$commit(),n.value.forEach((e=>{e.$commit()}))}}}(D,I,$),X=u?i({get:()=>o(k),set:e=>{V.value=!0;const t=o(l),r=o(f);r&&(r[u]=L[u]),a(t[u])?t[u].value=e:t[u]=e}}):null;return u&&_.$autoDirty&&n(k,(()=>{V.value||F();const e=o(f);e&&(e[u]=L[u])}),{flush:"sync"}),s(h(h(h({},D),{},{$model:X,$dirty:V,$error:S,$errors:A,$invalid:N,$anyDirty:G,$pending:z,$touch:F,$reset:K,$path:m||"__root",$silentErrors:M,$validate:async function(){return F(),_.$rewardEarly&&(W(),await d()),await d(),new Promise((e=>{if(!z.value)return e(!N.value);const t=n(z,(()=>{e(!N.value),t()}))}))},$commit:W},$&&{$getResultsForChild:function(e){return($.value||{})[e]},$clearExternalResults:function(){a(f)?f.value=L:0===Object.keys(L).length?Object.keys(f).forEach((e=>{delete f[e]})):Object.assign(f,L)},$validationGroups:T}),I))}class P{constructor(){this.storage=new Map}set(e,t,r){this.storage.set(e,{rules:t,result:r})}checkRulesValidity(e,t,r){const n=Object.keys(r),a=Object.keys(t);if(a.length!==n.length)return!1;return!!a.every((e=>n.includes(e)))&&a.every((e=>!t[e].$params||Object.keys(t[e].$params).every((n=>o(r[e].$params[n])===o(t[e].$params[n])))))}get(e,t){const r=this.storage.get(e);if(!r)return;const{rules:n,result:a}=r,s=this.checkRulesValidity(e,t,n),l=a.$unwatch?a.$unwatch:()=>({});return s?a:{$dirty:a.$dirty,$partial:!0,$unwatch:l}}}const _={COLLECT_ALL:!0,COLLECT_NONE:!1},k=Symbol("vuelidate#injectChildResults"),L=Symbol("vuelidate#removeChildResults");function x(e){let{$scope:r,instance:n}=e;const a={},s=t([]),l=i((()=>s.value.reduce(((e,t)=>(e[t]=o(a[t]),e)),{})));n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],(function(e,t){let{$registerAs:n,$scope:l,$stopPropagation:i}=t;i||r===_.COLLECT_NONE||l===_.COLLECT_NONE||r!==_.COLLECT_ALL&&r!==l||(a[n]=e,s.value.push(n))})),n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],(function(e){s.value=s.value.filter((t=>t!==e)),delete a[e]}));const u=$(k,[]);v(k,n.__vuelidateInjectInstances);const c=$(L,[]);return v(L,n.__vuelidateRemoveInstances),{childResults:l,sendValidationResultsToParent:u,removeValidationResultsFromParent:c}}function D(e){return new Proxy(e,{get:(e,t)=>"object"==typeof e[t]?D(e[t]):i((()=>e[t]))})}let I=0;function T(u,c){var $;let v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};1===arguments.length&&(v=u,u=void 0,c=void 0);let{$registerAs:d,$scope:p=_.COLLECT_ALL,$stopPropagation:y,$externalResults:f,currentVueInstance:b}=v;const O=b||(null===($=e())||void 0===$?void 0:$.proxy),E=O?O.$options:{};d||(I+=1,d=`_vuelidate_${I}`);const j=t({}),w=new P,{childResults:R,sendValidationResultsToParent:k,removeValidationResultsFromParent:L}=O?x({$scope:p,instance:O}):{childResults:t({})};if(!u&&E.validations){const e=E.validations;c=t({}),r((()=>{c.value=O,n((()=>g(e)?e.call(c.value,new D(c.value)):e),(e=>{j.value=C({validations:e,state:c,childResults:R,resultsCache:w,globalConfig:v,instance:O,externalResults:f||O.vuelidateExternalResults})}),{immediate:!0})})),v=E.validationsConfig||v}else{const e=a(u)||m(u)?u:s(u||{});n(e,(e=>{j.value=C({validations:e,state:c,childResults:R,resultsCache:w,globalConfig:v,instance:null!=O?O:{},externalResults:f})}),{immediate:!0})}return O&&(k.forEach((e=>e(j,{$registerAs:d,$scope:p,$stopPropagation:y}))),l((()=>L.forEach((e=>e(d)))))),i((()=>h(h({},o(j.value)),R.value)))}export{T as u};
