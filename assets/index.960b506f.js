import{u as e}from"./components.4d38f2db.js";import{k as a,r as l,f as d,y as i,m as s,$ as n,o as t,t as o,B as _,D as r,w as c,I as u,a1 as m,a2 as f,K as b,A as p,n as g,g as x,_ as v,a6 as y,a3 as V,aI as h,a5 as k,O as $,x as w}from"./vendor.9695fe57.js";import{f as j,e as S,j as U,_ as F,v as C,d as A,b as P}from"./index.73ae30fa.js";import{d as q}from"./integration.549dcf93.js";import{c as B}from"./setting.70ebc1f0.js";import{_ as D}from"./tab.74a5b4bb.js";import{_ as O}from"./fieldset.1864b72f.js";import{u as I}from"./index.f40e4a9e.js";import{r as N,v as K,e as T}from"./index.54844a74.js";import{c as E}from"./index.6b6f6369.js";import{I as z}from"./InputPhone.a467eb84.js";import{S as L}from"./ShippingKitForm.d73f2b8b.js";import"./ButtonLearnMore.a712c558.js";import"./LoadingCard.d1cef10f.js";import"./card.0f43ecfb.js";import"./SelectCountry.db8fda5d.js";import"./TextEditor.5cfed8cc.js";const M=a({components:{Input:j,Fieldset:O,Checkbox:S,Alert:U,InputPhone:z},props:{data:{type:Object,default:()=>({fedex_address1:null,fedex_address2:null,fedex_carrier_id:null,fedex_city:null,fedex_company:null,fedex_country_code:null,fedex_nickname:null,fedex_phone:null,fedex_postal_code:null,fedex_state:null,fedex_address_text:null,is_fedex_use_company_data:!1,billing_fedex_account_number:null,billing_fedex_address1:null,billing_fedex_address2:null,billing_fedex_city:null,billing_fedex_company:null,billing_fedex_country_code:null,billing_fedex_email:null,billing_fedex_first_name:null,billing_fedex_last_name:null,billing_fedex_phone:null,billing_fedex_postal_code:null,billing_fedex_state:null,billing_fedex_address_text:null,is_billing_fedex_use_company_data:!1})},companyData:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:a}){const s=l(e.data),n=l(e.companyData),t=d(null),o=d(null);Object.assign(s,{valid:""!==s.fedex_address_text&&null!==s.fedex_address_text,valid_billing:""!==s.billing_fedex_address_text&&null!==s.billing_fedex_address_text,is_fedex_use_company_data:1==s.is_fedex_use_company_data,is_billing_fedex_use_company_data:1==s.is_billing_fedex_use_company_data});const _={fedex_company:{required:N},fedex_phone:{required:N,invalidNumber:E.withMessage("Phone number is invalid",(()=>{var e;return!s.fedex_phone||(null==(e=o.value)?void 0:e.isValid)}))},valid:{sameAs:K},billing_fedex_account_number:{required:N},billing_fedex_company:{required:N},billing_fedex_email:{required:N,email:T},billing_fedex_first_name:{required:N},billing_fedex_last_name:{required:N},billing_fedex_phone:{required:N,invalidNumber:E.withMessage("Phone number is invalid",(()=>{var e;return!s.billing_fedex_phone||(null==(e=t.value)?void 0:e.isValid)}))},valid_billing:{sameAs:K}},r=I(_,s,{$lazy:!0});return i((()=>({isUseCompanyData:s.is_fedex_use_company_data,isBillingUseCompanyData:s.is_billing_fedex_use_company_data})),(e=>{const{isUseCompanyData:a,isBillingUseCompanyData:l}=e;a?Object.assign(s,{fedex_address1:n.address,fedex_address2:n.suite,fedex_city:n.city,fedex_country_code:n.country,fedex_postal_code:n.zip,fedex_state:n.state,fedex_address_text:n.address_text,fedex_phone:n.phone,fedex_company:n.name,valid:!0}):l&&Object.assign(s,{billing_fedex_address1:n.address,billing_fedex_address2:n.suite,billing_fedex_city:n.city,billing_fedex_country_code:n.country,billing_fedex_postal_code:n.zip,billing_fedex_state:n.state,billing_fedex_address_text:n.address_text,billing_fedex_email:n.company_email,billing_fedex_phone:n.phone,billing_fedex_company:n.name,valid_billing:!0})})),{data:s,refBillingPhone:t,refFedexPhone:o,validation:r,validate:()=>(r.value.$validate(),!r.value.$invalid),address:{valid:"valid",route:"fedex_address1",locality:"fedex_city",administrative_area_level_1:"fedex_state",formatted_address:"fedex_address_text",postal_code:"fedex_postal_code",country:"fedex_country_code",disallowCustomAddress:!0},billing_address:{valid:"valid_billing",route:"billing_fedex_address1",locality:"billing_fedex_city",administrative_area_level_1:"billing_fedex_state",formatted_address:"billing_fedex_address_text",postal_code:"billing_fedex_postal_code",country:"billing_fedex_country_code",disallowCustomAddress:!0}}}}),R={class:"grid grid-cols-1 gap-6"},G={class:"p-2"},H={class:"grid grid-cols-3 p-2"},J={class:"col-span-2"},Q={class:"grid grid-cols-2 gap-4"},W={class:"col-span-2"},X={class:"col-span-2"},Y={class:"col-span-2"},Z={class:"col-span-2"},ee={class:"col-span-2"},ae={class:"col-span-2"},le={class:"grid grid-cols-3 p-2"},de={class:"col-span-2"},ie={class:"grid grid-cols-2 gap-4"},se={class:"col-span-2"},ne={class:"col-span-2"},te={class:"col-span-2"},oe={class:"col-span-2"},_e={class:"col-span-2"};var re=F(a({components:{Tab:D,SettingForm:F(M,[["render",function(e,a,l,d,i,x){const v=s("Input"),y=s("Fieldset"),V=s("Checkbox"),h=s("InputPhone"),k=n("gmap");return t(),o("div",R,[_("div",null,[r(y,{class:"w-full my-6"},{label:c((()=>a[14]||(a[14]=[u("Account Number")]))),default:c((()=>[_("div",G,[r(v,{type:"number",label:"Number",modelValue:e.data.billing_fedex_account_number,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.billing_fedex_account_number=a),view:e.validation.billing_fedex_account_number.$invalid?"danger":"default"},null,8,["modelValue","view"]),(t(!0),o(m,null,f(e.validation.billing_fedex_account_number.$errors,((e,a)=>(t(),o("small",{class:"text-red-base block",key:a},b(e.$message)+". ",1)))),128))])])),_:1}),r(y,{class:"w-full my-6"},{label:c((()=>a[15]||(a[15]=[u("Billing Address")]))),default:c((()=>[_("div",H,[_("div",J,[_("div",Q,[_("div",W,[r(V,{modelValue:e.data.is_billing_fedex_use_company_data,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.is_billing_fedex_use_company_data=a),class:"font-normal",type:"toggle"},{default:c((()=>a[16]||(a[16]=[u("Auto fill from company location profile")]))),_:1},8,["modelValue"])]),_("div",null,[r(v,{label:"First Name",modelValue:e.data.billing_fedex_first_name,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.billing_fedex_first_name=a),block:"",view:e.validation.billing_fedex_first_name.$invalid?"danger":"default"},null,8,["modelValue","view"]),(t(!0),o(m,null,f(e.validation.billing_fedex_first_name.$errors,((e,a)=>(t(),o("small",{class:"text-red-base block",key:a},b(e.$message)+". ",1)))),128))]),_("div",null,[r(v,{label:"Last Name",modelValue:e.data.billing_fedex_last_name,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data.billing_fedex_last_name=a),block:"",view:e.validation.billing_fedex_last_name.$invalid?"danger":"default"},null,8,["modelValue","view"]),(t(!0),o(m,null,f(e.validation.billing_fedex_last_name.$errors,((e,a)=>(t(),o("small",{class:"text-red-base block",key:a},b(e.$message)+". ",1)))),128))]),_("div",X,[r(v,{label:"Company Name",modelValue:e.data.billing_fedex_company,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.billing_fedex_company=a),block:"",view:e.validation.billing_fedex_company.$invalid?"danger":"default",disabled:1==e.data.is_billing_fedex_use_company_data},null,8,["modelValue","view","disabled"]),(t(!0),o(m,null,f(e.validation.billing_fedex_company.$errors,((e,a)=>(t(),o("small",{class:"text-red-base block",key:a},b(e.$message)+". ",1)))),128))]),_("div",Y,[r(v,{label:"Email",modelValue:e.data.billing_fedex_email,"onUpdate:modelValue":a[5]||(a[5]=a=>e.data.billing_fedex_email=a),block:"",view:e.validation.billing_fedex_email.$invalid?"danger":"default",disabled:1==e.data.is_billing_fedex_use_company_data},null,8,["modelValue","view","disabled"]),(t(!0),o(m,null,f(e.validation.billing_fedex_email.$errors,((e,a)=>(t(),o("small",{class:"text-red-base block",key:a},b(e.$message)+". ",1)))),128))]),_("div",Z,[p((t(),g(v,{label:"Street Address",modelValue:e.data.billing_fedex_address_text,"onUpdate:modelValue":a[6]||(a[6]=a=>e.data.billing_fedex_address_text=a),class:"mb-2",block:"",icon:"","icon-block":"",view:e.validation.valid_billing.$invalid?"danger":"default",disabled:1==e.data.is_billing_fedex_use_company_data,autocomplete:"none"},{icon:c((()=>a[17]||(a[17]=[_("span",{class:"material-icons"},"location_on",-1)]))),_:1},8,["modelValue","view","disabled"])),[[k,e.billing_address]]),(t(!0),o(m,null,f(e.validation.valid_billing.$errors,((e,a)=>(t(),o("small",{class:"text-red-base block",key:a},b(e.$message)+". ",1)))),128)),a[18]||(a[18]=_("small",{class:"text-grey-04 block"},"Street address, P.O box, company name, c/o.",-1))]),_("div",ee,[r(v,{class:"mb-2",modelValue:e.data.billing_fedex_address2,"onUpdate:modelValue":a[7]||(a[7]=a=>e.data.billing_fedex_address2=a),block:"",disabled:1==e.data.is_billing_fedex_use_company_data},null,8,["modelValue","disabled"]),a[19]||(a[19]=_("small",{class:"text-grey-04 block"},"Apartment, suite, building, floor, etc.",-1))]),_("div",ae,[r(h,{ref:"refBillingPhone",modelValue:e.data.billing_fedex_phone,"onUpdate:modelValue":a[8]||(a[8]=a=>e.data.billing_fedex_phone=a),label:"Phone",block:"",disabled:1==e.data.is_billing_fedex_use_company_data,"country-autofill-setting":""},null,8,["modelValue","disabled"]),(t(!0),o(m,null,f(e.validation.billing_fedex_phone.$errors,((e,a)=>(t(),o("small",{class:"text-red-base block",key:a},b(e.$message)+". ",1)))),128))])])])])])),_:1}),r(y,{class:"w-full my-6"},{label:c((()=>a[20]||(a[20]=[u("Return Shipping")]))),default:c((()=>[_("div",le,[_("div",de,[_("div",ie,[_("div",se,[r(V,{modelValue:e.data.is_fedex_use_company_data,"onUpdate:modelValue":a[9]||(a[9]=a=>e.data.is_fedex_use_company_data=a),class:"font-normal",type:"toggle"},{default:c((()=>a[21]||(a[21]=[u("Auto fill from company location profile")]))),_:1},8,["modelValue"])]),_("div",ne,[r(v,{label:"Company Name",modelValue:e.data.fedex_company,"onUpdate:modelValue":a[10]||(a[10]=a=>e.data.fedex_company=a),block:"",view:e.validation.fedex_company.$invalid?"danger":"default",disabled:1==e.data.is_fedex_use_company_data},null,8,["modelValue","view","disabled"]),(t(!0),o(m,null,f(e.validation.fedex_company.$errors,((e,a)=>(t(),o("small",{class:"text-red-base block",key:a},b(e.$message)+". ",1)))),128))]),_("div",te,[p((t(),g(v,{label:"Street Address",modelValue:e.data.fedex_address_text,"onUpdate:modelValue":a[11]||(a[11]=a=>e.data.fedex_address_text=a),class:"mb-2",block:"",icon:"","icon-block":"",view:e.validation.valid.$invalid?"danger":"default",disabled:1==e.data.is_fedex_use_company_data,autocomplete:"none"},{icon:c((()=>a[22]||(a[22]=[_("span",{class:"material-icons"},"location_on",-1)]))),_:1},8,["modelValue","view","disabled"])),[[k,e.address]]),(t(!0),o(m,null,f(e.validation.valid.$errors,((e,a)=>(t(),o("small",{class:"text-red-base block",key:a},b(e.$message)+". ",1)))),128)),a[23]||(a[23]=_("small",{class:"text-grey-04 block"},"Street address, P.O box, company name, c/o.",-1))]),_("div",oe,[r(v,{class:"mb-2",modelValue:e.data.fedex_address2,"onUpdate:modelValue":a[12]||(a[12]=a=>e.data.fedex_address2=a),block:"",disabled:1==e.data.is_fedex_use_company_data},null,8,["modelValue","disabled"]),a[24]||(a[24]=_("small",{class:"text-grey-04 block"},"Apartment, suite, building, floor, etc.",-1))]),_("div",_e,[r(h,{ref:"refFedexPhone",modelValue:e.data.fedex_phone,"onUpdate:modelValue":a[13]||(a[13]=a=>e.data.fedex_phone=a),block:"",label:"Phone",disabled:1==e.data.is_fedex_use_company_data,"country-autofill-setting":""},null,8,["modelValue","disabled"]),(t(!0),o(m,null,f(e.validation.fedex_phone.$errors,((e,a)=>(t(),o("small",{class:"text-red-base block",key:a},b(e.$message)+". ",1)))),128))])])])])])),_:1})])])}]]),ShippingKitForm:L},async setup(e){const{state:a,loading:i,data:s,actionAll:n,actionUpdateConfig:t,actionUpdateShippingKit:o}=q(),{data:_,actionShow:r}=B(),c=d(null),u=l({items:[{name:"Settings",component:"SettingForm"}],current:"SettingForm"}),m=x((()=>"SettingForm"===u.current?Object.assign({},{data:s.config,companyData:_}):"ShippingKitForm"===u.current?Object.assign({},{data:s.shipping_kit}):void 0));return await Promise.all([n(),r()]),{state:a,data:s,loading:i,tab:u,refTabComponent:c,componentBind:m,actionUpdateShippingKit:o,updateData:async(e=(()=>{}))=>{i.update=!0;if(c.value.validate&&await c.value.validate())switch(u.current){case"SettingForm":await t((()=>{v({type:"success",message:"FedEx config updated!"}),C(e)&&e()}));break;case"ShippingKitForm":await o((()=>{v({type:"success",message:"FedEx shipping kit updated"}),C(e)&&e()}))}else i.update=!1}}}}),[["render",function(e,a,l,d,i,_){const c=s("Tab"),u=n("loading");return p((t(),o("div",null,[r(c,{modelValue:e.tab.current,"onUpdate:modelValue":a[0]||(a[0]=a=>e.tab.current=a),items:e.tab.items,component:""},null,8,["modelValue","items"]),(t(),g(h,null,[(t(),g(y(e.tab.current),V(e.componentBind,{ref:"refTabComponent"}),null,16))],1024))])),[[u,e.loading.all]])}]]),ce=a({async setup(){const{genSuspense:a}=e(),i=d(null),s=k(),n=$(),t=async()=>{await i.value.updateData((()=>{var e,a;"SettingForm"==(null==(e=i.value.tab)?void 0:e.current)?n.push({name:"integration",query:{enable:(null==(a=s.query)?void 0:a.id)||""}}):n.push({name:"integration"})}))},o=l({modelValue:!0,closeTo:{name:"integration",query:{reload:1}},size:"sm"}),_=l({header:()=>"FedEx Config",headerRight:()=>genLearnMoreButton(),default:()=>a(w(re,{ref:i})),footer:()=>{return w(P,{color:"teal",loading:i.value&&(null==(a=null==(e=i.value)?void 0:e.loading)?void 0:a.update),onClick:t},{default:()=>"Save"});var e,a}});return()=>w(A,o,_)}});export{ce as default};
