import{j as t,a5 as a,O as e,aq as s,o as n,n as i}from"./vendor.f1efedad.js";import{u as o}from"./integration.db2aa4c7.js";import{z as r,B as d}from"./index.ec266ec1.js";import{u}from"./tremendeous.9ddd3a83.js";const g=t("integration",{state:()=>({get:{isLoading:!1,result:void 0},getAll:{isLoading:!1,result:void 0},update:{isLoading:!1}}),getters:{},actions:{async $get(t){const a=await r({url:`/v1/pos/integrations/${t.id}`,method:"get"});return this.$state.get.result=a,a},async $getAll(t){const a=await r({url:"/v1/pos/integrations",method:"get"});return this.$state.getAll.result=a,a},$update:async t=>await r({url:`/v1/pos/integrations/${t.id}`,method:"put",data:t.data})}}),m={__name:"index",async setup(t){let r,m;const l=a(),c=e(),p=g(),$=u(),{getIntegrationByName:y,enableIntegrationByName:f}=o();return[r,m]=s((async()=>$.$claimToken({data:{code:l.query.code}}).then((async()=>{const t=y("tremendous");await p.$update({id:t.id,data:{is_enable:1}}),await $.$get(),f("tremendous"),await c.push({name:"integrationTremendousCampaignTemplate"})})))),await r,m(),(t,a)=>(n(),i(d))}};export{m as default};
