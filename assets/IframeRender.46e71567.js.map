{"version":3,"file":"IframeRender.46e71567.js","sources":["../../src/components/IframeRender.vue"],"sourcesContent":["<script>\nimport { h, ref, createApp, onMounted, onBeforeUpdate } from 'vue'\n\nexport default {\n  name: 'IframeRender',\n  props: {\n    css: {\n      type: String,\n      default: ''\n    }\n  },\n  setup(props, { slots }) {\n    const iframeRef = ref(null)\n    const iframeBody = ref(null)\n    const iframeHead = ref(null)\n    const iframeStyle = ref(null)\n    let iframeApp = null\n\n    onMounted(() => {\n      iframeBody.value = iframeRef.value.contentDocument.body\n      iframeHead.value = iframeRef.value.contentDocument.head\n      const el = document.createElement('div')\n      iframeBody.value.appendChild(el)\n      iframeStyle.value = document.createElement('style')\n      iframeStyle.value.innerHTML = props.css\n      iframeHead.value.appendChild(iframeStyle.value)\n\n      iframeApp = createApp({\n        name: 'renderIframe',\n        setup() {\n          return () => slots.default()\n        }\n      }).mount(el)\n    })\n    onBeforeUpdate(() => {\n      if (!iframeApp || !iframeRef.value) {\n        return\n      }\n      if (props.css) {\n        iframeStyle.value.innerHTML = props.css\n      }\n    })\n    return () => h('iframe', { ref: iframeRef })\n  }\n}\n</script>\n"],"names":["_sfc_main","name","props","css","type","String","default","[object Object]","slots","iframeRef","ref","iframeBody","iframeHead","iframeStyle","iframeApp","onMounted","value","contentDocument","body","head","el","document","createElement","appendChild","innerHTML","createApp","setup","mount","onBeforeUpdate","h"],"mappings":"uEAGK,MAAAA,EAAU,CACbC,KAAM,eACNC,MAAO,CACLC,IAAK,CACHC,KAAMC,OACNC,QAAS,KAGbC,MAAML,GAAOM,MAAEA,IACb,MAAMC,EAAYC,EAAI,MAChBC,EAAaD,EAAI,MACjBE,EAAaF,EAAI,MACjBG,EAAcH,EAAI,MACxB,IAAII,EAAY,KA0BhB,OAxBAC,GAAU,KACGJ,EAAAK,MAAQP,EAAUO,MAAMC,gBAAgBC,KACxCN,EAAAI,MAAQP,EAAUO,MAAMC,gBAAgBE,KAC7C,MAAAC,EAAKC,SAASC,cAAc,OAClCX,EAAWK,MAAMO,YAAYH,GACjBP,EAAAG,MAAQK,SAASC,cAAc,SAC/BT,EAAAG,MAAMQ,UAAYtB,EAAMC,IACzBS,EAAAI,MAAMO,YAAYV,EAAYG,OAEzCF,EAAYW,EAAU,CACpBxB,KAAM,eACNyB,MAAQ,IACC,IAAMlB,EAAMF,YAEpBqB,MAAMP,MAEXQ,GAAe,KACRd,GAAcL,EAAUO,OAGzBd,EAAMC,MACIU,EAAAG,MAAMQ,UAAYtB,EAAMC,QAGjC,IAAM0B,EAAE,SAAU,CAAEnB,IAAKD"}