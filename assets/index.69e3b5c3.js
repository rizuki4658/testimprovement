import{a5 as e,O as a,aP as n,aq as t,m as s,$ as o,o as i,n as d,w as l,B as m,ap as r,I as u,U as p,D as g,T as f,ar as c,A as C,t as T,aI as h,a6 as y,a1 as k,_}from"./vendor.9695fe57.js";import{u as w}from"./integration.5191ede6.js";import{B as b,t as j,b as v,d as x}from"./index.35a87af4.js";import{u as I}from"./tremendeous.4668e86b.js";const B={class:"flex justify-between"},S={class:"w-full flex items-center justify-center"},V={__name:"index",async setup(V){let $,F;const L=["integrationTremendousCampaignTemplate","integrationTremendousConfig"],U=e(),q=a(),z=n("refComponent"),A=I(),{getIntegrationByName:D}=w(),E=async()=>{await q.push({name:"integration"}),A.reset()},N=async()=>{"integrationTremendousCampaignTemplate"===U.name?z.value.onValidate()&&await q.push({name:"integrationTremendousConfig"}):(await j(A.update,(async()=>{await A.$update().then((()=>{_({type:"success",message:"Update Successful!"})}))})),E())};return[$,F]=t((()=>A.$get())),await $,F(),"/add-ons/tremendous/callback"!==U.path&&(1===D("tremendous").is_enable&&"/add-ons/tremendous/callback"!==U.path?A.form.selectedCampaignId?q.push({name:"integrationTremendousConfig"}):q.push({name:"integrationTremendousCampaignTemplate"}):q.push({name:"integrationTremendousConnect"})),(e,a)=>{const n=s("RouterView"),t=o("loading");return i(),d(r(x),{size:"md",modelValue:!0,hideFooter:!L.includes(r(U).name),onClickClose:E,"without-transition":""},{header:l((()=>[m("div",B,[a[1]||(a[1]=m("span",null,"Tremendous Settings",-1)),"integrationTremendousConfig"===r(U).name?(i(),d(r(v),{key:0,color:"teal",to:"/add-ons/tremendous/campaign-template",link:"",dense:""},{default:l((()=>a[0]||(a[0]=[u(" Edit Template ")]))),_:1})):p("",!0)])])),default:l((()=>[g(n,null,{default:l((({Component:e,route:a})=>[e?(i(),d(f,{name:"slide-fade",key:a.matched[a.matched.length-2].name},{default:l((()=>[(i(),d(c,null,{default:l((()=>[C((i(),T("div",null,[(i(),d(h,null,[(i(),d(y(e),{ref_key:"refComponent",ref:z},null,512))],1024))])),[[t,r(A).isLoading]])])),fallback:l((()=>[m("div",S,[g(b)])])),_:2},1024))])),_:2},1024)):p("",!0)])),_:1})])),footer:l((()=>[g(r(v),{loading:r(A).isLoading,color:"teal",onClick:N},{default:l((()=>["integrationTremendousCampaignTemplate"===r(U).name?(i(),T(k,{key:0},[u("Continue")],64)):(i(),T(k,{key:1},[u("Save")],64))])),_:1},8,["loading"])])),_:1},8,["hideFooter"])}}};export{V as default};
