var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,n=(e,a)=>{for(var l in a||(a={}))o.call(a,l)&&s(e,l,a[l]);if(t)for(var l of t(a))i.call(a,l)&&s(e,l,a[l]);return e},d=(e,t)=>a(e,l(t));import{k as r,a5 as c,m as u,o as m,n as p,w as h,B as b,K as g,D as v,g as _,t as f,U as y,a1 as k,a2 as w,I as C,A as S,L as x,f as I,y as P,S as B,F as V,O as M,_ as Q,$ as U,r as D,s as O,a6 as T,a3 as q,aU as j,a0 as A,T as N,ar as R,W as L,x as E}from"./vendor.9695fe57.js";import{v as $,c as z,e as K,d as F,f as G,g as H,h as W,j as Y,k as J,w as X,l as Z,x as ee,y as ae,b as le,z as te,A as oe,B as ie,C as se,D as ne,E as de}from"./buyback.5c4fd99a.js";import{u as re,a as ce,b as ue,c as me}from"./bulkquote.444ceb87.js";import{B as pe,_ as he,u as be,a as ge,S as ve,b as _e,c as fe,d as ye}from"./data-match-icon.69771d4c.js";import{d as ke,b as we,_ as Ce,f as Se,e as xe,j as Ie,u as Pe,R as Be,a4 as Ve,G as Me,i as Qe,a8 as Ue,a9 as De,a7 as Oe,aa as Te,t as qe,W as je,T as Ae,a5 as Ne,g as Re,B as Le}from"./index.c2f66179.js";import{_ as Ee}from"./badge.ea6fe761.js";import{C as $e}from"./Currency.84d5be4a.js";import{u as ze}from"./notes.a0b54fb4.js";import{c as Ke,s as Fe}from"./status.6f59bf91.js";import{C as Ge}from"./card.f57f7ca5.js";import{_ as He,a as We}from"./timeline-item.e758b9ec.js";import{_ as Ye}from"./tab.c78d43fc.js";import{u as Je}from"./index.f40e4a9e.js";import{c as Xe,d as Ze}from"./index.6b6f6369.js";import{I as ea}from"./ItemTable.c9877319.js";import{_ as aa}from"./BuybackNotesWarning.df5fa893.js";import{_ as la}from"./fieldset.400d29ed.js";import{_ as ta}from"./changelog.c96fc65d.js";import{B as oa}from"./Breadcrumb.9ae3c470.js";import{b as ia}from"./customer.0e359727.js";import{p as sa,l as na}from"./dymo.26b88237.js";import{c as da}from"./copy.6c996115.js";import{P as ra}from"./PaymentMethod.a1ffd4b3.js";import{T as ca}from"./TextLimit.e39492a2.js";import{r as ua}from"./index.54844a74.js";import{S as ma}from"./select.9d161386.js";import{A as pa,D as ha,a as ba}from"./DetailCustomerPortalLink.c05f2f23.js";import{A as ga}from"./index.23debeb1.js";import{_ as va}from"./ExpeditedIcon.e915b9ec.js";import{L as _a}from"./LoadingCard.c138fa92.js";import{u as fa}from"./integration.bf33c2bd.js";import{b as ya}from"./device.9fc8d4b1.js";import{u as ka}from"./golf.470faa81.js";import{D as wa,a as Ca}from"./Form.fb2e8bc1.js";import{P as Sa}from"./Info.8532d073.js";import{P as xa}from"./PrintLabel.196409c4.js";import{B as Ia}from"./BBTable.9db8625b.js";import{B as Pa}from"./ChooseCondition.476b07b9.js";import{B as Ba}from"./BulkCondition.6b8b54fb.js";import{B as Va}from"./Input.0eedf5f6.js";import{G as Ma}from"./DeviceGolfSpecBadge.5b61b3ff.js";import Qa from"./BuybackImages.c619f4d5.js";import Ua from"./BuybackNotes.d36384c0.js";import{B as Da,a as Oa,b as Ta}from"./BulkQuoteItemSearch.2d486f5c.js";import{B as qa}from"./BSelect.5d995752.js";import{D as ja}from"./DeviceSearch.87dac9c9.js";import{_ as Aa}from"./attention-warning.f7b3f9bc.js";import"./date.f86face7.js";import"./BTable.4e9049f6.js";import"./InputPhone.9a75428a.js";import"./SelectCountry.7b805536.js";import"./setting.10b5d883.js";import"./breadcrumb.4b2ddf0a.js";import"./format.f845777a.js";import"./Custom.97caf407.js";import"./payment.9ffe3846.js";import"./TremendousCard.3bae3d78.js";import"./auto-complete.b7f9acc5.js";import"./Accordion.73e00327.js";import"./DeviceGolfSpec.118ea3a6.js";import"./BDropdown.af0175e9.js";import"./MultipleInputFile.7a60a749.js";const Na=r({components:{Modal:ke,Button:we,Currency:$e},setup(e){const{state:a,loading:l,modal:t,openModal:o,action:i}=$(),s=c();return{stateOriginalQuote:a,loading:l,modal:t,openModal:o,showOriginalQuote:async()=>{await i(s.params.buybackId),o()}}}}),Ra={class:"ml-auto font-normal text-base"},La={class:"w-full mb-10"},Ea={class:"align-top"},$a={class:"text-right"},za={class:"w-full"},Ka={class:"text-2xl font-semibold"},Fa={class:"overflow-y-auto custom-max-h"};var Ga=Ce(Na,[["render",function(e,a,l,t,o,i){const s=u("Currency"),n=u("TableColumn"),d=u("Table"),r=u("Modal");return m(),p(r,{modelValue:e.modal,"onUpdate:modelValue":a[0]||(a[0]=a=>e.modal=a),"hide-footer":""},{header:h((()=>a[1]||(a[1]=[b("div",{class:"w-full flex"}," Original Quote ",-1)]))),default:h((()=>{var l,t,o,i,r,c,u,m,p;return[b("div",Ra,[b("table",La,[b("tr",null,[b("td",Ea," Total Number of Items: "+g(null==(o=null==(t=null==(l=e.stateOriginalQuote)?void 0:l.data)?void 0:t.items)?void 0:o.length),1),b("td",$a,[b("table",za,[b("tr",null,[a[2]||(a[2]=b("td",null,"Subtotal :",-1)),b("td",null,[v(s,{value:null==(r=null==(i=e.stateOriginalQuote)?void 0:i.data)?void 0:r.sub_total},null,8,["value"])])]),b("tr",null,[a[3]||(a[3]=b("td",{class:"font-semibold"},"Total :",-1)),b("td",Ka,[v(s,{value:null==(u=null==(c=e.stateOriginalQuote)?void 0:c.data)?void 0:u.total},null,8,["value"])])])])])])])]),b("div",Fa,[v(d,{data:null==(p=null==(m=e.stateOriginalQuote)?void 0:m.data)?void 0:p.items},{default:h((()=>[v(n,{label:"Item Name",prop:"product_name"}),v(n,{label:"IMEI/SN",prop:"imei_sn"}),v(n,{label:"Notes",prop:"notes"}),v(n,{label:"Price",prop:"price"}),v(n,{label:"Quantity",prop:"qty"}),v(n,{label:"Condition",prop:"condition"})])),_:1},8,["data"])])]})),_:1},8,["modelValue"])}],["__scopeId","data-v-4608c9b8"]]);var Ha=Ce(r({components:{Input:Se,Checkbox:xe},props:{data:{type:Object,default:()=>({list_reason:null,notes:"",returned_tracking:null,is_send_email:1})},disabled:{type:Boolean,default:!1}},emits:["update:data"],setup(e,{emit:a}){const l=_((()=>7==e.data.status_id||3==e.data.status_id)),t=_((()=>![1001,10,2002,1e3].includes(e.data.status_id))),o={list_reason:{required:Xe.withMessage("Reason is required",Ze((()=>5==e.data.status_id)))}},i=Je(o,e.data,{$lazy:!0});return{data:e.data,isPaymentPending:l,hasEmailTemplate:t,validation:i,validate:()=>(i.value.$validate(),!i.value.$invalid),handleUpdateData:(l,t)=>{if(!l)return;const o=n({},e.data);o[l]=t,a("update:data",o)}}}}),[["render",function(e,a,l,t,o,i){const s=u("Input"),n=u("Checkbox");return m(),f(k,null,[b("div",null,[5!==e.data.status_id?(m(),p(s,{key:0,modelValue:e.data.notes,"onUpdate:modelValue":a[0]||(a[0]=a=>e.handleUpdateData("notes",a)),type:"textarea",label:"Notes",class:"w-full mb-4",disabled:e.disabled,rows:"4"},null,8,["modelValue","disabled"])):y("",!0)]),6===e.data.status_id?(m(),p(s,{key:0,modelValue:e.data.returned_tracking,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.returned_tracking=a),type:"input",label:"Returned Tracking",class:"w-full mb-4",disabled:e.disabled},null,8,["modelValue","disabled"])):y("",!0),b("div",null,[5===e.data.status_id?(m(),p(s,{key:0,modelValue:e.data.list_reason,"onUpdate:modelValue":a[2]||(a[2]=a=>e.handleUpdateData("list_reason",a)),view:e.validation.list_reason.$invalid?"danger":"default",type:"textarea",label:"Reason",class:"w-full my-6",disabled:e.disabled,rows:"4"},null,8,["modelValue","view","disabled"])):y("",!0),(m(!0),f(k,null,w(e.validation.list_reason.$errors,((e,a)=>(m(),f("small",{class:"text-red-base block mb-2",key:a},g(e.$message)+". ",1)))),128))]),b("div",null,[a[6]||(a[6]=b("label",{for:""},"Email Settings",-1)),a[7]||(a[7]=C()),a[8]||(a[8]=b("br",null,null,-1)),v(n,{modelValue:e.hasEmailTemplate?e.data.is_send_email:0,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data.is_send_email=a),value:1,"value-off":0,disabled:!e.hasEmailTemplate,type:"toggle",class:"mt-4"},{default:h((()=>a[5]||(a[5]=[b("span",{class:"toggle-label"},"Send Email",-1)]))),_:1},8,["modelValue","disabled"]),S(v(s,{modelValue:e.data.transaction_id,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.transaction_id=a),class:"my-4",label:"Transaction ID",block:""},null,8,["modelValue"]),[[x,e.isPaymentPending]])])],64)}],["__scopeId","data-v-62205dd2"]]);const Wa=r({components:{Badge:Ee,Button:we,Card:Ge,Modal:ke,Timeline:He,TimelineItem:We,Tab:Ye,Alert:Ie,Checkbox:xe,StatusesForm:Ha,ItemTable:ea,BuybackNotesWarning:aa,Fieldset:la},props:{data:{type:Object,default:()=>({product_name:null,product_id:null,condition_id:null,condition:null,imei_sn:null,is_mac:0,qty:1,price:0})}},setup(e){const a=ze(),{data:l,modal:t,state:o,loading:i,openModal:s,unsetData:r,actionAll:u,actionUpdate:m}=z("online"),{state:p}=K("online"),{state:h,action:b}=F("online"),{stateOption:g,actionStatusOptions:v}=G("online",null),{state:f,actionAll:y}=K("online"),{state:k,actionAll:w}=H("online"),C=I(null),S=I(!1),x=I(!1),B=I(!1),V=_((()=>{const e=JSON.parse(JSON.stringify(p.value));return e.items&&e.items.length?e.items.map((e=>({brand:e.brand?e.brand:e.product_name,category:e.category?e.category:e.product_name}))):void 0})),M=_((()=>[...g.value].map((e=>d(n({},e),{disabled:e.is_disabled}))))),Q=_((()=>{var e;return 1e3==(null==(e=h.value)?void 0:e.status_id)})),U=_((()=>{var e,a;return Q.value&&(null==(e=h.value)?void 0:e.is_fulfilled_address)&&(null==(a=h.value)?void 0:a.is_fulfilled_payout)})),D=_((()=>h.value&&h.value.is_readonly));Pe();const O=c();P((()=>l.status_id),(()=>{if(!l.status_id)return;l.ids=[];const e=g.value.find((e=>e.id==l.status_id));e&&(l.is_send_email=e.is_send_email)}));const T=_((()=>l.ids.length>0)),q=_((()=>5==l.status_id&&l.ids.length<1)),j=_((()=>q.value?"Please select at least one item":"Cannot update status")),A=_((()=>q.value));return Promise.all([u(O.params.buybackId),v(),b(O.params.buybackId)]),{refStatusForm:C,data:l,state:o,stateStatuses:g,itemsStatus:M,stateShowItems:f,stateShow:h,stateProducts:p,modal:t,loading:i,notes:k,showNotes:w,openModalEdit:e=>s(e,(()=>{var e,a;l.status_id=h.value.status_id,l.transaction_id=null==(a=null==(e=h.value)?void 0:e.billing)?void 0:a.transaction_id})),unsetData:r,updateStatus:async()=>{var e,o,s,n,d,r,c;if(null==(o=null==(e=C.value)?void 0:e.validate)?void 0:o.call(e))return 2==(null==(s=h.value)?void 0:s.status_id)&&1!=l.status_id&&2!=l.status_id&&((null==(n=h.value)?void 0:n.delivered_shipping_label_count)<(null==(d=h.value)?void 0:d.in_transit_shipping_label_count)||(null==(r=h.value)?void 0:r.not_used_shipping_label_count)>0)?(t.update=!1,void(B.value=!0)):[3,7].includes(l.status_id)&&(i.update=!0,a.warningNotes.ids=[null==(c=h.value)?void 0:c.id],!a.warningNotes.isReviewed&&await a.$getNotesUnread(),a.warningNotes.notes.length)?(a.warningNotes.modal=!0,void(i.update=!1)):void(await m(O.params.buybackId,(async()=>{await Promise.all([y(O.params.buybackId),b(O.params.buybackId)])})))},selectedItems:e=>{l.ids=e.map((e=>e.id))},handleUpdateData:e=>{Object.assign(l,e)},isSelectedItems:T,isAbandonedBuyback:Q,isAbandonedBuybackStatusEditable:U,isReadonly:D,disabledUpdateStatusReason:j,disabledUpdateStatus:A,color:Ke,widthColumn:{id:"",product_name:"",condition:"",qty:"",price:"",total:"",action:""},itemsProducts:V,reviewed:S,showNotesWarning:x,modalWarningDelivered:B,handleCancel:()=>{B.value=!1,t.update=!0},handleProceed:async()=>{await m(O.params.buybackId,(async()=>{B.value=!1,await Promise.all([y(O.params.buybackId),b(O.params.buybackId)])}))},handleClose:()=>{var e;2!=(null==(e=h.value)?void 0:e.status_id)&&r()}}}}),Ya={key:0},Ja={class:"flex flex-col"},Xa={key:1},Za={key:2},el={class:"grid grid-cols-12 gap-6"},al={class:"max-w-sm"},ll={class:"w-max ml-auto"},tl={class:"flex flex-col justify-center items-center py-10"},ol={class:"text-3xl mt-6 font-medium"},il={key:0,class:"mt-4 text-center text-grey-03"},sl={key:1,class:"mt-4 text-center text-grey-03"},nl={class:"mt-10 flex gap-4"};const dl=r({components:{Button:we,Modal:ke,Badge:Ee,ShowOriginal:Ga,StatusesBtn:Ce(Wa,[["render",function(e,a,l,t,o,i){const s=u("Checkbox"),n=u("Button"),d=u("Popover"),r=u("Tooltip"),c=u("Tab"),_=u("Fieldset"),k=u("ItemTable"),w=u("StatusesForm"),S=u("Modal"),x=u("BuybackNotesWarning");return m(),f("div",null,[e.isAbandonedBuyback?(m(),f("div",Ya,[v(d,{trigger:"hover",placement:"left",disabled:e.isAbandonedBuybackStatusEditable,width:300},{default:h((()=>{var l,t;return[a[7]||(a[7]=b("div",{style:{"word-break":"normal"},class:"text-left p-2"},[b("p",{class:"font-semibold"}," Insufficient details prevent the status change of an Abandoned Buyback Offer. "),b("p",{class:"my-2"},"To change the status, you need to:")],-1)),b("div",Ja,[v(s,{modelValue:null==(l=e.stateShow)?void 0:l.is_fulfilled_address,onClick:a[0]||(a[0]=B((()=>{}),["prevent"]))},{default:h((()=>{var a;return[b("span",{class:V(["font-normal",(null==(a=e.stateShow)?void 0:a.is_fulfilled_address)?"line-through-text":""])},"Complete your offer information",2)]})),_:1},8,["modelValue"]),v(s,{modelValue:null==(t=e.stateShow)?void 0:t.is_fulfilled_payout,onClick:a[1]||(a[1]=B((()=>{}),["prevent"])),class:"my-2"},{default:h((()=>{var a;return[b("span",{class:V(["font-normal",(null==(a=e.stateShow)?void 0:a.is_fulfilled_payout)?"line-through-text":""])},"Complete your payout",2)]})),_:1},8,["modelValue"])])]})),reference:h((()=>{var l;return[b("div",null,[v(n,{disabled:null!=(null==(l=e.stateShow)?void 0:l.deleted_at)||!e.isAbandonedBuybackStatusEditable,color:"teal",onClick:a[2]||(a[2]=a=>e.openModalEdit("update")),dense:""},{default:h((()=>a[8]||(a[8]=[b("i",{class:"material-icons text-base"},"edit",-1)]))),_:1},8,["disabled"])])]})),_:1},8,["disabled"])])):e.isReadonly?(m(),f("div",Xa,[v(r,{placement:"top"},{content:h((()=>a[9]||(a[9]=[b("div",{class:"w-52 text-sm"}," You can no longer edit the status of this offer. ",-1)]))),default:h((()=>[a[10]||(a[10]=b("button",{view:"smooth",color:"grey",dense:"",class:"cursor-not-allowed py-1 px-2 text-sm leading-6 rounded-md bg-grey-01 text-grey-03"},[b("i",{class:"material-icons text-base"},"edit")],-1))])),_:1})])):(m(),f("div",Za,[v(n,{color:"teal",onClick:a[3]||(a[3]=a=>e.openModalEdit("update")),dense:""},{default:h((()=>a[11]||(a[11]=[b("i",{class:"material-icons text-base"},"edit",-1)]))),_:1})])),v(S,{modelValue:e.modal.update,"onUpdate:modelValue":a[5]||(a[5]=a=>e.modal.update=a),title:"Update Status",onClose:e.handleClose,size:[5,6].includes(e.data.status_id)?"xl":"md",class:V(e.showNotesWarning&&"hidden")},{default:h((()=>[b("div",el,[v(_,{class:V([[[5,6].includes(e.data.status_id)?"col-span-2":"col-span-4"],"rounded-lg"])},{label:h((()=>a[12]||(a[12]=[C("Choose Status")]))),default:h((()=>[v(c,{color:"teal",view:"smooth",modelValue:e.data.status_id,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.status_id=a),by:"id",name:"short_name",items:e.itemsStatus,component:"",type:"vertical","disabled-items":""},null,8,["modelValue","items"])])),_:1},8,["class"]),b("div",{class:V([[5,6].includes(e.data.status_id)?"col-span-10":"col-span-8"])},[5==e.data.status_id?(m(),p(k,{key:0,"show-print-label":!1,"show-table-summary":!1,selectable:!0,"width-column":e.widthColumn,onSelectedItems:e.selectedItems,"buyback-type":"mailin"},null,8,["width-column","onSelectedItems"])):y("",!0),v(w,{ref:"refStatusForm",data:e.data,"onUpdate:data":e.handleUpdateData},null,8,["data","onUpdate:data"])],2)])])),footer:h((()=>[v(r,{disabled:!e.disabledUpdateStatus,placement:"top"},{content:h((()=>[b("div",al,g(e.disabledUpdateStatusReason),1)])),default:h((()=>[b("div",ll,[v(n,{disabled:e.disabledUpdateStatus,color:"teal",loading:e.loading.update,onClick:e.updateStatus},{default:h((()=>a[13]||(a[13]=[C("Update Status")]))),_:1},8,["disabled","loading","onClick"])])])),_:1},8,["disabled"])])),_:1},8,["modelValue","onClose","size","class"]),v(S,{modelValue:e.modalWarningDelivered,"onUpdate:modelValue":a[6]||(a[6]=a=>e.modalWarningDelivered=a),size:"xs","hide-header":"","hide-footer":""},{default:h((()=>{var l,t,o,i,s,d,r;return[b("div",tl,[a[16]||(a[16]=b("img",{src:Be,alt:"warning"},null,-1)),b("h1",ol,g((null==(l=e.stateShow)?void 0:l.is_multiple_shipping)?"Some Packages Not Delivered":"Package Not Delivered"),1),(null==(t=e.stateShow)?void 0:t.is_multiple_shipping)?(m(),f("p",il," You're marking "+g(null==(o=e.stateShow)?void 0:o.delivered_shipping_label_count)+" of "+g(null==(i=e.stateShow)?void 0:i.in_transit_shipping_label_count)+" package"+g((null==(s=e.stateShow)?void 0:s.in_transit_shipping_label_count)>1?"s":"")+" as delivered. The remaining "+g(null==(d=e.stateShow)?void 0:d.not_used_shipping_label_count)+" package"+g((null==(r=e.stateShow)?void 0:r.not_used_shipping_label_count)>1?"s":"")+" will stay unchanged. Proceed?",1)):(m(),f("p",sl," Your package is still in transit. Proceed? ")),b("div",nl,[v(n,{color:"teal",view:"outlined",onClick:e.handleCancel,style:{border:"none !important"},disabled:e.loading.update},{default:h((()=>a[14]||(a[14]=[C("Cancel")]))),_:1},8,["onClick","disabled"]),v(n,{color:"teal",onClick:e.handleProceed,loading:e.loading.update},{default:h((()=>a[15]||(a[15]=[C("Proceed")]))),_:1},8,["onClick","loading"])])])]})),_:1},8,["modelValue"]),v(x,{onProceed:e.updateStatus},null,8,["onProceed"])])}],["__scopeId","data-v-2878de1e"]]),BulkQuoteDetailStatus:pe,BuybackShippingKitDownload:he},props:{bulkQuote:{type:Object,default:()=>({restrictedQuoteUpdate:!1,restrictedQuoteItemUpdate:!1,restrictedQuoteStatusUpdate:!1,restrictedQuotePercentageUpdate:!1,isReconcilable:!1})},order:{type:Object,default:void 0}},setup(e){const a=be(),{isBulkQuote:l}=re(),{data:t,modal:o,loading:i,actionArchive:s,unsetData:d}=W("online"),{data:r,modal:u,loading:m,actionUnarchive:p,unsetData:h}=Y("online"),{state:b,loading:g,action:v}=F("online"),{actionShippingKit:f,actionReceipt:y,loading:k}=J("online"),{state:w,loading:C,modal:S,openModal:x,action:P}=$(),{actionOffer:B,actionRejectOffer:V,loading:U}=X(),D=c(),O=M(),T=_((()=>{var e;return null==(null==(e=b.value)?void 0:e.order_status)})),q=_((()=>{var e,a;return 0===(null==(e=b.value)?void 0:e.shipping_label_is_generate)||2==(null==(a=b.value)?void 0:a.shipping_label_status)||!0===g.value})),j=_((()=>{var e;return 0==(null==(e=b.value)?void 0:e.is_print_receipt)})),A=_((()=>{var e;return!!(null==(e=b.value)?void 0:e.id)})),N=I(!1),R=I(!1),L=()=>{o.value=!1},E=()=>{u.value=!1};return N.value=_((()=>null!=b.value.deleted_at)),R.value=_((()=>null==b.value.deleted_at)),{state:b,stateOriginalQuote:w,loadingOriginalQuote:C,modalOriginalQuote:S,loadingPrint:k,printReceipt:async()=>{if(j.value)return;const e=b.value.box_id;await y(e)},printShippingKit:async()=>{D.params.buybackId&&!q.value&&(a.shippingKit.modal=!0)},openModalOriginalQuote:x,openChangelog:()=>O.push({name:l.value?"bulkQuoteChangelog":"buybackOnlineChangelog",params:n(n({buybackId:D.params.buybackId},D.params.marketerId&&{marketerId:D.params.marketerId}),D.params.status&&{status:D.params.status})}),showOriginalQuote:async()=>{await P(D.params.buybackId),x()},isReady:A,isDisabledPrintShippingKit:q,isDisabledPrintReceipt:j,handleCustomOffer:()=>B(D.params.buybackId,(async()=>{Q({type:"success",message:"Offer sent"}),await action(D.params.buybackId)})),handleRejectCustomOffer:()=>V(D.params.buybackId,(async()=>{Q({type:"success",message:"Offer rejected"}),await action(D.params.buybackId)})),loadingCustomOffer:U,handleArchiveModal:()=>{o.value=!0},handleCloseArchiveModal:L,handleUnarchiveModal:()=>{u.value=!0},handleCloseUnarchiveModal:E,archiveOrder:async()=>{t.id=b.value.id,await s((()=>{Q({type:"success",message:"Success archiving offer"}),L(),d()})),v(n({id:D.params.buybackId},D.params.marketerId&&"me"===D.params.marketerId&&{marketer_id:""}||D.params.marketerId&&{marketer_id:D.params.marketerId}))},unarchiveOrder:async()=>{r.id=b.value.id,await p((()=>{Q({type:"success",message:"Success restoring offer"}),E(),h()})),v(n({id:D.params.buybackId},D.params.marketerId&&"me"===D.params.marketerId&&{marketer_id:""}||D.params.marketerId&&{marketer_id:D.params.marketerId}))},archiveModal:o,unarchiveModal:u,archiveLoading:i,unarchiveLoading:m,handleBulkQuoteStatusUpdate:async()=>{await v(n({id:D.params.buybackId},D.params.marketerId&&"me"===D.params.marketerId&&{marketer_id:""}||D.params.marketerId&&{marketer_id:D.params.marketerId}))},btnMenuArchive:N,btnMenuUnarchive:R,color:Ke,isLoading:T,isBulkQuote:l,loadingShow:g}}}),rl={class:"flex items-center gap-4"},cl={key:2,class:"rounded-md bg-white p-3 items-center"},ul={class:"flex justify-between items-center"},ml={class:"flex items-center"},pl={key:0,class:"mr-4"},hl={key:0},bl={class:"py-10"},gl={class:"text-center"},vl={class:"py-10"},_l={class:"text-center"};var fl=Ce(dl,[["render",function(e,a,l,t,o,i){var s,n,d,r,c,_,w,x;const I=u("Tooltip"),P=u("BulkQuoteDetailStatus"),B=u("Badge"),M=u("StatusesBtn"),Q=u("Button"),D=u("DropdownItem"),O=u("DropdownMenu"),T=u("Dropdown"),q=u("ShowOriginal"),j=u("Modal"),A=u("BuybackShippingKitDownload"),N=U("loading");return m(),f(k,null,[b("div",rl,[null!=(null==(s=e.state)?void 0:s.deleted_at)?(m(),p(I,{key:0,content:"Archived",placement:"top"},{default:h((()=>a[5]||(a[5]=[b("div",{class:"flex items-center justify-center w-12 h-12 bg-orange-lighten rounded-full text-orange-04 mx-4 select-none"},[b("i",{class:"material-icons"},"archive")],-1)]))),_:1})):y("",!0),e.isBulkQuote?(m(),p(P,{key:1,onUpdateStatus:e.handleBulkQuoteStatusUpdate,status:null==(n=e.state)?void 0:n.order_status,loading:e.loadingShow,"quote-id":e.$route.params.buybackId,disabled:e.bulkQuote.restrictedQuoteStatusUpdate,order:e.order},null,8,["onUpdateStatus","status","loading","quote-id","disabled","order"])):S((m(),f("div",cl,[b("div",ul,[a[7]||(a[7]=b("h6",null,"Status :",-1)),v(B,{color:e.color((null==(r=null==(d=e.state)?void 0:d.order_status)?void 0:r.short_name)||""),class:"ml-2 mr-2 text-status",view:"smooth"},{default:h((()=>{var a,l;return[C(g(null==(l=null==(a=e.state)?void 0:a.order_status)?void 0:l.status_name),1)]})),_:1},8,["color"]),!0===(null==(_=null==(c=e.state)?void 0:c.order_status)?void 0:_.is_auto_accepted)?(m(),p(B,{key:0,color:"green",class:"ml-2 mr-2 text-status",view:"smooth"},{default:h((()=>a[6]||(a[6]=[C("Auto Accepted")]))),_:1})):y("",!0),v(M,{data:e.state},null,8,["data"])])])),[[N,e.isLoading]]),b("div",ml,[e.isReady?(m(),f("div",pl,[0==e.state.is_offered&&4==e.state.type?(m(),f("div",hl,[v(Q,{onClick:e.handleCustomOffer,loading:e.loadingCustomOffer.offer,class:"mr-2",color:"teal"},{default:h((()=>a[8]||(a[8]=[b("i",{class:"material-icons"},"local_offer",-1),C(" Offer")]))),_:1},8,["onClick","loading"]),v(Q,{onClick:e.handleRejectCustomOffer,loading:e.loadingCustomOffer.rejectOffer,color:"red"},{default:h((()=>a[9]||(a[9]=[b("i",{class:"material-icons"},"close",-1),C(" Reject Offer")]))),_:1},8,["onClick","loading"])])):y("",!0)])):y("",!0),v(T,{placement:"bottom","hide-on-click":!1},{default:h((()=>[v(Q,{style:{padding:".8rem"},color:"teal"},{default:h((()=>a[10]||(a[10]=[b("i",{class:"material-icons"},"more_vert",-1)]))),_:1})])),dropdown:h((()=>[v(O,null,{default:h((()=>{var l,t;return[v(I,{placement:"left",disabled:!e.isDisabledPrintShippingKit},{content:h((()=>a[12]||(a[12]=[b("p",null,[C(" Unable to generate a shipping label. "),b("br"),C(" Please contact support for more detail ")],-1)]))),default:h((()=>[S((m(),p(D,{class:V(e.isDisabledPrintShippingKit?"el-dropdown-menu__item--disabled":""),onClick:e.printShippingKit},{default:h((()=>a[11]||(a[11]=[b("i",{class:"material-icons mr-2 text-xl"},"print",-1),C(" Shipping Kit ")]))),_:1},8,["class","onClick"])),[[N,e.loadingPrint.shippingKit]])])),_:1},8,["disabled"]),e.isReady?S((m(),p(D,{key:0,class:V(e.isDisabledPrintReceipt?"el-dropdown-menu__item--disabled":""),onClick:e.printReceipt},{default:h((()=>a[13]||(a[13]=[b("i",{class:"material-icons mr-2 text-xl"},"insert_drive_file",-1),C(" Print Receipt")]))),_:1},8,["class","onClick"])),[[N,e.loadingPrint.receipt]]):(m(),p(D,{key:1},{default:h((()=>a[14]||(a[14]=[b("span",{class:"text-grey-02"},[b("i",{class:"material-icons mr-2 text-xl"},"print"),C(" Print Receipt")],-1)]))),_:1})),e.isBulkQuote?y("",!0):S((m(),p(D,{key:2,onClick:e.showOriginalQuote},{default:h((()=>a[15]||(a[15]=[b("img",{src:ge,alt:"show-original",class:"inline-block mr-2"},null,-1),C(" Show Original")]))),_:1},8,["onClick"])),[[N,e.loadingOriginalQuote]]),v(D,{onClick:e.openChangelog},{default:h((()=>a[16]||(a[16]=[b("img",{src:ta,alt:"changelog",class:"inline-block mr-2"},null,-1),C(" Changelog ")]))),_:1},8,["onClick"]),null==(null==(l=e.state)?void 0:l.deleted_at)?(m(),p(D,{key:3,onClick:e.handleArchiveModal},{default:h((()=>[v(Q,{class:"my-2",color:"orange",dense:"",block:""},{default:h((()=>[a[17]||(a[17]=b("i",{class:"material-icons"},"archive",-1)),C(" Archive "+g(e.isBulkQuote?"Quote":"Offer"),1)])),_:1})])),_:1},8,["onClick"])):y("",!0),null!=(null==(t=e.state)?void 0:t.deleted_at)?(m(),p(D,{key:4,onClick:e.handleUnarchiveModal},{default:h((()=>[v(Q,{class:"my-2",color:"orange",dense:"",block:""},{default:h((()=>[a[18]||(a[18]=b("i",{class:"material-icons"},"archive",-1)),C(" Restore "+g(e.isBulkQuote?"Quote":"Offer"),1)])),_:1})])),_:1},8,["onClick"])):y("",!0)]})),_:1})])),_:1})]),v(q,{modelValue:e.modalOriginalQuote,"onUpdate:modelValue":a[0]||(a[0]=a=>e.modalOriginalQuote=a)},null,8,["modelValue"])]),v(j,{size:"xs",modelValue:e.archiveModal,"onUpdate:modelValue":a[2]||(a[2]=a=>e.archiveModal=a),title:"Archive Offer","hide-header":"","hide-footer":"",onClose:e.handleCloseArchiveModal},{default:h((()=>[b("div",bl,[a[21]||(a[21]=b("img",{class:"mb-10 mx-auto",src:Ve,alt:"Success Icon"},null,-1)),a[22]||(a[22]=b("div",{class:"mt-8 mb-10"},[b("h5",{class:"mb-4 text-center"},"Archiving this Offer"),b("p",{class:"text-center mb-4"},[C(" Are you sure you want to archive this offer? "),b("br"),C(' Once archived, offers can be recovered from the "Archived" menu ')])],-1)),b("div",gl,[v(Q,{view:"outlined",color:"teal",class:"bg-white",disabled:e.archiveLoading,onClick:a[1]||(a[1]=a=>e.archiveModal=!1)},{default:h((()=>a[19]||(a[19]=[C("Cancel")]))),_:1},8,["disabled"]),v(Q,{color:"orange",class:"ml-3",loading:e.archiveLoading,onClick:e.archiveOrder},{default:h((()=>a[20]||(a[20]=[C("Yes, Archive")]))),_:1},8,["loading","onClick"])])])])),_:1},8,["modelValue","onClose"]),v(j,{size:"xs",modelValue:e.unarchiveModal,"onUpdate:modelValue":a[4]||(a[4]=a=>e.unarchiveModal=a),title:"Archive Offer","hide-header":"","hide-footer":"",onClose:e.handleCloseUnarchiveModal},{default:h((()=>[b("div",vl,[a[25]||(a[25]=b("img",{class:"mb-10 mx-auto",src:Ve,alt:"Success Icon"},null,-1)),a[26]||(a[26]=b("div",{class:"mt-8 mb-10"},[b("h5",{class:"mb-4 text-center"},"Restoring this Offer"),b("p",{class:"text-center mb-4"}," Are you sure you want to restore this offer ? ")],-1)),b("div",_l,[v(Q,{view:"outlined",color:"teal",class:"bg-white",disabled:e.unarchiveLoading,onClick:a[3]||(a[3]=a=>e.unarchiveModal=!1)},{default:h((()=>a[23]||(a[23]=[C("Cancel")]))),_:1},8,["disabled"]),v(Q,{color:"orange",class:"ml-3",loading:e.unarchiveLoading,onClick:e.unarchiveOrder},{default:h((()=>a[24]||(a[24]=[C("Yes, Restore")]))),_:1},8,["loading","onClick"])])])])),_:1},8,["modelValue","onClose"]),v(A,{id:null==(w=e.state)?void 0:w.box_id,shippings:null==(x=e.state)?void 0:x.shipping_label},null,8,["id","shippings"])],64)}],["__scopeId","data-v-7d99389f"]]);const yl=r({components:{Breadcrumb:oa},setup(e){const a=Me(),{isBulkQuote:l}=re(),t=a.get("online-buyback"),o=_((()=>!!t)),i=_((()=>{var e,a,i,s;if(l.value)return{name:"layoutBulkQuote"};let n={name:"buybackOnline",params:{statusId:"all",category:"active"},query:{}};if(o.value){const l=null==(e=null==t?void 0:t.params)?void 0:e.subStatusId;n.params.statusId=parseInt(null==(a=null==t?void 0:t.params)?void 0:a.statusId)||"all",n.params.category=(null==(i=null==t?void 0:t.params)?void 0:i.category)||"active",n.query={filter:!0},l&&(n.params.subStatusId=(null==(s=null==t?void 0:t.params)?void 0:s.subStatusId)||"")}return n})),s=[{text:l.value?"Bulk Quote":"Mail-In",to:{name:l.value?"layoutBulkQuote":"buybackOnline"}},{text:l.value?"Quote Details":"Offer Details"}];return{isBulkQuote:l,cacheQuery:t,isHasCache:o,routeBack:i,breadcrumb:s}}}),kl={class:"flex gap-2 items-center flex-wrap"},wl={key:0,class:"inline-flex px-4 py-2 bg-blue-lighten text-blue-04 rounded-full"};var Cl=Ce(yl,[["render",function(e,a,l,t,o,i){const s=u("Breadcrumb",!0);return m(),p(s,{backTo:e.routeBack,items:e.breadcrumb},{"page-title":h((()=>[b("div",kl,[b("h5",null,g(e.isBulkQuote?"Quote Details":"Offer Detail"),1),e.isBulkQuote?(m(),f("div",wl," Beta ")):y("",!0)])])),_:1},8,["backTo","items"])}]]);const Sl=r({components:{Button:we,Alert:Ie},props:{},setup(e){const{state:a,action:l}=F("online"),{loading:t,actionUpdate:o,data:i}=Z("online"),{actionAll:s}=z("online"),n=c();return{stateShow:a,orderOfferLoading:t,orderOfferUpdate:async(e,a)=>{i.is_accept=e,i.accepted_type=a,await o(n.params.buybackId,!1,(async()=>{await Promise.all([l(n.params.buybackId),s(n.params.buybackId)]),Q({message:"Offer updated!",type:"success"})}))}}}}),xl={class:"flex items-center flex-col"},Il={class:"flex w-full justify-between items-center"},Pl={class:"flex"};var Bl=Ce(Sl,[["render",function(e,a,l,t,o,i){var s,n,d,r,c,_,x,I,P;const B=u("router-link"),V=u("Alert"),M=u("Button"),Q=U("loading");return m(),f("div",xl,[(null==(s=e.stateShow)?void 0:s.parent)?(m(),p(V,{key:0,class:"mb-4",color:"orange",view:"smooth"},{default:h((()=>[a[3]||(a[3]=C("This buyback is part of ")),v(B,{class:"mr-2",to:{name:"buybackOnlineDetail",params:{buybackId:e.stateShow.parent.box_id}}},{default:h((()=>[C("#"+g(e.stateShow.parent.box_id),1),a[2]||(a[2]=b("i",{class:"material-icons text-lg ml-1"},"open_in_new",-1))])),_:1},8,["to"])])),_:1})):y("",!0),(null==(n=e.stateShow)?void 0:n.split_order)&&(null==(d=e.stateShow)?void 0:d.split_order.length)>0?(m(),p(V,{key:1,class:"mb-4",color:"orange",view:"smooth"},{default:h((()=>[a[5]||(a[5]=C("Some of these items have been split into a new offer. Please use this offer number to view them ")),(m(!0),f(k,null,w(e.stateShow.split_order,((e,l)=>(m(),p(B,{class:"mr-2",key:l,to:{name:"buybackOnlineDetail",params:{buybackId:e.box_id}}},{default:h((()=>[C("#"+g(e.box_id),1),a[4]||(a[4]=b("i",{class:"material-icons text-lg ml-1"},"open_in_new",-1))])),_:2},1032,["to"])))),128))])),_:1})):y("",!0),2==(null==(r=e.stateShow)?void 0:r.is_accepted)&&12==(null==(c=e.stateShow)?void 0:c.order_status.id)&&5==(null==(_=e.stateShow)?void 0:_.order_status.parent_id)?(m(),p(V,{key:2,class:"mb-4",color:"orange",view:"smooth"},{default:h((()=>a[6]||(a[6]=[C("The customer has declined the offer.")]))),_:1})):y("",!0),0==(null==(x=e.stateShow)?void 0:x.is_accepted)&&12==(null==(I=e.stateShow)?void 0:I.order_status.id)&&5==(null==(P=e.stateShow)?void 0:P.order_status.parent_id)?S((m(),p(V,{key:3,class:"mb-4",color:"orange",view:"smooth"},{default:h((()=>[b("div",Il,[a[9]||(a[9]=b("p",null,"Waiting for customer response. You can also manually accept or decline the offer here",-1)),b("div",Pl,[v(M,{color:"teal",class:"mr-2",dense:"",onClick:a[0]||(a[0]=a=>e.orderOfferUpdate(1,"app")),disabled:e.orderOfferLoading.update},{default:h((()=>a[7]||(a[7]=[C("Accept")]))),_:1},8,["disabled"]),v(M,{color:"red",dense:"",onClick:a[1]||(a[1]=a=>e.orderOfferUpdate(2,"app")),disabled:e.orderOfferLoading.update},{default:h((()=>a[8]||(a[8]=[C("Decline")]))),_:1},8,["disabled"])])])])),_:1})),[[Q,e.orderOfferLoading.update]]):y("",!0)])}]]);const Vl=r({components:{Input:Se,Button:we,Modal:ke,Select:ma},props:{show:{type:Boolean,default:!1},shipping_number:{type:String,default:""},boxId:{type:String,default:""},originalTracking:{type:String,default:""},shippingLabelStatus:{type:String,default:""},regenerateShippingLabel:{type:String,default:""}},emits:["update:show","save"],async setup(e,{emit:a}){const{data:l,loading:t,action:o,actionCheckCourier:i,unsetData:s}=ee(),{action:n}=ae("online"),d=c(),r=I(e.show),u=I(null),m=I(!1),p=I(0),h=I(!1),b=I(!0),g=I([]),v=D({courier_code:"",courier_name:""}),f=_((()=>[...g.value.map((e=>e.courier_name)),"Other"])),y=Je({shipping_tracking:{required:ua}},l,{$lazy:!0}),k=()=>y.value.$reset(),w=()=>(k(),y.value.$validate(),!y.value.$invalid),C=async()=>{if(w())try{await o(u.value,(()=>{Q({type:"success",message:"Custom tracking saved"}),a("update:show",!1),a("save",!0),s(),k(),h.value=!1,b.value=!0,v.courier_name="",v.courier_code="",n(d.params.buybackId)}))}catch(e){e.response&&422===e.response.status&&(m.value=!0,p.value=0,l.force_courier_code=1)}};return P((()=>e),(e=>{const a=!!e.shipping_number,t=!l.shipping_tracking;a&&t&&(l.shipping_tracking=e.shipping_number),u.value=e.boxId,r.value=e.show}),{deep:!0,immediate:!0}),{copyText:da,isShow:r,data:l,loading:t,validation:y,handleSaveChanges:async()=>{if(w())if(b.value){b.value=!1;try{const e=await i(l.shipping_tracking);4110===e.code||4121===e.code?(m.value=!0,p.value=0,g.value=[],l.courier_code=null,l.courier_name=null):1===e.length?(l.courier_code=e[0].courier_code,l.courier_name=e[0].courier_name,C()):e.length>1&&(g.value=e,h.value=!0,m.value=!1)}catch(e){Q({type:"error",message:"Error checking courier service"})}}else if("Other"===v.courier_name)l.courier_code="other",l.courier_name="Other",C();else{if(!v.courier_name&&h.value)return;C()}},handleCloseModal:()=>{a("update:show",!1),h.value=!1,m.value=!1,b.value=!0,s(),k()},handleSelectCourier:()=>{l.force_courier_code=0;const e=g.value.find((e=>e.courier_name===v.courier_name));"Other"===e?(l.courier_code="other",l.courier_name="Other"):e&&(m.value=!1,l.courier_code=e.courier_code,l.courier_name=e.courier_name)},handleTrackingChange:()=>{m.value=!1,h.value=!1,l.force_courier_code=0,h.value=!1,b.value=!0},selectedCourier:v,courierOptions:f,showWarning:m,warningType:p,showCourierSelect:h}}}),Ml={key:0,class:"border border-grey-01 rounded-xl p-6 w-full mb-6"},Ql={class:"flex-col my-4"},Ul={key:0,class:"mr-4 text-grey-04"},Dl={key:1,class:"text-red-base inline-block mr-4"},Ol={key:2,class:"text-red-base mt-4 block"},Tl={key:3,class:"flex items-start gap-2 text-orange-03 mt-4"},ql={key:0},jl={key:4,class:"flex items-start gap-2 text-orange-03 mt-4"};const Al=r({components:{Currency:$e,Alert:Ie,Badge:Ee,Button:we,Card:Ge,Modal:ke,Tab:Ye,Input:Se,Loading:Qe,PaymentMethod:ra,ShippingLabelInfo:ve,TextLimit:ca,CustomTracking:Ce(Vl,[["render",function(e,a,l,t,o,i){const s=u("Button"),n=u("Input"),d=u("Select"),r=u("Modal"),c=U("maska");return m(),p(r,{modelValue:e.isShow,"onUpdate:modelValue":a[3]||(a[3]=a=>e.isShow=a),title:"Shipping Information",onClose:e.handleCloseModal},{default:h((()=>["1"!==e.shippingLabelStatus?(m(),f("div",Ml,[a[5]||(a[5]=b("div",{class:"flex items-center gap-2 mb-4"},[b("i",{class:"material-icons text-red-base icon-md"},"warning"),b("p",{class:"text-2xl font-bold"},"Regenerate Shiping Label")],-1)),a[6]||(a[6]=b("p",null,'The shipping label failed to generate. Once the root cause is resolved, you can click "Regenerate Shipping Label" to generate both the shipping label and the shipping kit again. The new tracking number and shipping kit will then be automatically attached to the Offer Details page.',-1)),v(s,{class:"btn btn-teal btn-outlined mt-6",rounded:"",dense:"",onClick:e.regenerateShippingLabel},{default:h((()=>a[4]||(a[4]=[b("div",{class:"flex items-center gap-2 px-2 py-1"},[b("i",{class:"material-icons text-base"},"refresh"),b("span",{class:"font-medium"},"Regenerate Shiping Label")],-1)]))),_:1},8,["onClick"])])):y("",!0),a[11]||(a[11]=b("p",{class:"font-bold"},"Original Tracking Number",-1)),b("div",null,[b("p",{class:V(["mb-2 mt-2 inline-block mr-4",{"text-red-base":null===e.originalTracking||""===e.originalTracking}])},g(e.originalTracking||"Not Available"),3),e.originalTracking?(m(),p(s,{key:0,color:"teal",dense:"",onClick:a[0]||(a[0]=a=>e.copyText(e.originalTracking||"-"))},{default:h((()=>a[7]||(a[7]=[b("i",{class:"material-symbols-outlined"},"content_copy",-1)]))),_:1})):y("",!0)]),b("div",Ql,[a[8]||(a[8]=b("p",{class:"font-bold mb-1"},"Shipping Label Status",-1)),1==e.shippingLabelStatus?(m(),f("span",Ul,"Available")):(m(),f("p",Dl," Not Available "))]),a[12]||(a[12]=b("p",{class:"font-bold mt-4"},"Custom Tracking Number",-1)),S(v(n,{modelValue:e.data.shipping_tracking,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.shipping_tracking=a),onInput:e.handleTrackingChange,block:"",view:e.validation.shipping_tracking.$invalid?"danger":"default"},null,8,["modelValue","onInput","view"]),[[c,"X*"]]),(m(!0),f(k,null,w(e.validation.shipping_tracking.$errors,((e,a)=>(m(),f("small",{class:"text-red-base block",key:a},g(e.$message)+". ",1)))),128)),e.showCourierSelect?(m(),p(d,{key:1,modelValue:e.selectedCourier.courier_name,"onUpdate:modelValue":a[2]||(a[2]=a=>e.selectedCourier.courier_name=a),onChange:e.handleSelectCourier,items:e.courierOptions,placeholder:"Select one of the available carriers",label:"Carrier",class:"w-full",block:""},null,8,["modelValue","onChange","items"])):y("",!0),!e.selectedCourier.courier_name&&e.showCourierSelect?(m(),f("small",Ol,"Please select a carrier.")):y("",!0),e.showWarning?(m(),f("div",Tl,[a[9]||(a[9]=b("span",{class:"material-icons"},"info",-1)),0===e.warningType?(m(),f("p",ql,"The tracking number is either incorrect or not recogniced. You can still save the changes. but the offer status will not automatically updates to 'in-transit'.")):y("",!0)])):y("",!0),"Other"===e.selectedCourier.courier_name?(m(),f("div",jl,a[10]||(a[10]=[b("span",{class:"material-icons"},"info",-1),b("p",null,"You can still save the changes, but the offer status will not automatically update to 'in-transit'.",-1)]))):y("",!0)])),footer:h((()=>[v(s,{onClick:e.handleSaveChanges,color:"teal",loading:e.loading},{default:h((()=>a[13]||(a[13]=[C("Save Changes")]))),_:1},8,["onClick","loading"])])),_:1},8,["modelValue","onClose"])}]]),AbandonBuybackCustomerForm:pa,Address:ga,DetailContactOrderInformation:ha,DetailCustomerPortalLink:ba,ExpeditedIcon:va,BuybackShippingOptions:_e},props:{bulkQuote:{type:Object,default:()=>({restrictedQuoteUpdate:!1,restrictedQuoteItemUpdate:!1,restrictedQuoteStatusUpdate:!1,restrictedQuotePercentageUpdate:!1,isReconcilable:!1,totalQuoteItems:0})},isBulkQuote:{type:Boolean,default:!1}},async setup(e){const{state:a,modal:l,openModal:t,loading:o,action:i,stateOrdersToReloads:s,resetStateOrdersToReloads:r}=F("online"),{state:u}=K("online"),{state:m,data:p,loading:h,errors:b,showBankNumber:g,actionAll:v,actionUpdate:f,actionShowBankNumber:y,actionShowCheckSettings:k}=le("online"),{loading:w,actionPaperCheck:C}=J(),{state:S,loading:x,action:B}=ae("online"),{loading:V,action:U}=te("online"),{modal:T,openModal:q}=ee(),{bankTransferConfig:j,me:A}=Pe(),{state:N,action:R}=ia(),{data:L,modal:E,updateCustomer:$,loading:z}=oe("online"),{loading:G,regenerateShipping:H}=ie("online"),W=D({selected:"PaymentMethod"}),Y=_((()=>{var l;const t=[{name:e.isBulkQuote?"Shipping Label Info":"Offer Details",component:"ShippingLabelInfo"},{name:e.isBulkQuote?"Payment Method":"Offer Payout Method",component:"PaymentMethod"}];return e.isBulkQuote&&9e3!==(null==(l=a.value)?void 0:l.status_id)?[{name:"Payment Method",component:"PaymentMethod"}]:t})),X=be(),Z=c(),se=M(),ne=I(null),de=I(null),re=I(!1),ce=I({}),ue=D({}),me=I(!1),pe=I(!1),he=_((()=>{var e;return"PaymentMethod"===W.selected?{autoSelect:!0,items:m.value,data:a.value.billing}:"ShippingLabelInfo"===W.selected?{data:Object.assign(p.shippingLabelInfo,d(n({},a.value.shipping),{company_name:null==(e=null==a?void 0:a.value.billing)?void 0:e.company_name,custom_fields:_e.value})),isEasyOffer:fe.value}:void 0})),ge=_((()=>"PaymentMethod"===W.selected?Object.assign({},{"update:data":e=>ce.value=e}):{})),ve=_((()=>{const e=a.value.custom_fields;return!e?[]:Object.entries(e).map((([e,a])=>({label:a.key,value:a.value})))})),_e=_((()=>Object.fromEntries(ve.value.map((e=>[e.label,e.value]))))),fe=_((()=>3===(null==a?void 0:a.value.type)&&"Easy Offer"===(null==a?void 0:a.value.type_text))),ye=()=>{Object.assign(ue,n(n({},p.shippingLabelInfo),a.value.shipping))},ke=_((()=>0===Object.keys(a.value).length)),we=_((()=>{var e;return 1e3==(null==(e=a.value)?void 0:e.status_id)})),Ce=_((()=>!we.value)),Se=_((()=>a.value&&a.value.is_readonly));await B(Z.params.buybackId),await i({id:Z.params.buybackId,is_store:1},(async e=>{await v({id:e.customer_id,params:{box_id:Z.params.buybackId}}),await R(e.customer_id),ye()})),await k((e=>{me.value=1==e.is_ready_in_store&&1==e.is_enable_check})),"Local Buyback"===a.value.buyback_type&&se.push({name:"buybackLocalDetail",params:{buybackId:Z.params.buybackId}});const xe=_((()=>{var e;return A.value.is_view_confidential&&"Bank Transfer"===(null==(e=a.value.billing)?void 0:e.payment_method)})),Ie=_((()=>{var e,l,t;const o=[];return(null==(e=a.value.billing)?void 0:e.bank_transfer.length)&&!re.value?(null==(l=a.value.billing)||l.bank_transfer.forEach((e=>{const a=n({},e);if("account_name"!==a.attribute_name)if(a.value){const e=a.value.split("").splice(0,a.value.length-3).map((()=>"*")),l=a.value.split("").splice(a.value.length-3,3);a.value=`${e.join("")}${l.join("")}`}else a.value="-";o.push(a)})),o):null==(t=a.value.billing)?void 0:t.bank_transfer})),Be=_((()=>{const{shipping:e,customer:l}=a.value||{};return{firstName:e&&(null==e?void 0:e.shipping_firstname)||(null==l?void 0:l.first_name)||"-",lastName:e&&(null==e?void 0:e.shipping_lastname)||(null==l?void 0:l.last_name)||"-",email:e&&(null==e?void 0:e.email)||(null==l?void 0:l.email)||"-",phone:e&&(null==e?void 0:e.shipping_phone)||(null==l?void 0:l.phone)||"-",addressCustomer:(null==l?void 0:l.address_text)?(null==l?void 0:l.suite)?`${null==l?void 0:l.suite}, ${null==l?void 0:l.address_text}`:null==l?void 0:l.address_text:"-"}})),Ve=_((()=>{var l;if(o.value)return!1;if(e.isBulkQuote){return!["9000","9001"].includes(String(null==(l=a.value)?void 0:l.status_id))}return!0})),Me=_((()=>{var e,l;return 0===(null==(e=a.value)?void 0:e.shipping_label_is_generate)||2==(null==(l=a.value)?void 0:l.shipping_label_status)||!0===o.value}));return P((()=>s.value),(async e=>{var a;(null==e?void 0:e.offer_id)&&(null==e?void 0:e.offer_has_changes)&&(null==(a=null==Z?void 0:Z.params)?void 0:a.buybackId)===(null==e?void 0:e.offer_id)&&(await i({id:Z.params.buybackId,is_store:1}),r())}),{deep:!0}),{dataPaymentMethod:ce,dataAbandonBubyback:L,tab:W,componentBind:he,componentOn:ge,customFields:ve,stateShow:a,stateItems:u,statePaymentMethod:m,stateTrackingStatus:S,bankTransferConfig:j,showBankNumber:g,printAddressLabel:()=>{var e,l;const t=`${(null==(e=a.value.shipping)?void 0:e.shipping_suite)?Te(null==(l=a.value.shipping)?void 0:l.shipping_suite)+", ":""}${Te(a.value.shipping.shipping_address1)||""}\n${Te(a.value.shipping.shipping_city)||""} ${Te(a.value.shipping.shipping_state)||""} ${Te(a.value.shipping.shipping_zip)||""}`,o=`${a.value.shipping.shipping_firstname||""} ${a.value.shipping.shipping_lastname||""}`,i=a.value.shipping.shipping_imb||"";sa(t,o,i)},isShowBankNumber:re,loadingPaymentMethod:h,loadingPrint:w,loadingTrackingStatus:x,loadingPrintStatus:V,loadingAbandonBuyback:z,isLoading:ke,isNotAbandonedBuyback:Ce,isReadonly:Se,isAbandonedBuyback:we,isReadyPaperCheck:me,errorsPaymentMethod:b,modal:l,modalCustomTracking:T,modalAbandonBuyback:E,refComponent:ne,refAbandonBuybackCustomerForm:de,openModal:t,openModalCustomTracking:q,paperCheck:()=>C(Z.params.buybackId),updatePaymentMethod:async()=>{Object.assign(ce.value,n(n({},a.value.shipping),p.shippingLabelInfo));const e=Object.entries(ce.value).filter((([e,a])=>!!Object.keys(ue).includes(e)&&ue[e]!==a)).length>0;await O((()=>"PaymentMethod"===W.selected?ne.value.refChildComponent.validate():ne.value.validate()))&&f(Z.params.buybackId,d(n({},ce.value),{is_generate_shipping:e?1:0}),(async()=>{l.paymentMethod=!1,await i({id:Z.params.buybackId,is_store:1},(()=>{ye()}))}))},changeStatusPrint:()=>{U(Z.params.buybackId,(async()=>{Q({message:"Print status updated",type:"success"}),await i({id:Z.params.buybackId,is_store:1})}))},color:Ke,sellingTypeColor:Fe,kebabCase:Ue,toggleShowBankNumber:()=>{re.value=!re.value},handleCustomTrackingSaved:async()=>await i({id:Z.params.buybackId,is_store:1},(async e=>{await v({id:e.customer_id,params:{box_id:Z.params.buybackId}})})),CopyText:da,phoneNumber:De,handleLoginAsCustomer:(e=null)=>{if(!e)return null;window.open(e,"_blank").focus()},handleOpenShippingLabelInfoModal:()=>{W.selected="ShippingLabelInfo",a.value.shipping&&Object.keys(a.value.shipping).forEach((e=>{a.value.shipping[e]||(a.value.shipping[e]=a.value.customer[e.replace("shipping_","")])})),t("paymentMethod")},handleOpenPayoutMethodModal:()=>{W.selected="PaymentMethod",t("paymentMethod")},handleUpdateAbandonBuybackCustomer:async()=>{if(!de.value)return;de.value.validate()&&await $(a.value.customer.id,(async()=>{E.update.customer=!1,Q({type:"success",message:"Customer information saved"}),await i({id:Z.params.buybackId,is_store:1}),await v({id:a.value.customer.id,params:{box_id:Z.params.buybackId}})}))},handleOpenAbandonBuybackCustomerModal:()=>{E.update.customer=!0,Object.assign(L.customer,{box_id:a.value.box_id,email:a.value.customer.email,firstname:a.value.customer.first_name,lastname:a.value.customer.last_name,phone:a.value.customer.phone,address:a.value.customer.address1,suite:a.value.customer.suite,city:a.value.customer.city,state:a.value.customer.state,zip:a.value.customer.zip,country:a.value.customer.country,address_text:a.value.customer.address_text})},nameCapitalize:Oe,stateCustomer:N,computedBankTransfer:Ie,confidentialView:xe,computedCustomer:Be,isShowTrackingNumber:Ve,tabItems:Y,actionShow:i,handleSucceedBuybackOption:async()=>{await i({id:Z.params.buybackId,is_store:1})},loadingShippingInfo:pe,handleRegenerateShipping:async()=>{const e=a.value.box_id||Z.params.buybackId;if(!e)return void Q({type:"warning",message:"Box ID Undefined"});const l=await H(e);Q({type:"success",message:(null==l?void 0:l.result)||(null==l?void 0:l.message)||"Success"}),await i({id:Z.params.buybackId,is_store:1})},loadingRegenerateShipping:G,printShippingKit:async()=>{Z.params.buybackId&&!Me.value&&(X.shippingKit.modal=!0)},onDownload:async()=>{await qe(X.shippingKit,(async()=>{var e,l,t;await X.$downloadShippingKit({id:null==(e=a.value)?void 0:e.box_id,params:{order_shipping_label_id:null==(t=null==(l=a.value)?void 0:l.shipping_label)?void 0:t.order_shipping_label}}).then((e=>{je(e)}))}))},store:X}}}),Nl={class:"flex items-center justify-between mb-4"},Rl={class:"text-lg text-grey-04 font-semibold"},Ll={class:"flex items-center p-1"},El=["src","alt"],$l={key:0,class:"bg-red-01 text-red-base px-4 py-2 mb-4 rounded-lg"},zl={class:"flex gap-x-2"},Kl={key:1},Fl={class:"my-6"},Gl={class:"space-y-1"},Hl={class:"flex items-center mb-4"},Wl={class:"font-semibold mr-2"},Yl={key:0,class:"flex justify-between"},Jl={class:"flex items-center gap-x-2"},Xl=["href"],Zl={key:1,class:"flex justify-between"},et={class:"flex items-center gap-x-2"},at={key:2},lt={class:"my-6"},tt={class:"flex items-center gap-2 font-semibold mr-2 mb-4"},ot={style:{maxWidth:"300px"}},it={key:0,class:"my-6"},st={key:0,class:"text-grey-03"},nt={class:"my-6"},dt={class:"text-grey-03"},rt={class:"my-6",style:{"overflow-wrap":"anywhere"}},ct={class:"text-grey-03"},ut={key:2,class:"my-6"},mt={class:"text-grey-03"},pt={class:"flex justify-between items-center"},ht={class:"flex items-center justify-end gap-x-2"},bt={key:0},gt={class:"text-xl font-medium mb-4"},vt={key:1},_t={class:"inline-block"},ft={class:"w-full h-full flex justify-center items-center"},yt={key:0,class:"p-5"},kt={key:0},wt={class:"space-y-2"},Ct={key:0},St={key:1,class:"text-teal-04"},xt={key:1},It={class:"text-teal-04"},Pt={class:"flex flex-wrap items-center"},Bt={key:2,class:"my-5"},Vt={class:"flex items-center gap-x-1"},Mt={class:"mb-2"},Qt={key:3},Ut={class:"font-semibold mb-2"},Dt={class:"text-grey-03"},Ot={class:"mb-2"},Tt={key:4,class:"mt-10"},qt={class:"flex justify-between items-center"},jt={key:0},At={class:"mb-2"},Nt={key:0,class:"mb-2"},Rt={class:"font-semibold mb-2 flex items-center gap-2"},Lt={key:1,class:"text-teal-04 cursor-pointer"},Et={class:"flex items-center gap-2"},$t={class:"mt-2"},zt={key:0,class:"flex items-center gap-2"},Kt={class:"flex items-center gap-2"},Ft={key:1,class:"flex items-center gap-2"},Gt={key:0,class:"flex items-center gap-2"},Ht={key:1,class:"flex items-center gap-2"},Wt={class:"flex items-center gap-2"},Yt={class:"flex items-center gap-2"},Jt={class:"flex items-center gap-2"},Xt={class:"flex items-center gap-2"},Zt={key:4,class:"flex items-center"},eo={key:5},ao={class:"text-sm"},lo=["onClick"],to={key:6,class:"flex items-center gap-2"},oo={key:7,class:"flex items-center gap-2"},io={key:8,class:"flex items-center gap-2"},so={key:9,class:"flex items-center gap-2 mt-1"},no={class:"ml-2"},ro={key:10,class:"flex items-center gap-2"},co={key:11,class:"flex items-center gap-2"},uo={key:12,class:"flex items-center gap-2"},mo={class:"flex items-center gap-2"},po={key:0,class:"flex items-center gap-2"},ho={key:14,class:"flex items-center gap-2"},bo={key:15,class:"flex items-center gap-2"},go={class:"flex items-center gap-2"},vo={class:"flex items-center gap-2"},_o={key:17,class:"flex items-center gap-2"},fo={key:18},yo={key:20,class:"flex items-center gap-2"},ko={key:21},wo={key:1,class:"mb-2"},Co={key:2},So={key:3},xo={class:"flex justify-between items-center gap-4"},Io={key:0,class:"flex items-center gap-2 bg-green-lighten text-green-04 py-2 px-4 rounded-full mr-auto text-sm"},Po={key:0,class:"mb-4 flex flex-col items-center justify-center"},Bo={class:"flex justify-end"};var Vo=Ce(Al,[["render",function(e,a,l,t,o,i){var s,n;const d=u("Badge"),r=u("Button"),c=u("Tooltip"),_=u("BuybackShippingOptions"),x=u("Card"),I=u("TextLimit"),P=u("router-link"),M=u("Popover"),Q=u("DetailContactOrderInformation"),D=u("DetailCustomerPortalLink"),O=u("ExpeditedIcon"),A=u("Tab"),N=u("Modal"),R=u("AbandonBuybackCustomerForm"),L=u("CustomTracking"),E=U("loading");return m(),f(k,null,[S((m(),p(x,{class:"mb-4"},{header:h((()=>{var l;return[b("div",pt,[a[55]||(a[55]=b("h6",null,"Offer",-1)),b("div",ht,[v(_,{id:null==(l=e.stateShow)?void 0:l.box_id,"status-offer":e.stateShow.status_id,multiple:e.stateShow.is_multiple_shipping,total:e.stateShow.total_shipping_label,shippings:e.stateShow.shipping_label,shippingLabelStatus:e.stateShow.shipping_label_status,regenerateShippingLabel:e.handleRegenerateShipping,onSucceed:e.handleSucceedBuybackOption},null,8,["id","status-offer","multiple","total","shippings","shippingLabelStatus","regenerateShippingLabel","onSucceed"])])])]})),default:h((()=>{var l,t,o,i,s,n,u,_,w,S,x,I,P,B,V,M,Q,U;return[b("div",Nl,[b("p",Rl,"Offer ID # "+g(e.$route.params.buybackId),1),e.stateShow.type_text&&!e.isBulkQuote?(m(),p(d,{key:0,class:"whitespace-nowrap",color:e.sellingTypeColor(e.stateShow.type_text)},{default:h((()=>[b("div",Ll,[b("img",{src:`/icon/selling-type/${e.kebabCase(e.stateShow.type_text,"lower")}.svg`,alt:`${e.stateShow.type_text} icon`},null,8,El),b("p",null,g(e.stateShow.type_text),1)])])),_:1},8,["color"])):y("",!0)]),2==e.stateShow.shipping_label_status||0==e.stateShow.shipping_label_status?(m(),f("div",$l,[b("div",zl,[a[39]||(a[39]=b("i",{class:"material-icons text-red-base text-center"},"warning",-1)),b("span",null,g(2==e.stateShow.shipping_label_status?'Unable to generate the shipping label due to an error. Once the root cause is resolved, you can click "Regenerate Shipping Label" from the three-dot menu above.':"Shipping label must be sent manually for this offer. Enable a supported shipping integration if one of our available integrations supports your shipping carrier to avoid manual workload."),1)])])):y("",!0),b("p",null,[a[40]||(a[40]=b("span",{class:"material-icons text-base"},"date_range",-1)),C(" "+g(null==(l=e.stateShow)?void 0:l.created_at),1)]),e.isShowTrackingNumber?(m(),f("div",Kl,[b("div",Fl,[b("div",Gl,[b("div",Hl,[b("p",Wl,g(null==(t=e.stateShow)?void 0:t.shipping_courier)+" Shipping Information ",1),1==(null==(o=e.stateShow)?void 0:o.is_custom_tracking)?(m(),p(d,{key:0,color:"orange"},{default:h((()=>a[41]||(a[41]=[C("Custom")]))),_:1})):y("",!0)]),1===(null==(s=null==(i=e.stateShow)?void 0:i.shipping_label)?void 0:s.length)?(m(),f("div",Yl,[b("div",null,[b("div",Jl,[a[43]||(a[43]=b("span",{class:"material-icons"},"local_shipping",-1)),b("span",null,g((null==(u=null==(n=e.stateShow)?void 0:n.shipping_label[0])?void 0:u.custom_tracking)||(null==(w=null==(_=e.stateShow)?void 0:_.shipping_label[0])?void 0:w.shipping_tracking)),1),b("a",{href:e.stateShow.shipping_tracking_link,rel:"noreferrer noopener",class:"text-grey-03",target:"_blank"},a[42]||(a[42]=[b("span",{class:"material-icons"},"launch",-1)]),8,Xl)]),a[44]||(a[44]=b("div",{class:"flex items-center gap-x-2"},[b("span",{class:"material-icons"},"qr_code"),b("span",null,"Shipping Label Available")],-1))]),b("div",null,[v(r,{onClick:e.onDownload,color:"teal",view:"outlined",dense:"",loading:null==(x=null==(S=e.store)?void 0:S.shippingKit)?void 0:x.isLoading},{default:h((()=>a[45]||(a[45]=[b("span",{class:"material-icons mr-2"},"print",-1),C("Shipping Kit ")]))),_:1},8,["onClick","loading"])])])):(null==(P=null==(I=e.stateShow)?void 0:I.shipping_label)?void 0:P.length)>1?(m(),f("div",Zl,[b("div",et,[a[46]||(a[46]=b("span",{class:"material-icons"},"local_shipping",-1)),b("span",null,g(e.stateShow.shipping_label.length)+" Available Shipping Label",1)]),b("div",null,[v(r,{onClick:e.printShippingKit,color:"teal",view:"outlined",dense:""},{default:h((()=>a[47]||(a[47]=[b("span",{class:"material-icons mr-2"},"print",-1),C("Shipping Kit ")]))),_:1},8,["onClick"])])])):(m(),f("div",at,a[48]||(a[48]=[b("div",null,[b("div",{class:"flex items-center gap-x-2"},[b("span",{class:"material-icons"},"local_shipping"),b("span",{class:"text-red-base"},"Tracking Number is not available")]),b("div",{class:"flex items-center gap-x-2"},[b("span",{class:"material-icons"},"qr_code"),b("span",{class:"text-red-base"},"Shipping Label Not Available")])],-1)])))])]),b("div",lt,[b("p",tt,[a[50]||(a[50]=b("span",null,"Shipping Cost",-1)),v(c,{placement:"top"},{content:h((()=>[b("div",ot,[0==e.stateShow.shipping_cost?(m(),f(k,{key:0},[C(" This feature is available only for offers using EasyPost USPS services. The shipping service you are using doesn't support this feature. ")],64)):(m(),f(k,{key:1},[C(" The shipping cost is not final until USPS weighs the package, after which the actual shipping cost will be reflected here. ")],64))])])),default:h((()=>[a[49]||(a[49]=b("span",{class:"material-icons"},"info",-1))])),_:1})]),b("p",null,[0!=e.stateShow.shipping_cost?(m(),f(k,{key:0},[C(g(e.stateShow.shipping_cost),1)],64)):(m(),f(k,{key:1},[C("-")],64))])]),(null==(B=e.stateShow)?void 0:B.is_multiple_shipping)?y("",!0):(m(),f("div",it,[a[51]||(a[51]=b("p",{class:"font-semibold mb-2"},"Status",-1)),(null==(M=null==(V=e.stateShow)?void 0:V.shipping_label)?void 0:M.length)?(m(),f("p",st,g((null==(U=null==(Q=e.stateShow)?void 0:Q.shipping_label[0])?void 0:U.shipping_status_summary)||"No Shipping Information"),1)):y("",!0)]))])):y("",!0),b("div",nt,[a[52]||(a[52]=b("p",{class:"font-semibold mb-2"},"Source",-1)),b("p",dt,g(e.stateShow.source||"-"),1)]),b("div",rt,[a[53]||(a[53]=b("p",{class:"font-semibold mb-2"},"Referral Source",-1)),b("p",ct,g(e.stateShow.referral_source||"-"),1)]),e.stateShow.returned_tracking?(m(),f("div",ut,[a[54]||(a[54]=b("p",{class:"font-semibold mb-2"},"Returned Tracking ",-1)),b("p",mt,g(e.stateShow.returned_tracking),1)])):y("",!0)]})),_:1})),[[E,e.isLoading]]),S((m(),p(x,{class:"mb-4",error:e.isAbandonedBuyback&&!(null==(s=e.stateShow)?void 0:s.is_fulfilled_address)},{header:h((()=>{var l,t,o,i,s,n;return[b("div",qt,[b("h6",null,g(e.isBulkQuote?"Quote Information":"Offer Information"),1),e.isReadonly?y("",!0):(m(),f("div",jt,[e.isAbandonedBuyback?(m(),p(r,{key:0,onClick:e.handleOpenAbandonBuybackCustomerModal,class:"mx-2",disabled:null!=(null==(l=e.stateShow)?void 0:l.deleted_at)||e.isBulkQuote&&9e3!==(null==(t=e.stateShow)?void 0:t.status_id),loading:e.loadingPaymentMethod.all,color:"teal",dense:""},{default:h((()=>a[65]||(a[65]=[b("i",{class:"material-icons text-base"},"edit",-1),C(" Edit")]))),_:1},8,["onClick","disabled","loading"])):(m(),p(r,{key:1,onClick:e.handleOpenShippingLabelInfoModal,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.bulkQuote.restrictedQuoteUpdate||e.isBulkQuote&&9e3!==(null==(i=e.stateShow)?void 0:i.status_id),loading:e.loadingPaymentMethod.all,class:"mr-2",color:"teal",dense:""},{default:h((()=>a[66]||(a[66]=[b("i",{class:"material-icons text-base"},"edit",-1),C(" Edit")]))),_:1},8,["onClick","disabled","loading"])),(null==(s=e.stateCustomer)?void 0:s.login_link)&&"#"!=(null==(n=e.stateCustomer)?void 0:n.login_link)?(m(),p(M,{key:2,trigger:"hover",width:"400"},{reference:h((()=>{var l;return[v(r,{disabled:1e3===(null==(l=e.stateShow)?void 0:l.status_id),onClick:a[2]||(a[2]=a=>{var l;return e.handleLoginAsCustomer(null==(l=e.stateCustomer)?void 0:l.login_link)}),color:"green",dense:""},{default:h((()=>a[67]||(a[67]=[b("i",{class:"material-icons text-base"},"vpn_key",-1),C(" Login")]))),_:1},8,["disabled"])]})),default:h((()=>[a[68]||(a[68]=b("span",{class:"font-normal"},"Login to customer account",-1))])),_:1})):y("",!0)]))])]})),default:h((()=>{var l,t,o,i,s,n,d;return[e.isBulkQuote?(m(),f("div",bt,[b("h6",gt,g(null==(t=null==(l=e.stateShow)?void 0:l.customer)?void 0:t.company),1)])):(m(),f("div",vt,[b("div",_t,[v(M,{width:"400",trigger:"hover"},{reference:h((()=>{var l,t;return[e.isAbandonedBuyback?(m(),f("div",kt,[v(I,{text:`${e.computedCustomer.firstName||""} ${e.computedCustomer.lastName||""}`},{default:h((({text:a})=>[b("div",wt,[e.nameCapitalize(a).length?(m(),f("h5",Ct,[(m(!0),f(k,null,w(e.nameCapitalize(a),((e,a)=>(m(),f("span",{key:a,class:"text-teal-04 capitalize"},g(`${e} `),1)))),128))])):(m(),f("h5",St,g(a),1))])])),_:1},8,["text"])])):(m(),f("div",xt,[v(P,{to:{name:"customerDetail",params:{customerId:null==(t=null==(l=e.stateShow)?void 0:l.customer)?void 0:t.id,category:"mail-in"}}},{default:h((()=>[v(I,{text:`${e.computedCustomer.firstName||""} ${e.computedCustomer.lastName||""}`},{default:h((e=>[b("h5",It,[C(g(e.text)+" ",1),a[60]||(a[60]=b("i",{class:"material-icons icon-visibility"},"visibility",-1))])])),_:1},8,["text"])])),_:1},8,["to"])]))]})),default:h((()=>[b("div",ft,[(m(),f("div",yt,[a[59]||(a[59]=b("p",{class:"font-semibold"},"Customer Information",-1)),b("p",null,[a[56]||(a[56]=b("i",{class:"material-icons text-base mr-1"},"email",-1)),C(" "+g(e.computedCustomer.email),1)]),b("p",null,[a[57]||(a[57]=b("i",{class:"material-icons text-base mr-1"},"location_on",-1)),C(" "+g(e.computedCustomer.addressCustomer),1)]),b("p",null,[a[58]||(a[58]=b("i",{class:"material-icons text-base mr-1"},"call",-1)),C(" "+g(e.phoneNumber(e.computedCustomer.phone)),1)])]))])])),_:1})]),b("i",{class:"material-icons hover:text-teal-04 text-teal-04 cursor-pointer ml-2",style:{"line-height":"2"},onClick:a[0]||(a[0]=B((a=>e.CopyText(`${e.computedCustomer.firstName} ${e.computedCustomer.lastName}`)),["stop"]))}," file_copy ")])),b("p",Pt,[a[61]||(a[61]=b("i",{class:"material-icons text-base mr-2"}," assignment ",-1)),C(" "+g((e.isBulkQuote?e.bulkQuote.totalQuoteItems:null==(o=e.stateItems)?void 0:o.total_qty)||0)+" items ",1)]),e.stateShow.type_text&&"Easy Offer"===e.stateShow.type_text?(m(),f("div",Bt,[a[62]||(a[62]=b("p",{class:"font-semibold"},"Company Name",-1)),b("p",Vt,g((null==(i=e.stateShow.billing)?void 0:i.company_name)||"-"),1)])):y("",!0),b("div",{class:V(e.stateShow.type_text&&"Easy Offer"===e.stateShow.type_text?"mb-2":"mt-5")},[v(Q,{title:e.isBulkQuote?"Offer Information":"Contact Information",data:e.stateShow,type:"online"},null,8,["title","data"])],2),b("div",Mt,[b("a",{class:"flex items-center",href:"",onClick:a[1]||(a[1]=B(((...a)=>e.printAddressLabel&&e.printAddressLabel(...a)),["prevent"]))},a[63]||(a[63]=[b("i",{class:"material-icons text-lg mt-2"},"print",-1),b("span",{class:"mt-2 mx-3"},"Print Address Label",-1)]))]),e.customFields.length>0?(m(),f("div",Qt,[(m(!0),f(k,null,w(e.customFields,(e=>(m(),f("div",{key:e.label,class:"my-6"},[b("p",Ut,g(e.label),1),b("p",Dt,g(e.value),1)])))),128))])):y("",!0),b("div",Ot,[v(D,{title:"Customer Portal URL",data:e.stateShow},null,8,["data"])]),(null==(s=e.stateShow)?void 0:s.order_ip_address)?(m(),f("div",Tt,[a[64]||(a[64]=b("p",{class:"mb-2 font-bold"},"IP Address",-1)),b("p",null,g(null!=(d=null==(n=e.stateShow)?void 0:n.order_ip_address)?d:"-"),1)])):y("",!0)]})),_:1},8,["error"])),[[E,e.isLoading]]),S((m(),p(x,{class:"mb-4",error:e.isAbandonedBuyback&&!(null==(n=e.stateShow)?void 0:n.is_fulfilled_payout)},{header:h((()=>{var l,t,o,i;return[b("div",xo,[a[106]||(a[106]=b("h6",null,"Payout",-1)),(null==(t=null==(l=e.stateShow)?void 0:l.billing)?void 0:t.expedited_payout)?(m(),f("div",Io,[v(O,{class:"text-green-04"}),a[103]||(a[103]=b("span",null,"Expedited Payout",-1))])):y("",!0),e.isAbandonedBuyback&&!e.isReadonly?(m(),p(r,{key:1,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.bulkQuote.restrictedQuoteUpdate,loading:e.loadingPaymentMethod.all,color:"teal",onClick:e.handleOpenPayoutMethodModal,dense:""},{default:h((()=>a[104]||(a[104]=[b("i",{class:"material-icons text-base"},"edit",-1),C(" Edit")]))),_:1},8,["disabled","loading","onClick"])):e.isReadonly?y("",!0):(m(),p(r,{key:2,disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.bulkQuote.restrictedQuoteUpdate,loading:e.loadingPaymentMethod.all,color:"teal",onClick:e.handleOpenPayoutMethodModal,dense:""},{default:h((()=>a[105]||(a[105]=[b("i",{class:"material-icons text-base"},"edit",-1),C(" Edit")]))),_:1},8,["disabled","loading","onClick"]))])]})),default:h((()=>{var l,t,o,i,s,n,d,u,_,x,P,V,M,Q,U,D,O,T,q,j,A,N,R,L,$,z,K,F,G,H,W,Y,J,X,Z,ee,ae,le,te,oe,ie,se,ne,de,re,ce,ue,me,pe,he,be,ge,ve,_e,fe,ye,ke,we,Ce,Se,xe,Ie,Pe,Be,Ve,Me,Qe,Ue;return[b("div",At,[a[70]||(a[70]=b("p",{class:"font-semibold mb-2"},"Payout Method",-1)),b("p",null,[C(g(null==(l=e.stateShow.billing)?void 0:l.payment_method)+" ",1),e.isReadyPaperCheck?(m(),f(k,{key:0},["Paper Check"===(null==(t=e.stateShow.billing)?void 0:t.payment_method)||"Express Check"===(null==(o=e.stateShow.billing)?void 0:o.payment_method)?(m(),p(r,{key:0,class:"ml-8",color:"teal",loading:e.loadingPrint.paperCheck,onClick:B(e.paperCheck,["prevent"]),disabled:0==(null==(i=e.stateShow.billing)?void 0:i.is_print_check),dense:""},{default:h((()=>a[69]||(a[69]=[b("i",{class:"material-icons text-base"},"print",-1)]))),_:1},8,["loading","onClick","disabled"])):y("",!0)],64)):y("",!0)])]),(null==(s=e.stateShow.billing)?void 0:s.payment_method)&&!["Cash","Store Credit","Gift Card","Virtual Debit Card"].includes(null==(n=e.stateShow.billing)?void 0:n.payment_method)?(m(),f("div",Nt,[b("div",Rt,[a[72]||(a[72]=C(" Payout Info ")),e.confidentialView?(m(),f(k,{key:0},[e.isShowBankNumber?(m(),f("span",{key:0,class:"text-teal-04 cursor-pointer",onClick:a[3]||(a[3]=(...a)=>e.toggleShowBankNumber&&e.toggleShowBankNumber(...a))},a[71]||(a[71]=[b("i",{class:"material-icons icon-visibility"},"visibility",-1)]))):y("",!0),e.isShowBankNumber?y("",!0):(m(),f("span",Lt,[b("i",{class:"material-icons icon-visibility-off",onClick:a[4]||(a[4]=(...a)=>e.toggleShowBankNumber&&e.toggleShowBankNumber(...a))},"visibility_off")]))],64)):y("",!0)]),"Paper Check"===(null==(d=e.stateShow.billing)?void 0:d.payment_method)||"Express Check"===(null==(u=e.stateShow.billing)?void 0:u.payment_method)?(m(),f(k,{key:0},[b("div",Et,[a[73]||(a[73]=b("strong",{class:"text-sm"},"Customer Info",-1)),v(I,{text:`${(null==(_=e.stateShow.billing)?void 0:_.billing_firstname)||""} ${(null==(x=e.stateShow.billing)?void 0:x.billing_lastname)||""}`},{default:h((e=>[b("p",null,g(e.text),1)])),_:1},8,["text"]),b("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[5]||(a[5]=a=>{var l,t;return e.CopyText(`${(null==(l=e.stateShow.billing)?void 0:l.billing_firstname)||""} ${(null==(t=e.stateShow.billing)?void 0:t.billing_lastname)||""}`)})}," file_copy ")]),b("div",$t,[a[75]||(a[75]=b("p",{class:"font-semibold"},"Payout Address",-1)),"1"===e.stateShow.use_company_name?(m(),f("p",zt,[a[74]||(a[74]=b("strong",{class:"text-sm"},"Company",-1)),C(" "+g(null==(P=e.stateShow.billing)?void 0:P.company_name)+" ",1),b("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[6]||(a[6]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.company_name)})}," file_copy ")])):y("",!0),v(I,{text:`${(null==(V=e.stateShow.billing)?void 0:V.billing_firstname)||""} ${(null==(M=e.stateShow.billing)?void 0:M.billing_lastname)||""}`},{default:h((e=>[b("p",null,g(e.text),1)])),_:1},8,["text"]),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[7]||(a[7]=a=>{var l,t;return e.CopyText(`${(null==(l=e.stateShow.billing)?void 0:l.billing_firstname)||""} ${(null==(t=e.stateShow.billing)?void 0:t.billing_lastname)||""}`)})}," file_copy "),b("p",Kt,[C(g((null==(Q=e.stateShow.billing)?void 0:Q.billing_address_text_suite)||(null==(U=e.stateShow.billing)?void 0:U.billing_address_text)||"-")+" ",1),b("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[8]||(a[8]=a=>{var l,t;return e.CopyText((null==(l=e.stateShow.billing)?void 0:l.billing_address_text_suite)||(null==(t=e.stateShow.billing)?void 0:t.billing_address_text)||"-")})}," file_copy ")]),(null==(D=e.stateShow.billing)?void 0:D.billing_phone)?(m(),f("p",Ft,[C(g(e.phoneNumber(null==(O=e.stateShow.billing)?void 0:O.billing_phone))+" ",1),b("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[9]||(a[9]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.billing_phone))})}," file_copy ")])):y("",!0)])],64)):"Venmo"===(null==(T=e.stateShow.billing)?void 0:T.payment_method)?(m(),f(k,{key:1},[b("p",null,g(null==(q=e.stateShow.billing)?void 0:q.venmo_email),1),b("p",null,g(e.phoneNumber(null==(j=e.stateShow.billing)?void 0:j.venmo_phone_number)),1),(null==(A=e.stateShow.billing)?void 0:A.venmo_username)?(m(),f("div",Gt,[a[76]||(a[76]=b("strong",{class:"text-sm"},"Username",-1)),b("p",null,g(null==(N=e.stateShow.billing)?void 0:N.venmo_username),1),b("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[10]||(a[10]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.venmo_username)})}," file_copy ")])):y("",!0),(null==(R=e.stateShow.billing)?void 0:R.venmo_last_digit)?(m(),f("div",Ht,[a[77]||(a[77]=b("strong",{class:"text-sm"},"Last 4 digits of phone number",-1)),b("p",null,g(null==(L=e.stateShow.billing)?void 0:L.venmo_last_digit),1),b("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[11]||(a[11]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.venmo_last_digit)})}," file_copy ")])):y("",!0)],64)):"Amazon Gift Card"===(null==($=e.stateShow.billing)?void 0:$.payment_method)?(m(),f(k,{key:2},[b("p",Wt,[a[78]||(a[78]=b("strong",{class:"text-sm"},"Email",-1)),C(g(null==(z=e.stateShow.billing)?void 0:z.amazon_card_email)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[12]||(a[12]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.amazon_card_email)})}," file_copy ")]),b("p",Yt,[a[79]||(a[79]=b("strong",{class:"text-sm"},"Phone Number",-1)),C(g(e.phoneNumber(null==(K=e.stateShow.billing)?void 0:K.amazon_card_phone))+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[13]||(a[13]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.amazon_card_phone))})}," file_copy ")])],64)):"Square Cash"===(null==(F=e.stateShow.billing)?void 0:F.payment_method)?(m(),f(k,{key:3},[b("p",Jt,[a[80]||(a[80]=b("strong",{class:"text-sm"},"Cash Tag",-1)),C(" "+g(null==(G=e.stateShow.billing)?void 0:G.square_cash_tag)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[14]||(a[14]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.square_cash_tag)})}," file_copy ")]),b("p",Xt,[a[81]||(a[81]=b("strong",{class:"text-sm"},"Phone Number",-1)),C(g(e.phoneNumber(null==(H=e.stateShow.billing)?void 0:H.square_phone_number))+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[15]||(a[15]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.square_phone_number))})}," file_copy ")])],64)):"PayPal"===(null==(W=e.stateShow.billing)?void 0:W.payment_method)?(m(),f("div",Zt,[b("p",null,[a[82]||(a[82]=b("strong",{class:"mr-2 text-sm"},"PayPal Address",-1)),C(" "+g(null==(Y=e.stateShow.billing)?void 0:Y.paypal_address),1)]),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[16]||(a[16]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.paypal_address)})}," file_copy ")])):"Bank Transfer"===(null==(J=e.stateShow.billing)?void 0:J.payment_method)?S((m(),f("div",eo,[(m(!0),f(k,null,w(e.computedBankTransfer,((l,t)=>(m(),f("p",{key:t,class:"flex items-center gap-2"},[b("strong",ao,g(l.name),1),C(" "+g(l.value)+" ",1),e.confidentialView?(m(),f("i",{key:0,class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a=>e.CopyText(l.value)}," file_copy ",8,lo)):(m(),p(c,{key:1,placement:"top"},{content:h((()=>a[83]||(a[83]=[b("div",{class:"max-w-sm"},"You don't have access to this data. Please request access from your account admin",-1)]))),default:h((()=>a[84]||(a[84]=[b("i",{disabled:"",class:"material-icons ml-4 text-teal-02 cursor-not-allowed"}," file_copy ",-1)]))),_:1}))])))),128))])),[[E,e.loadingPaymentMethod.showBankNumber]]):"Bitcoin"===(null==(X=e.stateShow.billing)?void 0:X.payment_method)?(m(),f("p",to,[a[85]||(a[85]=b("strong",{class:"text-sm"},"Bitcoin Address",-1)),C(g(null==(Z=e.stateShow.billing)?void 0:Z.bitcoin_crypto_address)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[17]||(a[17]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.bitcoin_crypto_address)})}," file_copy ")])):"Coinbase"===(null==(ee=e.stateShow.billing)?void 0:ee.payment_method)?(m(),f("p",oo,[a[86]||(a[86]=b("strong",{class:"text-sm"},"Coinbase Address",-1)),C(g(null==(ae=e.stateShow.billing)?void 0:ae.bitcoin_crypto_address)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[18]||(a[18]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.bitcoin_crypto_address)})}," file_copy ")])):"Zelle"===(null==(le=e.stateShow.billing)?void 0:le.payment_method)?(m(),f("p",io,[a[87]||(a[87]=b("strong",{class:"text-sm"},"Email or Phone Number",-1)),C(" "+g(null==(te=e.stateShow.billing)?void 0:te.zelle_email_or_phone_number)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[19]||(a[19]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.zelle_email_or_phone_number)})}," file_copy ")])):"Cash App"===(null==(oe=e.stateShow.billing)?void 0:oe.payment_method)?(m(),f("p",so,[a[88]||(a[88]=b("strong",{class:"text-sm"},"Email or Phone Number or Cash Tag",-1)),b("span",no,g(null==(ie=e.stateShow.billing)?void 0:ie.cash_app_email_or_phone_number_or_cash_tag),1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[20]||(a[20]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.cash_app_email_or_phone_number_or_cash_tag)})}," file_copy ")])):"Apple Pay"===(null==(se=e.stateShow.billing)?void 0:se.payment_method)?(m(),f("p",ro,[a[89]||(a[89]=b("strong",{class:"text-sm"},"Phone Number",-1)),C(" "+g(e.phoneNumber(null==(ne=e.stateShow.billing)?void 0:ne.apple_pay_phone_number))+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[21]||(a[21]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.apple_pay_phone_number))})}," file_copy ")])):"Google Pay"===(null==(de=e.stateShow.billing)?void 0:de.payment_method)?(m(),f("p",co,[a[90]||(a[90]=b("strong",{class:"text-sm"},"Email or Phone Number",-1)),C(" "+g(null==(re=e.stateShow.billing)?void 0:re.google_play_email_or_phone_number)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[22]||(a[22]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.google_play_email_or_phone_number)})}," file_copy ")])):"Facebook Pay"===(null==(ce=e.stateShow.billing)?void 0:ce.payment_method)?(m(),f("p",uo,[a[91]||(a[91]=b("strong",{class:"text-sm"},"Email",-1)),C(" "+g(null==(ue=e.stateShow.billing)?void 0:ue.facebook_pay_email)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[23]||(a[23]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.facebook_pay_email)})}," file_copy ")])):"Interac e-Transfer"===(null==(me=e.stateShow.billing)?void 0:me.payment_method)?(m(),f(k,{key:13},[b("p",mo,[a[92]||(a[92]=b("strong",{class:"text-sm"},"Full Name",-1)),C(g(null==(pe=e.stateShow.billing)?void 0:pe.interac_full_name)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[24]||(a[24]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.interac_full_name)})}," file_copy ")]),(null==(he=e.stateShow.billing)?void 0:he.interac_email_or_phone)?(m(),f("p",po,[a[93]||(a[93]=b("strong",{class:"text-sm"}," Email or Phone Number ",-1)),C(" "+g(null==(be=e.stateShow.billing)?void 0:be.interac_email_or_phone)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[25]||(a[25]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.interac_email_or_phone)})}," file_copy ")])):y("",!0)],64)):"eCheck"===(null==(ge=e.stateShow.billing)?void 0:ge.payment_method)?(m(),f("p",ho,[a[94]||(a[94]=b("strong",{class:"text-sm"},"Email",-1)),C(" "+g(null==(ve=e.stateShow.billing)?void 0:ve.echeck_email)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[26]||(a[26]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.echeck_email)})}," file_copy ")])):"Swish"===(null==(_e=e.stateShow.billing)?void 0:_e.payment_method)?(m(),f("p",bo,[a[95]||(a[95]=b("strong",{class:"text-sm"},"Phone Number",-1)),C(" "+g(e.phoneNumber(null==(fe=e.stateShow.billing)?void 0:fe.swish_phone_number))+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[27]||(a[27]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.swish_phone_number))})}," file_copy ")])):"Bill"===(null==(ye=e.stateShow.billing)?void 0:ye.payment_method)?(m(),f(k,{key:16},[b("p",go,[a[96]||(a[96]=b("strong",{class:"text-sm"},"Legal Business Name",-1)),C(" "+g(null==(ke=e.stateShow.billing)?void 0:ke.bill_legal_business_name)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[28]||(a[28]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.bill_legal_business_name)})}," file_copy ")]),b("p",vo,[a[97]||(a[97]=b("strong",{class:"text-sm"},"Network ID",-1)),C(" "+g(null==(we=e.stateShow.billing)?void 0:we.bill_network_id)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[29]||(a[29]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.bill_network_id)})}," file_copy ")])],64)):"Rebate"===(null==(Ce=e.stateShow.billing)?void 0:Ce.payment_method)?(m(),f("p",_o,[a[98]||(a[98]=b("strong",{class:"text-sm"},"Order Number",-1)),C(" "+g(null==(Se=e.stateShow.billing)?void 0:Se.rebate_order_number)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[30]||(a[30]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.rebate_order_number)})}," file_copy ")])):"Choose Later"===(null==(xe=e.stateShow.billing)?void 0:xe.payment_method)?(m(),f("p",fo," Choose Later (Tremendous) ")):(null==(Ie=e.stateShow.billing)?void 0:Ie.custom_payout)?(m(!0),f(k,{key:19},w(null==(Pe=e.stateShow.billing)?void 0:Pe.custom_payout,((e,a)=>(m(),f("p",{key:a,class:"break-words"},[C(g(e.value)+" ",1),b("small",null,"("+g(e.name)+")",1)])))),128)):"Revolut"===(null==(Be=e.stateShow.billing)?void 0:Be.payment_method)?(m(),f("p",yo,[a[99]||(a[99]=b("strong",{class:"text-sm"},"Revtag, Email or Phone Number",-1)),C(g(null==(Ve=e.stateShow.billing)?void 0:Ve.revtag_or_email_or_phone)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[31]||(a[31]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.revtag_or_email_or_phone)})}," file_copy ")])):(m(),f("p",ko,"No Payout Information"))])):y("",!0),"Choose Later"===(null==(Me=e.stateShow.billing)?void 0:Me.payment_method)?(m(),f("div",wo,[a[100]||(a[100]=b("p",{class:"font-semibold mb-2"},"Payout Status",-1)),b("p",null,g(null==(Qe=e.stateShow.billing)?void 0:Qe.tremendous_status),1)])):y("",!0),e.stateItems.coupon_code?(m(),f("div",Co,[a[101]||(a[101]=b("p",{class:"font-semibold mb-2"},"Promo Code",-1)),b("p",null,g(e.stateItems.coupon_code),1)])):y("",!0),(null==(Ue=e.stateShow.billing)?void 0:Ue.transaction_id)?(m(),f("div",So,[a[102]||(a[102]=b("p",{class:"font-semibold mb-2"},"Transaction ID",-1)),b("p",null,g(e.stateShow.billing.transaction_id),1)])):y("",!0)]})),_:1},8,["error"])),[[E,e.isLoading]]),v(N,{modelValue:e.modal.paymentMethod,"onUpdate:modelValue":a[35]||(a[35]=a=>e.modal.paymentMethod=a),title:e.isBulkQuote?"Update Payout":"Update Offer Information","hide-footer":e.errorsPaymentMethod.all},{footer:h((()=>[v(r,{color:"teal",loading:e.loadingPaymentMethod.update,onClick:a[34]||(a[34]=a=>e.updatePaymentMethod())},{default:h((()=>[C(g(e.isBulkQuote?"Save Payout":"Save Offer Information"),1)])),_:1},8,["loading"])])),default:h((()=>[e.errorsPaymentMethod.all?(m(),f("div",Po,[a[108]||(a[108]=b("p",null,"There's an error when getting payout info, please try again",-1)),v(r,{class:"mt-4",color:"teal",onClick:a[32]||(a[32]=()=>e.$router.go())},{default:h((()=>a[107]||(a[107]=[b("i",{class:"material-icons text-lg"},"refresh",-1),C(" Reload Page")]))),_:1})])):(m(),f(k,{key:1},[v(A,{modelValue:e.tab.selected,"onUpdate:modelValue":a[33]||(a[33]=a=>e.tab.selected=a),items:e.tabItems,component:""},null,8,["modelValue","items"]),(m(),p(T(e.tab.selected),q({ref:"refComponent"},e.componentBind,j(e.componentOn)),null,16))],64))])),_:1},8,["modelValue","title","hide-footer"]),v(N,{modelValue:e.modalAbandonBuyback.update.customer,"onUpdate:modelValue":a[37]||(a[37]=a=>e.modalAbandonBuyback.update.customer=a),title:"Edit Customer"},{default:h((()=>[v(R,{ref:"refAbandonBuybackCustomerForm",data:e.dataAbandonBubyback.customer,"onUpdate:data":a[36]||(a[36]=a=>e.dataAbandonBubyback.customer=a)},null,8,["data"])])),footer:h((()=>[b("div",Bo,[v(r,{onClick:e.handleUpdateAbandonBuybackCustomer,loading:e.loadingAbandonBuyback.update.customer,color:"teal"},{default:h((()=>a[109]||(a[109]=[C("Save")]))),_:1},8,["onClick","loading"])])])),_:1},8,["modelValue"]),v(L,{show:e.modalCustomTracking,"onUpdate:show":a[38]||(a[38]=a=>e.modalCustomTracking=a),"box-id":e.stateShow.box_id,"original-tracking":e.stateShow.original_tracking,onSave:e.handleCustomTrackingSaved},null,8,["show","box-id","original-tracking","onSave"])],64)}],["__scopeId","data-v-245bb6cd"]]);const Mo=r({components:{Input:Se,Button:we,Modal:ke,Card:Ge,Tab:Ye,Badge:Ee,DeviceForm:wa,PhonecheckInfo:Sa,StatusesForm:Ha,PrintLabel:xa,BBTable:Ia,BBTColumn:Pa,Currency:$e,BulkCondition:Ba,BulkImeiSNInput:Va,GolfSpecBadge:Ma},props:{isBulkQuoteReconcile:{type:Boolean,default:!1}},emits:["reconcile"],async setup(){const{state:e,device:a,dataCoupon:l,loadingCoupon:t,loading:o,modal:i,selected:s,isCouponApplied:r,isCouponChanged:u,unsetData:m,openModal:p,actionAll:h,actionCreate:b,actionUpdate:g,actionDelete:v,actionImeiCheck:f,actionImeiCheckPrint:y,actionImeiCheckPrintBulk:k,applyCoupon:w,removeCoupon:C,actionEmailPhonecheck:S}=K("online"),{me:x}=Pe(),{data:P,modal:B,action:V,unsetData:U,openModal:T,loading:q}=se("online"),{stateOption:j,actionStatusOptions:A}=G("online"),{state:N,action:R,batchPrintLabel:L}=F("online"),{update:E}=de("online"),{stateEnabledIntegration:$,actionEnabledIntegration:z}=fa(),{data:H,action:W,loading:Y,modal:J,unsetData:X}=ne(),{loading:Z,items:ee,action:ae,actionCustom:le}=ya(),{transformSeperateCustomSpecs:te}=ka(),oe=c(),ie=M(),re=I(null),ce=I(null),ue=I(null),me=I(null),pe=I([]),he=I([]),be=I(null),ge=I(null),ve=I(!1),_e=I([]),fe=I(!1),ye=I(!1),ke=I("qr"),we=_((()=>N.value&&N.value.is_readonly)),Ce=_((()=>x.value.package_id>=4&&1==$.value.is_phonecheck_enable)),Se=_({set(e){H.imei=e?e.split("\n"):null},get:()=>Array.isArray(H.imei)?H.imei.join("\n"):H.imei});a.marketerId=oe.params.marketerId;const xe=_((()=>x.value.is_view_commission)),Ie=_((()=>he.value.every((e=>"exists"==e.phonecheck_status)))),Be=Re((async e=>{await g(oe.params.buybackId,e.id,{imei_sn:e.imei_sn,notes:e.notes})}),300),Ve=Re((async e=>{await g(oe.params.buybackId,e.id,{imei_sn:e.imei_sn,notes:e.notes})}),300),Me=_((()=>JSON.parse(JSON.stringify(e.value)))),Qe=()=>{if(ye.value=!1,he.value.length>0){ye.value=!0;const e=he.value[0].is_mac,a=he.value[0].category_id;he.value.forEach((l=>{l.is_mac!=e&&(ye.value=!1),l.category_id!=a&&(ye.value=!1)}))}},Ue=()=>{var e;fe.value=!1,J.value=!1,null==(e=null==me?void 0:me.value)||e.validate.$reset(),X()},De=D({modal:!1,loading:!1});return await z(),await Promise.all([h(oe.params.buybackId),A()]),{me:x,device:a,state:e,stateStatuses:j,stateShow:N,items:Me,selectedItems:he,dataSplitItems:P,loading:o,loadingSplitItems:q,modal:i,modalSplitItems:B,printLabelData:pe,unsetData:m,unsetDataSplitItems:U,dataBulkImeiAddDevice:H,dataCoupon:l,loadingBulkImeiAddDevice:Y,loadingCoupon:t,modalBulkImeiAddDevice:J,isBulkImei:fe,bulkImei:Se,splitItems:async()=>{const e=he.value.length>0,a=P.new_status;if(!e)return Q({message:"Please choose at least one item",type:"warning"});if(!a)return Q({message:"Please choose new status",type:"warning"});const l=he.value.map((e=>e.id));Object.assign(P,{ids:l}),await V(oe.params.buybackId,(async()=>{he.value=[],Q({message:"Offer splitted!",type:"success"}),await Promise.all([h(oe.params.buybackId),R(oe.params.buybackId),A()])}))},openSplitItemsModal:T,rowKey:e=>{const a=e.child?"_parent":"_child";return e.id+a},isParent:(e,a)=>!(e.child&&e.child.length>0),refDeviceForm:re,refPhonecheckInfo:ce,refBulkImeiSNInput:me,openModalSelected:(e,l)=>p(e,(()=>{"update"===e&&(a.id=l.id,Object.assign(a.data,{product_name:l.product_name,product_id:l.product_id,category_id:l.category_id,category_name:l.category_name,condition:l.condition,is_mac:l.is_mac,is_custom:l.is_custom,imei_sn:l.imei_sn,imei_required:l.imei_required,price:l.price,qty:l.qty,color:l.color,color_id:l.color_id,notes:l.notes,golf_steps:l.golf_step?l.golf_step:[],is_custom_color:null!==l.custom_color,custom_color:l.custom_color||null,questions_temp:l.questions}),Object.assign(a.original,{is_mac:l.is_mac||0,product_name:l.ori_product_name||"",processor:l.ori_processor_speed||"",hard_drive:l.ori_hard_drive||"",memory:l.ori_memory||"",graphics:l.ori_graphics||"",created_at:l.created_at}),Object.assign(a.golfSpecs,{length:{selected:l.golf_length||l.custom_length||null,is_custom:null!==l.custom_length},loft:{selected:l.golf_loft||l.custom_loft||null,is_custom:null!==l.custom_loft},gender:{selected:l.golf_gender||l.custom_gender||null,is_custom:null!==l.custom_gender},shaft_model:{selected:l.golf_shaft_model||l.custom_shaft_model||null,is_custom:null!==l.custom_shaft_model},shaft_material:{selected:l.golf_shaft_material||l.custom_shaft_material||null,is_custom:null!==l.custom_shaft_material}})),s.value=l.id})),deviceTableUpdate:Ve,addDevice:async()=>{if(await O((()=>re.value.validate()))){const e=d(n(n(n({},a.data),te(a.golfSpecs)),a.data.is_custom_color?{custom_color:a.data.custom_color,color_id:null}:{color_id:a.data.color_id}),{questions:a.data.questions.reduce(((e,a)=>("object"==typeof a.answer_id?a.answer.forEach((l=>e.push({question_id:a.question_id,answer_id:l.id}))):a.answer_id&&e.push({question_id:a.question_id,answer_id:a.answer.id}),e)),[])});delete e.color,a.data=Object.assign(e),await b(oe.params.buybackId)}},deleteDevice:async(e,a)=>{he.value=[],await v(oe.params.buybackId)},updateDevice:async()=>{var e,l,t,o,i,s,r,c,u,m,p,b;if(await O((()=>re.value.validate()))){const v=n({},a.data);delete v.color,Object.assign(v,d(n(n({product_id:a.data.product_id?a.data.product_id+(a.computer.processor?`-${a.computer.processor.id}-${a.computer.memory.id}-${a.computer.hardDrive.id}-${a.computer.graphicsCard.id}`:""):-1,processor:(null==(e=a.computer.processor)?void 0:e.name)||null,hard_drive:(null==(l=a.computer.hardDrive)?void 0:l.name)||null,memory:(null==(t=a.computer.memory)?void 0:t.name)||null,graphics:(null==(o=a.computer.graphicsCard)?void 0:o.name)||null,device:(null==(s=null==(i=a.device)?void 0:i.detail)?void 0:s.device)||null,model:(null==(c=null==(r=a.device)?void 0:r.detail)?void 0:c.model)||null,network:(null==(m=null==(u=a.device)?void 0:u.detail)?void 0:m.network)||null,size:(null==(b=null==(p=a.device)?void 0:p.detail)?void 0:b.size)||null,is_custom:a.data.is_custom||0,notes:a.data.notes,buyback_type:a.data.buyback_type||"mailin"},te(a.golfSpecs)),a.data.is_custom_color?{custom_color:a.data.custom_color,color_id:null}:{color_id:a.data.color_id}),{questions:a.data.questions.reduce(((e,a)=>("object"==typeof a.answer_id?a.answer.forEach((l=>e.push({question_id:a.question_id,answer_id:l.id}))):a.answer_id&&e.push({question_id:a.question_id,answer_id:a.answer.id}),e)),[])})),await g(oe.params.buybackId,a.id,v,(async()=>{await Promise.all([h(oe.params.buybackId),A()])}))}},money:Ae,openModal:p,tableSummary:({columns:a})=>a.map((a=>"total"===a.property?`${Ne(x.value,e.value.total)}`:"price"===a.property?"Total":"")),selectItems:e=>{he.value=e,_e.value=e.filter((e=>"exists"==e.phonecheck_status)),Qe()},tabValidate:e=>5!==e.id,openDataMatch:()=>ie.push({name:"buybackOnlineDataMatch",params:{buybackId:oe.params.buybackId}}),printQrLabel:e=>{const a=na({id:e.id,productName:e.product_name,isMac:e.is_mac,detail:e.detail,condition:e.condition,buybackId:oe.params.buybackId,imei:e.imei_sn});ke.value="qr",pe.value=[a],i.print_qr=!0},printBarcodeLabel:e=>{const a=na({id:e.id,productName:e.product_name,isMac:e.is_mac,detail:e.detail,condition:e.condition,buybackId:oe.params.buybackId,imei:e.imei_sn,price:Ne(x.value,e.price)});ke.value="barcode",pe.value=[a],i.print_barcode=!0},printQrLabelBatch:()=>{const e=[];for(let a of he.value)e.push(na({id:a.id,productName:a.product_name,isMac:a.is_mac,detail:a.detail,condition:a.condition,buybackId:oe.params.buybackId,imei:a.imei_sn}));ke.value="qr",pe.value=e,i.print_qr=!0},printBarcodeLabelBatch:()=>{const e=[];for(let a of he.value)e.push(na({id:a.id,productName:a.product_name,isMac:a.is_mac,detail:a.detail,condition:a.condition,buybackId:oe.params.buybackId,imei:a.imei_sn,price:Ne(x.value,a.price)}));ke.value="barcode",pe.value=e,i.print_barcode=!0},viewPhoneCheckData:e=>{be.value=JSON.parse(e.phonecheck_info),ge.value=e,p("phonecheck_info")},importPhoneCheck:async()=>{let e=he.value.map((e=>({id:e.id,imei_sn:e.imei_sn})));await f(oe.params.buybackId,{imei:e,origin:"mail-in"}),await Promise.all([h(oe.params.buybackId),A()])},PhonecheckInfoData:be,PhonecheckDevice:ge,isErrorSelectedPhonecheck:ve,printPhonecheck:async e=>{await y(oe.params.buybackId,{id:e.id,imei:e.imei_sn,origin:"mail-in"})},imeiUpdate:Be,validPhonecheckselectedItems:_e,importBulkPhoneCheck:async()=>{await k(oe.params.buybackId,{ids:_e.value.map((e=>e.id)),origin:"mail-in"})},isReadonly:we,isCouponApplied:r,isCouponChanged:u,hasEnablePhonecheck:Ce,actionEnabledIntegration:z,importSinglePhoneCheck:async e=>{var a;let l=[{id:e.id,imei_sn:e.imei_sn}],t=await f(oe.params.buybackId,{imei:l,origin:"mail-in"});if(0==t.data.length&&1!==(null==t?void 0:t.is_phonecheck_error))return Q({message:"IMEI/SN not found",type:"warning"});be.value=null==(a=t.data[0])?void 0:a.info,ge.value=e,t.data.length&&!t.is_phonecheck_error?ve.value=!1:ve.value=!t.is_phonecheck_error||1==t.is_phonecheck_error,p("phonecheck_info"),await Promise.all([h(oe.params.buybackId),A()])},handleOpenAddBulkImeiModal:e=>{var a;const{product_id:l,product_name:t,condition:o,price:i,qty:s}=e;H.product_id=l,H.product_name=t,H.condition=o,H.price=i,H.qty=s;const n=[];(null==(a=null==e?void 0:e.child)?void 0:a.length)&&e.child.forEach((e=>{n.push((null==e?void 0:e.imei_sn)||"")})),H.imei=n,fe.value=!0,J.value=!0},handleCloseAddBulkImeiModal:Ue,handleAddBulkImeiDevice:async()=>{await me.value.validate.$validate()&&await W(oe.params.buybackId,(async()=>{Ue(),await Promise.all([h(oe.params.buybackId),R(oe.params.buybackId),A()]),Q({message:"Items added",type:"success"})}))},handleBulkChangeCondition:async()=>{De.modal=!0;he.value.length>0&&1==he.value[0].is_custom?await le({category_id:he.value[0].category_id,is_mac:he.value[0].is_mac}):await ae({product_id:he.value[0].product_id,is_mac:he.value[0].is_mac})},bulkCondition:De,handleCloseModalBulkCondition:()=>{De.modal=!1},handleBulkChangeItemCondition:async e=>{await E({boxId:oe.params.buybackId,data:e}),Q({type:"success",message:"Item conditions updated"}),De.modal=!1,he.value=[],ue.value.checkValue=[],await Promise.all([h(oe.params.buybackId),A()])},handleApplyCoupon:async()=>{await w({boxId:oe.params.buybackId},(async(e,a)=>{e||await h(oe.params.buybackId)}))},handleRemoveCoupon:async()=>{await C({boxId:oe.params.buybackId},(async(e,a)=>{e||await h(oe.params.buybackId)}))},refItemTable:ue,sameProduct:ye,loadingCondition:Z,itemConditions:ee,labelType:ke,sendEmailPhonecheck:async(e,a=!1)=>{var l,t;const o={customer_email:null==(t=null==(l=N.value)?void 0:l.customer)?void 0:t.email,box_id:oe.params.buybackId,imei:a?he.value.map((e=>({id:e.id,imei_sn:e.imei_sn}))):[{id:e.id,imei_sn:e.imei_sn}]};try{const e=await S(o);Q({message:e.message,type:"success"})}catch(i){console.log(i)}},isExistAllPhonecheck:Ie,isShowCommission:xe}}}),Qo={class:"mb-8"},Uo={key:0,class:"flex gap-4 flex-wrap flex-col items-center justify-center my-4"},Do={key:1},Oo={key:0,class:"flex flex-wrap gap-2"},To={key:0},qo={key:0,class:"mb-4"},jo={class:"font-bold mr-2"},Ao={class:"whitespace-nowrap"},No={key:1,class:"block"},Ro={key:2},Lo={key:0},Eo={key:0,src:"https://d18hvo5uozp8li.cloudfront.net/public/images/phonecheck.svg",alt:"",class:"h-4"},$o={key:1},zo={key:0,class:"flex items-center justify-center gap-2"},Ko={style:{maxWidth:"300px"}},Fo={class:"list-decimal pl-4"},Go={class:"mb-1"},Ho={class:"list"},Wo={key:0,class:"text-white"},Yo={key:0,class:"flex flex-row items-center justify-center"},Jo={key:1,class:"flex flex-wrap justify-center"},Xo={class:"space-x-2 mb-2"},Zo={class:"font-bold"},ei={class:"whitespace-nowrap"},ai={key:0},li={key:0,src:"https://d18hvo5uozp8li.cloudfront.net/public/images/phonecheck.svg",alt:"",class:"h-4"},ti={key:1},oi={class:"flex items-center justify-center gap-2"},ii={style:{maxWidth:"300px"}},si={class:"list-decimal pl-4"},ni={class:"mb-1"},di={class:"list"},ri={key:0,class:"text-white"},ci={class:"flex flex-row items-center justify-center"},ui={key:0,class:"mb-2"},mi={key:1,class:"mb-2"},pi={key:2,class:"mb-2"},hi={key:3,class:"mb-2"},bi={key:4,class:"flex items-center justify-end gap-2 mb-2"},gi={style:{maxWidth:"300px"}},vi={class:"mb-2"},_i={key:5},fi={key:6,class:"mt-4"},yi={class:"mb-2"},ki={key:0,class:"mb-2"},wi={key:1,class:"mt-4"},Ci={class:"mb-2"},Si={key:0,class:"mb-2 text-red-03"},xi={key:1,class:"mb-2"},Ii={key:2,class:"mb-2"},Pi={key:3,class:"mb-2"},Bi={key:4,class:"mb-2"},Vi={class:"mb-2"},Mi={key:5},Qi={key:6,class:"mt-4"},Ui={class:"bb-table-row group"},Di=["colspan"],Oi={class:"relative"},Ti={class:"absolute right-3 top-1/2 transform -translate-y-1/2"},qi={key:0,class:"text-green-04 block mt-2"},ji={class:"bb-table-column text-right"},Ai={class:"bb-table-column"},Ni={key:0},Ri={key:1,class:"group-hover:opacity-100 opacity-0 transition-all duration-200"},Li={class:"grid grid-cols-5"},Ei={class:"col-span-2"},$i={class:"col-span-3 border-l border-grey-01 px-6"},zi={class:"w-full flex justify-between items-center"},Ki={class:"modal__content-header-title"},Fi={class:"flex justify-between items-center"};var Gi=Ce(Mo,[["render",function(e,a,l,t,o,i){var s,n;const d=u("Button"),r=u("Popover"),c=u("BBTColumn"),_=u("GolfSpecBadge"),I=u("Badge"),P=u("Input"),V=u("Tooltip"),M=u("Currency"),Q=u("DropdownItem"),U=u("DropdownMenu"),D=u("Dropdown"),O=u("BBTable"),T=u("Modal"),q=u("DeviceForm"),j=u("PrintLabel"),R=u("Tab"),L=u("PhonecheckInfo"),E=u("BulkImeiSNInput"),$=u("BulkCondition");return m(),f("div",Qo,[e.isBulkQuoteReconcile&&(null==(s=e.items.items)?void 0:s.length)<1?(m(),f("div",Uo,[a[41]||(a[41]=b("img",{src:fe,class:"h-20"},null,-1)),a[42]||(a[42]=b("h2",{class:"text-2xl font-medium"},"No item Reconcile yet",-1)),v(d,{onClick:a[0]||(a[0]=a=>e.$emit("reconcile",!0)),color:"teal",view:"outlined"},{default:h((()=>a[40]||(a[40]=[b("span",null,"Reconcile on Item",-1),C(),b("i",{class:"material-icons"},"chevron_right",-1)]))),_:1})])):(m(),f("div",Do,[e.selectedItems.length>0?(m(),f("div",Oo,[v(d,{color:"teal",view:"outlined",class:"mb-4",onClick:e.printQrLabelBatch,dense:""},{default:h((()=>a[43]||(a[43]=[b("span",{class:"material-symbols-outlined text-lg mr-2"},"qr_code",-1),C(" Print QR Label")]))),_:1},8,["onClick"]),v(d,{color:"teal",view:"outlined",class:"mb-4",onClick:e.printBarcodeLabelBatch,dense:""},{default:h((()=>a[44]||(a[44]=[b("span",{class:"material-symbols-outlined text-lg mr-2"},"barcode",-1),C(" Print Barcode Label")]))),_:1},8,["onClick"]),e.sameProduct&&!e.isReadonly?(m(),p(d,{key:0,onClick:e.handleBulkChangeCondition,view:"outlined",color:"teal",class:"mb-4",dense:""},{default:h((()=>a[45]||(a[45]=[C("Change Conditions and Payout")]))),_:1},8,["onClick"])):y("",!0),e.selectedItems.length>0&&!e.sameProduct&&!e.isReadonly?(m(),p(r,{key:1,width:"400",trigger:"hover"},{reference:h((()=>[b("div",null,[v(d,{view:"smooth",color:"grey",class:"mb-4 ml-2",disabled:"",dense:""},{default:h((()=>a[46]||(a[46]=[C("Change Conditions and Payout")]))),_:1})])])),default:h((()=>[a[47]||(a[47]=b("div",{class:"w-full h-full flex justify-center items-center"},[b("span",{class:"whitespace-pre-line"},"Change conditions only available for the device with the same category")],-1))])),_:1})):y("",!0),e.hasEnablePhonecheck&&e.selectedItems.length>0&&!e.isReadonly?(m(),p(d,{key:2,view:"outlined",color:"teal",class:"mb-4",onClick:a[1]||(a[1]=a=>e.importPhoneCheck()),dense:""},{default:h((()=>a[48]||(a[48]=[b("span",{class:"material-symbols-outlined text-lg mr-2"},"upload",-1),C(" Import from Phonecheck")]))),_:1})):y("",!0),e.hasEnablePhonecheck&&e.validPhonecheckselectedItems.length>0&&!e.isReadonly&&e.isExistAllPhonecheck?(m(),p(d,{key:3,color:"teal",view:"outlined",class:"mb-4",onClick:a[2]||(a[2]=a=>e.importBulkPhoneCheck()),loading:e.loading.printPhonecheck,dense:""},{default:h((()=>a[49]||(a[49]=[b("span",{class:"material-symbols-outlined text-lg mr-2"},"print",-1),C(" Print All Phonecheck Data")]))),_:1},8,["loading"])):y("",!0),e.hasEnablePhonecheck&&e.validPhonecheckselectedItems.length>0&&!e.isReadonly&&e.isExistAllPhonecheck?(m(),p(d,{key:4,color:"teal",view:"outlined",class:"mb-4",onClick:a[3]||(a[3]=a=>e.sendEmailPhonecheck(null,!0)),loading:e.loading.emailPhonecheck,dense:""},{default:h((()=>a[50]||(a[50]=[b("span",{class:"material-symbols-outlined text-lg mr-2"},"email",-1),C(" Email All Phonecheck Data")]))),_:1},8,["loading"])):y("",!0)])):y("",!0),v(O,{ref:"refItemTable",items:e.items.items,loading:e.loading.all,children:"child",selectable:!e.isReadonly,header:["Item #","Item",{label:"Condition",align:"center"},{label:"Payout",align:"right"},{label:"Qty",align:"right"},{label:"Total Payout",align:"right"},{label:" ",align:"right"}],"header-key":"label","show-footer":"","footer-align":"right",footer:[{key:"Payout",value:"Total"},{key:"Qty",value:e.items.total_qty},{key:"Total Payout",value:""},{key:" ",value:""}],onSelectionChange:e.selectItems,"collapse-all":"","disable-expand":e.isBulkImei},{item:h((({item:l,collapsed:t})=>[v(c,null,{default:h((()=>[0==l.child.length?(m(),f("span",To,g(l.id),1)):y("",!0)])),_:2},1024),v(c,{width:"200"},{default:h((()=>{var o,i,s,n;return[t?y("",!0):(m(),f("div",qo,[b("span",jo,g(l.product_name),1),v(_,{length:l.golf_length||l.custom_length,loft:l.golf_loft||l.custom_loft,gender:l.golf_gender||l.custom_gender,shaft_model:l.golf_shaft_model||l.custom_shaft_model,shaft_material:l.golf_shaft_material||l.custom_shaft_material},null,8,["length","loft","gender","shaft_model","shaft_material"]),l.custom_color||l.color?(m(),p(I,{key:0,color:"grey"},{default:h((()=>[b("span",Ao,g(l.custom_color||l.color.name),1)])),_:2},1024)):y("",!0)])),0===l.is_mac||t?y("",!0):(m(),f("small",No,g(l.detail),1)),l.child&&0!==l.child.length?y("",!0):(m(),f("div",Ro,[e.hasEnablePhonecheck&&l.imei_required?(m(),f("div",Lo,["exists"==l.phonecheck_status?(m(),p(P,{key:0,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.imeiUpdate(l),onKeypress:a[4]||(a[4]=A(B((()=>{}),["prevent"]),["space"])),dense:"",icon:""},{icon:h((()=>["exists"==l.phonecheck_status?(m(),f("img",Eo)):y("",!0)])),_:2},1032,["disabled","modelValue","onUpdate:modelValue","onInput"])):(m(),p(P,{key:1,disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.imeiUpdate(l),onKeypress:a[5]||(a[5]=A(B((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"]))])):l.imei_required?(m(),f("div",$o,[v(P,{disabled:null!=(null==(s=e.stateShow)?void 0:s.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.deviceTableUpdate(l),onKeypress:a[6]||(a[6]=A(B((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])):y("",!0),b("div",null,[v(P,{disabled:null!=(null==(n=e.stateShow)?void 0:n.deleted_at)||e.isReadonly,type:"textarea",rows:3,placeholder:"Notes...",class:"w-full",modelValue:l.notes,"onUpdate:modelValue":e=>l.notes=e,onInput:a=>e.deviceTableUpdate(l),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])]))]})),_:2},1024),v(c,{align:"center"},{default:h((()=>{var o;return[t?y("",!0):(m(),f("div",zo,[C(g(l.condition)+" ",1),(null==(o=null==l?void 0:l.questions)?void 0:o.length)>0?(m(),p(V,{key:0,placement:"top"},{content:h((()=>[b("div",Ko,[a[51]||(a[51]=b("p",{class:"font-semibold mb-2"},"Q&A",-1)),b("ol",Fo,[(m(!0),f(k,null,w(l.questions,((a,l)=>(m(),f(k,null,[a.question?(m(),f("li",{class:"mb-1",key:l},[b("p",Go,g(a.question),1),b("ul",Ho,["Single"===a.answer_type?(m(),f("li",Wo,[b("p",null,[C(g(a.answer)+" ",1),b("span",null,"("+g(e.me.currency_symbol)+g(a.amount_price)+")",1)])])):"Multiple"===a.answer_type?(m(!0),f(k,{key:1},w(a.answers,(a=>(m(),f("li",{key:a.answer_id,class:"text-white"},[b("p",null,[C(g(a.answer)+" ",1),b("span",null,"("+g(e.me.currency_symbol)+g(a.amount_price)+")",1)])])))),128)):y("",!0)])])):y("",!0)],64)))),256))])])])),default:h((()=>[a[52]||(a[52]=b("span",{class:"material-icons"},"info",-1))])),_:2},1024)):y("",!0)]))]})),_:2},1024),v(c,{align:"right"},{default:h((()=>[t?y("",!0):(m(),p(M,{key:0,value:l.price},null,8,["value"]))])),_:2},1024),v(c,{align:"right"},{default:h((()=>[C(g(t?"":l.qty),1)])),_:2},1024),v(c,{width:"120",align:"right"},{default:h((()=>[t?y("",!0):(m(),p(M,{key:0,value:l.total},null,8,["value"]))])),_:2},1024),v(c,null,{default:h((()=>[l.child&&0!==l.child.length?(m(),f("div",Jo,[e.isReadonly||1!=l.imei_required?y("",!0):(m(),p(d,{key:0,onClick:a=>e.handleOpenAddBulkImeiModal(l),dense:"",color:"teal"},{default:h((()=>a[64]||(a[64]=[C("Add Bulk IMEI/SN")]))),_:2},1032,["onClick"]))])):(m(),f("div",Yo,[v(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printQrLabel(l)},{default:h((()=>a[53]||(a[53]=[b("span",{class:"material-symbols-outlined"},"qr_code",-1)]))),_:2},1032,["loading","onClick"]),v(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printBarcodeLabel(l)},{default:h((()=>a[54]||(a[54]=[b("span",{class:"material-symbols-outlined"},"barcode",-1)]))),_:2},1032,["loading","onClick"]),e.isReadonly?y("",!0):(m(),p(D,{key:0,trigger:"click",placement:"bottom-end","hide-on-click":!0},{dropdown:h((()=>[v(U,{class:"py-1 text-sm"},{default:h((()=>{var t,o,i,s;return[v(Q,{disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("update",l)},{default:h((()=>a[56]||(a[56]=[b("span",{class:"material-icons mr-2"},"edit",-1),C(" Edit ")]))),_:2},1032,["disabled","onClick"]),e.hasEnablePhonecheck&&1==l.imei_required?(m(),f(k,{key:0},["exists"==l.phonecheck_status?(m(),p(Q,{key:0,class:"text-base",disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:h((()=>a[57]||(a[57]=[b("span",{class:"material-icons mr-2"},"visibility",-1),C(" View Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])):"not_found"==l.phonecheck_status?(m(),p(r,{key:1,width:"400",trigger:"hover",placement:"top"},{reference:h((()=>{var t;return[v(Q,{class:"text-base",disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:h((()=>a[58]||(a[58]=[b("span",{class:"material-icons mr-2"},"visibility",-1),C(" View Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])]})),default:h((()=>[a[59]||(a[59]=b("div",{class:"w-full h-full flex justify-center items-center"},[b("span",null,"IMEI not found")],-1))])),_:2},1024)):(m(),p(r,{key:2,width:"400",trigger:"hover",placement:"top"},{reference:h((()=>{var t;return[v(Q,{class:"text-base",disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:h((()=>a[60]||(a[60]=[b("span",{class:"material-icons mr-2"},"visibility",-1),C(" View Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])]})),default:h((()=>[a[61]||(a[61]=b("div",{class:"w-full h-full flex justify-center items-center"},[b("span",null,"Import from Phonecheck first")],-1))])),_:2},1024))],64)):y("",!0),e.hasEnablePhonecheck&&1==l.imei_required?(m(),f(k,{key:1},["exists"==l.phonecheck_status?(m(),p(Q,{key:0,class:"text-base",disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.sendEmailPhonecheck(l),dense:""},{default:h((()=>a[62]||(a[62]=[b("span",{class:"material-icons mr-2"},"email",-1),C(" Email Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])):y("",!0)],64)):y("",!0),v(Q,{disabled:null!=(null==(s=e.stateShow)?void 0:s.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("delete",l)},{default:h((()=>a[63]||(a[63]=[b("span",{class:"material-icons mr-2"},"delete",-1),C(" Delete ")]))),_:2},1032,["disabled","onClick"])]})),_:2},1024)])),default:h((()=>[v(d,{view:"outlined",style:{border:"none !important"},color:"teal",class:"mr-2",loading:e.loading.update||e.loading.import.has(l.id),dense:"",icon:""},{default:h((()=>a[55]||(a[55]=[b("span",{class:"material-icons"},"more_horiz",-1)]))),_:2},1032,["loading"])])),_:2},1024))]))])),_:2},1024)])),child:h((({child:l})=>[v(c,null,{default:h((()=>[C(g(l.id),1)])),_:2},1024),v(c,null,{default:h((()=>{var t,o,i,s;return[b("div",Xo,[b("span",Zo,g(l.product_name),1),l.custom_color||l.color?(m(),p(I,{key:0,color:"grey"},{default:h((()=>[b("span",ei,g(l.custom_color||l.color.name),1)])),_:2},1024)):y("",!0)]),e.hasEnablePhonecheck&&1==l.imei_required?(m(),f("div",ai,["exists"==l.phonecheck_status?(m(),p(P,{key:0,disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.imeiUpdate(l),onKeypress:a[7]||(a[7]=A(B((()=>{}),["prevent"]),["space"])),dense:"",icon:""},{icon:h((()=>["exists"==l.phonecheck_status?(m(),f("img",li)):y("",!0)])),_:2},1032,["disabled","modelValue","onUpdate:modelValue","onInput"])):(m(),p(P,{key:1,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.imeiUpdate(l),onKeypress:a[8]||(a[8]=A(B((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"]))])):1==l.imei_required?(m(),f("div",ti,[v(P,{disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.deviceTableUpdate(l),onKeypress:a[9]||(a[9]=A(B((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])):y("",!0),b("div",null,[v(P,{disabled:null!=(null==(s=e.stateShow)?void 0:s.deleted_at)||e.isReadonly,type:"textarea",rows:3,placeholder:"Notes...",class:"w-full",modelValue:l.notes,"onUpdate:modelValue":e=>l.notes=e,onInput:a=>e.deviceTableUpdate(l),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])]})),_:2},1024),v(c,{align:"center"},{default:h((()=>{var t;return[b("div",oi,[C(g(l.condition)+" ",1),(null==(t=null==l?void 0:l.questions)?void 0:t.length)>0?(m(),p(V,{key:0,placement:"top"},{content:h((()=>[b("div",ii,[a[65]||(a[65]=b("p",{class:"font-semibold mb-2"},"Q&A",-1)),b("ol",si,[(m(!0),f(k,null,w(l.questions,((a,l)=>(m(),f(k,null,[a.question?(m(),f("li",{class:"mb-1",key:l},[b("p",ni,g(a.question),1),b("ul",di,["Single"===a.answer_type?(m(),f("li",ri,[b("p",null,[C(g(a.answer)+" ",1),b("span",null,"("+g(e.me.currency_symbol)+g(a.amount_price)+")",1)])])):"Multiple"===a.answer_type?(m(!0),f(k,{key:1},w(a.answers,(a=>(m(),f("li",{key:a.answer_id,class:"text-white"},[b("p",null,[C(g(a.answer)+" ",1),b("span",null,"("+g(e.me.currency_symbol)+g(a.amount_price)+")",1)])])))),128)):y("",!0)])])):y("",!0)],64)))),256))])])])),default:h((()=>[a[66]||(a[66]=b("span",{class:"material-icons"},"info",-1))])),_:2},1024)):y("",!0)])]})),_:2},1024),v(c,{align:"right"},{default:h((()=>[v(M,{value:l.price},null,8,["value"])])),_:2},1024),v(c,{align:"right"},{default:h((()=>[C(g(l.qty),1)])),_:2},1024),v(c,{width:"120",align:"right"},{default:h((()=>[v(M,{value:l.total},null,8,["value"])])),_:2},1024),v(c,null,{default:h((()=>[b("div",ci,[v(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printQrLabel(l)},{default:h((()=>a[67]||(a[67]=[b("span",{class:"material-symbols-outlined"},"qr_code",-1)]))),_:2},1032,["loading","onClick"]),v(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printBarcodeLabel(l)},{default:h((()=>a[68]||(a[68]=[b("span",{class:"material-symbols-outlined"},"barcode",-1)]))),_:2},1032,["loading","onClick"]),e.isReadonly?y("",!0):(m(),p(D,{key:0,trigger:"click",placement:"bottom-end","hide-on-click":!0},{dropdown:h((()=>[v(U,{class:"py-1 text-sm"},{default:h((()=>{var t,o,i,s;return[v(Q,{disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("update",l)},{default:h((()=>a[70]||(a[70]=[b("span",{class:"material-icons mr-2"},"edit",-1),C(" Edit ")]))),_:2},1032,["disabled","onClick"]),e.hasEnablePhonecheck&&1==l.imei_required?(m(),f(k,{key:0},["exists"==l.phonecheck_status?(m(),p(Q,{key:0,class:"text-base",disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:h((()=>a[71]||(a[71]=[b("span",{class:"material-icons mr-2"},"visibility",-1),C(" View Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])):"not_found"==l.phonecheck_status?(m(),p(r,{key:1,width:"400",trigger:"hover",placement:"top"},{reference:h((()=>{var t;return[v(Q,{class:"text-base",disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:h((()=>a[72]||(a[72]=[b("span",{class:"material-icons mr-2"},"visibility",-1),C(" View Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])]})),default:h((()=>[a[73]||(a[73]=b("div",{class:"w-full h-full flex justify-center items-center"},[b("span",null,"IMEI not found")],-1))])),_:2},1024)):(m(),p(r,{key:2,width:"400",trigger:"hover",placement:"top"},{reference:h((()=>{var t;return[v(Q,{class:"text-base",disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:h((()=>a[74]||(a[74]=[b("span",{class:"material-icons mr-2"},"visibility",-1),C(" View Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])]})),default:h((()=>[a[75]||(a[75]=b("div",{class:"w-full h-full flex justify-center items-center"},[b("span",null,"Import from Phonecheck first")],-1))])),_:2},1024))],64)):y("",!0),e.hasEnablePhonecheck&&1==l.imei_required?(m(),f(k,{key:1},["exists"==l.phonecheck_status?(m(),p(Q,{key:0,class:"text-base",disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.sendEmailPhonecheck(l),dense:""},{default:h((()=>a[76]||(a[76]=[b("span",{class:"material-icons mr-2"},"email",-1),C(" Email Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])):y("",!0)],64)):y("",!0),v(Q,{disabled:null!=(null==(s=e.stateShow)?void 0:s.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("delete",l)},{default:h((()=>a[77]||(a[77]=[b("span",{class:"material-icons mr-2"},"delete",-1),C(" Delete ")]))),_:2},1032,["disabled","onClick"])]})),_:2},1024)])),default:h((()=>[v(d,{view:"outlined",style:{border:"none !important"},color:"teal",class:"mr-2",loading:e.loading.update||e.loading.import.has(l.id),dense:"",icon:""},{default:h((()=>a[69]||(a[69]=[b("span",{class:"material-icons"},"more_horiz",-1)]))),_:2},1032,["loading"])])),_:2},1024))])])),_:2},1024)])),footer:h((l=>{var t,o,i,s,n;return["Payout"===(null==(t=l.column.footer)?void 0:t.key)?(m(),f(k,{key:0},[a[80]||(a[80]=b("p",{class:"mb-2"},"Subtotal",-1)),0!==e.items.express_check_fee?(m(),f("p",ui,"Express Check")):y("",!0),0!==e.items.payment_extra_amount?(m(),f("p",mi,"Payout Bonus")):y("",!0),0!==e.items.coupon_amount?(m(),f("p",pi,"Promo Code")):y("",!0),e.items.is_expedited_payout?(m(),f("p",hi,"Expedited Payout")):y("",!0),null!=e.items.shipping_cost?(m(),f("p",bi,[a[79]||(a[79]=C(" Shipping Cost ")),v(V,{placement:"top"},{content:h((()=>[b("div",gi,[0==e.items.shipping_cost?(m(),f(k,{key:0},[C(" This feature is available only for offers using EasyPost USPS services. The shipping service you are using doesn't support this feature. ")],64)):(m(),f(k,{key:1},[C(" The shipping cost is not final until USPS weighs the package, after which the actual shipping cost will be reflected here. ")],64))])])),default:h((()=>[a[78]||(a[78]=b("span",{class:"material-icons"},"info",-1))])),_:1})])):y("",!0),b("p",vi,g(0!==e.items.shipping_cost&&null!==e.items.shipping_cost?"Grand Total":"Total"),1),(null==(o=e.stateShow)?void 0:o.affiliate_id)?(m(),f("p",_i,"Commission for "+g(e.items.affiliate_name),1)):y("",!0),e.isShowCommission?(m(),f("p",fi,"Commission")):y("",!0)],64)):y("",!0),"Qty"===(null==(i=l.column.footer)?void 0:i.key)?(m(),f(k,{key:1},[b("p",yi,g(e.items.total_qty),1),null!=e.items.shipping_cost?(m(),f("p",ki," ")):y("",!0),a[81]||(a[81]=b("p",{class:"mb-2"}," ",-1)),e.isShowCommission?(m(),f("p",wi," ")):y("",!0)],64)):y("",!0),"Total Payout"===(null==(s=l.column.footer)?void 0:s.key)?(m(),f(k,{key:2},[b("p",Ci,[v(M,{value:e.items.sub_total},null,8,["value"])]),0!==e.items.express_check_fee?(m(),f("p",Si,[a[82]||(a[82]=C("- ")),v(M,{value:e.items.express_check_fee},null,8,["value"])])):y("",!0),0!==e.items.payment_extra_amount?(m(),f("p",xi,[v(M,{value:e.items.payment_extra_amount},null,8,["value"])])):y("",!0),0!==e.items.coupon_amount?(m(),f("p",Ii,[a[83]||(a[83]=C("+ ")),v(M,{value:e.items.coupon_amount},null,8,["value"])])):y("",!0),e.items.is_expedited_payout?(m(),f("p",Pi,[a[84]||(a[84]=C("- ")),v(M,{value:e.items.expedited_payout_fee},null,8,["value"])])):y("",!0),null!=e.items.shipping_cost?(m(),f("p",Bi,[0!==e.items.shipping_cost?(m(),f(k,{key:0},[C(g(e.items.shipping_cost),1)],64)):(m(),f(k,{key:1},[C("-")],64))])):y("",!0),b("p",Vi,[v(M,{value:e.items.total},null,8,["value"])]),(null==(n=e.stateShow)?void 0:n.affiliate_id)?(m(),f("p",Mi,[v(M,{value:e.items.affiliate_commision},null,8,["value"])])):y("",!0),e.isShowCommission?(m(),f("p",Qi,[v(M,{value:e.items.total_commission},null,8,["value"])])):y("",!0)],64)):y("",!0)]})),"footer-prepend":h((()=>[b("tr",Ui,[a[89]||(a[89]=b("td",{class:"bb-table-column",colspan:"4"},null,-1)),a[90]||(a[90]=b("td",{class:"bb-table-column text-right"},[b("span",null,"Have a Promo Code?")],-1)),b("td",{class:"bb-table-column",colspan:e.isCouponApplied?1:2},[b("div",Oi,[v(P,{modelValue:e.dataCoupon.code,"onUpdate:modelValue":a[10]||(a[10]=a=>e.dataCoupon.code=a),disabled:e.isCouponApplied,dense:"",placeholder:"Promo Code",block:""},null,8,["modelValue","disabled"]),S(b("div",Ti,a[85]||(a[85]=[b("i",{class:"material-icons text-green-04"},"check_circle",-1)]),512),[[x,e.isCouponApplied]])]),e.isCouponApplied?(m(),f("small",qi,"Promo code is valid")):y("",!0)],8,Di),S(b("td",ji,[v(M,{value:e.state.coupon_amount},null,8,["value"])],512),[[x,e.isCouponApplied]]),b("td",Ai,[v(N,{name:"slide-fade"},{default:h((()=>[e.isCouponChanged?(m(),f("div",Ni,[v(d,{onClick:e.handleApplyCoupon,loading:e.loadingCoupon.applyCoupon,class:"mx-1",color:"teal",dense:""},{default:h((()=>a[86]||(a[86]=[b("i",{class:"material-icons text-lg"},"check",-1)]))),_:1},8,["onClick","loading"]),v(d,{onClick:a[11]||(a[11]=a=>e.dataCoupon.code=e.dataCoupon.codeOriginal),disabled:e.loadingCoupon.applyCoupon,class:"mx-1",color:"red",dense:""},{default:h((()=>a[87]||(a[87]=[b("i",{class:"material-icons text-lg"},"close",-1)]))),_:1},8,["disabled"])])):e.isCouponApplied?(m(),f("div",Ri,[v(d,{onClick:e.handleRemoveCoupon,loading:e.loadingCoupon.removeCoupon,class:"mx-1",color:"red",dense:""},{default:h((()=>a[88]||(a[88]=[b("i",{class:"material-icons text-lg"},"delete",-1)]))),_:1},8,["onClick","loading"])])):y("",!0)])),_:1})])])])),_:1},8,["items","loading","selectable","footer","onSelectionChange","disable-expand"])])),v(T,{modelValue:e.modal.delete,"onUpdate:modelValue":a[12]||(a[12]=a=>e.modal.delete=a),title:"Delete Item",onClose:e.unsetData},{footer:h((()=>[v(d,{color:"teal",loading:e.loading.delete,onClick:e.deleteDevice},{default:h((()=>a[91]||(a[91]=[C("Delete Item")]))),_:1},8,["loading","onClick"])])),default:h((()=>[a[92]||(a[92]=b("p",null,"Are you sure want to delete this item?",-1))])),_:1},8,["modelValue","onClose"]),v(T,{modelValue:e.modal.create,"onUpdate:modelValue":a[18]||(a[18]=a=>e.modal.create=a),title:"Add Item",onClose:e.unsetData},{default:h((()=>[v(q,{ref:"refDeviceForm",data:e.device.data,"onUpdate:data":a[13]||(a[13]=a=>e.device.data=a),"data-computer":e.device.computer,"onUpdate:dataComputer":a[14]||(a[14]=a=>e.device.computer=a),"data-golf":e.device.golfSpecs,"onUpdate:dataGolf":a[15]||(a[15]=a=>e.device.golfSpecs=a),"is-custom-color":e.device.data.is_custom_color,"onUpdate:isCustomColor":a[16]||(a[16]=a=>e.device.data.is_custom_color=a),"custom-color":e.device.data.custom_color,"onUpdate:customColor":a[17]||(a[17]=a=>e.device.data.custom_color=a),"multi-imei":"","buyback-type":"mailin"},null,8,["data","data-computer","data-golf","is-custom-color","custom-color"])])),footer:h((()=>[v(d,{color:"teal",loading:e.loading.create,onClick:e.addDevice},{default:h((()=>a[93]||(a[93]=[C("Add Item")]))),_:1},8,["loading","onClick"])])),_:1},8,["modelValue","onClose"]),v(T,{modelValue:e.modal.update,"onUpdate:modelValue":a[25]||(a[25]=a=>e.modal.update=a),title:"Update Item",onClose:e.unsetData},{default:h((()=>[v(q,{ref:"refDeviceForm",data:e.device.data,"onUpdate:data":a[19]||(a[19]=a=>e.device.data=a),device:e.device.device,"onUpdate:device":a[20]||(a[20]=a=>e.device.device=a),"data-computer":e.device.computer,"onUpdate:dataComputer":a[21]||(a[21]=a=>e.device.computer=a),"data-golf":e.device.golfSpecs,"onUpdate:dataGolf":a[22]||(a[22]=a=>e.device.golfSpecs=a),"is-custom-color":e.device.data.is_custom_color,"onUpdate:isCustomColor":a[23]||(a[23]=a=>e.device.data.is_custom_color=a),"custom-color":e.device.data.custom_color,"onUpdate:customColor":a[24]||(a[24]=a=>e.device.data.custom_color=a),"golf-steps":e.device.data.golf_steps,"auto-fill":"","original-specs":e.device.original,hide:{qty:!0},"buyback-type":"mailin","is-editable":""},null,8,["data","device","data-computer","data-golf","is-custom-color","custom-color","golf-steps","original-specs"])])),footer:h((()=>[v(d,{color:"teal",loading:e.loading.update,onClick:e.updateDevice},{default:h((()=>a[94]||(a[94]=[C("Update")]))),_:1},8,["loading","onClick"])])),_:1},8,["modelValue","onClose"]),v(T,{modelValue:e.modal.print_qr,"onUpdate:modelValue":a[27]||(a[27]=a=>e.modal.print_qr=a),title:"Print QR Label"},{footer:h((()=>a[95]||(a[95]=[]))),default:h((()=>[v(j,{data:e.printLabelData,"label-type":e.labelType,onCloseModal:a[26]||(a[26]=a=>e.modal.print_qr=!1)},null,8,["data","label-type"])])),_:1},8,["modelValue"]),v(T,{modelValue:e.modal.print_barcode,"onUpdate:modelValue":a[29]||(a[29]=a=>e.modal.print_barcode=a),title:"Print Barcode Label"},{footer:h((()=>a[96]||(a[96]=[]))),default:h((()=>[v(j,{data:e.printLabelData,"label-type":e.labelType,onCloseModal:a[28]||(a[28]=a=>e.modal.print_barcode=!1)},null,8,["data","label-type"])])),_:1},8,["modelValue"]),v(T,{modelValue:e.modalSplitItems,"onUpdate:modelValue":a[32]||(a[32]=a=>e.modalSplitItems=a),title:"Split Offer",onClose:e.unsetDataSplitItems,size:"md"},{default:h((()=>[b("div",Li,[b("div",Ei,[a[97]||(a[97]=b("div",{class:"px-6"},[b("p",{class:"text-md font-semibold"},"Choose New Status")],-1)),v(R,{modelValue:e.dataSplitItems.new_status,"onUpdate:modelValue":a[30]||(a[30]=a=>e.dataSplitItems.new_status=a),validate:e.tabValidate,color:"teal",view:"smooth",by:"id",name:"short_name",items:e.stateStatuses,component:"",type:"vertical"},null,8,["modelValue","validate","items"])]),b("div",$i,[v(P,{modelValue:e.dataSplitItems.note,"onUpdate:modelValue":a[31]||(a[31]=a=>e.dataSplitItems.note=a),type:"textarea",rows:3,label:"Notes",block:""},null,8,["modelValue"])])])])),footer:h((()=>[v(d,{color:"teal",onClick:e.splitItems,loading:e.loadingSplitItems},{default:h((()=>a[98]||(a[98]=[C("Split")]))),_:1},8,["onClick","loading"])])),_:1},8,["modelValue","onClose"]),v(T,{modelValue:e.modal.phonecheck_info,"onUpdate:modelValue":a[35]||(a[35]=a=>e.modal.phonecheck_info=a),title:null==(n=e.PhonecheckDevice)?void 0:n.product_name,onClose:a[36]||(a[36]=a=>e.isErrorSelectedPhonecheck=!1)},{header:h((()=>{var l;return[b("div",zi,[b("h5",Ki,g(null==(l=e.PhonecheckDevice)?void 0:l.product_name),1),v(d,{color:"teal",onClick:a[33]||(a[33]=a=>e.printPhonecheck(e.PhonecheckDevice)),loading:e.loading.printPhonecheck,dense:"",icon:""},{default:h((()=>a[99]||(a[99]=[b("i",{class:"material-icons text-lg"},"print",-1)]))),_:1},8,["loading"])])]})),default:h((()=>[v(L,{ref:"refPhonecheckInfo",data:e.PhonecheckInfoData,"onUpdate:data":a[34]||(a[34]=a=>e.PhonecheckInfoData=a),"is-error":e.isErrorSelectedPhonecheck},null,8,["data","is-error"])])),_:1},8,["modelValue","title"]),v(T,{modelValue:e.modalBulkImeiAddDevice,"onUpdate:modelValue":a[39]||(a[39]=a=>e.modalBulkImeiAddDevice=a),size:"xs",title:"Add Bulk IMEI/SN",onClose:e.handleCloseAddBulkImeiModal},{default:h((()=>{var l;return[a[100]||(a[100]=b("div",{class:"flex bg-orange-lighten text-orange-04 p-4 rounded-lg mb-4"},[b("div",{class:"mr-4"},[b("i",{class:"material-icons"},"info")]),b("div",{class:"mt-1"}," IMEIs/SNs entered here will overwrite those already input on the Quote Details page for these items. ")],-1)),v(E,{ref:"refBulkImeiSNInput",modelValue:e.bulkImei,"onUpdate:modelValue":a[37]||(a[37]=a=>e.bulkImei=a),qty:null==(l=e.dataBulkImeiAddDevice)?void 0:l.qty,block:"",rows:"5"},null,8,["modelValue","qty"])]})),footer:h((()=>[b("div",Fi,[b("span",{onClick:a[38]||(a[38]=(...a)=>e.handleCloseAddBulkImeiModal&&e.handleCloseAddBulkImeiModal(...a)),class:"text-red-04 cursor-pointer px-2"},"Cancel"),v(d,{onClick:e.handleAddBulkImeiDevice,loading:e.loadingBulkImeiAddDevice,disabled:!e.bulkImei,color:"teal",dense:""},{default:h((()=>a[101]||(a[101]=[b("span",{class:"px-2"},"Add",-1)]))),_:1},8,["onClick","loading","disabled"])])])),_:1},8,["modelValue","onClose"]),v($,{loading:e.bulkCondition.loading,show:e.bulkCondition.modal,onClose:e.handleCloseModalBulkCondition,items:e.selectedItems,conditions:e.itemConditions,loadingCondition:e.loadingCondition,me:e.me,onSubmit:e.handleBulkChangeItemCondition},null,8,["loading","show","onClose","items","conditions","loadingCondition","me","onSubmit"])])}]]);const Hi=r({name:"ItemCard",components:{Card:Ge,Button:we,LoadingCard:_a,ItemList:Gi},setup(e){const a=I(null),l=_((()=>a.value||null));return{refItems:a,items:l}}}),Wi={class:"flex items-center justify-between"},Yi={key:0},Ji={key:0};var Xi=Ce(Hi,[["render",function(e,a,l,t,o,i){const s=u("Button"),n=u("ItemList"),d=u("Card"),r=u("LoadingCard");return m(),p(R,null,{default:h((()=>[v(d,null,{header:h((()=>{var l,t,o,i;return[b("div",Wi,[a[4]||(a[4]=b("h6",null,"Items",-1)),e.items?(m(),f("div",Yi,[e.items.isReadonly?y("",!0):(m(),f("div",Ji,[1e3!==e.items.stateShow.status_id&&e.items.selectedItems.length>0&&e.items.state.total_qty>1?(m(),p(s,{key:0,disabled:null!=(null==(l=e.items.stateShow)?void 0:l.deleted_at),loading:0===e.items.stateStatuses.length,class:"mr-4",color:"teal",dense:"",onClick:e.items.openSplitItemsModal},{default:h((()=>a[1]||(a[1]=[b("span",{class:"material-icons transform rotate-90 text-lg"},"arrow_circle_up",-1),C(" Split Buyback ")]))),_:1},8,["disabled","loading","onClick"])):y("",!0),3!==(null==(t=e.items.stateShow)?void 0:t.status_id)&&e.items.state.total_qty>=3?(m(),p(s,{key:1,disabled:null!=(null==(o=e.items.stateShow)?void 0:o.deleted_at),class:"mr-4",color:"teal",dense:"",onClick:e.items.openDataMatch},{default:h((()=>a[2]||(a[2]=[b("img",{alt:"data-match-icon",class:"inline-block mr-1 w-5",src:ye},null,-1),C(" Data Match ")]))),_:1},8,["disabled","onClick"])):y("",!0),v(s,{disabled:null!=(null==(i=e.items.stateShow)?void 0:i.deleted_at),color:"teal",dense:"",onClick:a[0]||(a[0]=a=>e.items.openModal("create"))},{default:h((()=>a[3]||(a[3]=[b("span",{class:"material-icons text-lg"},"add",-1),C(" Add Item ")]))),_:1},8,["disabled"])]))])):y("",!0)])]})),default:h((()=>[v(n,{ref:"refItems"},null,512)])),_:1})])),fallback:h((()=>[b("div",null,[v(r)])])),_:1})}]]);const Zi=r({name:"ContentLoading",setup:()=>({})}),es={style:{minHeight:"100px"}};var as=Ce(Zi,[["render",function(e,a,l,t,o,i){const s=U("loading");return S((m(),f("div",es,null,512)),[[s,!0]])}]]);const ls=r({name:"BulkQuoteReconcile",components:{Currency:$e,BSelect:qa,Input:Se,DeviceSearch:ja},props:{quoteId:{type:String,required:!0},item:{type:Object,default:()=>({})},valid:{type:Boolean,default:!1},maxQty:{type:Number,default:99}},emits:["update:color","update:valid"],setup(e,{emit:a}){const{selectedItem:l,specs:t,isMacItem:o,isCustomItem:i,isValid:s,itemDetail:n,loading:d,setSelectedItem:r,setSpecMac:c,getColors:u,getSpecsByProductId:m,getConditions:p,reconcileQuoteItem:h}=ce(),{state:b,loading:g,searchProduct:v,unsetProductSearchResult:f}=Ca(),y=_({get:()=>({id:t.color.id,name:t.color.name}),set:e=>{t.color.id=e.id,t.color.name=e.name}}),k=_({get:()=>{let e=[];try{e="string"==typeof t.condition.rule?JSON.parse(t.condition.rule)||[]:t.condition.rule||[]}catch(a){console.warn(`invalid parsing condition rule: ${a.message}`)}return{id:t.condition.id,name:t.condition.name,rule:e,price:t.condition.price,price_from_source:t.condition.price_from_source}},set:e=>{t.condition.id=e.id,t.condition.name=e.name,t.condition.rule=e.rule||[],t.condition.price=e.price,t.condition.price_from_source=e.price_from_source,n.price=e.price}}),w=_({get:()=>({id:t.mac.Processor.id,name:t.mac.Processor.name}),set:e=>{c({key:"Processor",item:{id:e.id,name:e.name}})}}),C=_({get:()=>({id:t.mac["Hard Drive"].id,name:t.mac["Hard Drive"].name}),set:e=>{c({key:"Hard Drive",item:{id:e.id,name:e.name}})}}),S=_({get:()=>({id:t.mac.Memory.id,name:t.mac.Memory.name}),set:e=>{c({key:"Memory",item:{id:e.id,name:e.name}})}}),x=_({get:()=>({id:t.mac["Graphics Card"].id,name:t.mac["Graphics Card"].name}),set:e=>{c({key:"Graphics Card",item:{id:e.id,name:e.name}})}}),I=_((()=>t.color.options)),B=_((()=>t.condition.options)),V=_((()=>b.product.result.products)),M=_((()=>b.product.result.categories)),Q=_((()=>e.item)),U=async a=>{r(a),b.product.query=l.product_name,D(),await u(),o.value?await m({quoteId:e.quoteId}):await p({quoteId:e.quoteId})},D=Re((async()=>{await v({query:b.product.query})}),500);return P((()=>e.item),U),P(s,(e=>{a("update:valid",e)}),{immediate:!0}),L((async()=>{e.item&&await U(e.item)})),{stateSearch:b,products:V,categories:M,loading:d,loadingSearch:g,selectedItemReconcile:l,specs:t,itemDetail:n,colorOptions:I,conditionOptions:B,color:y,condition:k,processor:w,hardDrive:C,memory:S,graphicCard:x,isMacItem:o,isCustomItem:i,isValid:s,originalItem:Q,handleSetColor:e=>{const{id:a=null,name:l=null}=e||{};t.color.id=a,t.color.name=l},handleSetCondition:e=>{const{id:a=null,name:l=null}=e||{};t.condition.id=a,t.condition.name=l},handleSetQty:()=>{if(n.qty<1)return;const e=n.qty-n.imeiNotes.length;if(e<0)n.imeiNotes.splice(e,Math.abs(e));else for(let a=0;a<e;a++)n.imeiNotes.push({imei:"",notes:""})},handleSearchItem:D,handleChangeItem:async e=>{b.product.query=(null==e?void 0:e.product_name)||(null==e?void 0:e.name)||"";const a=l.id;await U(e),l.id=a},handleSelectCustomItem:()=>{f()},submit:async()=>await h({quoteId:e.quoteId})}}}),ts={class:"grid gap-3"},os={key:0},is={key:2},ss=["innerHTML"],ns={class:"my-2"},ds={key:0,class:"flex items-start"},rs=["innerHTML"],cs={key:3},us={class:"bulk-imei-notes"};const ms=r({name:"BulkQuoteDetailItem",components:{BulkQuoteItemSearch:Da,Card:Ge,Button:we,Modal:ke,BulkQuoteItem:Oa,BulkQuoteItemPercentage:Ta,BulkQuoteReconcile:Ce(ls,[["render",function(e,a,l,t,o,i){const s=u("DeviceSearch"),n=u("Input"),d=u("BSelect"),r=u("Currency");return m(),f("div",ts,[b("div",null,[v(s,{ref:"refDeviceSearch",query:e.stateSearch.product.query,"onUpdate:query":a[0]||(a[0]=a=>{e.stateSearch.product.query=a}),onSearch:e.handleSearchItem,onSelect:e.handleChangeItem,onCustomProduct:e.handleSelectCustomItem,products:e.products,categories:e.categories,loading:e.loadingSearch.product,"show-add-custom-product":!1},null,8,["query","onSearch","onSelect","onCustomProduct","products","categories","loading"])]),e.isCustomItem?(m(),f("div",os,[v(n,{modelValue:e.selectedItemReconcile.product_name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.selectedItemReconcile.product_name=a),label:"Custom Item Name",placeholder:"Custom item name",block:""},null,8,["modelValue"])])):e.isMacItem?(m(),f(k,{key:1},[b("div",null,[a[11]||(a[11]=b("label",null,"Processor",-1)),v(d,{modelValue:e.processor,"onUpdate:modelValue":a[2]||(a[2]=a=>e.processor=a),items:e.specs.mac.Processor.options,"item-key":"id","item-name":"name",block:"",placeholder:"Processor","max-height":200,loading:e.loading.getSpecs.Processor,disabled:0===e.specs.mac.Processor.options.length},{prepend:h((()=>a[10]||(a[10]=[b("span",{class:"font-semibold block mx-6 my-4"},"Select Processor",-1)]))),_:1},8,["modelValue","items","loading","disabled"])]),b("div",null,[a[13]||(a[13]=b("label",null,"Memory",-1)),v(d,{modelValue:e.memory,"onUpdate:modelValue":a[3]||(a[3]=a=>e.memory=a),items:e.specs.mac.Memory.options,"item-key":"id","item-name":"name",block:"",placeholder:"Memory","max-height":200,loading:e.loading.getSpecs.Memory,disabled:0===e.specs.mac.Memory.options.length},{prepend:h((()=>a[12]||(a[12]=[b("span",{class:"font-semibold block mx-6 my-4"},"Select Memory",-1)]))),_:1},8,["modelValue","items","loading","disabled"])]),b("div",null,[a[15]||(a[15]=b("label",null,"Hard Drive",-1)),v(d,{modelValue:e.hardDrive,"onUpdate:modelValue":a[4]||(a[4]=a=>e.hardDrive=a),items:e.specs.mac["Hard Drive"].options,"item-key":"id","item-name":"name",block:"",placeholder:"Hard Drive","max-height":200,loading:e.loading.getSpecs["Hard Drive"],disabled:0===e.specs.mac["Hard Drive"].options.length},{prepend:h((()=>a[14]||(a[14]=[b("span",{class:"font-semibold block mx-6 my-4"},"Select Hard Drive",-1)]))),_:1},8,["modelValue","items","loading","disabled"])]),b("div",null,[a[17]||(a[17]=b("label",null,"Graphic Card",-1)),v(d,{modelValue:e.graphicCard,"onUpdate:modelValue":a[5]||(a[5]=a=>e.graphicCard=a),items:e.specs.mac["Graphics Card"].options,"item-key":"id","item-name":"name",block:"",placeholder:"Graphic Card","max-height":200,loading:e.loading.getSpecs["Graphics Card"],disabled:0===e.specs.mac["Graphics Card"].options.length},{prepend:h((()=>a[16]||(a[16]=[b("span",{class:"font-semibold block mx-6 my-4"},"Select Graphic Card",-1)]))),_:1},8,["modelValue","items","loading","disabled"])])],64)):y("",!0),b("div",null,[a[19]||(a[19]=b("label",null,"Color",-1)),v(d,{modelValue:e.color,"onUpdate:modelValue":a[6]||(a[6]=a=>e.color=a),items:e.colorOptions,"item-key":"id","item-name":"name",block:"",placeholder:"Color","max-height":200,loading:e.loading.getSpecs.color,disabled:0===e.specs.color.options.length},{prepend:h((()=>a[18]||(a[18]=[b("span",{class:"font-semibold block mx-6 my-4"},"Select Color",-1)]))),_:1},8,["modelValue","items","loading","disabled"])]),b("div",null,[a[21]||(a[21]=b("label",null,"Condition",-1)),v(d,{modelValue:e.condition,"onUpdate:modelValue":a[7]||(a[7]=a=>e.condition=a),items:e.conditionOptions,"item-key":"name","item-name":"name",block:"",placeholder:"Condition","max-height":200,loading:e.loading.getSpecs.condition,disabled:0===e.specs.condition.options.length},{prepend:h((()=>a[20]||(a[20]=[b("span",{class:"font-semibold block mx-6 my-4"},"Select Condition",-1)]))),_:1},8,["modelValue","items","loading","disabled"])]),e.condition.rule.length>0?(m(),f("div",is,[b("p",{innerHTML:e.condition.rule[0]},null,8,ss),b("ul",ns,[(m(!0),f(k,null,w(e.condition.rule,((e,l)=>(m(),f(k,null,[l>0?(m(),f("li",ds,[a[22]||(a[22]=b("i",{class:"material-icons mr-4"},"check_circle",-1)),b("p",{innerHTML:e,class:"mt-1"},null,8,rs)])):y("",!0)],64)))),256))])])):y("",!0),b("div",null,[v(n,{modelValue:e.itemDetail.price,"onUpdate:modelValue":a[8]||(a[8]=a=>e.itemDetail.price=a),block:"",label:"Payout",placeholder:"Payout",type:"number",currency:!0,icon:"","icon-block":""},{icon:h((()=>[v(r,{"only-symbol":"",class:"mx-2"})])),_:1},8,["modelValue"])]),b("div",null,[v(n,{modelValue:e.itemDetail.qty,"onUpdate:modelValue":a[9]||(a[9]=a=>e.itemDetail.qty=a),onFocusOut:e.handleSetQty,block:"",label:"Qty",placeholder:"Qty",type:"number"},null,8,["modelValue","onFocusOut"])]),1==e.selectedItemReconcile.imei_required&&e.itemDetail.qty<100?(m(),f("div",cs,[b("table",us,[a[23]||(a[23]=b("thead",null,[b("tr",null,[b("th",null,"IMEI/SN"),b("th",null,"Notes")])],-1)),b("tbody",null,[(m(!0),f(k,null,w(e.itemDetail.imeiNotes,(e=>(m(),f("tr",null,[b("td",null,[v(n,{modelValue:e.imei,"onUpdate:modelValue":a=>e.imei=a,placeholder:"IMEI/SN",block:""},null,8,["modelValue","onUpdate:modelValue"])]),b("td",null,[v(n,{modelValue:e.notes,"onUpdate:modelValue":a=>e.notes=a,placeholder:"Notes",block:""},null,8,["modelValue","onUpdate:modelValue"])])])))),256))])])])):y("",!0)])}],["__scopeId","data-v-5ad2aae8"]])},props:{quoteItems:{type:Array,default:()=>[]},quoteId:{type:String,required:!0},disableItems:{type:Boolean,default:!1},disabledStatus:{type:Boolean,default:!1},reconcile:{type:Boolean,default:!1},quotePercentage:{type:Number,default:()=>100},loading:{type:Object,default:()=>({})}},emits:["updateQuoteStatus","updateItems","updateQuoteItem","deleteQuoteItem","updateBulkQuoteItems"],setup(e,{emit:a}){const l=I(null),t=I(null),o=I(!1),i=I(!1),s=_((()=>{var e;return!!l.value&&(null==(e=l.value.loading)?void 0:e.reconcile)})),n=_({get:()=>e.quoteItems,set:e=>a("updateItems",e)}),d=Re((async e=>{a("updateQuoteItem",e,((e=!1)=>{if(!e)return console.error("failed to update quote item")}))}),800),r=()=>{o.value=!0},c=()=>{o.value=!1,t.value=null};return{refReconcileItem:l,selectedItemReconcile:t,items:n,modalReconcile:o,isValidReconcile:i,loadingReconcileItem:s,handleDeleteItem:async e=>{const{id:l=null}=e;if(!l)return console.error("failed deleting item, quote item id is required");a("deleteQuoteItem",l,(e=>{if(!e)return console.error("failed deleting item")}))},setQuoteItem:e=>{d(e)},handleReconcileItem:async e=>{t.value=e,r()},openModalReconcile:r,closeModalReconcile:c,submitReconcileItem:async()=>{var e,t;if(l.value){const o=await(null==(t=(e=l.value).submit)?void 0:t.call(e));if(o){c();const{is_change_status:e}=o;e&&a("updateQuoteStatus",!0)}a("updateBulkQuoteItems")}}}}}),ps={class:"mb-8"},hs={class:"grid gap-6"},bs={style:{minHeight:"100px"},class:"overflow-x-auto"},gs={class:"flex flex-wrap justify-end"};var vs=Ce(ms,[["render",function(e,a,l,t,o,i){const s=u("BulkQuoteItem"),n=u("BulkQuoteReconcile"),d=u("Button"),r=u("Modal"),c=U("loading");return m(),f("div",ps,[b("div",hs,[S((m(),f("div",bs,[v(s,{items:e.items,"onUpdate:items":a[0]||(a[0]=a=>e.items=a),onDeleteItem:e.handleDeleteItem,onEditItem:e.setQuoteItem,onReconcileItem:e.handleReconcileItem,percentage:e.quotePercentage,disabled:e.disableItems,"disabled-status":e.disabledStatus,reconcile:e.reconcile},{action:h((()=>a[3]||(a[3]=[]))),_:1},8,["items","onDeleteItem","onEditItem","onReconcileItem","percentage","disabled","disabled-status","reconcile"])])),[[c,e.loading.quoteItem&&e.loading.quoteItem.getBulkQuoteItems]])]),v(r,{modelValue:e.modalReconcile,"onUpdate:modelValue":a[2]||(a[2]=a=>e.modalReconcile=a),onClose:e.closeModalReconcile,title:"Reconcile"},{default:h((()=>[b("div",null,[v(n,{ref:"refReconcileItem",valid:e.isValidReconcile,"onUpdate:valid":a[1]||(a[1]=a=>e.isValidReconcile=a),"quote-id":e.quoteId,item:e.selectedItemReconcile},null,8,["valid","quote-id","item"])])])),footer:h((()=>[b("div",gs,[v(d,{onClick:e.submitReconcileItem,disabled:!e.isValidReconcile,loading:e.loadingReconcileItem,color:"teal"},{default:h((()=>a[4]||(a[4]=[C(" Save Changes ")]))),_:1},8,["onClick","disabled","loading"])])])),_:1},8,["modelValue","onClose"])])}]]);const _s=r({name:"BuybackOnlineDetail",components:{Modal:ke,BulkQuoteItem:Oa,Menu:fl,Breadcrumb:Cl,OrderInfo:Bl,Show:Vo,Items:Xi,ItemList:Gi,BuybackImages:Qa,BuybackNotes:Ua,Tab:Ye,Card:Ge,Button:we,LoadingCard:_a,BulkQuoteDetailItem:vs,BulkQuoteItemPercentage:Ta,BulkQuoteItemSearch:Da},setup(){const e=c(),a=M(),{state:l}=F("online"),{isBulkQuote:t,selectedTab:o,tabBulkQuote:i}=re(),{selectedItems:s,loading:r,createItem:u,addItem:m}=ue({multiple:!1}),{items:p,quotePercentage:h,loading:b,confirmManuallyPricedModal:g,hasManuallyPricedItems:v,totalItems:f,resetManuallyPricedItems:y,getBulkQuoteItems:k,getBulkQuoteItemInfo:w,updateQuotePercentage:C,updateQuoteItem:S,deleteQuoteItem:x}=me(),B=I(!1),V=I(null),Q=I(null),U=_((()=>{const{order_status:e={}}=l.value||{},{id:a=null,short_name:t=null,status_name:o=null}=e;return{id:a,short_name:t,status_name:o}})),D=_((()=>["9003"].includes(String(U.value.id||"")))),O=_((()=>{var e;const a=null!=(null==(e=l.value)?void 0:e.deleted_at),o=a;return{restrictedQuoteUpdate:t.value&&["9001","9002","3"].includes(String(U.value.id||""))||a,restrictedQuoteItemUpdate:t.value&&["9001","9002","3"].includes(String(U.value.id||""))||a,restrictedQuoteStatusUpdate:o,restrictedQuotePercentageUpdate:9e3!==U.value.id,isReconcilable:t.value&&["9003","9004"].includes(String(U.value.id||""))||a,totalQuoteItems:f.value}})),T=_((()=>{var a;return"active_item"===o.value?{name:"BulkQuoteDetailItem",component:E(vs,{onUpdateQuoteStatus:N,onUpdateItems:$,onUpdateBulkQuoteItems:z,onUpdateQuoteItem:K,onDeleteQuoteItem:G,quoteId:e.params.buybackId,quotePercentage:h.value,quoteItems:p.value,reconcile:O.value.isReconcilable,loading:{quoteItem:n({},b)},disableItems:O.value.restrictedQuoteItemUpdate,disabledStatus:!!(null==l?void 0:l.value)&&!![9001,9002,9003,9004,3,2].includes(null==(a=l.value)?void 0:a.status_id)},"")}:{name:"ItemList",component:E(R,null,{default:()=>E(Gi,{isBulkQuoteReconcile:O.value.isReconcilable,onReconcile:()=>o.value="active_item"},""),fallback:()=>E(as)})}})),q=_((()=>null!==V.value)),j=_((()=>"bulkQuoteDetail"===e.name)),A=async()=>{await Promise.all([k({quoteId:e.params.buybackId}),w({quoteId:e.params.buybackId})])},N=async()=>{var a,l;Q.value&&await(null==(l=null==(a=Q.value)?void 0:a.actionShow)?void 0:l.call(a,{id:e.params.buybackId,is_store:1}))},$=e=>p.value=e,z=a=>{A(e.params.buybackId).then((()=>{"function"==typeof a&&a()}))},K=(a,l)=>{(""===a.qty||isNaN(Number(a.qty)))&&(a.qty=1),S({quoteId:e.params.buybackId,item:a}).then((e=>{"function"==typeof l&&l(e)}))},G=(a,l)=>{x({quoteId:e.params.buybackId,itemId:a}).then((a=>{"function"==typeof l&&l(a),a&&w({quoteId:e.params.buybackId}).then((()=>{}))}))},H=()=>{B.value=!1,s.value=[]},W=()=>{B.value=!0},Y=Re((async()=>{if(!(await C({quoteId:e.params.buybackId})))return console.error("failed to update quote percentage")}),800),J=async a=>{await w({quoteId:e.params.buybackId})};return P((()=>U.value.id),(async(a,l)=>{if(!(a===l)&&j.value&&a){["9004","3"].includes(String(a||""))?o.value="reconciled_item":(o.value="active_item",q.value&&await A(e.params.buybackId)),await J(e.params.buybackId)}})),L((async()=>{j.value&&await Promise.all([J(e.params.buybackId),A(e.params.buybackId)]),"create-order"===e.query.ref&&setTimeout((async()=>{await a.push(d(n({},e),{query:{}}))}),1e4)})),{stateShow:l,quotePercentage:h,refBulkQuoteTabContent:V,refQuoteShow:Q,bulkQuote:O,isBulkQuote:t,isShowBulkQuoteTab:D,tabBulkQuote:i,selectedTab:o,bulkQuoteComponent:T,isBulkQuoteTabContentRendered:q,selectedItems:s,loadingCreateItem:r,modalCreateItem:B,loadingQuoteItem:b,confirmManuallyPricedModal:g,hasManuallyPricedItems:v,handleSelect:e=>{m(e,{quotePercentage:100})},closeModalCreateItem:H,openModalCreateItem:W,openModalAddItem:()=>{var e,a;if("ItemList"!==T.value.name)W();else{if(!q.value)return;null==(a=null==(e=V.value)?void 0:e.openModal)||a.call(e,"create")}},handleCreateItem:async()=>{await u({quoteId:e.params.buybackId})&&(H(),V.value&&await A(e.params.buybackId))},setQuotePercentage:e=>{h.value=e,Y()},resetManuallyPricedItems:y}}}),fs={class:"grid gap-4 my-4"},ys={class:"flex flex-wrap items-center justify-between gap-4"},ks={class:"md:flex-none flex-auto"},ws={class:"md:flex-none flex-auto"},Cs={class:"my-2"},Ss={class:"grid md:grid-cols-3 grid-cols-1 gap-4 my-2"},xs={key:0,class:"my-2 mb-6"},Is={class:"flex flex-wrap items-center justify-between"},Ps={class:"mb-6 relative"},Bs={key:1,class:"my-2 mb-6"},Vs={class:"my-2"},Ms={class:"my-2"},Qs={key:0,class:"text-lg font-medium mb-4"},Us={class:"flex flex-wrap justify-between items-center"},Ds={class:"text-center py-10"};const Os=r({components:{Detail:Ce(_s,[["render",function(e,a,l,t,o,i){const s=u("Breadcrumb"),n=u("LoadingCard"),d=u("Menu"),r=u("OrderInfo"),c=u("Show"),g=u("Button"),_=u("BulkQuoteItemPercentage"),k=u("Tab"),w=u("Card"),S=u("Items"),x=u("BuybackImages"),I=u("BuybackNotes"),P=u("BulkQuoteItemSearch"),V=u("BulkQuoteItem"),M=u("Modal");return m(),f("div",null,[b("div",null,[b("div",fs,[b("div",ys,[b("div",ks,[(m(),p(R,null,{default:h((()=>[b("div",null,[v(s,{class:"w-full"})])])),fallback:h((()=>[v(n)])),_:1}))]),b("div",ws,[(m(),p(R,null,{default:h((()=>[v(d,{"bulk-quote":e.bulkQuote,order:e.stateShow},null,8,["bulk-quote","order"])])),fallback:h((()=>[v(n)])),_:1}))])])]),b("div",Cs,[(m(),p(R,null,{default:h((()=>[v(r)])),fallback:h((()=>[v(n)])),_:1}))]),b("div",Ss,[(m(),p(R,null,{default:h((()=>[v(c,{ref:"refQuoteShow","is-bulk-quote":e.isBulkQuote,"bulk-quote":e.bulkQuote},null,8,["is-bulk-quote","bulk-quote"])])),fallback:h((()=>[v(n)])),_:1}))]),e.isBulkQuote?(m(),f("div",xs,[v(w,null,{header:h((()=>{var l;return[b("div",Is,[a[9]||(a[9]=b("h6",null,"Items",-1)),e.bulkQuote.restrictedQuoteItemUpdate?y("",!0):(m(),p(g,{key:0,onClick:e.openModalAddItem,disabled:!e.isBulkQuoteTabContentRendered||2==(null==(l=e.stateShow)?void 0:l.status_id),color:"teal",dense:""},{default:h((()=>a[8]||(a[8]=[b("i",{class:"material-icons"},"add",-1),C(" Add Items ")]))),_:1},8,["onClick","disabled"]))])]})),default:h((()=>[b("div",null,[b("div",Ps,[v(_,{"onUpdate:modelValue":e.setQuotePercentage,"model-value":e.quotePercentage,order:e.stateShow,disabled:e.loadingQuoteItem.getBulkQuoteItemInfo||e.bulkQuote.restrictedQuotePercentageUpdate},null,8,["onUpdate:modelValue","model-value","order","disabled"]),e.hasManuallyPricedItems?(m(),f("div",{key:0,onClick:a[0]||(a[0]=a=>e.confirmManuallyPricedModal=!0),class:"absolute left-0 top-0 w-full h-full cursor-pointer"})):y("",!0)]),e.isShowBulkQuoteTab?(m(),p(k,{key:0,modelValue:e.selectedTab,"onUpdate:modelValue":a[1]||(a[1]=a=>e.selectedTab=a),items:e.tabBulkQuote,component:"",name:"name",by:"value"},null,8,["modelValue","items"])):y("",!0),(m(),p(T(e.bulkQuoteComponent.component),{ref:"refBulkQuoteTabContent",key:e.bulkQuoteComponent.name}))])])),_:1})])):(m(),f("div",Bs,[(m(),p(R,null,{default:h((()=>[v(S)])),fallback:h((()=>[v(n)])),_:1}))])),b("div",Vs,[v(x)]),b("div",Ms,[(m(),p(R,null,{default:h((()=>[v(I)])),fallback:h((()=>[v(n)])),_:1}))])]),v(M,{modelValue:e.modalCreateItem,"onUpdate:modelValue":a[4]||(a[4]=a=>e.modalCreateItem=a),size:"lg"},{header:h((()=>a[10]||(a[10]=[b("h6",{class:"font-medium"},"Add Item",-1)]))),default:h((()=>[a[11]||(a[11]=b("div",{class:"flex gap-4 bg-blue-lighten text-blue-04 px-3 py-2 rounded-lg mb-4"},[b("i",{class:"material-icons"},"info"),b("div",null,[b("p",{class:"mt-1"}," The price indicated is the original price, it hasn't been reduced from quoted price. ")])],-1)),b("div",null,[e.selectedItems.length>0?(m(),f("h6",Qs," Detail Item ")):y("",!0),v(P,{onSelect:e.handleSelect,"clear-on-select":!1},null,8,["onSelect"]),v(V,{items:e.selectedItems,"onUpdate:items":a[2]||(a[2]=a=>e.selectedItems=a)},null,8,["items"])])])),footer:h((()=>[b("div",Us,[b("a",{href:"",onClick:a[3]||(a[3]=B(((...a)=>e.closeModalCreateItem&&e.closeModalCreateItem(...a)),["prevent"])),class:"px-4 py-2"},"Cancel"),v(g,{onClick:e.handleCreateItem,loading:e.loadingCreateItem,color:"teal"},{default:h((()=>a[12]||(a[12]=[C("Save ")]))),_:1},8,["onClick","loading"])])])),_:1},8,["modelValue"]),v(M,{modelValue:e.confirmManuallyPricedModal,"onUpdate:modelValue":a[7]||(a[7]=a=>e.confirmManuallyPricedModal=a),size:"xs","hide-header":"","hide-footer":""},{default:h((()=>[b("div",Ds,[a[14]||(a[14]=b("img",{class:"mb-10 mx-auto",src:Aa,alt:"Success Icon"},null,-1)),a[15]||(a[15]=b("div",{class:"mt-8 mb-10"},[b("h5",{class:"mb-4 font-medium"},"Attention!"),b("p",{class:"my-5"}," There are prices that were changed manually. Manually priced items will be returned to the original price before using this function. ")],-1)),v(g,{onClick:a[5]||(a[5]=()=>{e.resetManuallyPricedItems(),e.confirmManuallyPricedModal=!1}),color:"teal",class:"mr-3"},{default:h((()=>a[13]||(a[13]=[C("Proceed ")]))),_:1}),b("a",{onClick:a[6]||(a[6]=B((a=>e.confirmManuallyPricedModal=!1),["prevent"])),class:"py-4 px-6"}," Cancel ")])])),_:1},8,["modelValue"])])}]]),BaseLoading:Le},setup:()=>({})}),Ts={class:"flex item-center justify-center w-full h-full bg-red-04"};var qs=Ce(Os,[["render",function(e,a,l,t,o,i){const s=u("Detail"),n=u("BaseLoading");return m(),p(R,null,{default:h((()=>[v(s)])),fallback:h((()=>[b("div",Ts,[v(n)])])),_:1})}]]);export{qs as default};
