import{u as a}from"./components.bc8fc588.js";import{k as e,a5 as t,O as s,f as o,m as n,o as r,t as d,B as i,D as m,w as l,I as u,a2 as c}from"./vendor.f1efedad.js";import{l as p}from"./setting.a9fe6242.js";import{_ as f,b,u as g}from"./index.161fb295.js";import{M as j,u as U}from"./Form.6a576c24.js";import{B as _}from"./Breadcrumb.5c6bcf4b.js";import{C as v}from"./card.6a96327d.js";import"./LoadingCard.105ff0f2.js";import"./dashboard.e0b0dd28.js";import"./date.f86face7.js";import"./index.05b14cb2.js";import"./index.a87b789d.js";import"./index.32689823.js";import"./fieldset.dc1b9649.js";import"./breadcrumb.2d36d495.js";const x=e({components:{Button:b,Breadcrumb:_,Card:v,ManageUserForm:j},async setup(){const a=t(),e=s(),{data:n,loading:r,actionShow:d,actionUpdate:i,getMenu:m}=p(),{action:l}=g(),{selectDefaultLocation:u,selectedLocations:c,selectedDefaultLocationDetailed:f}=U(),b=o(null);return await Promise.all([d(a.params.userId),m(a.params.userId)]),u({id:n.default_location_id,name:n.default_location_name}),{data:n,breadcrumb:[{text:"Settings",to:{name:"setting"}},{text:"Manage Users",to:{name:"settingManageUser"}},{text:"Edit User"}],refComponent:b,loading:r,updateUser:async()=>{n.locations=c.value,n.default_location_id=f.value.id,n.default_location_name=f.value.name,b.value.validate()&&await i(a.params.userId,(async()=>{await l(),e.push({name:"settingManageUser"})}))}}}}),y={class:"flex justify-between items-center mb-8"},C={class:"text-right"};var M=f(x,[["render",function(a,e,t,s,o,p){const f=n("Breadcrumb"),b=n("ManageUserForm"),g=n("Button"),j=n("Card");return r(),d(c,null,[i("div",y,[m(f,{pageTitle:"Edit User",backTo:{name:"settingManageUser"},items:a.breadcrumb},null,8,["items"])]),m(j,null,{footer:l((()=>[i("div",C,[m(g,{disabled:0==a.data.permission.update,color:"teal",loading:a.loading.form,onClick:a.updateUser},{default:l((()=>e[1]||(e[1]=[u("Save")]))),_:1},8,["disabled","loading","onClick"])])])),default:l((()=>[m(b,{ref:"refComponent",data:a.data,"onUpdate:data":e[0]||(e[0]=e=>a.data=e),edit:"",readonly:0==a.data.permission.update,"permission-readonly":0==a.data.menu_list.permission.update},null,8,["data","readonly","permission-readonly"])])),_:1})],64)}]]),B=e({setup(){const{genSuspense:e}=a();return()=>e(M)}});export{B as default};
