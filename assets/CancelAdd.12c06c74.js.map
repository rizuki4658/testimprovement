{"version":3,"file":"CancelAdd.12c06c74.js","sources":["../../src/components/DeviceScan.vue","../../src/components/BuybackBoothScan/index.vue","../../src/components/BuybackBoothScan/CancelAdd.vue"],"sourcesContent":["<template>\n  <div\n    v-if=\"show && data.result.code\"\n    class=\"space-y-8 mb-6 w-full\">\n    <TransitionGroup name=\"slide-fade\">\n      <div\n        v-if=\"!data.result.device\"\n        class=\"flex justify-between gap-x-8\">\n        <p class=\"font-semibold text-xl flex-1\">\n          For Android and iPhone devices - \n          If the item powers on you can scan the QR code with\n          the customers item to autofill most item information.\n        </p>\n        <div>\n          <div\n            v-loading=\"data.loading.code\"\n            class=\"bg-grey-01 h-28 w-28 rounded\">\n            <img\n              v-if=\"data.result.code\"\n              :src=\"data.result.code.qr_code\"\n              alt=\"generated_code\"\n            />\n          </div>\n        </div>\n      </div>\n      <div\n        v-else\n        :class=\"[\n          'border border-grey-01',\n          'p-4 rounded-xl space-y-6'\n        ]\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"font-semibold text-lg\">\n              {{ data.result.device.Name }}\n            </p>\n            <p class=\"text-sm text-grey-03\">\n              {{ data.result.device.Date }}\n            </p>\n          </div>\n          <div\n            :class=\"[\n              'flex items-center',\n              'cursor-pointer',\n              'text-grey-base',\n              'hover:opacity-50'\n            ]\"\n            @click=\"data.showResult = !data.showResult\">\n            {{ !data.showResult ? 'Show Result' : 'Hide Result' }}\n            <i class=\"material-icons\">\n              expand_more\n            </i>\n          </div>\n        </div>\n        <transition name=\"slide-fade\">\n          <div v-if=\"data.showResult\">\n            <PhonecheckInfo v-model:data=\"data.result.device\" :is-error=\"!data.result.device\" scan />\n          </div>\n        </transition>\n      </div>\n    </TransitionGroup>\n    <div\n      v-if=\"!data.result.device\"\n      :class=\"[\n        'border-t border-grey-04',\n        'border-dotted text-center'\n      ]\"\n      :style=\"{\n        lineHeight: '0.1rem'\n      }\">\n      <span\n        :class=\"[\n          'text-grey-04',\n          'bg-white px-2 py-1'\n        ]\">OR</span>\n    </div>\n    <div v-else-if=\"showWarning && data.result.device\">\n      <div class=\"bg-orange-01 text-orange-03 rounded-md px-6 py-3\">\n        <div class=\"flex gap-x-4\">\n          <i class=\"material-icons\">info</i>\n          <p class=\"text-base\">Review the diagnostic results to ensure the product matches your needs before completing the form.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div v-else-if=\"show\">\n    <div v-loading=\"data.loading.code\" :class=\"data.loading.code && 'h-40'\"></div>\n  </div>\n</template>\n<script>\nimport { computed, defineComponent, onMounted, ref, watch } from 'vue'\nimport { useStore } from 'vuex'\n\nimport Alert from 'bbUi/components/alert/alert.vue'\nimport PhonecheckInfo from 'components/Phonecheck/Info.vue'\n\nexport default defineComponent({\n  name: 'DeviceScan',\n  components: {\n    Alert,\n    PhonecheckInfo\n  },\n  props: {\n    show: {\n      type: Boolean,\n      default: false\n    },\n    selected: {\n      type: Object,\n      default: undefined\n    }\n  },\n  emits: ['scanned'],\n  setup(props, { emit }) {\n    const storage = computed(() => store.state.user.bbbScan)\n    const showWarning = computed(() => {\n      return !props.selected ? true : props.selected && !props.selected.product_id ?  true : false\n    })\n    const store = useStore()\n    const data = ref({\n      loading: {\n        code: false\n      },\n      error: {\n        code: false\n      },\n      result: {\n        code: undefined,\n        device: undefined\n      },\n      showResult: false\n    })\n\n    const handleGenerate = async () => {\n      data.value.loading.code = true\n      await store.dispatch('buyback/local/generateQR').then((res) => {\n        data.value.loading.code = false\n        if (res && Object.keys(res).length) {\n          data.value.result.code = res\n          store.commit('user/SET_BBB_SCAN', data.value.result)\n        }\n        // localStorage.setItem('bbb_scan', JSON.stringify(data.value.result))\n      }).catch(() => {\n        data.value.loading.code = false\n        data.value.result.code = undefined\n      })\n    }\n\n    onMounted(async () => {\n      const oldData = localStorage.getItem('bbb_scan') && localStorage.getItem('bbb_scan') != 'undefined'\n        ? JSON.parse(localStorage.getItem('bbb_scan'))\n        : undefined\n\n      if (oldData) {\n        data.value.result.code = oldData.code\n        store.commit('user/SET_BBB_SCAN', {\n          code: data.value.result.code\n        })\n        data.value.result.device = undefined\n      } else {\n        await handleGenerate()\n      }\n    })\n\n    watch(() => storage.value, (val) => {\n      data.value.result.code = (val && val.code) || undefined\n      data.value.result.device = (val && val.device) || undefined\n      emit('scanned', data.value.result.device)\n    }, {\n      deep: true\n    })\n\n    return {\n      data,\n      storage,\n      showWarning,\n      handleGenerate\n    }\n  }\n})\n</script>\n","<template>\n  <span v-if=\"!$slots.trigger\">\n    <slot>\n      <Button\n        color=\"teal\"\n        @click=\"modal = !modal\">\n        <span class=\"whitespace-nowrap\">\n          {{ label }}\n        </span>\n      </Button>\n    </slot>\n  </span>\n  <span v-else @click=\"modal = !modal\">\n    <slot name=\"trigger\"></slot>\n  </span>\n  <Modal\n    v-model=\"modal\"\n    hide-footer>\n    <template #header>\n      <div v-loading=\"loading\" class=\"flex gap-x-2\">\n        <div v-if=\"deviceDetail\">\n          {{ deviceDetail.Name }} Scan Result\n          <p class=\"text-sm font-normal text-grey-04\">{{ deviceDetail.Date }}</p>\n        </div>\n        <!-- <div>\n          <Button color=\"teal\" dense>\n            <i class=\"material-icons text-lg\">print</i>          \n          </Button>\n        </div> -->\n      </div>\n    </template>\n    <div v-loading=\"loading\">\n      <template v-if=\"deviceDetail\">\n        <PhonecheckInfo\n          v-model:data=\"deviceDetail\"\n          :is-error=\"!deviceDetail\"\n          scan\n        />\n      </template>\n    </div>\n    <template #footer>\n      <span></span>\n    </template>\n  </Modal>\n</template>\n\n<script>\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { useStore } from 'vuex'\n\nimport Button from 'bbUi/components/button/button.vue'\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport PhonecheckInfo from 'components/Phonecheck/Info.vue'\n\nexport default defineComponent({\n  name: 'BBBScan',\n  components: {\n    PhonecheckInfo,\n    Button,\n    Modal\n  },\n  props: {\n    modelValue: {\n      type: [Number, Object],\n      default: undefined\n    },\n    static: {\n      type: Boolean,\n      default: false\n    },\n    label: {\n      type: String,\n      default: 'Diagnostic Report'\n    }\n  },\n  setup(props) {\n    const device = computed(() => props.modelValue)\n    const deviceDetail = ref(props.static ? props.modelValue : undefined)\n    const loading = ref(false)\n    const store = useStore()\n    const modal = ref(false)\n\n    watch(() => modal.value, async () => {\n      if (modal.value && device.value && !props.static) {\n        loading.value = true\n        await store.dispatch('buyback/local/getDiagnosticBBB', device.value).then(res => {\n          loading.value = false\n          deviceDetail.value = Array.isArray(res) ? res.shift() : res\n        }).catch(() => {\n          loading.value = false\n          deviceDetail.value = undefined\n        })\n      }\n    })\n\n    return {\n      deviceDetail,\n      loading,\n      device,\n      modal\n    }\n  }\n})\n</script>","<template>\n  <a\n    href=\"#\"\n    class=\"py-3 px-6 hover:bg-grey-01 rounded-md text-grey-base hover:text-grey-base leading-6\"\n    @click.prevent=\"modal = !modal\">\n    {{ label }}\n  </a>\n  <Modal\n    v-model=\"modal\"\n    hide-header\n    hide-footer\n    class=\"modal-xs-custom\">\n    <div class=\"space-y-6 text-center py-6\">\n      <i\n        class=\"material-icons text-red-base\"\n        style=\"font-size: 10rem !important; line-height: 10rem;\">\n        info_outline\n      </i>\n      <p class=\"text-2xl font-semibold\">Cancel Progress?</p>\n      <div class=\"flex items-center justify-center gap-x-4\">\n        <a\n          href=\"#\"\n          class=\"py-2 px-4 hover:opacity-80 rounded-md bg-red-base text-white hover:text-white leading-6\"\n          @click.prevent=\"handleCancel\">\n          {{ labelCancel }}\n        </a>\n        <a\n          href=\"#\"\n          class=\"py-2 px-4 hover:bg-grey-01 rounded-md text-grey-base hover:text-grey-base leading-6\"\n          @click.prevent=\"modal = false\">\n          {{ labelContinue }}\n        </a>\n      </div>\n    </div>\n  </Modal>\n</template>\n\n<script>\nimport { defineComponent, ref } from 'vue'\n\nimport Button from 'bbUi/components/button/button.vue'\nimport Modal from 'bbUi/components/modal/modal.vue'\n\nexport default defineComponent({\n  name: 'CancelAdd',\n  components: {\n    Button,\n    Modal\n  },\n  props: {\n    label: {\n      type: String,\n      default: 'Cancel'\n    },\n    labelCancel: {\n      type: String,\n      default: 'Yes, Cancel'\n    },\n    labelContinue: {\n      type: String,\n      default: 'Continue Add Product'\n    }\n  },\n  emits: ['cancel'],\n  setup(_, { emit }) {\n    const modal = ref(false)\n    const handleCancel = () => {\n      modal.value = false\n      emit('cancel')\n    }\n\n    return {\n      modal,\n      handleCancel\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.modal-xs-custom {\n  .modal-dialog {\n    max-width: 420px !important;\n  }\n}\n</style>"],"names":["_sfc_main","defineComponent","name","components","Alert","PhonecheckInfo","props","show","type","Boolean","default","selected","Object","emits","[object Object]","emit","storage","computed","store","state","user","bbbScan","showWarning","product_id","useStore","data","ref","loading","code","error","result","device","showResult","handleGenerate","async","value","dispatch","then","res","keys","length","commit","catch","onMounted","oldData","localStorage","getItem","JSON","parse","watch","val","deep","key","_hoisted_6","class","_hoisted_7","lineHeight","_ctx","_createElementBlock","_hoisted_1","_withCtx","_openBlock","_hoisted_5","_createElementVNode","_toDisplayString","Name","_createTextVNode","_hoisted_9","_createVNode","_component_PhonecheckInfo","onUpdate:data","_cache","$event","is-error","_hoisted_2","_hoisted_3","src","qr_code","_hoisted_11","_hoisted_10","_hoisted_12","_withDirectives","Button","Modal","modelValue","Number","static","label","String","deviceDetail","modal","Array","isArray","shift","_hoisted_4","_Fragment","$slots","_component_Button","color","onUpdate:modelValue","header","labelCancel","labelContinue","_","handleCancel","href","_withModifiers","hide-header","hide-footer","font-size","line-height","args"],"mappings":"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"}