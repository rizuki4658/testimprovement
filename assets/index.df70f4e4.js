var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,d=(e,a)=>{for(var l in a||(a={}))o.call(a,l)&&i(e,l,a[l]);if(t)for(var l of t(a))n.call(a,l)&&i(e,l,a[l]);return e},s=(e,t)=>a(e,l(t));import{u as r}from"./components.2c51ae72.js";import{k as u,g as c,f as m,y as g,m as p,o as h,n as v,w as b,I as f,B as _,D as y,S as w,t as x,U as V,z as k,aO as S,K as C,Q as P,aQ as L,a2 as U,a3 as B,F as W,T as O,a4 as T,a0 as I,A as $,W as M,q as j,G as F,H as z,L as D,s as E,r as A,ap as G,_ as q,X as R,aF as N,O as Y,a5 as H}from"./vendor.f1efedad.js";import{v as K,w as X,x as Q,y as J}from"./setting.bd993b06.js";import{b as Z,f as ee,_ as ae,am as le,j as te,g as oe,P as ne,e as ie,S as de,d as se,u as re,B as ue,Q as ce,E as me}from"./index.ec266ec1.js";import{c as ge}from"./dashboard.e20cdc3f.js";import{C as pe}from"./card.198a6be1.js";import{B as he}from"./Breadcrumb.0ccfede3.js";import{u as ve}from"./index.32689823.js";import{r as be,f as fe,g as _e,c as ye,n as we}from"./index.05b14cb2.js";import{_ as xe}from"./fieldset.93cf49f0.js";import{_ as Ve}from"./radio.5fc4a63d.js";import{V as ke}from"./vue-draggable-next.esm-bundler.0ebea46e.js";import{c as Se}from"./copy.ef53d68d.js";import{c as Ce,T as Pe}from"./TextEditor.7498b5b6.js";import{r as Le,a as Ue,u as Be,f as We}from"./index.a87b789d.js";import{P as Oe}from"./PopoverDark.e51a80a2.js";import{_ as Te}from"./unlock.29bb9197.js";import{C as Ie}from"./CollapsibleCard.a1352d53.js";import{S as $e}from"./SVGLoader.6f990f08.js";import{I as Me}from"./InputFile.5108b087.js";import{W as je,a as Fe}from"./index.7e5c7aed.js";import"./LoadingCard.93d3634e.js";import"./date.f86face7.js";import"./breadcrumb.624a01cc.js";const ze=u({name:"WidgetStartingPoint",components:{Fieldset:xe,Button:Z,Radio:Ve,Input:ee},props:{modelValue:{type:Object,default:()=>({})},loading:{type:Object,default:()=>({})},proplan:{type:Boolean,default:!1},whiteLabel:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const{open:l}=le(),t=c({get:()=>e.modelValue,set:e=>a("update:modelValue",e)}),o=m(null);return g((()=>t.value.search_bar_text),(e=>{o.value=e}),{immediate:!0}),{starting:t,searchText:o,handleWidgetSearchbar:()=>{e.proplan?t.value.is_widget_enable_brand_step="3":l({title:"Search Bar",description:"Start the buyback widget at a search bar. Using machine learning and advanced algorithms we perfected the search for buybacks. Allow customers to find and complete buybacks up to 25% faster than clicking.",image_url:"/images/paywall/paywall-widget-searchbar.svg"})},handleSearchChangeText:()=>{t.value.search_bar_text=o.value}}}}),De={class:"space-y-6"},Ee={class:"flex items-center gap-x-3"},Ae={key:0,class:"block py-1 px-4 bg-green-04 text-white rounded-full"};var Ge=ae(ze,[["render",function(e,a,l,t,o,n){const i=p("Radio"),d=p("Tooltip"),s=p("Input"),r=p("Fieldset");return h(),v(r,{class:"mb-6 rounded-xl"},{label:b((()=>a[6]||(a[6]=[f("Starting Point")]))),default:b((()=>[_("div",null,[a[14]||(a[14]=_("div",{class:"mb-2 font-bold"},"Widget Starting Point",-1)),_("div",null,[y(i,{modelValue:e.starting.is_widget_enable_brand_step,"onUpdate:modelValue":a[0]||(a[0]=a=>e.starting.is_widget_enable_brand_step=a),class:"font-normal",value:"1"},{default:b((()=>a[7]||(a[7]=[f(" Brand ")]))),_:1},8,["modelValue"])]),_("div",null,[y(i,{modelValue:e.starting.is_widget_enable_brand_step,"onUpdate:modelValue":a[1]||(a[1]=a=>e.starting.is_widget_enable_brand_step=a),class:"font-normal",value:"2"},{default:b((()=>a[8]||(a[8]=[f(" Category ")]))),_:1},8,["modelValue"])]),_("div",null,[y(i,{modelValue:e.starting.is_widget_enable_brand_step,"onUpdate:modelValue":a[2]||(a[2]=a=>e.starting.is_widget_enable_brand_step=a),class:"font-normal",value:"0"},{default:b((()=>a[9]||(a[9]=[f(" Product ")]))),_:1},8,["modelValue"])]),_("div",De,[y(i,{modelValue:e.starting.is_widget_enable_brand_step,"onUpdate:modelValue":a[3]||(a[3]=a=>e.starting.is_widget_enable_brand_step=a),class:"font-normal",value:"3",onClick:w(e.handleWidgetSearchbar,["prevent"])},{default:b((()=>[_("div",Ee,[a[13]||(a[13]=f(" Search Bar ")),y(d,{placement:"top"},{content:b((()=>a[10]||(a[10]=[_("div",{class:"w-72 text-justify text-sm"}," This setting will only display a search bar and will populate products as the user types. ",-1)]))),default:b((()=>[a[11]||(a[11]=_("i",{class:"text-teal-04 material-icons cursor-pointer"}," info ",-1))])),_:1}),e.proplan?V("",!0):(h(),x("div",Ae,a[12]||(a[12]=[_("p",null,"Pro",-1)])))])])),_:1},8,["modelValue","onClick"]),"3"==e.starting.is_widget_enable_brand_step?(h(),x("form",{key:0,class:"space-y-4",autocomplete:"off",onSubmit:a[5]||(a[5]=w(((...a)=>e.handleSearchChangeText&&e.handleSearchChangeText(...a)),["prevent"]))},[y(s,{modelValue:e.searchText,"onUpdate:modelValue":a[4]||(a[4]=a=>e.searchText=a),label:"Search Bar Text",placeholder:"Search",block:""},null,8,["modelValue"])],32)):V("",!0)])])])),_:1})}]]);const qe=u({name:"WidgetCode",components:{Fieldset:xe,Button:Z},props:{modelValue:{type:String,default:void 0},title:{type:String,default:"Widget Code"},noTitle:{type:Boolean,default:!1},type:{type:String,default:"base"}},setup(e){const a=m("Copy"),l=c((()=>e.modelValue)),t=m(void 0);return k((()=>{clearTimeout(t.value)})),{text:a,codes:l,timerCopyCode:t,copyCode:()=>{var e=document.body.appendChild(document.createElement("textarea"));e.value=l.value,e.focus(),e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),e.parentNode.removeChild(e),a.value="Copied",t.value=setTimeout((()=>a.value="Copy"),3e3)}}}}),Re={class:"bg-grey-lighten text-sm mb-4 px-4 py-6 border border-grey-02"},Ne={id:"code",class:"widget-code"},Ye={class:"text-right"},He={class:"mx-1"};var Ke=ae(qe,[["render",function(e,a,l,t,o,n){const i=p("Button"),s=p("Fieldset");return h(),v(s,{style:P(d({},e.noTitle&&{border:"0 !important",padding:"0"})),class:"mb-6 rounded-xl"},S({default:b((()=>[_("div",null,[a[0]||(a[0]=_("p",{class:"mb-6 text-black w-full"},[f(" Copy the following code and paste it as close to the opening "),_("code",null,"<head>"),f(" tag as possible on every page you wish to display the buyback widget. ")],-1)),_("div",Re,[_("code",Ne,C(e.codes),1)])]),_("div",Ye,[y(i,{color:"teal",onClick:e.copyCode,dense:""},{default:b((()=>[a[1]||(a[1]=_("i",{class:"material-symbols-outlined mx-1"},"content_copy",-1)),_("span",He,C(e.text),1)])),_:1},8,["onClick"])])])),_:2},[e.noTitle?void 0:{name:"label",fn:b((()=>[f(C(e.title),1)])),key:"0"}]),1032,["style"])}]]);var Xe=ae(u({name:"WidgetHost",components:{Fieldset:xe,Alert:te,Input:ee},props:{modelValue:{type:String,default:void 0}},emits:["update:modelValue"],setup:(e,{emit:a})=>({link:c({get:()=>e.modelValue,set:e=>a("update:modelValue",e)})})}),[["render",function(e,a,l,t,o,n){const i=p("Alert"),d=p("Input"),s=p("Fieldset");return h(),v(s,{class:"mb-6 rounded-xl"},{label:b((()=>a[1]||(a[1]=[f("Widget URL")]))),default:b((()=>[y(i,{color:"blue",view:"smooth",class:"mb-3"},{default:b((()=>a[2]||(a[2]=[_("div",{class:"-mx-2 -my-1 flex items-start text-sm gap-x-2"},[_("i",{class:"material-icons"},"error"),_("span",null,"Please ensure that you provide the Widget URL correctly.")],-1)]))),_:1}),y(d,{modelValue:e.link,"onUpdate:modelValue":a[0]||(a[0]=a=>e.link=a),label:"Add the URL your widget is being hosted on",placeholder:"Widget URL",block:""},null,8,["modelValue"])])),_:1})}]]);const Qe=u({name:"DragList",components:{draggable:ke},props:{myKey:{type:[Number,String],default:void 0},modelValue:{type:Array,default:()=>[]},child:{type:Boolean,default:!1},lastLine:{type:Boolean,default:!0}},emits:["update:modelValue","change","opened","change-child"],setup(e,{emit:a}){const l=m(void 0),t=c((()=>e.myKey?e.key:"")),o=m(!1),n=m(!1),i=c((()=>e.lastLine)),s=m([]),r=c((()=>({animation:300,disabled:h.value,ghostClass:"drag-ghost"}))),u=c((()=>e.child)),p=c((()=>s.value)),h=c((()=>!![...s.value].filter((e=>e.show)).length));return g((()=>e.modelValue),(()=>s.value=e.modelValue),{immediate:!0}),{index:t,myList:s,showChild:e=>(s.value[e].show=!s.value[e].show,s.value[e].show&&a("opened",s.value[e]),s.value[e]),realValue:p,isChild:u,isDragged:n,disabled:o,dragOptions:r,isShowChild:h,isLastLine:i,changeValue:()=>{a("change",s.value),e.child&&a("change-child",{key:e.myKey,value:s.value}),a("update:modelValue",s.value)},changeChild:l=>{a("change-child",d({key:e.myKey},l))},listChild:l}}}),Je={class:"drag-item-group-title"},Ze={class:"hover:bg-teal-01"},ea={class:"drag-item-group-title-info"},aa={class:"mx-4 flex items-center gap-x-3 py-3"},la={class:"flex items-center gap-x-2"},ta=["onClick"],oa={key:0},na={key:0,"slot:name":"footer",class:"my-0 border-grey-02"};const ia=u({name:"WidgetSortOrder",components:{DragList:ae(Qe,[["render",function(e,a,l,t,o,n){const i=p("DragList",!0),d=p("draggable");return h(),v(d,T({modelValue:e.myList,"onUpdate:modelValue":a[0]||(a[0]=a=>e.myList=a)},e.dragOptions,{tag:"ul",group:{name:`deviceD${e.index}`,put:!0,pull:!1},handle:".drag-handle",class:"drag-item-container",onStart:a[1]||(a[1]=a=>e.isDragged=!0),onEnd:a[2]||(a[2]=a=>e.isDragged=!1),onChange:e.changeValue}),{default:b((()=>[y(L,{type:"transition",name:e.isDragged?null:"drag-flip-list"},{default:b((()=>[(h(!0),x(U,null,B(e.myList,((l,t)=>(h(),x("li",{key:t,class:"drag-item-group border-t border-grey-02 relative"},[_("div",Je,[_("div",Ze,[_("div",ea,[_("div",aa,[_("button",{class:W([[e.isShowChild?"cursor-not-allowed opacity-50":"cursor-move drag-handle"],"p-0"])},a[3]||(a[3]=[_("i",{class:"material-icons"},"drag_indicator",-1)]),2),_("div",la,[l.list?(h(),x("button",{key:0,class:W(["drag-icon",l.show?"rotate":""]),onClick:a=>e.showChild(t)},a[4]||(a[4]=[_("i",{class:"material-icons"},"arrow_right",-1)]),10,ta)):V("",!0),_("p",null,C(l.name),1)])])])])]),y(O,{name:"drag-collapse"},{default:b((()=>[l.show&&l.list?(h(),x("div",oa,[y(i,{ref_for:!0,ref:"listChild",modelValue:l.list,"onUpdate:modelValue":e=>l.list=e,"my-key":l.key,class:"drag-item-sub",lastLine:!1,child:"",onChangeChild:e.changeChild},null,8,["modelValue","onUpdate:modelValue","my-key","onChangeChild"])])):V("",!0)])),_:2},1024)])))),128))])),_:1},8,["name"]),e.isLastLine?(h(),x("hr",na)):V("",!0)])),_:1},16,["modelValue","group","onChange"])}],["__scopeId","data-v-e3271bec"]])},props:{modelValue:{type:Object,default:void 0},customStarting:{type:[Object],default:void 0},currentStarting:{type:[Number,String],default:0},open:{type:Boolean,default:!1}},emits:["update:modelValue","update:sortOrder"],async setup(e,{emit:a}){const l=c((()=>e.modelValue||void 0)),t=c((()=>e.customStarting.brand_slug||e.customStarting.category_slug||e.customStarting.device_slug||e.customStarting.token_model?e.customStarting.search:0==e.currentStarting?"Product":1==e.currentStarting?"Brand":2==e.currentStarting?"Category":"Unknown")),{loading:o,actionShowSortOrder:n,actionShowSortOrderChild:i,updateSortLevelOne:d,updateSortLevelTwo:s}=K(),r=async()=>{if(!l.value||!l.value.data)return await n()};return await r(),{loading:o,sortOrder:l,startingPointText:t,actionShowSortOrder:n,handleCollapseSort:async e=>{e.list.length||await i(e)},handleOpenentCollapse:r,handleSortingLevelOne:async e=>{if(!l.value.key)return;const t={key:l.value.key,items:e.map((e=>({name:e.name})))};await d(t,(()=>{a("update:sortOrder")}))},handleSortingLevelTwo:async e=>{if(!e.key)return;const l={key:e.key,items:e.value.map((e=>({name:e.name})))};await s(l,(()=>{a("update:sortOrder")}))}}}}),da={class:"fieldset rounded-xl"},sa={class:"fieldset__label"},ra={class:"py-2"};var ua=ae(ia,[["render",function(e,a,l,t,o,n){const i=p("DragList"),d=I("loading");return $((h(),x("fieldset",da,[_("legend",sa," Reordered by "+C(e.startingPointText),1),_("div",ra,[e.sortOrder?(h(),v(i,{key:0,modelValue:e.sortOrder.data,"onUpdate:modelValue":a[0]||(a[0]=a=>e.sortOrder.data=a),onOpened:e.handleCollapseSort,onChange:e.handleSortingLevelOne,onChangeChild:e.handleSortingLevelTwo},null,8,["modelValue","onOpened","onChange","onChangeChild"])):V("",!0)])])),[[d,e.loading.sort_order]])}]]);const ca=u({props:{block:{type:Boolean,default:!1},alignment:{type:String,default:"bottom-left",validator:e=>!(!e||"string"!=typeof e)&&["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"].includes(e)},maxWidth:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},zIndex:{type:[String,Number],default:""},coverWidth:{type:Boolean,default:!1}},setup(e){const a=m(null),l=m(null),t=m(!1),o=c((()=>({width:e.block?"100%":"max-content"}))),n=c((()=>{if(e.alignment){const[a,l]=e.alignment.split("-");return{vertically:a,horizontally:l}}return{vertically:"bottom",horizontally:"center"}})),i=()=>{if(a.value&&l.value){const{top:t,bottom:o,height:i,left:d,right:s,width:r}=l.value.getBoundingClientRect();"bottom"===n.value.vertically?(a.value.style.top=`${t+i}px`,a.value.style.bottom="unset"):(a.value.style.bottom=`${window.innerHeight-o+i}px`,a.value.style.top="unset"),"left"===n.value.horizontally?(a.value.style.left=`${d}px`,a.value.style.right="unset"):"right"===n.value.horizontally?(a.value.style.right=window.innerWidth-s+"px",a.value.style.left="unset"):(a.value.style.right="unset",E((()=>{a.value.style.left=d-a.value.getBoundingClientRect().width/2+r/2+"px"}))),e.zIndex&&!isNaN(parseInt(e.zIndex))?a.value.style.zIndex=`${e.zIndex}`:a.value.style.zIndex="99",e.maxWidth&&!isNaN(parseInt(e.maxWidth))?a.value.style.maxWidth=`${parseInt(e.maxWidth)}px`:a.value.style.maxWidth="100%",e.minWidth&&!isNaN(parseInt(e.minWidth))&&(a.value.style.minWidth=`${parseInt(e.minWidth)}px`),e.coverWidth&&(a.value.style.minWidth=`${r}px`)}},d=()=>i();return M((()=>window.addEventListener("scroll",oe(d,100),!0))),k((()=>window.removeEventListener("scroll",d))),{refSheet:a,refReference:l,isCollapse:t,referenceStyles:o,openSheet:()=>{i(),t.value=!0},closeSheet:()=>t.value=!1,toggleSheet:()=>{t.value=!t.value,t.value&&i()}}}}),ma={ref:"refSheet",class:"floating-sheets__sheet"};var ga=ae(ca,[["render",function(e,a,l,t,o,n){const i=I("outside");return $((h(),x("div",{class:"floating-sheets",style:P(e.referenceStyles)},[_("div",{ref:"refReference",class:"floating-sheets__reference",style:P(e.referenceStyles)},[j(e.$slots,"reference",F(z({openSheet:e.openSheet,closeSheet:e.closeSheet,toggleSheet:e.toggleSheet})))],4),y(O,{name:"fade"},{default:b((()=>[$(_("div",ma,[j(e.$slots,"default",F(z({openSheet:e.openSheet,closeSheet:e.closeSheet,toggleSheet:e.toggleSheet})))],512),[[D,e.isCollapse]])])),_:3})],4)),[[i,e.closeSheet]])}]]);const pa=u({name:"WidgetLandingLocations",components:{Pagination:ne,Checkbox:ie,Select:de,Input:ee},props:{modelValue:{type:[Array,Object,String,Number,Boolean],default:void 0},selectedProduct:{type:Object,default:()=>({})},isReset:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const{loading:l,state:t,query:o,show:n,currentLocation:i}=X(),s=c((()=>e.selectedProduct)),r=c((()=>t.value.locations&&t.value.locations.data&&t.value.locations.data||t.value.locations&&Array.isArray(t.value.locations)&&t.value.locations||[])),u=c({get:()=>e.modelValue,set:e=>a("update:modelValue",e)}),m=c((()=>!1)),p=async()=>{await n(s.value&&d({},e.selectedProduct)||void 0)};return g((()=>({search:o.value.search,page:o.value.page})),(()=>{t.value.isSwitch&&oe((async()=>{await p()}),500)()})),g((()=>e.selectedProduct.search),(e=>{u.value=null,t.value.isSwitch=!1,t.value.locations=[]})),{handleSwitch:async()=>{t.value.locations={},u.value=null,t.value.isSwitch&&oe((async()=>{await p(),(()=>{const e=!!r.value.length&&[...r.value].find((e=>e.name===i.value.name))||void 0;e&&(u.value=e.token_location)})()}),300)()},currentLocation:i,selectedLocation:u,disableSwitch:m,locations:r,product:s,loading:l,state:t,query:o,show:n}}}),ha={class:"space-y-6 mb-2"},va={class:"flex items-center gap-x-1"},ba={class:"px-4 py-4 w-full"},fa={key:0,class:"material-icons text-lg text-teal-04"},_a={class:"py-2 transform scale-75"};var ya=ae(pa,[["render",function(e,a,l,t,o,n){const i=p("Checkbox"),d=p("Input"),s=p("Pagination"),r=p("Select");return h(),x("div",ha,[_("div",va,[y(i,{modelValue:e.state.isSwitch,"onUpdate:modelValue":[a[0]||(a[0]=a=>e.state.isSwitch=a),e.handleSwitch],disabled:e.disableSwitch,type:"toggle",color:"success"},null,8,["modelValue","disabled","onUpdate:modelValue"]),a[5]||(a[5]=_("label",{class:"font-semibold"}," Specific Location ",-1))]),y(r,{modelValue:e.selectedLocation,"onUpdate:modelValue":a[4]||(a[4]=a=>e.selectedLocation=a),loading:e.loading,items:e.locations,disabled:!e.state.isSwitch,placeholder:"Choose Location","max-height":"280px",name:"name",by:"token_location","no-border":"",block:""},{prepend:b((()=>[_("div",ba,[y(d,{modelValue:e.query.search,"onUpdate:modelValue":a[1]||(a[1]=a=>e.query.search=a),placeholder:"Search Location",class:"w-full",block:"",icon:""},{icon:b((()=>a[6]||(a[6]=[_("span",{class:"material-icons"},"search",-1)]))),_:1},8,["modelValue"])])])),item:b((({item:a})=>[_("div",{class:W([e.selectedLocation&&a.token_location===e.selectedLocation?"text-teal-04 font-semibold":"","flex gap-x-2 items-center"])},[f(C(a.name)+" ",1),e.selectedLocation&&a.token_location===e.selectedLocation?(h(),x("span",fa," check_circle ")):V("",!0)],2)])),append:b((()=>[_("div",_a,[y(s,{page:e.query.page,"onUpdate:page":a[2]||(a[2]=a=>e.query.page=a),limit:e.query.limit,"onUpdate:limit":a[3]||(a[3]=a=>e.query.limit=a),data:e.state.locations,"hide-show-entries":"","hide-detail-page":"",small:""},null,8,["page","limit","data"])])])),_:1},8,["modelValue","loading","items","disabled"])])}]]);const wa=u({name:"WidgetLandingCombination",props:{modelValue:{type:[Array,Object,String,Number,Boolean],default:void 0},selectedProduct:{type:Object,default:()=>({})}},components:{Select:de},emits:["combine"],async setup(e,{emit:a}){const{loading:l,state:t,query:o,show:n,showToken:i}=Q(),s=m([{name:"None",value:null},{name:"By year",value:1},{name:"By screen size",value:2},{name:"By year & screen size",value:3}]),r=m({by:null,screenSize:null,releaseYear:null,tokenModel:null}),u=c((()=>t.value.screenSize&&t.value.screenSize.length&&[...t.value.screenSize].shift()||null)),p=c((()=>t.value.releaseYear&&t.value.releaseYear.length&&[...t.value.releaseYear].shift()||null)),h=async()=>{await i(d(d(d({},r.value.screenSize&&{screen_size:r.value.screenSize}),r.value.releaseYear&&{release_year:r.value.releaseYear}),e.selectedProduct.token_model&&{token_model:e.selectedProduct.token_model}),(e=>{e&&e.token_model&&(r.value.tokenModel=e.token_model)}))},v=async a=>{o.value.custom_starting_value=e.selectedProduct.custom_starting_value,a&&(o.value.option_attribute=a),r.value.screenSize&&(o.value.screen_size=r.value.screenSize),r.value.releaseYear&&(o.value.release_year=r.value.releaseYear),await n()},b=async e=>{r.value.tokenModel=null,r.value.screenSize=e,await h()},f=async e=>{if(r.value.screenSize=null,r.value.releaseYear=e,3===r.value.by)return await v("screenSize"),u.value&&b(u.value.value);r.value.tokenModel=null,await h()};return g((()=>r.value.tokenModel),(()=>{a("combine",r.value.tokenModel)})),g((()=>e.selectedProduct),((e,a)=>{a&&a.search&&e.search!==a.search&&(r.value.by=null,r.value.tokenModel=null,r.value.screenSize=null,r.value.releaseYear=null,delete o.value.screen_size,delete o.value.release_year,t.value={relaseYear:[],screenSize:[]})}),{immediate:!0,deep:!0}),{state:t,loading:l,itemsBy:s,selected:r,handleYear:f,handleScreen:b,handleSelectedBy:async()=>{if(r.value.by){delete o.value.screen_size,delete o.value.release_year,r.value.tokenModel=null,r.value.screenSize=null,r.value.releaseYear=null,await v([1,3].includes(r.value.by)?"releaseYear":"screenSize");const e={selected:[1,3].includes(r.value.by)?p.value&&p.value.value:u.value&&u.value.value,handler:[1,3].includes(r.value.by)?f:b};e.selected&&e.handler(e.selected)}}}}}),xa={class:"space-y-4"},Va={key:0},ka={key:1};const Sa=u({name:"WidgetLanding",components:{FloatingSheets:ga,WidgetCode:Ke,Locations:ya,Fieldset:xe,Input:ee,Combination:ae(wa,[["render",function(e,a,l,t,o,n){const i=p("Select"),d=I("loading");return h(),x("div",xa,[_("div",null,[y(i,{modelValue:e.selected.by,"onUpdate:modelValue":[a[0]||(a[0]=a=>e.selected.by=a),e.handleSelectedBy],items:e.itemsBy,placeholder:"None","max-height":"200px",name:"name",by:"value","no-border":"",block:""},null,8,["modelValue","items","onUpdate:modelValue"])]),y(L,{name:"slide-fade",tag:"div",class:"space-y-4"},{default:b((()=>[[1,3].includes(e.selected.by)?(h(),x("div",Va,[a[3]||(a[3]=_("label",{id:"releaseYear",class:"font-normal"},"Select Year",-1)),$(y(i,{modelValue:e.selected.releaseYear,"onUpdate:modelValue":[a[1]||(a[1]=a=>e.selected.releaseYear=a),e.handleYear],id:"releaseYear",items:e.state.releaseYear,placeholder:"None","max-height":"200px",name:"release_year",by:"value","no-border":"",block:""},null,8,["modelValue","items","onUpdate:modelValue"]),[[d,e.loading.releaseYear]])])):V("",!0),3===e.selected.by&&e.selected.releaseYear||2===e.selected.by?(h(),x("div",ka,[a[4]||(a[4]=_("label",{id:"screenSize",class:"font-normal"},"Select Screen Size",-1)),$(y(i,{modelValue:e.selected.screenSize,"onUpdate:modelValue":[a[2]||(a[2]=a=>e.selected.screenSize=a),e.handleScreen],id:"screenSize",items:e.state.screenSize,placeholder:"None","max-height":"200px",name:"screen_size",by:"value","no-border":"",block:""},null,8,["modelValue","items","onUpdate:modelValue"]),[[d,e.loading.screenSize]])])):V("",!0)])),_:1})])}]])},props:{modelValue:{type:Object,default:void 0},code:{type:String,default:void 0},customStarting:{type:Object,default:void 0}},emits:["update:modelValue","select","select-location","combine"],setup(e,{emit:a}){const{loading:l,actionCustomStartingPoint:t}=K(),o=m(null),n=c({get:()=>e.modelValue,set:e=>a("update:modelValue",e)}),i=c((()=>{var a,l,t,o,n,i,d,s;return!((null==(l=null==(a=e.customStarting)?void 0:a.Brands)?void 0:l.length)||(null==(o=null==(t=e.customStarting)?void 0:t.Categories)?void 0:o.length)||(null==(i=null==(n=e.customStarting)?void 0:n.Devices)?void 0:i.length)||(null==(s=null==(d=e.customStarting)?void 0:d.Models)?void 0:s.length))})),d=c((()=>!!(e.modelValue.brand_slug||e.modelValue.category_slug||e.modelValue.device_slug||e.modelValue.token_model||e.modelValue.token_model_combine||e.modelValue.token_location))),s=c((()=>{let a=e.code;try{let l,t=a.split("\n");t.forEach(((e,a)=>{e.includes("disableFloatButton")&&(l={value:e,key:a})}));const o=(e,a)=>t.splice(l.key,0,l.value.replace("disableFloatButton: false",`${e}: "${a}",`));l&&(e.modelValue.device_slug&&o("deviceSlug",e.modelValue.device_slug),e.modelValue.brand_slug&&o("brandSlug",e.modelValue.brand_slug),e.modelValue.category_slug&&o("categorySlug",e.modelValue.category_slug),e.modelValue.token_model&&o("tokenModel",e.modelValue.token_model_combine||e.modelValue.token_model),e.modelValue.token_location&&o("tokenLocation",e.modelValue.token_location)),a=t.join("\n")}catch(l){console.error(`Error generating widget code: ${l}`)}return a})),r=m(),u=oe((async()=>{await t({search:o.value})}),500);return{search:o,loading:l,isEmpty:i,showCode:d,selected:n,location:r,computedCode:s,handleReset:()=>{""===o.value&&a("update:modelValue",{device_slug:null,brand_slug:null,category_slug:null,token_model:null,token_location:null,search:""})},handleSearch:u,handleSelect:(e,l)=>{o.value=e.name,a("select",e,l)},handleSelectLocation:e=>{a("select-location",{token_location:e})},handleTokenCombination:e=>{a("combine",e)}}}}),Ca={class:"px-6 py-4",style:{maxHeight:"250px",overflowY:"auto"}},Pa={key:0},La={key:0,class:"font-semibold mb-2"},Ua=["onClick"];var Ba=ae(Sa,[["render",function(e,a,l,t,o,n){const i=p("Input"),d=p("FloatingSheets"),s=p("Combination"),r=p("Fieldset"),u=p("Locations"),c=p("WidgetCode"),m=I("loading");return h(),x(U,null,[y(d,{class:"mt-1 mb-8",block:"","cover-width":""},{reference:b((({openSheet:l})=>[a[3]||(a[3]=_("label",null,"Product",-1)),y(i,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),placeholder:"Search Brands, Models, or Categories",onInput:e.handleSearch,onFocusIn:l,onChange:e.handleReset,block:""},null,8,["modelValue","onInput","onFocusIn","onChange"])])),default:b((({closeSheet:a})=>[$((h(),x("div",Ca,[e.isEmpty?(h(),x("p",Pa,"Nothing to show")):(h(!0),x(U,{key:1},B(Object.entries(e.customStarting),(([l,t])=>(h(),x("div",{key:l},[t.length>0?(h(),x("p",La,C(l),1)):V("",!0),(h(!0),x(U,null,B(t,(t=>(h(),x("div",{key:t.slug,class:"py-3 px-4 hover:bg-grey-lighten cursor-pointer",onClick:()=>{a(),e.handleSelect(t,l)}},[_("p",null,C(t.name),1)],8,Ua)))),128))])))),128))])),[[m,e.loading.custom_starting_point]])])),_:1}),e.selected&&e.selected.is_mac&&"model"===e.selected.type?(h(),v(r,{key:0,class:"rounded-md mb-8"},{label:b((()=>a[4]||(a[4]=[f(" Combination ")]))),default:b((()=>[y(s,{"selected-product":e.selected,onCombine:e.handleTokenCombination},null,8,["selected-product","onCombine"])])),_:1})):V("",!0),y(r,{class:"mb-8 rounded-md"},{label:b((()=>a[5]||(a[5]=[f(" Location ")]))),default:b((()=>[y(u,{modelValue:e.location,"onUpdate:modelValue":[a[1]||(a[1]=a=>e.location=a),e.handleSelectLocation],"selected-product":e.selected},null,8,["modelValue","selected-product","onUpdate:modelValue"])])),_:1}),y(O,{name:"fade"},{default:b((()=>[e.showCode?(h(),v(c,{key:0,modelValue:e.computedCode,"onUpdate:modelValue":a[2]||(a[2]=a=>e.computedCode=a),title:"Unique Widget Code",type:"unique"},null,8,["modelValue"])):V("",!0)])),_:1})],64)}]]);const Wa={class:"mt-4 p-4 rounded-lg border border-grey-01"},Oa=["disabled"],Ta={class:"space-y-4"},Ia={class:"space-y-4"},$a=["onClick"];var Ma=ae({__name:"index",props:{modelValue:{type:Object,default:()=>({})},loading:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:a}){var l,t,o,n;const i=e,d=a,s=A({editor:Ce.exports.Editor,config:{htmlSupport:{allow:[{styles:!0,classes:!0}]}}}),r=["undo","redo","link","horizontalLine","specialCharacters","heading","|","bold","italic","underline","strikethrough",{label:"Basic styles",icon:"text",items:["fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","superscript","subscript","code","|","textPartLanguage","|"]},"removeFormat","|","alignment","|","bulletedList","numberedList","|","outdent","indent"],u=m(!1),p=m(null),w=m(null),k=m(0),S=m(!1),L=c({get:()=>i.modelValue,set:e=>d("update:modelValue",e)}),O=A({widget_term_condition:(null==(l=i.modelValue)?void 0:l.widget_term_condition)||"",widget_terms_custom_text:(null==(t=i.modelValue)?void 0:t.widget_terms_custom_text)||"",widget_terms_custom_text_shortcode:(null==(o=i.modelValue)?void 0:o.widget_terms_custom_text_shortcode)||[],widget_submit_custom_text:(null==(n=i.modelValue)?void 0:n.widget_submit_custom_text)||""}),T=c((()=>!S.value&&u.value?{maxHeight:"2000px",opacity:1,marginTop:"1rem"}:{maxHeight:u.value?`${k.value}px`:"0px",opacity:u.value?1:0,marginTop:u.value?"1rem":"0"})),M=()=>{u.value=!u.value},j=ve({widget_term_condition:{required:Le},widget_terms_custom_text:{required:Le},widget_submit_custom_text:{required:Le}},O,{$lazy:!0}),F=async()=>{await(async()=>(await j.value.$validate(),!j.value.$invalid))()&&(Object.assign(L.value,O),d("update:modelValue",L.value))};return g((()=>i.modelValue),(e=>{e&&(O.widget_term_condition=e.widget_term_condition||O.widget_term_condition,O.widget_terms_custom_text=e.widget_terms_custom_text||O.widget_terms_custom_text,O.widget_submit_custom_text=e.widget_submit_custom_text||O.widget_submit_custom_text)}),{immediate:!0,deep:!0}),(a,l)=>{const t=I("loading");return h(),v(xe,{class:"mb-6 rounded-xl"},{label:b((()=>l[5]||(l[5]=[f("Terms & Conditions")]))),default:b((()=>[_("form",null,[y(ee,{label:"Terms and Condition Link",class:"w-full",modelValue:O.widget_term_condition,"onUpdate:modelValue":l[0]||(l[0]=e=>O.widget_term_condition=e),placeholder:"link",disabled:e.loading.update,loading:e.loading.all,onFocusOut:F,view:G(j).widget_term_condition.$invalid?"danger":"default"},null,8,["modelValue","disabled","loading","view"]),(h(!0),x(U,null,B(G(j).widget_term_condition.$errors,((e,a)=>(h(),x("small",{class:"text-red-base block mt-2",key:a}," Terms and Condition Link is required ")))),128)),_("div",Wa,[_("div",{class:"flex items-start justify-between cursor-pointer",onClick:M,disabled:e.loading.update},[l[7]||(l[7]=_("p",{class:"font-semibold"},"Customize text for Terms & Conditions and Submit Button",-1)),$((h(),x("i",{class:W(["material-icons transform transition-transform duration-300",u.value?"rotate-180":""])},l[6]||(l[6]=[f(" expand_more ")]),2)),[[t,e.loading.all]])],8,Oa),!S.value&&u.value?(h(),x("div",{key:0,class:"hidden",ref_key:"hiddenContent",ref:w},[_("div",Ta,[_("div",null,[l[8]||(l[8]=_("label",null,"Terms & Condition Placeholder",-1)),y(Pe,{options:s,modelValue:O.widget_terms_custom_text,"onUpdate:modelValue":l[1]||(l[1]=e=>O.widget_terms_custom_text=e),toolbarItems:r},null,8,["options","modelValue"])]),_("ul",null,[(h(!0),x(U,null,B(O.widget_terms_custom_text_shortcode,(e=>(h(),x("li",{class:"flex items-center gap-2",key:e.code},[f(C(e.name)+" ",1),_("span",null,C(e.code),1),l[9]||(l[9]=_("i",{class:"material-icons w-5 text-teal-04 cursor-pointer"}," content_copy_outlined ",-1))])))),128))]),y(ee,{label:"Submit Button Placeholder",class:"w-full mt-8",modelValue:O.widget_submit_custom_text,"onUpdate:modelValue":l[2]||(l[2]=e=>O.widget_submit_custom_text=e)},null,8,["modelValue"])])],512)):V("",!0),_("div",{ref_key:"accordionContent",ref:p,class:"overflow-hidden transition-all duration-300 ease-in-out",style:P(T.value)},[_("div",Ia,[_("div",null,[l[10]||(l[10]=_("label",null,"Terms & Condition Placeholder",-1)),y(Pe,{onBlur:F,options:s,modelValue:O.widget_terms_custom_text,"onUpdate:modelValue":l[3]||(l[3]=e=>O.widget_terms_custom_text=e),toolbarItems:r},null,8,["options","modelValue"]),(h(!0),x(U,null,B(G(j).widget_terms_custom_text.$errors,((e,a)=>(h(),x("small",{class:"text-red-base block mt-2",key:a},C(e.$message)+". ",1)))),128))]),_("ul",null,[(h(!0),x(U,null,B(O.widget_terms_custom_text_shortcode,(e=>(h(),x("li",{class:"flex items-center gap-2",key:e.code},[f(C(e.name)+" ",1),_("span",null,C(e.code),1),_("i",{onClick:a=>{return l=e.code,void navigator.clipboard.writeText(l).then((()=>{q({type:"success",message:`${l} copied to clipboard`})}));var l},class:"material-icons w-5 text-teal-04 cursor-pointer"}," content_copy_outlined ",8,$a)])))),128))]),y(ee,{label:"Submit Button Placeholder",class:"w-full mt-8",modelValue:O.widget_submit_custom_text,"onUpdate:modelValue":l[4]||(l[4]=e=>O.widget_submit_custom_text=e),onFocusOut:F,disabled:e.loading.update,loading:e.loading.all,view:G(j).widget_submit_custom_text.$invalid?"danger":"default"},null,8,["modelValue","disabled","loading","view"])]),(h(!0),x(U,null,B(G(j).widget_submit_custom_text.$errors,((e,a)=>(h(),x("small",{class:"text-red-base block mt-2",key:a},"Submit Button Placeholder is required ")))),128))],4)])])])),_:1})}}},[["__scopeId","data-v-05347218"]]);function ja(e,a,l){return Math.max(a,Math.min(e,l))}function Fa(e){const a=[],l=e.length>5?2:1;for(let t=1;t<e.length;t+=l){const o=e.substring(t,t+l).repeat(l%2+1),n=parseInt(o,16);a.push(t===3*l+1?n/255:n)}return 3===a.length&&a.push(1),{r:a[0],g:a[1],b:a[2],a:a[3]}}function za(e){const a=e.l/100,l=a+e.s/100*Math.min(a,1-a),t=0===l?0:200*(1-a/l);return{h:e.h,s:t,v:100*l,a:e.a}}function Da(e){let a=e.h%360;a<0&&(a+=360);const l=e.s/100,t=e.l/100;return{r:255*Ea(0,a,l,t),g:255*Ea(8,a,l,t),b:255*Ea(4,a,l,t),a:e.a}}function Ea(e,a,l,t){const o=(e+a/30)%12;return t-l*Math.min(t,1-t)*Math.max(-1,Math.min(o-3,9-o,1))}function Aa(e){const a=e.s/100,l=e.v/100,t=l*(1-a/2);return{h:e.h,s:0===t||1===t?0:(l-t)/Math.min(t,1-t)*100,l:100*t,a:e.a}}function Ga(e){return{h:e.h,w:e.v*(100-e.s)/100,b:100-e.v,a:e.a}}function qa(e){return Da(Aa(e))}function Ra(e){const a=e.w/100,l=e.b/100;let t,o;const n=a+l;return n>=1?(t=0,o=a/n):(o=1-l,t=100*(1-a/o)),{h:e.h,s:t,v:100*o,a:e.a}}function Na(e){const{r:a,g:l,b:t,a:o}=e,n=Math.min(a,l,t),i=Math.max(a,l,t),d=i-n,s=(i+n)/2;let r=0;0!==d&&(i===a?r=(l-t)/d+(l<t?6:0):i===l?r=(t-a)/d+2:i===t&&(r=(a-l)/d+4),r*=60);let u=0;return 0!==s&&255!==s&&(u=(i-s)/Math.min(s,255-s)),{h:r,s:100*u,l:s/255*100,a:o}}function Ya(e){return"#"+Object.values(e).map(((e,a)=>Math.round(3===a?255*e:e).toString(16).padStart(2,"0"))).join("")}function Ha(e){return Ga(za(Na(e)))}const Ka={hex:{hex:e=>e,hsl:e=>Na(Fa(e)),hsv:e=>Ra(Ha(Fa(e))),hwb:e=>Ha(Fa(e)),rgb:Fa},hsl:{hex:e=>Ya(Da(e)),hsl:e=>e,hsv:za,hwb:e=>Ha(Da(e)),rgb:Da},hsv:{hex:e=>Ya(qa(e)),hsl:Aa,hsv:e=>e,hwb:Ga,rgb:qa},hwb:{hex:e=>Ya(qa(Ra(e))),hsl:e=>Na(qa(Ra(e))),hsv:Ra,hwb:e=>e,rgb:e=>qa(Ra(e))},rgb:{hex:Ya,hsl:Na,hsv:e=>Ra(Ha(e)),hwb:Ha,rgb:e=>e}};function Xa(e,a,l){return Ka[e][a](l)}const Qa={deg:1,grad:.9,rad:180/Math.PI,turn:360},Ja={from:e=>e.endsWith("%")?al.from(e,{referenceValue:1}):el.from(e,{min:0,max:1}),to:e=>el.to(e)},Za={from(e){const a=e.match(/deg|g?rad|turn$/);if(null===a)return el.from(e);const l=a[0];return el.from(e.slice(0,-l.length))*Qa[l]},to:e=>el.to(e)},el={from:(e,{min:a=Number.NEGATIVE_INFINITY,max:l=Number.POSITIVE_INFINITY}={})=>e.endsWith(".")?NaN:ja(Number(e),a,l),to:e=>function(e,a){const l=e.toFixed(a);return l.includes(".")?l.replace(/\.?0+$/,""):l}(e,2)},al={from(e,{referenceValue:a=100,min:l=0,max:t=100}={}){if(!e.endsWith("%"))return NaN;return el.from(e.slice(0,-1),{min:l,max:t})*a/100},to:e=>el.to(e)+"%"},ll={from:e=>e.endsWith("%")?al.from(e,{referenceValue:255}):el.from(e,{min:0,max:255}),to:e=>el.to(e)},tl={hsl:{h:Za,s:al,l:al,a:Ja},hwb:{h:Za,w:al,b:al,a:Ja},rgb:{r:ll,g:ll,b:ll,a:Ja}};function ol(e,a){return tl[e][a]}function nl({format:e,color:a},l){if("hex"===e)return l&&[5,9].includes(a.length)?a.substring(0,a.length-(a.length-1)/4):a;const t=Object.entries(a).slice(0,l?3:4).map((([a,l])=>("a"===a?"/ ":"")+ol(e,a).to(l)));return`${e}(${t.join(" ")})`}function il(e){return/^#(?:(?:[A-F0-9]{2}){3,4}|[A-F0-9]{3,4})$/i.test(e)}const dl={hsl:["h","s","l","a"],hwb:["h","w","b","a"],rgb:["r","g","b","a"]};const sl=u({name:"ColorPickerPanel",components:{Input:ee},props:{modelValue:{type:String,default:"#ffffffff"},id:{type:String,default:"panel-color-picker"},visibleFormats:{type:Array,default:()=>["hex","hsl","hwb","rgb"]},defaultFormat:{type:String,default:"rgb"},alphaChannel:{type:String,default:"hide"}},emits:["color-change","color-copy","update:modelValue"],setup(e,{emit:a}){const l=["hex","hsl","hsv","hwb","rgb"],t=m(null),o=m(null),n=m(null);let i=!1;const r=m(e.visibleFormats.includes(e.defaultFormat)?e.defaultFormat:e.visibleFormats[0]),u=A({hex:"#ffffffff",hsl:{h:0,s:0,l:100,a:1},hsv:{h:0,s:0,v:100,a:1},hwb:{h:0,w:100,b:0,a:1},rgb:{r:255,g:255,b:255,a:1}}),p=c((()=>{const a=Object.keys(u[r.value]);return"hex"!==r.value&&"hide"===e.alphaChannel?a.slice(0,3):a})),h=c((()=>"hide"===e.alphaChannel&&[5,9].includes(u.hex.length)?u.hex.substring(0,u.hex.length-(u.hex.length-1)/4):u.hex));function v(){i=!1}function b(e){1===e.buttons&&i&&o.value instanceof HTMLElement&&_(o.value,e.clientX,e.clientY)}function f(e){if(!(i&&o.value instanceof HTMLElement))return;e.preventDefault();const a=e.touches[0];_(o.value,a.clientX,a.clientY)}function _(e,a,l){const t=function(e,a,l){const t=e.getBoundingClientRect(),o=a-t.left,n=l-t.top;return{x:0===t.width?0:ja(o/t.width*100,0,100),y:0===t.height?0:ja(100*(1-n/t.height),0,100)}}(e,a,l);w("hsv",s(d({},u.hsv),{s:t.x,v:t.y}))}function y(e){const a=function(e){if("string"!=typeof e){const a=function(e){return"r"in e?"rgb":"w"in e?"hwb":"v"in e?"hsv":"s"in e?"hsl":null}(e);return null===a?null:{format:a,color:e}}if(e.startsWith("#"))return il(e)?{format:"hex",color:e}:null;if(!e.includes("(")){const a=document.createElement("canvas").getContext("2d");a.fillStyle=e;const l=a.fillStyle;return"#000000"===l&&"black"!==e?null:{format:"hex",color:l}}const[a,l]=e.split("("),t=a.substring(0,3);if(!(t in dl))return null;const o=l.replace(/[,/)]/g," ").replace(/\s+/g," ").trim().split(" ");3===o.length&&o.push("1");const n=dl[t],i=Object.fromEntries(n.map(((e,a)=>[e,ol(t,e).from(o[a])])));return{format:t,color:i}}(e);null!==a&&w(a.format,a.color)}function w(i,d){let s=d;if("hide"===e.alphaChannel)if("string"!=typeof d)d.a=1,s=d;else if([5,9].includes(d.length)){const e=(d.length-1)/4;s=d.substring(0,d.length-e)+"f".repeat(e)}else[4,7].includes(d.length)&&(s=d+"f".repeat((d.length-1)/3));if(!function(e,a){if("string"==typeof e||"string"==typeof a)return e===a;for(const l in e)if(e[l]!==a[l])return!1;return!0}(u[i],s)){u[i]=s;for(const e of l)e!==i&&(u[e]=Xa(i,e,s));a("color-change",x()),a("update:modelValue",h.value)}t.value instanceof HTMLElement&&o.value instanceof HTMLElement&&n.value instanceof HTMLElement&&function(e,a,l){const t=nl({format:"hsl",color:u.hsl},!1);e.style.setProperty("--vacp-color",t),a.style.position="relative",a.style.backgroundColor=`hsl(${u.hsl.h} 100% 50%)`,a.style.backgroundImage="linear-gradient(to top, #000, transparent), linear-gradient(to right, #fff, transparent)",e.style.overflow="visible",l.style.left=`${u.hsv.s}%`,l.style.bottom=`${u.hsv.v}%`,l.style.position="absolute",l.style.backgroundColor=u.hex}(t.value,o.value,n.value)}function x(){return{color:u[r.value],format:r.value}}return g((()=>e.modelValue),y),M((()=>{document.addEventListener("mousemove",b,{passive:!1}),document.addEventListener("touchmove",f,{passive:!1}),document.addEventListener("mouseup",v),document.addEventListener("touchend",v),y(e.modelValue)})),R((()=>{document.removeEventListener("mousemove",b),document.removeEventListener("touchmove",f),document.removeEventListener("mouseup",v),document.removeEventListener("touchend",v)})),{colorPicker:t,colorSpace:o,thumb:n,activeFormat:r,colors:u,visibleChannels:p,hexInputValue:h,switchFormat:function(){const a=(e.visibleFormats.findIndex((e=>e===r.value))+1)%e.visibleFormats.length;r.value=e.visibleFormats[a]},startMovingThumbWithMouse:function(e){i=!0,b(e)},startMovingThumbWithTouch:function(e){i=!0,f(e)},stopMovingThumb:v,moveThumbWithMouse:b,moveThumbWithTouch:f,moveThumb:_,moveThumbWithArrows:function(e){if(!["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes(e.key))return;e.preventDefault();const a=["ArrowLeft","ArrowDown"].includes(e.key)?-1:1,l=["ArrowLeft","ArrowRight"].includes(e.key)?"s":"v",t=e.shiftKey?10:1,o=u.hsv[l]+a*t;w("hsv",s(d({},u.hsv),{[l]:ja(o,0,100)}))},setColorFromProp:y,handleSliderInput:function(e,a){const l=e.currentTarget;w("hsv",s(d({},u.hsv),{[a]:Number(l.value)}))},updateHexColorValue:function(e){const a=e.target;il(a.value)&&w("hex",a.value)},updateColorValue:function(e,a){const l=e.target,t=r.value,o=d({},u[t]),n=ol(t,a).from(l.value);Number.isNaN(n)||void 0===n||(o[a]=n,w(t,o))},copyColor:async function(){const l=u[r.value],t="hide"===e.alphaChannel,o=nl({color:l,format:r.value},t);await window.navigator.clipboard.writeText(o),a("color-copy",x())},getChannelAsCssValue:function(e){const a=r.value;return ol(a,e).to(u[a][e])}}}}),rl={ref:"colorPicker",class:"panel-color-picker"},ul={class:"panel-color-picker-range-input-group"},cl=["id"],ml=["for"],gl={class:"panel-color-picker-range-input-label-text panel-color-picker-range-input-label-text--alpha"},pl=["id","value"],hl={class:"flex items-center justify-between gap-x-2"},vl={class:"flex-1 flex items-center justify-between gap-x-2"},bl=["for"],fl={class:"grid grid-cols-3 gap-x-2"},_l=["id"],yl=["for"];const wl=u({name:"ColorPicker",components:{ColorPickerPanel:ae(sl,[["render",function(e,a,l,t,o,n){const i=p("Input");return h(),x("div",rl,[_("div",{ref:"colorSpace",class:"panel-color-picker-color-space",onMousedown:a[1]||(a[1]=(...a)=>e.startMovingThumbWithMouse&&e.startMovingThumbWithMouse(...a)),onTouchstart:a[2]||(a[2]=(...a)=>e.startMovingThumbWithTouch&&e.startMovingThumbWithTouch(...a))},[_("div",{ref:"thumb",class:"panel-color-picker-color-space-thumb",tabindex:"0","aria-label":"Color space thumb",onKeydown:a[0]||(a[0]=(...a)=>e.moveThumbWithArrows&&e.moveThumbWithArrows(...a))},null,544)],544),_("div",ul,[$(_("input",{id:`${e.id}-hue-slider`,type:"range",min:"0",max:"360",step:"1","onUpdate:modelValue":a[3]||(a[3]=a=>e.colors.hsv.h=a),class:"h-3 appearance-none cursor-pointer slider rounded-full",style:P({"--thumbColor":`hsl(${e.colors.hsl.h} 100% 50%)`}),onKeydownPassive:a[4]||(a[4]=(...a)=>e.changeInputValue&&e.changeInputValue(...a)),onInput:a[5]||(a[5]=a=>e.handleSliderInput(a,"h"))},null,44,cl),[[N,e.colors.hsv.h]]),"show"===e.alphaChannel?(h(),x("label",{key:0,class:"panel-color-picker-range-input-label panel-color-picker-range-input-label--alpha",for:`${e.id}-alpha-slider`},[_("span",gl,[j(e.$slots,"alpha-range-input-label",{},(()=>[a[10]||(a[10]=f("Alpha"))]))]),_("input",{id:`${e.id}-alpha-slider`,class:"panel-color-picker-range-input panel-color-picker-range-input--alpha",value:e.colors.hsv.a,type:"range",min:"0",max:"1",step:"0.01",onKeydownPassive:a[6]||(a[6]=(...a)=>e.changeInputValue&&e.changeInputValue(...a)),onInput:a[7]||(a[7]=a=>e.handleSliderInput(a,"a"))},null,40,pl)],8,ml)):V("",!0)]),V("",!0),_("div",hl,[_("div",vl,[_("div",null,[_("label",{for:`${e.id}-color-hex`,class:"text-sm"}," Hex ",8,bl),y(i,{modelValue:e.hexInputValue,"onUpdate:modelValue":a[9]||(a[9]=a=>e.hexInputValue=a),id:`${e.id}-color-hex`,type:"text",block:"",dense:"",onInput:e.updateHexColorValue},null,8,["modelValue","id","onInput"])]),_("div",fl,[(h(!0),x(U,null,B(e.visibleChannels,(a=>(h(),x("div",{id:`${e.id}-color-${e.activeFormat}-${a}-label`,key:`${e.id}-color-${e.activeFormat}-${a}-label`},[_("label",{for:`${e.id}-color-${e.activeFormat}-${a}`,class:"text-sm"},C(a.toUpperCase()),9,yl),y(i,{id:`${e.id}-color-${e.activeFormat}-${a}`,value:e.getChannelAsCssValue(a),type:"text",block:"",dense:"",onInput:l=>e.updateColorValue(l,a)},null,8,["id","value","onInput"])],8,_l)))),128))])])])],512)}]])},props:{modelValue:{type:String,default:"#fffffff"},id:{type:String,default:"panel-color-picker"},visibleFormats:{type:Array,default:()=>["hex","hsl","hwb","rgb"]},defaultFormat:{type:String,default:"rgb"},alphaChannel:{type:String,default:"hide"},placement:{type:String,default:"bottom"},widthPanel:{type:[String,Number],default:void 0}},emits:["color-change","color-copy","update:modelValue"],setup(e,a){const l=m(e.modelValue),t=m({}),o=c((()=>({id:e.id,visibleFormats:e.visibleFormats,defaultFormat:e.defaultFormat,alphaChannel:e.alphaChannel}))),n=m(!1);return g(n,(t=>{t||l.value===e.modelValue||a.emit("update:modelValue",l.value)})),{color:l,vBind:o,colors:t,showPanel:n,handleShowPanel:()=>{n.value=!n.value},handleClosePanel:()=>{n.value=!1},handleChangeColors:e=>{t.value=e,a.emit("color-change",t.value)}}}}),xl={class:"relative"},Vl={class:"flex items-center justify-between gap-x-4"},kl={class:"flex items-center gap-x-4"};const Sl=u({name:"WidgetSetting",components:{Alert:te,Modal:se,Input:ee,Radio:Ve,Button:Z,Fieldset:xe,Checkbox:ie,WidgetCode:Ke,ColorPicker:ae(wl,[["render",function(e,a,l,t,o,n){const i=p("ColorPickerPanel"),s=I("outside");return h(),x("div",xl,[_("div",{class:W(["cursor-pointer rounded-md","bg-white px-6 py-2 text-base","border transition-all ease-in-out duration-300",e.showPanel?"border-teal-04":"border-teal-01"]),onClick:a[0]||(a[0]=w(((...a)=>e.handleShowPanel&&e.handleShowPanel(...a)),["stop"]))},[_("div",Vl,[_("div",kl,[_("div",{class:"rounded-md h-6 w-6 border border-grey-01",style:P({backgroundColor:e.color})},null,4),_("p",null,C(e.color),1)]),_("span",{class:W(["material-icons","text-grey-03 transform","transition-all linear duration-300",e.showPanel?"-rotate-180":"rotate-0"])}," arrow_drop_down ",2)])],2),y(O,{name:"fade"},{default:b((()=>[e.showPanel?$((h(),x("div",{key:0,class:W(["absolute bg-white shadow","px-4 py-4 mt-2 z-10 rounded-md",`color-picker-${e.placement}`]),style:P(d({},Number(e.widthPanel)&&!["top","bottom"].includes(e.placement)&&{width:`${e.widthPanel}px`}))},[y(i,T({modelValue:e.color,"onUpdate:modelValue":a[1]||(a[1]=a=>e.color=a)},e.vBind,{onColorChange:e.handleChangeColors}),null,16,["modelValue","onColorChange"])],6)),[[s,e.handleClosePanel]]):V("",!0)])),_:1})])}],["__scopeId","data-v-67042b7c"]]),PopoverDark:Oe,SelectLanguage:de,FloatingSheets:ga,WidgetTermsConditions:Ma},props:{modelValue:{type:Object,default:void 0},loading:{type:Object,default:void 0},proplan:{type:Boolean,default:!1},brand:{type:Boolean,default:!1},brandFree:{type:Boolean,default:!1},whiteLabel:{type:Boolean,default:!1},isPaywalledWidgetWatermark:{type:Boolean,default:!1},code:{type:String,default:void 0},landing:{type:Object,default:void 0}},emits:["update:modelValue","update:removeBrand","update:language","update:secondaryLanguage"],setup(e,{emit:a}){const l=Y(),{open:t}=le(),{me:o}=re(),n=c({get:()=>e.modelValue,set:e=>a("update:modelValue",e)}),i=m(!1),r=m({name:o.value.lang_name,code:o.value.lang_code,label:`${o.value.lang_name} (${o.value.lang_code.toUpperCase()})`,search:""}),u=m({name:null,code:null,label:null,search:""}),p=c((()=>{if(!n.value.languages.length)return[];if(""===r.value.search)return n.value.languages.map((e=>s(d({},e),{label:`${e.name} (${e.code.toUpperCase()})`})));return[...n.value.languages].filter((e=>e.name.toLowerCase().includes(r.value.search.toLowerCase()))).map((e=>s(d({},e),{label:`${e.name} (${e.code.toUpperCase()})`})))})),h=c((()=>{if(!n.value.languages.length)return[];if(""===u.value.search)return n.value.languages.map((e=>s(d({},e),{label:`${e.name} (${e.code.toUpperCase()})`})));return[...n.value.languages].filter((e=>e.name.toLowerCase().includes(u.value.search.toLowerCase()))).map((e=>s(d({},e),{label:`${e.name} (${e.code.toUpperCase()})`})))})),v=c({get:()=>1==n.value.widget_is_remove_brand?0:1,set:async e=>{n.value.widget_is_remove_brand=1==e?0:1}}),b=c((()=>![4,12,13,15,16,17,18].includes(o.value.package_id))),f=c((()=>!!u.value.label)),_=c((()=>{let a=e.code;try{let l,t=a.split("\n");t.forEach(((e,a)=>{e.includes("disableFloatButton")&&(l={value:e,key:a})}));const o=(e,a)=>t.splice(l.key,0,l.value.replace("disableFloatButton: false",`${e}: "${a}",`));if(l&&e.landing&&(e.landing.device_slug&&o("deviceSlug",e.landing.device_slug),e.landing.brand_slug&&o("brandSlug",e.landing.brand_slug),e.landing.category_slug&&o("categorySlug",e.landing.category_slug),e.landing.token_model&&o("tokenModel",e.landing.token_model)),u.value.code){const e=t.findIndex((e=>e.includes("disableFloatButton")));t.splice(e,0,`            language: "${u.value.code}",`)}a=t.join("\n")}catch(l){console.error(`Error generating widget code: ${l}`)}return a})),y=A({enable:n.value.widget_is_enable_price_trend_graph,title:n.value.widget_price_trend_graph_title,current:n.value.widget_price_trend_graph_current,expected:n.value.widget_price_trend_graph_next_week}),w=ve({title:{required:be},current:{required:be},expected:{required:be}},y,{$lazy:!0}),x=oe((e=>{n.value.widget_color_selected=e}),500),V=oe((e=>{n.value.widget_background_color=e}),500),k=oe(((e,a)=>{n.value.widget_color_secondary_selected=e,a()}),500),S=c((e=>e?"":"0")),C=c((()=>"3"===n.value.is_widget_enable_brand_step));return g((()=>({enable:n.value.widget_is_enable_price_trend_graph,title:n.value.widget_price_trend_graph_title,current:n.value.widget_price_trend_graph_current,expected:n.value.widget_price_trend_graph_next_week})),(e=>{y.enable=e.enable,y.title=e.title,y.current=e.current,y.expected=e.expected})),{data:n,dataTrendGraph:y,modal:i,showCode:f,language:r,languages:p,computedCode:_,isRealPorductIcon:b,languageSecondary:u,languagesSecondary:h,showBuybackBranding:v,validationGraph:w,handleCopy:Se,handleToggleGA4:e=>{n.value.is_enable_google_analytic=e,0==e&&(n.value.google_analytic_code="")},handleOpenBilling:async()=>{l.push({name:"settingBilling"})},handlePrimaryColor:x,handleSelectButton:k,handleBackgroundColor:V,handleRemoveBranding:()=>{i.value=!0,v.value=0,a("update:removeBrand")},handleChangeLanguage:e=>{r.value.code=e.code,r.value.name=e.name,r.value.label=e.label,r.value.search="",a("update:language",r.value)},handleToggleProductIcon:e=>{n.value.widget_real_product_icon=e},handleToggleRemoveBranding:()=>{if(1==v.value&&e.isPaywalledWidgetWatermark)return t({title:"Remove Powered by Reusely",description:"",image_url:"/images/paywall/paywall-widget-remove-branding.svg",package_name:"Growth"});v.value=1==v.value?0:1,a("update:removeBrand")},handleChangeLanguageSecondary:e=>{u.value.code=e.code,u.value.name=e.name,u.value.label=e.label,u.value.search="",a("update:secondaryLanguage",u.value)},handleToggleBuybackValue:e=>{n.value.widget_is_enable_get_up_to=e},handleTogglePriceTrendGraph:async e=>{if("1"===e){const a=await w.value.title.$validate(),l=await w.value.current.$validate(),t=await w.value.expected.$validate();await w.value.$validate(),a&&l&&t?n.value.widget_is_enable_price_trend_graph=y.enable:y.enable="1"===e?"0":"1"}else n.value.widget_is_enable_price_trend_graph=y.enable},handleChangeGraphTextTitle:async()=>{await w.value.title.$validate()&&(n.value.widget_price_trend_graph_title=y.title)},handleChangeGraphTextCurrent:async()=>{await w.value.current.$validate()&&(n.value.widget_price_trend_graph_current=y.current)},handleChangeGraphTextExpected:async()=>{await w.value.expected.$validate()&&(n.value.widget_price_trend_graph_next_week=y.expected)},handleToggleSearch:e=>{n.value.widget_is_enable_search_bar=e},condition:S,isSearchDisabled:C}}}),Cl={key:0,class:"space-y-2"},Pl={class:"flex items-center mb-2"},Ll={class:"flex items-center mb-2"},Ul={class:"widget-secondary-color p-4 max-h-96 overflow-y-auto"},Bl=["onClick"],Wl=["onClick"],Ol={class:"my-4"},Tl={class:"my-4"},Il={class:"flex items-center flex-wrap"},$l={key:0,class:"block py-1 px-4 bg-green-04 text-white rounded-full ml-1"},Ml={class:"flex items-center"},jl={class:"my-4"},Fl={class:"flex items-center"},zl={class:"my-4"},Dl={class:"space-y-4"},El={class:"space-y-1"},Al={class:"space-y-1"},Gl={class:"space-y-1"},ql={class:"px-4 py-4 w-full"},Rl={key:0,class:"material-icons text-lg text-teal-04"},Nl={class:"flex items-center"},Yl={class:"space-y-6"},Hl={class:"px-4 py-4 w-full"},Kl={key:0,class:"material-icons text-lg text-teal-04"},Xl={class:"space-y-4"},Ql={class:"flex items-center"},Jl={class:"space-y-2 mb-2"},Zl={class:"flex flex-col items-center justify-center my-4"};var et=ae(Sl,[["render",function(e,a,l,t,o,n){const i=p("Tooltip"),d=p("ColorPicker"),s=p("FloatingSheets"),r=p("Fieldset"),u=p("Checkbox"),c=p("Input"),m=p("SelectLanguage"),g=p("WidgetCode"),k=p("WidgetTermsConditions"),S=p("Alert"),L=p("Button"),T=p("Modal"),M=I("loading");return h(),x(U,null,[y(r,{class:"mb-6 rounded-xl"},{label:b((()=>a[20]||(a[20]=[f("Widget Color")]))),default:b((()=>[e.data?(h(),x("div",Cl,[_("div",null,[_("div",Pl,[a[22]||(a[22]=_("label",{class:"mr-2"},"Primary Color",-1)),y(i,{content:"This setting changes the primary color scheme of the widget",placement:"top"},{default:b((()=>a[21]||(a[21]=[_("i",{class:"text-teal-04 material-icons cursor-pointer"}," info ",-1)]))),_:1})]),e.data.widget_color_selected?(h(),v(d,{key:0,modelValue:e.data.widget_color_selected,"onUpdate:modelValue":[a[0]||(a[0]=a=>e.data.widget_color_selected=a),e.handlePrimaryColor]},null,8,["modelValue","onUpdate:modelValue"])):V("",!0)]),_("div",null,[a[23]||(a[23]=_("div",{class:"flex items-center mb-2"},[_("label",{class:"mr-2"},"Background Color")],-1)),y(d,{modelValue:e.data.widget_background_color,"onUpdate:modelValue":[a[1]||(a[1]=a=>e.data.widget_background_color=a),e.handleBackgroundColor]},null,8,["modelValue","onUpdate:modelValue"])]),_("div",null,[_("div",Ll,[a[25]||(a[25]=_("label",{class:"mr-2"},"Button Color",-1)),y(i,{content:'This setting effects the color of the "Call to Action" steps within the widget.',placement:"top"},{default:b((()=>a[24]||(a[24]=[_("i",{class:"text-teal-04 material-icons cursor-pointer"}," info ",-1)]))),_:1})]),y(s,{block:"","cover-width":""},{default:b((({closeSheet:a})=>[_("div",Ul,[(h(!0),x(U,null,B(e.data.widget_color_btn_list,(l=>(h(),x("div",{key:l.hex,class:W(["widget-secondary-color__option","cursor-pointer","px-4","py-2","my-4","hover:shadow","border","border-grey-01","transition","duration-300","select-none",l.hex===e.data.widget_color_secondary_selected?"--selected":""]),onClick:t=>e.handleSelectButton(l.hex,a)},[_("div",{class:"flex-grow p-4 border rounded-lg text-center font-medium my-2",style:P({backgroundColor:l.hex,borderColor:l.hex,color:"white"})}," Get Paid ",4),_("div",{class:"flex-grow p-4 border rounded-lg text-center font-medium my-2",style:P({backgroundColor:"rgba(0,0,0,0)",borderColor:l.hex,color:l.hex})}," Add Another Items ",4)],10,Bl)))),128))])])),reference:b((({toggleSheet:l,closeSheet:t})=>[$((h(),x("div",{class:"flex flex-auto items-center border border-grey-01 p-4 rounded-lg cursor-pointer select-none",onClick:()=>e.loading.update?t():l()},[_("div",{class:"flex-grow p-4 border rounded-lg text-center font-medium",style:P({backgroundColor:e.data.widget_color_secondary_selected,borderColor:e.data.widget_color_secondary_selected,color:"white"})}," Get Paid ",4),a[26]||(a[26]=_("div",{class:"ml-4"},[_("i",{class:"material-icons"},"expand_more")],-1))],8,Wl)),[[M,e.loading.update]])])),_:1})])])):V("",!0)])),_:1}),e.data.logo?(h(),v(r,{key:0,class:"mb-6"},{label:b((()=>a[27]||(a[27]=[f("Company Logo")]))),default:b((()=>[_("div",Ol,[y(u,{modelValue:e.data.is_widget_logo_show,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.is_widget_logo_show=a),type:"toggle",value:"1","value-off":"0",class:"font-semibold"},{default:b((()=>a[28]||(a[28]=[f(" Show Company Logo ")]))),_:1},8,["modelValue"])])])),_:1})):V("",!0),y(r,{class:"mb-6 rounded-xl"},{label:b((()=>a[29]||(a[29]=[_("span",{whitelabel:"text-replace","data-label":"addons host"},"Reusely.com Branding",-1)]))),default:b((()=>[_("div",Tl,[y(i,{disabled:!e.brand,placement:"top"},{content:b((()=>[_("p",null,[a[31]||(a[31]=f(" This feature is only available on our Pro plan. ")),_("a",{class:"text-white",href:"#",onClick:a[3]||(a[3]=w(((...a)=>e.handleOpenBilling&&e.handleOpenBilling(...a)),["prevent"]))},a[30]||(a[30]=[_("b",null,"Go to plans and pricing.",-1)]))])])),default:b((()=>[_("div",Il,[y(u,{modelValue:e.showBuybackBranding,onClick:a[4]||(a[4]=w((()=>{e.brand||e.handleToggleRemoveBranding()}),["prevent"])),loading:e.loading.remove_branding,type:"toggle",value:"1","value-off":"0",class:"font-semibold",disabled:e.brand},{default:b((()=>a[32]||(a[32]=[f(" Powered By "),_("a",{href:"https://reusely.com",rel:"noreferrer noopener",whitelabel:"text-replace","data-label":"addons host","data-url":"href"},"Reusely.com ",-1)]))),_:1},8,["modelValue","loading","disabled"]),e.isPaywalledWidgetWatermark?(h(),x("div",$l,a[33]||(a[33]=[_("p",null,"Growth",-1)]))):V("",!0)])])),_:1},8,["disabled"])])])),_:1}),y(r,{class:"mb-6 rounded-xl"},{label:b((()=>[_("div",Ml,[a[36]||(a[36]=_("label",{class:"mr-2"},"Icon Style",-1)),y(i,{placement:"top"},{content:b((()=>a[34]||(a[34]=[_("div",{class:"w-80"}," This setting changes the category and product icon to real product photos. ",-1)]))),default:b((()=>[a[35]||(a[35]=_("i",{class:"text-teal-04 material-icons cursor-pointer"},"info",-1))])),_:1})])])),default:b((()=>[_("div",jl,[y(i,{disabled:!e.isRealPorductIcon,placement:"top"},{content:b((()=>[_("p",null,[a[38]||(a[38]=f(" This feature is only available on our Pro plan. ")),_("a",{class:"text-white",href:"#",onClick:a[5]||(a[5]=w(((...a)=>e.handleOpenBilling&&e.handleOpenBilling(...a)),["prevent"]))},a[37]||(a[37]=[_("b",null,"Go to plans and pricing.",-1)]))])])),default:b((()=>[y(u,{modelValue:e.data.widget_real_product_icon,loading:e.loading.update,disabled:e.isRealPorductIcon,type:"toggle",value:"1","value-off":"0",class:"font-semibold","onUpdate:modelValue":e.handleToggleProductIcon},{default:b((()=>a[39]||(a[39]=[f(" Use real product photos ")]))),_:1},8,["modelValue","loading","disabled","onUpdate:modelValue"])])),_:1},8,["disabled"])])])),_:1}),y(r,{class:"mb-6 rounded-xl"},{label:b((()=>[_("div",Fl,[a[42]||(a[42]=_("label",{class:"mr-2 font-medium"},"Buyback Value",-1)),y(i,{placement:"top"},{content:b((()=>a[40]||(a[40]=[_("div",{class:"w-96"},[_("div",{class:"space-y-4 text-sm"},[_("div",{class:"space-y-2"},[_("p",null,"When the toggle is ON:"),_("p",null,' "Displays the Get up To label with the highest possible price for the selected item, improving conversions and providing a competitive edge." ')]),_("div",{class:"space-y-2"},[_("p",null,"When the toggle is OFF:"),_("p",null,' "Removes the Get up To label, hiding the highest possible price for the selected item, which may reduce conversions and lessen competitiveness." ')])])],-1)]))),default:b((()=>[a[41]||(a[41]=_("i",{class:"text-teal-04 material-icons cursor-pointer"},"info",-1))])),_:1})])])),default:b((()=>[_("div",zl,[y(u,{modelValue:e.data.widget_is_enable_get_up_to,loading:e.loading.update,type:"toggle",value:"1","value-off":"0",class:"font-semibold","onUpdate:modelValue":e.handleToggleBuybackValue},{default:b((()=>a[43]||(a[43]=[_("p",{class:"font-normal"},[f(' "'),_("span",{class:"font-medium"},"Get up to"),f('" label ')],-1)]))),_:1},8,["modelValue","loading","onUpdate:modelValue"])])])),_:1}),y(r,{class:"mb-6 rounded-xl"},{label:b((()=>a[44]||(a[44]=[_("label",{class:"mr-2 font-medium"},"Price Trend Graph",-1)]))),default:b((()=>[_("div",Dl,[_("form",null,[y(u,{modelValue:e.dataTrendGraph.enable,"onUpdate:modelValue":[a[6]||(a[6]=a=>e.dataTrendGraph.enable=a),e.handleTogglePriceTrendGraph],loading:e.loading.update,type:"toggle",value:"1","value-off":"0",class:"font-semibold"},{default:b((()=>a[45]||(a[45]=[_("p",{class:"font-normal"},[f(' "'),_("span",{class:"font-medium"},"Expected price trend"),f('" Graph ')],-1)]))),_:1},8,["modelValue","loading","onUpdate:modelValue"]),_("div",El,[y(c,{modelValue:e.dataTrendGraph.title,"onUpdate:modelValue":a[7]||(a[7]=a=>e.dataTrendGraph.title=a),loading:e.loading.update,view:e.validationGraph.title.$invalid?"danger":"default",placeholder:"Expected price trend for this item",class:"w-full",onChange:e.handleChangeGraphTextTitle},{label:b((()=>a[46]||(a[46]=[_("span",{class:"font-medium"},"Title",-1)]))),_:1},8,["modelValue","loading","view","onChange"]),(h(!0),x(U,null,B(e.validationGraph.title.$errors,((e,a)=>(h(),x("small",{key:a,class:"text-red-04"},C(e.$message),1)))),128))]),_("div",Al,[y(c,{modelValue:e.dataTrendGraph.current,"onUpdate:modelValue":a[8]||(a[8]=a=>e.dataTrendGraph.current=a),loading:e.loading.update,view:e.validationGraph.current.$invalid?"danger":"default",placeholder:"Current Price",class:"w-full",onChange:e.handleChangeGraphTextCurrent},{label:b((()=>a[47]||(a[47]=[_("span",{class:"font-medium"},"Current Price",-1)]))),_:1},8,["modelValue","loading","view","onChange"]),(h(!0),x(U,null,B(e.validationGraph.current.$errors,((e,a)=>(h(),x("small",{key:a,class:"text-red-04"},C(e.$message),1)))),128))]),_("div",Gl,[y(c,{modelValue:e.dataTrendGraph.expected,"onUpdate:modelValue":a[9]||(a[9]=a=>e.dataTrendGraph.expected=a),loading:e.loading.update,view:e.validationGraph.expected.$invalid?"danger":"default",placeholder:"Expected value next week",class:"w-full",onChange:e.handleChangeGraphTextExpected},{label:b((()=>a[48]||(a[48]=[_("span",{class:"font-medium"},"Price Next Week",-1)]))),_:1},8,["modelValue","loading","view","onChange"]),(h(!0),x(U,null,B(e.validationGraph.expected.$errors,((e,a)=>(h(),x("small",{key:a,class:"text-red-04"},C(e.$message),1)))),128))])])])])),_:1}),y(r,{class:"mb-6 rounded-xl"},{label:b((()=>a[49]||(a[49]=[f("Main Language")]))),default:b((()=>[y(m,{modelValue:e.language.label,"onUpdate:modelValue":a[11]||(a[11]=a=>e.language.label=a),placeholder:"Choose language",by:"code",name:"label",items:e.languages,loading:e.loading.all,"max-height":"200px",block:"","no-border":"",onChange:e.handleChangeLanguage},{prepend:b((()=>[_("div",ql,[y(c,{modelValue:e.language.search,"onUpdate:modelValue":a[10]||(a[10]=a=>e.language.search=a),placeholder:"Search Language",class:"w-full",block:"",icon:""},{icon:b((()=>a[50]||(a[50]=[_("span",{class:"material-icons"},"search",-1)]))),_:1},8,["modelValue"])])])),item:b((({item:a})=>[_("div",{class:W([a.code===e.language.code?"text-teal-04":"","flex gap-x-2 items-center"])},[f(C(a.name)+" - "+C(a.code.toUpperCase())+" ",1),a.code===e.language.code?(h(),x("span",Rl," check_circle ")):V("",!0)],2)])),_:1},8,["modelValue","items","loading","onChange"])])),_:1}),y(r,{class:"mb-6 rounded-xl"},{label:b((()=>[_("div",Nl,[a[53]||(a[53]=_("label",{class:"mr-2"},"Additional Language Codes",-1)),y(i,{placement:"top"},{content:b((()=>a[51]||(a[51]=[_("div",{class:"w-80"}," Choose a different widget language if your website has a multiple-language pagesone language per pageor ask your developer to set up languages button on your website and use multiple-language parameters. You can select as many languages as youd like. ",-1)]))),default:b((()=>[a[52]||(a[52]=_("i",{class:"text-teal-04 material-icons cursor-pointer"},"info",-1))])),_:1})])])),default:b((()=>[_("div",Yl,[y(m,{modelValue:e.languageSecondary.label,"onUpdate:modelValue":a[13]||(a[13]=a=>e.languageSecondary.label=a),placeholder:"None",by:"code",name:"label",items:e.languagesSecondary,loading:e.loading.all,"max-height":"200px",block:"","no-border":"",onChange:e.handleChangeLanguageSecondary},{prepend:b((()=>[_("div",Hl,[y(c,{modelValue:e.languageSecondary.search,"onUpdate:modelValue":a[12]||(a[12]=a=>e.languageSecondary.search=a),placeholder:"Search Language",class:"w-full",block:"",icon:""},{icon:b((()=>a[54]||(a[54]=[_("span",{class:"material-icons"},"search",-1)]))),_:1},8,["modelValue"])])])),item:b((({item:a})=>[_("div",{class:W([a.code===e.languageSecondary.code?"text-teal-04":"","flex gap-x-2 items-center"])},[f(C(a.name)+" - "+C(a.code.toUpperCase())+" ",1),a.code===e.languageSecondary.code?(h(),x("span",Kl," check_circle ")):V("",!0)],2)])),_:1},8,["modelValue","items","loading","onChange"]),y(O,{name:"fade"},{default:b((()=>[e.showCode?(h(),v(g,{key:0,modelValue:e.computedCode,"onUpdate:modelValue":a[14]||(a[14]=a=>e.computedCode=a),"no-title":"",type:"unique"},{desctop:b((()=>a[55]||(a[55]=[_("p",null,null,-1)]))),_:1},8,["modelValue"])):V("",!0)])),_:1})])])),_:1}),y(k,{modelValue:e.data,"onUpdate:modelValue":a[15]||(a[15]=a=>e.data=a),loading:e.loading},null,8,["modelValue","loading"]),y(r,{class:"mb-6 rounded-xl"},{label:b((()=>a[56]||(a[56]=[f("GA4 Integration")]))),default:b((()=>[_("div",Xl,[y(u,{modelValue:e.data.is_enable_google_analytic,loading:e.loading.update,type:"toggle",value:"1","value-off":"0",class:"font-semibold","onUpdate:modelValue":e.handleToggleGA4},{default:b((()=>a[57]||(a[57]=[f(" Google Analytics Config ")]))),_:1},8,["modelValue","loading","onUpdate:modelValue"]),1==e.data.is_enable_google_analytic?(h(),x(U,{key:0},[y(S,{color:"blue",view:"smooth",style:{"align-items":"start"},dense:""},{left:b((()=>a[58]||(a[58]=[_("span",{class:"material-icons text-2xl my-auto"},"info",-1)]))),default:b((()=>[a[59]||(a[59]=_("div",{class:"flex items-center h-full"},[_("span",null,[f(" This is only compatible with GA4 Google Analytic Properties. Checkout Google's support resources: "),_("a",{href:"https://support.google.com/analytics/answer/13128484",target:"_blank",class:"font-semibold text-blue-04"},"Conversion Guide")])],-1))])),_:1}),y(c,{modelValue:e.data.google_analytic_code,"onUpdate:modelValue":a[16]||(a[16]=a=>e.data.google_analytic_code=a),label:"Measurement ID",placeholder:"G-XXXXXX",block:""},null,8,["modelValue"])],64)):V("",!0)])])),_:1}),y(r,{class:"mb-6 rounded-xl"},{label:b((()=>[_("div",Ql,[a[61]||(a[61]=_("label",{class:"mr-2 font-medium"},"Search Items",-1)),y(i,{content:"Disabling the search item is not allowed when the selected widget starting point is search bar.",placement:"top"},{default:b((()=>a[60]||(a[60]=[_("i",{class:"text-teal-04 material-icons cursor-pointer"}," info ",-1)]))),_:1})])])),default:b((()=>[_("div",Jl,[_("div",null,[y(u,{modelValue:e.data.widget_is_enable_search_bar,"onUpdate:modelValue":[a[17]||(a[17]=a=>e.data.widget_is_enable_search_bar=a),e.handleToggleSearch],loading:e.loading.update,value:"1","value-off":e.condition,type:"toggle",class:"font-semibold",disabled:e.isSearchDisabled},{default:b((()=>a[62]||(a[62]=[f(" Show Search Items ")]))),_:1},8,["modelValue","loading","value-off","disabled","onUpdate:modelValue"])]),"1"==e.data.widget_is_enable_search_bar?(h(),x(U,{key:0},[a[63]||(a[63]=_("label",{class:"mr-2 font-medium"},"Search Field Text",-1)),y(c,{modelValue:e.data.search_bar_text,"onUpdate:modelValue":a[18]||(a[18]=a=>e.data.search_bar_text=a),placeholder:"Search",block:""},null,8,["modelValue"])],64)):V("",!0)])])),_:1}),y(T,{modelValue:e.modal,"onUpdate:modelValue":a[19]||(a[19]=a=>e.modal=a),size:"xs","hide-footer":""},{default:b((()=>[_("div",Zl,[a[65]||(a[65]=_("img",{class:"mb-4 w-28",src:Te,alt:"unlock icon"},null,-1)),a[66]||(a[66]=_("h2",{class:"text-xl font-semibold my-4"}," Pay to Disable Reusely.com Branding ",-1)),a[67]||(a[67]=_("p",{class:"text-center text-grey-04"},[f(" Pay "),_("b",null,"$49 per month"),f(" to disable the "),_("b",null,'"Powered by Reusely.com"'),f(" message below your widget ")],-1)),y(L,{loading:e.loading.remove_branding,class:"mt-6",color:"teal",view:"outlined",onClick:e.handleRemoveBranding},{default:b((()=>a[64]||(a[64]=[f("Subscribe")]))),_:1},8,["loading","onClick"])])])),_:1},8,["modelValue"])],64)}],["__scopeId","data-v-a1967a60"]]);const at=u({name:"WidgetConfirmationMessage",components:{TextEditor:Pe,Fieldset:xe,Button:Z,Modal:se},props:{modelValue:{type:Object,default:void 0},staticData:{type:Object,default:void 0},loading:{type:Object,default:()=>({})}},emits:["update:modelValue","update:message"],setup(e,{emit:a}){const l=c({get:()=>e.modelValue,set:e=>a("update:modelValue",e)}),t=A({online:!1,instore:!1,preview:!1}),o=m({}),n=A({editor:Ce.exports.Editor,config:{mediaEmbed:{previewsInData:!0}}}),i=m(l.value.widget_confirm_msg.instore.message),d=m(l.value.widget_confirm_msg.mailin.message);return g((()=>l.value),(e=>{i.value=e.widget_confirm_msg.instore.message,d.value=e.widget_confirm_msg.mailin.message}),{immediate:!0,deep:!0}),g((()=>e.loading.update),(e=>{e||!t.instore&&!t.online||(t.instore=!1,t.online=!1)})),{data:l,modal:t,preview:o,ckeditor:n,message:i,messageOnline:d,copyText:Se,handleSave:async()=>{a("update:message",{widget_confirm_msg:{instore:i.value,mailin:d.value}})},handlePreview:async(e,a=1)=>{t.preview=!0,o.value=1==a?l.value.widget_confirm_msg.mailin.preview_message:l.value.widget_confirm_msg.instore.preview_message},handleModalConfirmMsg:()=>t.instore=!0,handleModalConfirmMsgOnline:()=>t.online=!0}}}),lt={class:"widget-confirm-message"},tt={class:"flex gap-x-2"},ot={class:"flex gap-x-2"},nt={class:"flex"},it={class:"mr-2"},dt=["onClick"],st={class:"flex justify-end"},rt={class:"flex"},ut={class:"mr-2"},ct=["onClick"],mt={class:"flex justify-end"},gt={class:"bg-black bg-opacity-30 py-6 px-12"},pt={class:"bg-white rounded-lg p-6"},ht=["innerHTML"],vt={class:"flex justify-start"};var bt=ae(at,[["render",function(e,a,l,t,o,n){const i=p("Button"),d=p("Fieldset"),s=p("TextEditor"),r=p("TableColumn"),u=p("Table"),c=p("Modal"),m=I("loading");return h(),x(U,null,[_("div",lt,[1==e.data.purchasing_method.value||2==e.data.purchasing_method.value?(h(),v(d,{key:0,class:"rounded-md"},{label:b((()=>a[8]||(a[8]=[f("Mail-In")]))),default:b((()=>[_("div",tt,[y(i,{class:"flex-1",view:"outlined",color:"teal",dense:"",onClick:a[0]||(a[0]=a=>e.handlePreview(a))},{default:b((()=>a[9]||(a[9]=[_("div",{class:"flex items-center justify-center gap-x-1"},[_("i",{class:"material-icons"},"visibility"),f(" Preview ")],-1)]))),_:1}),y(i,{class:"flex-1",color:"teal",dense:"",disabled:"3"==e.data.purchasing_method.value||!e.data.is_enable_mailin_selling_type,onClick:e.handleModalConfirmMsgOnline},{default:b((()=>a[10]||(a[10]=[_("div",{class:"flex flex-nowrap items-center whitespace-nowrap justify-center gap-x-1"},[_("i",{class:"material-icons"},"edit"),f(" Edit Message ")],-1)]))),_:1},8,["disabled","onClick"])])])),_:1})):V("",!0),1==e.data.purchasing_method.value||3==e.data.purchasing_method.value?(h(),v(d,{key:1,class:"rounded-md"},{label:b((()=>a[11]||(a[11]=[f("In-Store")]))),default:b((()=>[_("div",ot,[y(i,{class:"flex-1",view:"outlined",color:"teal",dense:"",onClick:a[1]||(a[1]=a=>e.handlePreview(a,0))},{default:b((()=>a[12]||(a[12]=[_("div",{class:"flex items-center justify-center gap-x-1"},[_("i",{class:"material-icons"},"visibility"),f(" Preview ")],-1)]))),_:1}),y(i,{class:"flex-1",color:"teal",dense:"",disabled:"2"==e.data.purchasing_method.value,onClick:e.handleModalConfirmMsg},{default:b((()=>a[13]||(a[13]=[_("div",{class:"flex flex-nowrap items-center whitespace-nowrap justify-center gap-x-1"},[_("i",{class:"material-icons"},"edit"),f(" Edit Message ")],-1)]))),_:1},8,["disabled","onClick"])])])),_:1})):V("",!0)]),y(c,{modelValue:e.modal.online,"onUpdate:modelValue":a[3]||(a[3]=a=>e.modal.online=a),title:"Confirmation Message (Mail-In)",size:"md"},{footer:b((()=>[_("div",st,[y(i,{color:"teal",loading:e.loading.update,onClick:e.handleSave},{default:b((()=>a[15]||(a[15]=[f(" Save ")]))),_:1},8,["loading","onClick"])])])),default:b((()=>[_("div",null,[a[14]||(a[14]=_("div",{class:"my-4"}," You can customize the message that appears on offer details page ",-1)),y(s,{modelValue:e.messageOnline,"onUpdate:modelValue":a[2]||(a[2]=a=>e.messageOnline=a),options:e.ckeditor},null,8,["modelValue","options"])]),e.staticData.widget_confirm_msg_shortcode&&Array.isArray(e.staticData.widget_confirm_msg_shortcode)?(h(),v(u,{key:0,data:e.staticData.widget_confirm_msg_shortcode,class:"mt-6"},{default:b((()=>[y(r,{prop:"code",label:"Code"},{default:b((a=>[_("div",nt,[_("span",it,C(a.row.code),1),_("i",{class:"material-symbols-outlined text-lg text-teal-04",onClick:l=>e.copyText(a.row.code)}," content_copy ",8,dt)])])),_:1}),y(r,{prop:"description",label:"Description"})])),_:1},8,["data"])):V("",!0)])),_:1},8,["modelValue"]),y(c,{modelValue:e.modal.instore,"onUpdate:modelValue":a[5]||(a[5]=a=>e.modal.instore=a),title:"Contirmation Message (In-Store)",size:"md"},{footer:b((()=>[_("div",mt,[y(i,{color:"teal",loading:e.loading.update,onClick:e.handleSave},{default:b((()=>a[17]||(a[17]=[f(" Save ")]))),_:1},8,["loading","onClick"])])])),default:b((()=>[_("div",null,[a[16]||(a[16]=_("div",{class:"my-4"}," You can customize the message that appears on offer details page ",-1)),y(s,{modelValue:e.message,"onUpdate:modelValue":a[4]||(a[4]=a=>e.message=a),options:e.ckeditor},null,8,["modelValue","options"])]),e.staticData.widget_confirm_msg_shortcode&&Array.isArray(e.staticData.widget_confirm_msg_shortcode)?(h(),v(u,{key:0,data:e.staticData.widget_confirm_msg_shortcode,class:"mt-6"},{default:b((()=>[y(r,{prop:"code",label:"Code"},{default:b((a=>[_("div",rt,[_("span",ut,C(a.row.code),1),_("i",{class:"material-symbols-outlined text-lg text-teal-04",onClick:l=>e.copyText(a.row.code)}," content_copy ",8,ct)])])),_:1}),y(r,{prop:"description",label:"Description"})])),_:1},8,["data"])):V("",!0)])),_:1},8,["modelValue"]),y(c,{modelValue:e.modal.preview,"onUpdate:modelValue":a[7]||(a[7]=a=>e.modal.preview=a),title:"Preview",size:"lg","no-padding":""},{footer:b((()=>[_("div",vt,[_("a",{href:"#",class:"text-red-04 no-underline hover:text-red-03",onClick:a[6]||(a[6]=w((a=>e.modal.preview=!1),["prevent"]))}," Close ")])])),default:b((()=>[_("div",gt,[_("div",pt,[$(_("div",{innerHTML:e.preview},null,8,ht),[[m,e.loading.message]])])])])),_:1},8,["modelValue"])],64)}]]);const ft=u({name:"WidgetPurchasing",components:{WidgetConfirmationMessage:bt,CollapsibleCard:Ie,PopoverDark:Oe,InputFile:Me,SVGLoader:$e,Fieldset:xe,Checkbox:ie,Button:Z,Select:de,Modal:se,Input:ee},props:{modelValue:{type:Object,default:()=>({})},loading:{type:Object,default:()=>({})},staticData:{type:Object,default:void 0},title:{type:String,default:"Purchasing Method"},proplan:{type:Boolean,default:!1},whiteLabel:{type:Boolean,default:!1}},emits:["update:modelValue","update:customButton","update:message"],setup(e,{emit:a}){const{data:l,show:t,update:o,loading:n}=J(),i={title:{required:Le,maxLength:Ue(32)},description:{required:Le,maxLength:Ue(80)},hyperlink:{required:Le,url:Be},icon:{required:Le,fileSize:We}},d=m(!1),s=m(!1);l.value={title:null,description:null,hyperlink:null,icon:null};const r=m({purchasing_method:"1",purchasing_method_custom:!0}),u=m(null),p=c({get:()=>e.modelValue,set:e=>a("update:modelValue",e)}),h=m([{name:"Both (Mail-In & In-Store)",value:"1"},{name:"Mail-In",value:"2"},{name:"In-Store",value:"3"}]),v=ve(i,l,{$lazy:!0});return g((()=>p.value),(e=>{r.value.purchasing_method=e.purchasing_method.value,r.value.purchasing_method_custom=e.purchasing_method.custom,s.value=r.value.purchasing_method_custom}),{immediate:!0,deep:!0}),g((()=>({method:r.value.purchasing_method,custom:r.value.purchasing_method_custom})),(e=>{e.custom&&(s.value=!0),p.value.purchasing_method.value=e.method,p.value.purchasing_method.custom=e.custom})),{elSelectPurchasingMethod:u,data:r,dataModel:p,dataCustom:l,purchases:h,validation:v,customModal:d,showSetting:s,loadingCustom:n,handleShow:t,handleFile:e=>{l.value.icon=e},handleUpdate:o,handleSubmit:async()=>{if(await v.value.$validate(),!v.value.$invalid)return await o((async()=>{await t(),r.value.custom=!0,d.value=!1})),v.value.$reset(),a("update:customButton")},handleShowCustom:async()=>{v.value.$reset(),d.value=!0,await t()},handleCloseModal:()=>{l.value={title:null,description:null,hyperlink:null,icon:null}},handleSaveMessage:e=>a("update:message",e),handleUpdatePurchasingMethod:async e=>{r.value.purchasing_method=e}}}}),_t={class:"mt-6 mb-2 px-4 py-4 space-y-4 border border-grey-03 border-opacity-50 rounded-md"},yt={class:"flex items-center justify-between"},wt={class:"flex justify-center gap-x-2 items-center"},xt={key:0,class:"text-grey-02"},Vt={key:0,class:"text-grey-02"},kt={class:"max-w-md"},St={key:0},Ct={class:"flex items-center justify-end"};var Pt=ae(ft,[["render",function(e,a,l,t,o,n){const i=p("Select"),d=p("WidgetConfirmationMessage"),s=p("Fieldset"),r=p("Checkbox"),u=p("SVGLoader"),c=p("Button"),m=p("Input"),g=p("InputFile"),k=p("Modal"),S=I("loading");return h(),x(U,null,[y(s,{class:"mb-6 rounded-xl"},{label:b((()=>[f(C(e.title),1)])),default:b((()=>[y(i,{ref:"elSelectPurchasingMethod",modelValue:e.data.purchasing_method,"onUpdate:modelValue":e.handleUpdatePurchasingMethod,items:e.purchases,placeholder:"Please select method","max-height":"200px",name:"name",by:"value","no-border":"",block:""},{item:b((({item:e})=>[f(C(e.name),1)])),_:1},8,["modelValue","onUpdate:modelValue","items"]),y(s,{class:"mt-4 rounded-md"},{label:b((()=>a[8]||(a[8]=[f("Confirmation Message")]))),default:b((()=>[y(d,{modelValue:e.dataModel,"onUpdate:modelValue":a[0]||(a[0]=a=>e.dataModel=a),staticData:e.staticData,loading:e.loading,"onUpdate:message":e.handleSaveMessage},null,8,["modelValue","staticData","loading","onUpdate:message"])])),_:1}),_("div",_t,[_("div",yt,[y(r,{modelValue:e.data.purchasing_method_custom,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.purchasing_method_custom=a),type:"toggle",name:"custom",value:1,"value-off":0},{default:b((()=>a[9]||(a[9]=[f(" Add Custom ")]))),_:1},8,["modelValue"]),e.data.purchasing_method_custom?(h(),x("span",{key:0,class:"cursor-pointer",onClick:a[2]||(a[2]=a=>e.showSetting=!e.showSetting)},[_("i",{class:W(["material-icons transform","transition-all ease-in-out","duration-300",e.showSetting&&"rotate-180"])}," expand_more ",2)])):V("",!0)]),y(O,{name:"slide-fade"},{default:b((()=>[e.data.purchasing_method_custom&&e.showSetting?(h(),v(c,{key:0,color:"teal",dense:"",block:"",onClick:e.handleShowCustom},{default:b((()=>[_("div",wt,[y(u,{name:"/menu-icon/setting-fill",id:"buyback-icon",class:"w-5 h-5"}),a[10]||(a[10]=f(" Settings "))])])),_:1},8,["onClick"])):V("",!0)])),_:1})])])),_:1}),y(k,{modelValue:e.customModal,"onUpdate:modelValue":a[7]||(a[7]=a=>e.customModal=a),title:"Custom Purchasing Method",size:"sm",onClose:e.handleCloseModal},{footer:b((()=>[_("div",Ct,[y(c,{color:"teal",onClick:e.handleSubmit},{default:b((()=>a[13]||(a[13]=[f(" Save Changes ")]))),_:1},8,["onClick"])])])),default:b((()=>[$((h(),x("form",{class:"mt-6 space-y-4",onSubmit:a[6]||(a[6]=w(((...a)=>e.handleSubmit&&e.handleSubmit(...a)),["prevent"]))},[_("div",null,[y(m,{modelValue:e.dataCustom.title,"onUpdate:modelValue":a[3]||(a[3]=a=>e.dataCustom.title=a),name:"widget-purchase-custom-title",id:"widgetPurchaseCustomTitle",label:"Title",block:""},null,8,["modelValue"]),(h(!0),x(U,null,B(e.validation.title.$errors,((e,a)=>(h(),x("small",{key:a,class:"mt-2 text-red-base block"},C(e.$message)+". ",1)))),128)),e.validation.title.$errors.length?V("",!0):(h(),x("small",xt," Maximal 32 characters "))]),_("div",null,[y(m,{modelValue:e.dataCustom.description,"onUpdate:modelValue":a[4]||(a[4]=a=>e.dataCustom.description=a),name:"widget-purchase-custom-description",id:"widgetPurchaseCustomDescription",label:"Description",block:""},null,8,["modelValue"]),(h(!0),x(U,null,B(e.validation.description.$errors,((e,a)=>(h(),x("small",{key:a,class:"mt-2 text-red-base block"},C(e.$message)+". ",1)))),128)),e.validation.description.$errors.length?V("",!0):(h(),x("small",Vt," Maximal 80 characters "))]),_("div",null,[y(m,{modelValue:e.dataCustom.hyperlink,"onUpdate:modelValue":a[5]||(a[5]=a=>e.dataCustom.hyperlink=a),name:"widget-purchase-custom-hyperlink",id:"widgetPurchaseCustomHyperlink",label:"Hyperlink",block:""},null,8,["modelValue"]),(h(!0),x(U,null,B(e.validation.hyperlink.$errors,((e,a)=>(h(),x("small",{key:a,class:"mt-2 text-red-base block"},C(e.$message)+". ",1)))),128))]),y(s,{class:"rounded-md"},{label:b((()=>a[11]||(a[11]=[f(" Upload Icon ")]))),default:b((()=>[_("div",kt,[y(g,{preview:"",file:e.dataCustom.icon,action:!1,onInput:e.handleFile},{description:b((()=>[(h(!0),x(U,null,B(e.validation.icon.$errors,((e,a)=>(h(),x("small",{key:a,class:"mt-2 text-red-base block"},C(e.$message)+". ",1)))),128)),e.validation.icon.$errors?V("",!0):(h(),x("small",St,a[12]||(a[12]=[_("b",null,"Suggested",-1),f(": 96x96px ; "),_("b",null,"File",-1),f(": PNG, JPG, JPEG, WEBP ; "),_("b",null,"Max",-1),f(" 250KB ")])))])),_:1},8,["file","onInput"])])])),_:1})],32)),[[S,e.loadingCustom]])])),_:1},8,["modelValue","onClose"])],64)}]]);const Lt={class:"mt-4 flex justify-end"},Ut={__name:"index",props:{modelValue:{type:Object,default:()=>({})},loading:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,t=a,o=c({get:()=>l.modelValue,set:e=>t("update:modelVallue",e)}),n=A({widget_limit_qty_items:null}),i={widget_limit_qty_items:{required:be,minValue:fe(1),maxValue:_e(99)}},d=ve(i,n,{$lazy:!0}),s=async()=>{await d.value.$validate()&&(o.value.widget_limit_qty_items=n.widget_limit_qty_items)};return g((()=>o.value.widget_limit_qty_items),(e=>{e&&(n.widget_limit_qty_items=e)}),{immediate:!0,deep:!0}),(a,l)=>{const t=I("loading"),o=I("maska");return h(),v(xe,{class:"mb-6 rounded-xl"},{label:b((()=>l[1]||(l[1]=[f("Mail-In Item Limit")]))),default:b((()=>[l[5]||(l[5]=_("div",{class:"flex flex-row p-4 bg-blue-01 text-blue-04 rounded-xl mb-4 select-none"},[_("i",{class:"material-icons mr-2"},"info"),_("p",{class:"mt-1 text-sm"},[_("b",null,"Restrict the number of items"),f(". You can set limit on items per offer exclusively for the Mail-in purchasing method. ")])],-1)),_("form",{autocomplete:"off",onSubmit:w(s,["prevent"])},[$((h(),v(ee,{modelValue:n.widget_limit_qty_items,"onUpdate:modelValue":l[0]||(l[0]=e=>n.widget_limit_qty_items=e),disabled:e.loading.update,class:"input-limit-items",autocomplete:"off",view:G(d).widget_limit_qty_items.$invalid?"danger":"default","icon-block":"",right:"",icon:""},{icon:b((()=>l[2]||(l[2]=[_("span",{class:"text-sm"},"/Items",-1)]))),_:1},8,["modelValue","disabled","view"])),[[t,e.loading.all],[o,"##"]]),(h(!0),x(U,null,B(G(d).widget_limit_qty_items.$errors,((e,a)=>(h(),x("small",{class:"text-red-base block",key:a},C(e.$message)+". ",1)))),128)),l[4]||(l[4]=_("small",{class:"block mt-4"},[_("span",{class:"font-semibold"},"Max Items"),f(": Up to 99 items ")],-1)),_("div",Lt,[y(Z,{color:"teal",dense:"",type:"submit",onClick:s},{default:b((()=>l[3]||(l[3]=[f(" Save & Apply ")]))),_:1})])],32)])),_:1})}}};const Bt=u({name:"WidgetPriceLock",components:{Fieldset:xe,Button:Z,Input:ee},props:{modelValue:{type:Object,default:void 0},loading:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e){const a=c({get:()=>e.modelValue,set:e=>emit("update:modelVallue",e)}),l=A({expDays:null}),t={expDays:{required:be,minValue:fe(0),maxValue:_e(90)}},o=ve(t,l,{$lazy:!0});return g((()=>a.value.exp_days_pricelock),(e=>{e&&(l.expDays=e)}),{immediate:!0,deep:!0}),{data:a,form:l,validation:o,handleSave:async()=>{await o.value.$validate(),o.value.$invalid||(a.value.exp_days_pricelock=l.expDays)}}}}),Wt={class:"mt-4 flex justify-end"};var Ot=ae(Bt,[["render",function(e,a,l,t,o,n){const i=p("Input"),d=p("Button"),s=p("Fieldset"),r=I("loading"),u=I("maska");return h(),v(s,{class:"mb-6 rounded-xl"},{label:b((()=>a[2]||(a[2]=[f("Price Lock")]))),default:b((()=>[a[6]||(a[6]=_("div",{class:"flex flex-row p-4 bg-blue-01 text-blue-04 rounded-xl mb-4 select-none"},[_("i",{class:"material-icons mr-2"},"info"),_("p",{class:"mt-1 text-sm"},[_("b",null,"Control the offer lifespan"),f(". Set the duration your buyback offer remains valid. After [number] days, any unused offers will automatically expire. ")])],-1)),_("form",{autocomplete:"off",onSubmit:a[1]||(a[1]=w(((...a)=>e.handleSave&&e.handleSave(...a)),["prevent"]))},[$((h(),v(i,{modelValue:e.form.expDays,"onUpdate:modelValue":a[0]||(a[0]=a=>e.form.expDays=a),disabled:e.loading.update,view:e.validation.expDays.$invalid?"danger":"default",class:"input-price-lock",autocomplete:"off","icon-block":"",right:"",icon:""},{icon:b((()=>a[3]||(a[3]=[_("span",{class:"text-sm"},"/Days",-1)]))),_:1},8,["modelValue","disabled","view"])),[[r,e.loading.all],[u,"##"]]),(h(!0),x(U,null,B(e.validation.expDays.$errors,((e,a)=>(h(),x("small",{class:"text-red-base block",key:a},C(e.$message)+". ",1)))),128)),a[5]||(a[5]=_("small",{class:"block mt-4"},[_("span",{class:"font-semibold"},"Max Days"),f(": Up to 90 days ")],-1)),_("div",Wt,[y(d,{color:"teal",dense:"",type:"submit",onClick:e.handleSave},{default:b((()=>a[4]||(a[4]=[f(" Save & Apply ")]))),_:1},8,["onClick"])])],32)])),_:1})}]]);const Tt=u({name:"WidgetPrefix",components:{Fieldset:xe,Button:Z,Input:ee},props:{modelValue:{type:Object,default:void 0},loading:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e){const a=c({get:()=>e.modelValue,set:e=>emit("update:modelVallue",e)}),l=c((()=>t.prefix&&`${t.prefix}0X8R1`||"0X8R1")),t=A({prefix:a.value.prefix_order_number_sequence}),o=ve({prefix:{required:be}},t,{$lazy:!0});return g((()=>a.value.prefix_order_number_sequence),(e=>{e&&(t.prefix=e)}),{immediate:!0,deep:!0}),{form:t,preview:l,validation:o,handleSave:async()=>{await o.value.$validate(),o.value.$invalid||(a.value.prefix_order_number_sequence=t.prefix)}}}}),It={class:"grid grid-cols-1 gap-4"},$t={class:"flex justify-end"};var Mt=ae(Tt,[["render",function(e,a,l,t,o,n){const i=p("Input"),d=p("Button"),s=p("Fieldset"),r=I("maska"),u=I("loading");return h(),v(s,{class:"mb-6 rounded-xl"},{label:b((()=>a[3]||(a[3]=[f("Buyback Number")]))),default:b((()=>[_("form",{autocomplete:"off",onSubmit:a[2]||(a[2]=w(((...a)=>e.handleSave&&e.handleSave(...a)),["prevent"]))},[_("div",It,[_("div",null,[$(y(i,{modelValue:e.form.prefix,"onUpdate:modelValue":a[0]||(a[0]=a=>e.form.prefix=a),disabled:e.loading.update,view:e.validation.prefix.$invalid?"danger":"default",autocomplete:"off",label:"Buyback Prefix",class:"w-full"},null,8,["modelValue","disabled","view"]),[[r,"S*"],[u,e.loading.all]]),(h(!0),x(U,null,B(e.validation.prefix.$errors,((e,a)=>(h(),x("small",{class:"text-red-base block",key:a},C(e.$message)+". ",1)))),128))]),_("div",null,[$(y(i,{modelValue:e.preview,"onUpdate:modelValue":a[1]||(a[1]=a=>e.preview=a),label:"Preview",class:"w-full",disabled:""},null,8,["modelValue"]),[[u,e.loading.all||e.loading.update]])]),_("div",$t,[y(d,{color:"teal",dense:"",type:"submit",onClick:e.handleSave},{default:b((()=>a[4]||(a[4]=[f(" Save & Apply ")]))),_:1},8,["onClick"])])])],32)])),_:1})}]]);const jt=u({name:"WidgetImeiSn",components:{Fieldset:xe,Checkbox:ie,Button:Z,TextEditor:Pe},props:{modelValue:{type:Object,required:!0},loading:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:a}){const l=m(null),t=A({editor:Ce.exports.Editor,config:{htmlSupport:{allow:[{styles:!0,classes:!0}]}}}),o=c({get:()=>e.modelValue,set:e=>a("update:modelValue",e)}),n=c((()=>o.value.widget_auto_disabled_imei)),i=A({widget_is_enable_imei_input:o.value.widget_is_enable_imei_input||"0",widget_is_enable_imei_ins_msg:o.value.widget_is_enable_imei_ins_msg||"0",widget_imei_ins_msg:o.value.widget_imei_ins_msg||"",widget_imei_icon_selected:o.value.widget_imei_icon_selected||""});return g((()=>e.modelValue),(e=>{e&&(i.widget_is_enable_imei_input=e.widget_is_enable_imei_input||i.widget_is_enable_imei_input,i.widget_is_enable_imei_ins_msg=e.widget_is_enable_imei_ins_msg||i.widget_is_enable_imei_ins_msg,i.widget_imei_ins_msg=e.widget_imei_ins_msg||i.widget_imei_ins_msg,i.widget_imei_icon_selected=e.widget_imei_icon_selected||i.widget_imei_icon_selected)}),{immediate:!0,deep:!0}),{iconOptions:[{icon:"https://d18hvo5uozp8li.cloudfront.net/public/images/electric_bolt.svg",value:"https://d18hvo5uozp8li.cloudfront.net/public/images/electric_bolt.svg"},{icon:"https://d18hvo5uozp8li.cloudfront.net/public/images/speed.svg",value:"https://d18hvo5uozp8li.cloudfront.net/public/images/speed.svg"},{icon:"https://d18hvo5uozp8li.cloudfront.net/public/images/quickreply.svg",value:"https://d18hvo5uozp8li.cloudfront.net/public/images/quickreply.svg"},{icon:"https://d18hvo5uozp8li.cloudfront.net/public/images/warning-icon.svg",value:"https://d18hvo5uozp8li.cloudfront.net/public/images/warning-icon.svg"},{icon:"https://d18hvo5uozp8li.cloudfront.net/public/images/chat_bubble_outline.svg",value:"https://d18hvo5uozp8li.cloudfront.net/public/images/chat_bubble_outline.svg"},{icon:"https://d18hvo5uozp8li.cloudfront.net/public/images/motion_photos_off.svg",value:""}],form:i,selectIcon:e=>{i.widget_imei_icon_selected=e},handleSave:()=>{o.value.widget_is_enable_imei_input=i.widget_is_enable_imei_input,o.value.widget_is_enable_imei_ins_msg=i.widget_is_enable_imei_ins_msg,o.value.widget_imei_ins_msg=i.widget_imei_ins_msg,o.value.widget_imei_icon_selected=i.widget_imei_icon_selected},loading:e.loading,ckeditor:t,refTextEditor:l,disabledImei:n,toolbarItems:["undo","redo","link","horizontalLine","specialCharacters","heading","|","bold","italic","underline","strikethrough",{label:"Basic styles",icon:"text",items:["fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","superscript","subscript","code","|","textPartLanguage","|"]},"removeFormat","|","alignment","|","bulletedList","numberedList","|","outdent","indent"]}}}),Ft={class:"grid grid-cols-1 gap-4"},zt={class:"flex items-center"},Dt={class:"w-80"},Et={key:0,class:"ml-8"},At={class:"mt-4"},Gt={class:"mt-4"},qt={class:"sm:w-1/2 xl:w-full grid grid-cols-3 gap-8 xl:gap-6 mt-4"},Rt=["onClick","disabled"],Nt=["src","alt"];var Yt=ae(jt,[["render",function(e,a,l,t,o,n){const i=p("Checkbox"),d=p("Tooltip"),s=p("TextEditor"),r=p("Button"),u=p("Fieldset");return h(),v(u,{class:"mb-6 rounded-xl"},{label:b((()=>a[4]||(a[4]=[f("IMEI/SN Input Section")]))),default:b((()=>[_("form",{autocomplete:"off",onSubmit:a[3]||(a[3]=w(((...a)=>e.handleSave&&e.handleSave(...a)),["prevent"]))},[_("div",Ft,[_("div",zt,[y(i,{id:"widget_is_enable_imei_input",modelValue:e.form.widget_is_enable_imei_input,"onUpdate:modelValue":a[0]||(a[0]=a=>e.form.widget_is_enable_imei_input=a),loading:e.loading.all,disabled:e.loading.update||e.disabledImei,type:"toggle",value:"1","value-off":"0"},{default:b((()=>a[5]||(a[5]=[f(" IMEI/SN Input Section ")]))),_:1},8,["modelValue","loading","disabled"]),y(d,{placement:"top"},{content:b((()=>[_("div",Dt,C(e.disabledImei?"IMEI/SN settings are only available for electronics. Please enable electronics in your catalog to modify this setting.":"This setting applies only to electronics and products with IMEI/SN. If no electronics are enabled in the catalog, this setting will be disabled."),1)])),default:b((()=>a[6]||(a[6]=[_("i",{class:"material-icons"},"info",-1)]))),_:1})]),"1"==e.form.widget_is_enable_imei_input?(h(),x("div",Et,[y(i,{modelValue:e.form.widget_is_enable_imei_ins_msg,"onUpdate:modelValue":a[1]||(a[1]=a=>e.form.widget_is_enable_imei_ins_msg=a),loading:e.loading.all,disabled:e.loading.update,type:"toggle",value:"1","value-off":"0"},{default:b((()=>a[7]||(a[7]=[f(" Instructional Message ")]))),_:1},8,["modelValue","loading","disabled"]),"1"==e.form.widget_is_enable_imei_ins_msg?(h(),x(U,{key:0},[_("div",At,[a[8]||(a[8]=_("label",{class:"text-sm font-semibold block"},"Text for Checkout Page Section",-1)),y(s,{ref:"refTextEditor",modelValue:e.form.widget_imei_ins_msg,"onUpdate:modelValue":a[2]||(a[2]=a=>e.form.widget_imei_ins_msg=a),options:e.ckeditor,toolbarItems:e.toolbarItems},null,8,["modelValue","options","toolbarItems"])]),_("div",Gt,[a[9]||(a[9]=_("label",{class:"text-sm font-semibold block"},"Icon",-1)),_("div",qt,[(h(!0),x(U,null,B(e.iconOptions,(a=>(h(),x("button",{type:"button",key:a.value,class:W(["p-2 rounded-xl",e.form.widget_imei_icon_selected===a.value?"border-4 border-teal-04":"border border-grey-01"]),onClick:w((l=>e.selectIcon(a.value)),["prevent"]),disabled:e.loading.update},[_("img",{class:"mx-auto",src:a.icon,alt:a.icon},null,8,Nt)],10,Rt)))),128))])])],64)):V("",!0)])):V("",!0),y(r,{color:"teal",dense:"",class:"w-full",type:"submit",onClick:e.handleSave,loading:e.loading.update},{default:b((()=>a[10]||(a[10]=[f(" Apply ")]))),_:1},8,["onClick","loading"])])],32)])),_:1})}]]);const Ht=u({name:"WidgetLeads",components:{Fieldset:xe,Checkbox:ie},props:{modelValue:{type:Object,default:void 0},code:{type:String,default:void 0},customStarting:{type:Object,default:void 0}},emits:["update:modelValue"],setup:(e,{emit:a})=>({data:c({get:()=>e.modelValue,set:e=>a("update:modelValue",e)})})});const Kt=u({name:"WidgetOffer",components:{WidgetPurchasing:Pt,WidgetLimitItems:Ut,WidgetPriceLock:Ot,WidgetPrefix:Mt,WidgetImeiSn:Yt,WidgetLeads:ae(Ht,[["render",function(e,a,l,t,o,n){const i=p("Tooltip"),d=p("Checkbox"),s=p("Fieldset");return h(),v(s,{class:"mb-6 rounded-xl"},{label:b((()=>a[1]||(a[1]=[f("Collect Leads")]))),default:b((()=>[_("div",null,[y(d,{modelValue:e.data.is_enable_collectleads,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.is_enable_collectleads=a),type:"toggle",value:"1","value-off":"0"},{default:b((()=>[y(i,{trigger:"hover",content:"Generate more leads by collecting customer information before they can view their offer.",placement:"top"},{default:b((()=>a[2]||(a[2]=[_("div",{class:"flex items-center justify-center"},[_("label",{class:"mr-2"},"Lead Booster"),_("i",{class:"material-icons text-teal-04 cursor-pointer"}," rocket_launch ")],-1)]))),_:1})])),_:1},8,["modelValue"])])])),_:1})}]]),Fieldset:xe,Button:Z},props:{modelValue:{type:Object,default:void 0},staticData:{type:Object,default:void 0},loading:{type:Object,default:()=>({})},proplan:{type:Boolean,default:!1},whiteLabel:{type:Boolean,default:!1}},emits:["update:modelValue","update:message","update:customButton"],setup(e,{emit:a}){const l=m(),t=m(),o=m(),n=m(),i=m(),d=m();return{data:c({get:()=>e.modelValue,set:e=>a("update:modelVallue",e)}),widgetPrefix:l,widgetPurchasing:t,widgetLeads:o,widgetPirceLock:n,widgetImeiSn:i,widgetLimitItems:d,handleSaveMessage:e=>a("update:message",e),handleSaveCustomButton:()=>a("update:customButton")}}});const Xt=u({name:"WidgetController",components:{WidgetStartingPoint:Ge,WidgetCode:Ke,WidgetHost:Xe,WidgetSortOrder:ua,WidgetLanding:Ba,WidgetSetting:et,WidgetPurchasing:Pt,WidgetConfirmationMessage:bt,WidgetOffer:ae(Kt,[["render",function(e,a,l,t,o,n){const i=p("WidgetPrefix"),d=p("WidgetPurchasing"),s=p("WidgetLeads"),r=p("WidgetPriceLock"),u=p("WidgetLimitItems"),c=p("WidgetImeiSn");return h(),x(U,null,[y(i,{ref:"widgetPrefix",modelValue:e.data,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data=a),loading:e.loading},null,8,["modelValue","loading"]),y(d,{ref:"widgetPurchasing",modelValue:e.data,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data=a),loading:e.loading,"static-data":e.staticData,proplan:e.proplan,"white-label":e.whiteLabel,"onUpdate:message":e.handleSaveMessage,"onUpdate:customButton":e.handleSaveCustomButton},null,8,["modelValue","loading","static-data","proplan","white-label","onUpdate:message","onUpdate:customButton"]),y(s,{ref:"widgetLeads",modelValue:e.data,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data=a)},null,8,["modelValue"]),y(r,{ref:"widgetPirceLock",modelValue:e.data,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data=a),loading:e.loading},null,8,["modelValue","loading"]),y(u,{ref:"widgetLimitItems",modelValue:e.data,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data=a),loading:e.loading},null,8,["modelValue","loading"]),y(c,{ref:"widgetImeiSn",modelValue:e.data,"onUpdate:modelValue":a[5]||(a[5]=a=>e.data=a),loading:e.loading},null,8,["modelValue","loading"])],64)}]]),CollapsibleCard:Ie},props:{modelValue:{type:Object,default:()=>({})},proplan:{type:Boolean,default:!1},source:{type:String,default:void 0},staticData:{type:Object,default:void 0},sortOrder:{type:Object,default:void 0},customStarting:{type:Object,default:void 0},loading:{type:Object,default:()=>({})},removeBrand:{type:Boolean,default:!1},removeBrandFree:{type:Boolean,default:!1},collapsedSection:{type:Array,default:()=>[]},whiteLabel:{type:Boolean,default:!1},disabledWidget:{type:Boolean,default:!1},isPaywalledWidgetWatermark:{type:Boolean,default:!1}},emits:["update:message","update:modelValue","update:sortOrder","update:language","update:landingPage","update:removeBrand","update:customButton","update:secondaryLanguage"],setup(e,{emit:a}){const l=c({get:()=>e.modelValue,set:e=>a("update:modelValue",e)}),t=c({get:()=>e.source,set:()=>e.source}),o=m({}),n=m(),i=m(),r=m(),u=m(),g=m(),p=m(),h=m(),v=c((()=>e.loading)),b=c((()=>({get sortOrder(){return!e.sortOrder||!e.sortOrder.data.length}}))),f=c((()=>e.collapsedSection.includes("offer"))),_=e=>a("update:landingPage",e);return{data:l,code:t,landing:o,loading:v,disabled:b,widgetStartingPoint:n,widgetCode:i,widgetHost:r,widgetSortOrder:u,widgetLanding:g,widgetSetting:p,widgetOffer:h,isCollapseOfferSetting:f,handleUpdateSort:()=>a("update:sortOrder"),handleRemoveBrand:()=>a("update:removeBrand"),handleSaveMessage:e=>a("update:message",e),handleUpdateLanding:_,handleSelectLanding:(e,a)=>{o.value={device_slug:null,brand_slug:null,category_slug:null,token_model:null,token_location:null,search:""};const{name:l,slug:t,brand:n=null,token_model:i,token_location:d,device:s}=e;d?o.value.token_location=d:i?o.value.token_model=i:"Brands"===a?o.value.brand_slug=t:"Categories"===a?o.value.category_slug=t:o.value={device_slug:t,brand_slug:n},o.value.type=e.type||e.brand,o.value.custom_starting_value=e.custom_starting_value,o.value.search=l,o.value.is_mac=1==e.is_mac||"Mac"===s?1:0,_(o.value),u.value.actionShowSortOrder()},handleSelectLocation:e=>{o.value=d(d({},o.value),e),_(o.value)},handleChangeLanguage:e=>a("update:language",e),handleSaveCustomButton:()=>a("update:customButton"),handleTokenCombination:e=>{o.value=s(d({},o.value),{token_model_combine:e}),_(o.value)},handleChangeLanguageSecondary:e=>a("update:secondaryLanguage",e)}}}),Qt={class:"flex items-center gap-x-2"},Jt={key:0,class:"text-orange-04 material-icons cursor-pointer"},Zt={key:1,class:"text-xl font-medium"},eo={class:"flex items-center"},ao={key:0,class:"text-teal-04 material-icons ml-2 cursor-pointer"},lo={key:1};const to=u({components:{Card:pe,Button:Z,Breadcrumb:he,BaseLoading:ue,WidgetController:ae(Xt,[["render",function(e,a,l,t,o,n){const i=p("WidgetStartingPoint"),d=p("WidgetCode"),s=p("WidgetHost"),r=p("CollapsibleCard"),u=p("Tooltip"),c=p("WidgetSortOrder"),m=p("WidgetLanding"),g=p("WidgetSetting"),f=p("WidgetOffer"),w=I("loading");return h(),x(U,null,[y(r,{disabled:e.disabledWidget,"max-height":"none",class:"mb-6"},{title:b((()=>[_("h2",{class:W([e.disabledWidget&&"text-grey-02","text-xl font-medium"])},"Widget Code",2)])),default:b((()=>[y(i,{ref:"widgetStartingPoint",modelValue:e.data,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data=a),loading:e.loading,proplan:e.proplan,"white-label":e.whiteLabel},null,8,["modelValue","loading","proplan","white-label"]),y(d,{ref:"widgetCode",modelValue:e.code,"onUpdate:modelValue":a[1]||(a[1]=a=>e.code=a),"white-label":e.whiteLabel,type:"base"},null,8,["modelValue","white-label"]),y(s,{ref:"widgetHost",modelValue:e.data.widget_link,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.widget_link=a),"white-label":e.whiteLabel},null,8,["modelValue","white-label"])])),_:1},8,["disabled"]),$((h(),v(r,{disabled:e.disabled.sortOrder||e.disabledWidget,"max-hieght":"none",class:"mb-6"},S({default:b((l=>[y(c,{ref:"widgetSortOrder",modelValue:e.sortOrder,"onUpdate:modelValue":a[3]||(a[3]=a=>e.sortOrder=a),open:l.open,"custom-starting":e.landing,"current-starting":e.data.is_widget_enable_brand_step,"onUpdate:sortOrder":e.handleUpdateSort},null,8,["modelValue","open","custom-starting","current-starting","onUpdate:sortOrder"])])),_:2},[e.sortOrder?{name:"title",fn:b((()=>[e.sortOrder.data.length?(h(),x("h2",Zt,"Product Sort Order")):(h(),v(u,{key:0,placement:"top"},{content:b((()=>a[7]||(a[7]=[_("div",{class:"max-w-xs"}," You must enable and price at least one product before using this feature. ",-1)]))),default:b((()=>[_("div",Qt,[e.disabledWidget?V("",!0):(h(),x("i",Jt,"warning")),a[8]||(a[8]=_("h2",{class:"text-xl text-grey-02"},"Product Sort Order",-1))])])),_:1}))])),key:"0"}:{name:"title",fn:b((()=>[a[9]||(a[9]=_("h2",{class:"text-xl"},"Product Sort Order",-1))])),key:"1"}]),1032,["disabled"])),[[w,e.loading.sort_order]]),y(r,{disabled:e.disabledWidget,"max-height":"none",class:"mb-6"},{title:b((()=>[_("div",eo,[_("h2",{class:W([e.disabledWidget&&"text-grey-02","text-xl font-medium"])},"Landing Page Builder",2),y(u,{disabled:e.disabledWidget,placement:"top"},{content:b((()=>a[10]||(a[10]=[_("div",{class:"w-80"},"This setting creates a unique widget code that only displays a specific category, brand, or model of products. This is generally used for landing pages on a website, for example, an iPhone landing page would utilize this feature.",-1)]))),default:b((()=>[e.disabledWidget?(h(),x("i",lo)):(h(),x("i",ao,"info"))])),_:1},8,["disabled"])])])),default:b((()=>[y(m,{ref:"widgetLanding",modelValue:e.landing,"onUpdate:modelValue":a[4]||(a[4]=a=>e.landing=a),"custom-starting":e.customStarting,code:e.code,onSelect:e.handleSelectLanding,onSelectLocation:e.handleSelectLocation,onCombine:e.handleTokenCombination,"onUpdate:landingPage":e.handleUpdateLanding},null,8,["modelValue","custom-starting","code","onSelect","onSelectLocation","onCombine","onUpdate:landingPage"])])),_:1},8,["disabled"]),y(r,{disabled:e.disabledWidget,"max-height":"none",class:"mb-6"},{title:b((()=>[_("h2",{class:W([e.disabledWidget&&"text-grey-02","text-xl font-medium"])},"Widget Settings",2)])),default:b((()=>[y(g,{ref:"widgetSetting",modelValue:e.data,"onUpdate:modelValue":a[5]||(a[5]=a=>e.data=a),loading:e.loading,proplan:e.proplan,brand:e.removeBrand,brandFree:e.removeBrandFree,"white-label":e.whiteLabel,"is-paywalled-widget-watermark":e.isPaywalledWidgetWatermark,code:e.code,landing:e.landing,"onUpdate:removeBrand":e.handleRemoveBrand,"onUpdate:language":e.handleChangeLanguage,"onUpdate:secondaryLanguage":e.handleChangeLanguageSecondary},null,8,["modelValue","loading","proplan","brand","brandFree","white-label","is-paywalled-widget-watermark","code","landing","onUpdate:removeBrand","onUpdate:language","onUpdate:secondaryLanguage"])])),_:1},8,["disabled"]),y(r,{disabled:e.disabledWidget,"is-collapse":e.isCollapseOfferSetting,"max-height":"none",class:"mb-6"},{title:b((()=>[_("h2",{class:W([e.disabledWidget&&"text-grey-02","text-xl font-medium"])},"Offer Settings",2)])),default:b((()=>[y(f,{ref:"widgetOffer",modelValue:e.data,"onUpdate:modelValue":a[6]||(a[6]=a=>e.data=a),loading:e.loading,"static-data":e.staticData,proplan:e.proplan,"white-label":e.whiteLabel,"onUpdate:message":e.handleSaveMessage,"onUpdate:customButton":e.handleSaveCustomButton},null,8,["modelValue","loading","static-data","proplan","white-label","onUpdate:message","onUpdate:customButton"])])),_:1},8,["disabled","is-collapse"])],64)}]]),WidgetUnvailable:je,WidgetPreview:Fe},async setup(){const e=H(),{data:a,modal:l,staticData:t,loading:o,actionShow:n,actionUpdate:i,state:s,stateCustomStartingPoint:r,updateResponse:u,actionRemoveBranding:p,actionCustomStartingPoint:h,actionShowSortOrder:v,dataSortOrder:b,actionShowLanguage:f,updateLanguage:_}=K(),{widgetOptions:y,action:w,isProPlan:x,isPaywalledWidgetPlatformWatermark:V,isRemoveBrandFree:k}=re(),{state:S,actionConditionDeviceWidgetAvailability:C}=ge(),{features:P}=ce(),L=m(null);m(null);const U=m(!1),B=A({device_slug:null,brand_slug:null,category_slug:null,token_model:null,token_location:null,secondary_language:null}),W=c((()=>!1)),O=c((()=>e.query.collapse?e.query.collapse.split(","):[]));M((async()=>{S.value.is_available_device&&await v()})),await C(),await n(),await h(),await f();const T=m({appTypes:[{name:"On Page",value:"on_page"},{name:"Floating",value:"floating"}],positions:[{name:"Left",value:"left"},{name:"Top",value:"top"},{name:"Right",value:"right"},{name:"Bottom",value:"bottom"}],width_units:[{name:"px",value:"px"},{name:"%",value:"%"}]}),I={widget_width:{required:ye.withMessage("Width is required",be),numeric:we,minValue:fe(1)}},$=ve(I,a,{$lazy:!0}),j=()=>($.value.$validate(),!$.value.$invalid),F=async()=>{await n({includedKeys:["source","widget_is_remove_brand_available"]})},z=oe((async()=>{j()&&(U.value=!0,await i(d(d({},a),{widget_confirm_msg:{mailin:a.widget_confirm_msg.mailin.message,instore:a.widget_confirm_msg.instore.message}}),(()=>{document.documentElement.style.setProperty("--theme-color",`${a.widget_color_selected}`),document.documentElement.style.setProperty("--theme-color-hover",`${a.widget_color_selected}cc`),document.documentElement.style.setProperty("--show-logo",""+("1"==a.is_widget_logo_show?"block":"none"))})).finally((()=>U.value=!1)),F())}),500);g((()=>a),oe((()=>{a.widget_width_unit="%","full_width"===a.widget_width_type&&(a.widget_width="100"),"boxed"===a.widget_width_type&&(a.widget_width="50"),"middle_boxed"===a.widget_width_type&&(a.widget_width="25"),z()}),500),{deep:!0});const D=(e,a)=>{e.forEach((e=>{["token_model_combine","token_model"].includes(e)?B.token_model=a.token_model_combine||a.token_model:B[e]=a[e]}))};return{payload:a,state:s,features:P,stateDevice:S,staticData:t,stateCustomStartingPoint:r,modalWidget:l,isDisabledBuybackBrandingOption:W,isWhiteLabel:me,collapsedSectionByURLQuery:O,configUpdateLoading:U,changeWidget:F,actionUpdate:i,updateResponse:u,loading:o,breadcrumb:[{text:"Settings",to:{name:"setting"}},{text:"Widget"}],widgetConfigOption:T,validation:$,validate:j,handleRemoveBranding:async()=>{await p({is_remove_brand:a.widget_is_remove_brand},(async()=>await F()))},handleSaveMessage:async e=>{await i(d(d({},a),e)),await n(),q({type:"success",message:"Confirmation message updated!"})},handleSaveCustomButton:async()=>{await F(),q({type:"success",message:"Custom button updated!"})},dataSortOrder:b,handleUpdateSort:async()=>await F(),handleChangeLanguage:async e=>{o.all=!0,await _(e,(async()=>{await w(),q({type:"success",message:"Widget settings updated"}),o.all=!1}))},handleUpdateLanding:e=>{(e=>{Object.keys(B).forEach((e=>{B[e]=null})),e&&D(Object.keys(e),e)})(e)},selectedCustomStartingPoint:B,isProPlan:x,isPaywalledWidgetPlatformWatermark:V,isRemoveBrandFree:k,widgetOptions:y,handleChangeLanguageSecondary:async e=>{B.secondary_language=null==e?void 0:e.code},refWidgetController:L,handleSaveAll:async()=>{var e,a;await(null==(e=null==L?void 0:L.value)?void 0:e.widgetOffer.widgetPrefix.handleSave()),await(null==(a=null==L?void 0:L.value)?void 0:a.widgetOffer.widgetPirceLock.handleSave())}}}}),oo={class:"flex flex-col h-full p-6"},no={class:"flex-auto"},io={class:"grid grid-cols-8 gap-6 pb-6"},so={class:"xl:col-span-6 col-span-8"},ro={class:"xl:col-span-2 col-span-8"},uo={class:"sticky top-8 overflow-y-auto p-4",style:{"max-height":"90dvh"}};var co=ae(to,[["render",function(e,a,l,t,o,n){const i=p("Breadcrumb"),d=p("WidgetPreview"),s=p("WidgetController");return h(),x("div",oo,[y(i,{class:"mt-2 mb-8",pageTitle:"Widget",backTo:{name:"setting"},items:e.breadcrumb},null,8,["items"]),_("div",no,[_("div",io,[_("div",so,[y(d,{modelValue:e.payload,"onUpdate:modelValue":a[0]||(a[0]=a=>e.payload=a),available:e.stateDevice.is_available_device,loading:e.loading.all,"loading-update":e.loading.update,"white-label":e.features.whitelabelWidget,"tenant-id":e.widgetOptions.tenantId,"api-key":e.widgetOptions.apiKey,language:e.selectedCustomStartingPoint.secondary_language,device:e.selectedCustomStartingPoint.device_slug,brand:e.selectedCustomStartingPoint.brand_slug,category:e.selectedCustomStartingPoint.category_slug,"token-model":e.selectedCustomStartingPoint.token_model,"token-location":e.selectedCustomStartingPoint.token_location},null,8,["modelValue","available","loading","loading-update","white-label","tenant-id","api-key","language","device","brand","category","token-model","token-location"])]),_("div",ro,[_("div",uo,[y(s,{ref:"refWidgetController",modelValue:e.payload,"onUpdate:modelValue":a[1]||(a[1]=a=>e.payload=a),"disabled-widget":!e.stateDevice.is_available_device,"static-data":e.staticData,proplan:e.isProPlan,source:e.state.source,loading:e.loading,"sort-order":e.dataSortOrder,"custom-starting":e.stateCustomStartingPoint,"remove-brand":e.isDisabledBuybackBrandingOption,"collapsed-section":e.collapsedSectionByURLQuery,"white-label":e.isWhiteLabel,"is-paywalled-widget-watermark":e.isPaywalledWidgetPlatformWatermark,"remove-brand-free":e.isRemoveBrandFree,"onUpdate:sortOrder":e.handleUpdateSort,"onUpdate:landingPage":e.handleUpdateLanding,"onUpdate:removeBrand":e.handleRemoveBranding,"onUpdate:language":e.handleChangeLanguage,"onUpdate:message":e.handleSaveMessage,"onUpdate:customButton":e.handleSaveCustomButton,"onUpdate:secondaryLanguage":e.handleChangeLanguageSecondary},null,8,["modelValue","disabled-widget","static-data","proplan","source","loading","sort-order","custom-starting","remove-brand","collapsed-section","white-label","is-paywalled-widget-watermark","remove-brand-free","onUpdate:sortOrder","onUpdate:landingPage","onUpdate:removeBrand","onUpdate:language","onUpdate:message","onUpdate:customButton","onUpdate:secondaryLanguage"])])])])])])}]]),mo=u({setup(){const{genSuspense:e}=r();return()=>e(co)}});export{mo as default};
