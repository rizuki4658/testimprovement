import{a5 as e,O as a,aP as n,aq as t,m as s,a0 as o,o as i,n as d,w as l,B as m,ap as r,I as u,U as p,D as f,T as g,ar as c,A as C,t as T,aI as h,a6 as y,a2 as k,_}from"./vendor.f1efedad.js";import{u as w}from"./integration.19f1b956.js";import{B as b,t as j,b as v,d as x}from"./index.e231b017.js";import{u as I}from"./tremendeous.72f68b0e.js";const B={class:"flex justify-between"},S={class:"w-full flex items-center justify-center"},V={__name:"index",async setup(V){let F,L;const U=["integrationTremendousCampaignTemplate","integrationTremendousConfig"],$=e(),q=a(),z=n("refComponent"),A=I(),{getIntegrationByName:D}=w(),E=async()=>{await q.push({name:"integration"}),A.reset()},N=async()=>{"integrationTremendousCampaignTemplate"===$.name?z.value.onValidate()&&await q.push({name:"integrationTremendousConfig"}):(await j(A.update,(async()=>{await A.$update().then((()=>{_({type:"success",message:"Update Successful!"})}))})),E())};return[F,L]=t((()=>A.$get())),await F,L(),"/add-ons/tremendous/callback"!==$.path&&(1===D("tremendous").is_enable&&"/add-ons/tremendous/callback"!==$.path?A.form.selectedCampaignId?q.push({name:"integrationTremendousConfig"}):q.push({name:"integrationTremendousCampaignTemplate"}):q.push({name:"integrationTremendousConnect"})),(e,a)=>{const n=s("RouterView"),t=o("loading");return i(),d(r(x),{size:"md",modelValue:!0,hideFooter:!U.includes(r($).name),onClickClose:E,"without-transition":""},{header:l((()=>[m("div",B,[a[1]||(a[1]=m("span",null,"Tremendous Settings",-1)),"integrationTremendousConfig"===r($).name?(i(),d(r(v),{key:0,color:"teal",to:"/add-ons/tremendous/campaign-template",link:"",dense:""},{default:l((()=>a[0]||(a[0]=[u(" Edit Template ")]))),_:1})):p("",!0)])])),default:l((()=>[f(n,null,{default:l((({Component:e,route:a})=>[e?(i(),d(g,{name:"slide-fade",key:a.matched[a.matched.length-2].name},{default:l((()=>[(i(),d(c,null,{default:l((()=>[C((i(),T("div",null,[(i(),d(h,null,[(i(),d(y(e),{ref_key:"refComponent",ref:z},null,512))],1024))])),[[t,r(A).isLoading]])])),fallback:l((()=>[m("div",S,[f(b)])])),_:2},1024))])),_:2},1024)):p("",!0)])),_:1})])),footer:l((()=>[f(r(v),{loading:r(A).isLoading,color:"teal",onClick:N},{default:l((()=>["integrationTremendousCampaignTemplate"===r($).name?(i(),T(k,{key:0},[u("Continue")],64)):(i(),T(k,{key:1},[u("Save")],64))])),_:1},8,["loading"])])),_:1},8,["hideFooter"])}}};export{V as default};
