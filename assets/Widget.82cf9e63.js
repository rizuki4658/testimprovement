var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,o=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&r(e,t,a[t]);if(l)for(var t of l(a))i.call(a,t)&&r(e,t,a[t]);return e},d=(e,l)=>a(e,t(l));import{_ as n,u as c,Q as u,aP as p}from"./index.67cab78b.js";import{c as b}from"./dashboard.fb9a13c9.js";import{C as f}from"./card.ecf283cd.js";import{W as v}from"./index.6638546a.js";import{k as w,f as y,m,o as g,n as h,w as x,t as O,B as j,K as k,D as S,ar as I}from"./vendor.9695fe57.js";import"./date.f86face7.js";import"./setting.dd3979cd.js";const _=w({components:{Card:f,WidgetUnvailable:v},props:{statusId:{type:Number,default:null},orderTitle:{type:String,default:""},buyback_type:{type:[String,Number],default:2},widgetOnly:{type:Boolean,default:!1}},async setup(e){const{widgetOptions:a}=c(),{state:t,actionConditionDeviceWidgetAvailability:l}=b(),{features:s}=u(),i=y(null),r=()=>i.value?(i.value.update(d(o({tenantId:a.value.tenantId,apiKey:a.value.apiKey},JSON.parse(window.localStorage.getItem("white-label"))&&{whiteLabel:s.value.whitelabelWidget}),{disableFloatButton:!1})),null):(i.value=new Buyback(d(o({tenantId:a.value.tenantId,apiKey:a.value.apiKey},JSON.parse(window.localStorage.getItem("white-label"))&&{whiteLabel:s.value.whitelabelWidget}),{disableFloatButton:!1})),null);return await l(),t.value.is_available_device&&await(async()=>{const e=JSON.parse(window.localStorage.getItem("white-label"))&&s.value.whitelabelWidget?"https://widget-refreshedtech.com":"https://widget-us.buybackcloud.com",a=`${e}/v3.js`,t=document.querySelector(`script[src*="${e}"]`);t&&t.remove(),p(a).load(r)})(),{state:t,buyback:i}}}),W={key:0},P={key:0,class:"bg-white p-4 overflow-y-auto rounded-lg",style:{minHeight:"450px",maxHeight:"600px"}},B={class:"flex"},K={class:"flex-grow"},N={class:"flex items-center flex-wrap"},C={class:"font-medium text-teal-04 text-lg mr-4"},D={key:1},J={class:"flex"},T={class:"flex-grow"},F={class:"flex items-center flex-wrap"},H={class:"font-semibold mr-4"},L={class:"overflow-y-auto"};var U=n(_,[["render",function(e,a,t,l,s,i){const r=m("Card"),o=m("WidgetUnvailable");return g(),h(I,null,{default:x((()=>[e.state.is_available_device?(g(),O("div",W,[e.widgetOnly?(g(),O("div",P,a[0]||(a[0]=[j("div",{class:"buyback-widget"},null,-1)]))):(g(),h(r,{key:1,class:"shadow-lg h-full"},{header:x((()=>[j("div",B,[j("div",K,[j("div",N,[j("p",C,k(e.orderTitle),1)])])])])),default:x((()=>[a[1]||(a[1]=j("div",{class:"overflow-y-auto"},[j("div",{class:"buyback-widget"})],-1))])),_:1}))])):(g(),O("div",D,[S(r,{class:"shadow-lg h-full"},{header:x((()=>[j("div",J,[j("div",T,[j("div",F,[j("p",H,k(e.orderTitle),1)])])])])),default:x((()=>[j("div",L,[S(o)])])),_:1})]))])),_:1})}]]);export{U as default};
