{"version":3,"file":"ShippingProvider.cfb5402c.js","sources":["../../src/components/Integration/ShippingProvider.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"flex items-center my-4\">\n      <Input v-model=\"searchQuery\" placeholder=\"Search Everything\" block icon>\n        <template #icon>\n          <span class=\"material-icons\">search</span>\n        </template>\n      </Input>\n      <Dropdown\n        class=\"mx-4\"\n        trigger=\"click\"\n        size=\"medium\"\n        :fallbackPlacements=\"['bottom']\"\n        :hide-on-click=\"false\"\n      >\n        <Button\n          color=\"white\"\n          view=\"outlined\"\n          class=\"flex-auto dropdown dropdown-arrow\"\n          >Courier</Button\n        >\n        <template #dropdown>\n          <DropdownMenu>\n            <DropdownItem>\n              <Checkbox\n                :modelValue=\"isSelectedSomeFilters || isSelectedAllFilters\"\n                @click.prevent=\"handleSelectAllFilters\"\n                :indeterminate=\"isSelectedSomeFilters\"\n                color=\"teal\"\n                >All Carriers</Checkbox\n              >\n            </DropdownItem>\n            <DropdownItem\n              v-for=\"(carrierFilter, carrierFilterIndex) in filters\"\n              :key=\"carrierFilterIndex\"\n            >\n              <Checkbox\n                color=\"teal\"\n                v-model=\"selectedFilters\"\n                :value=\"carrierFilter\"\n              >\n                {{ carrierFilter }}\n              </Checkbox>\n            </DropdownItem>\n          </DropdownMenu>\n        </template>\n      </Dropdown>\n    </div>\n    <div v-if=\"isSelectedFilters\">\n      <Button @click=\"handleResetFilters()\" color=\"grey\" view=\"smooth\" dense>\n        <span> <b>Courier: </b> {{ selectedCarrierFilters }} </span>\n        <span @click=\"handleResetFilters\" class=\"material-icons text-sm ml-1\"\n          >close</span\n        >\n      </Button>\n      <Button\n        @click=\"handleResetFilters()\"\n        class=\"mx-2 block\"\n        color=\"teal\"\n        view=\"smooth\"\n        dense\n      >\n        <span @click=\"handleResetFilters\" class=\"material-icons text-sm\"\n          >close</span\n        >\n        Clear All\n      </Button>\n    </div>\n    <div v-if=\"filteredCarriers.length > 0\" class=\"my-4\">\n      <div\n        class=\"shipping-provider\"\n        :style=\"{\n          maxHeight: '280px',\n          overflowY: 'auto',\n          paddingRight: '10px'\n        }\"\n      >\n        <Tooltip\n          v-for=\"(carrier, carrierIndex) of filteredCarriers\"\n          :key=\"carrierIndex\"\n          placement=\"top\"\n          :disabled=\"!carrier.disabled\"\n        >\n          <template #content>\n            <div style=\"max-width: 400px\">\n              <p>\n                This carrier does not currently support return labels. Please\n                reach out to Reusely support for more information\n              </p>\n            </div>\n          </template>\n          <template #default>\n            <div\n              :class=\"[\n                'shipping-provider__card',\n                carrier.selected ? 'shipping-provider__card--selected' : '',\n                carrier.disabled ? 'shipping-provider__card--disabled' : ''\n              ]\"\n              @click=\"handleSelect(carrier)\"\n            >\n              <div class=\"shipping-provider__icon\">\n                <img :src=\"carrier.carrier_icon\" class=\"h-12\" alt=\"\" />\n              </div>\n              <div class=\"shipping-provider__label\">\n                <i\n                  v-if=\"carrier.selected\"\n                  class=\"material-icons text-teal-04 self-start mx-2\"\n                  >check_circle</i\n                >\n                <h2 class=\"text-lg font-normal\">\n                  <template v-if=\"type === 'shipengine'\">{{\n                    carrier.carrier_name\n                  }}</template>\n                  <template v-else>\n                    {{ `${carrier.carrier_name} - ${carrier.service_name}` }}\n                  </template>\n                </h2>\n              </div>\n              <div class=\"shipping-provider__account\">\n                <span\n                  v-if=\"type === 'shipengine' && carrier.carrier_nickname\"\n                  class=\"block bg-grey-lighten rounded-full px-4 py-2 text-sm text-grey-04 text-center\"\n                >\n                  {{ carrier.carrier_nickname }}\n                </span>\n              </div>\n            </div>\n          </template>\n        </Tooltip>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center py-4\">\n        <p class=\"text-grey-04\">No data to show</p>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { defineComponent, ref, computed, watch } from 'vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Badge from 'bbUi/components/badge/badge.vue'\n\nexport default defineComponent({\n  components: {\n    Input,\n    Checkbox,\n    Button,\n    Badge\n  },\n  props: {\n    selected: {\n      type: Object,\n      default: () => ({\n        carrier_code: null,\n        carrier_icon: null,\n        carrier_name: null,\n        carrier_uuid: null,\n        service_code: null,\n        service_name: null,\n        friendly_name: null\n      })\n    },\n    carriers: {\n      type: Array,\n      default: () => []\n    },\n    filters: {\n      type: [Array, Object],\n      default: () => []\n    },\n    type: {\n      type: String,\n      default: 'default'\n    }\n  },\n  emits: ['selected'],\n  setup(props, { emit }) {\n    const searchQuery = ref('')\n    const selected = ref(props.selected)\n    const selectedFilters = ref([])\n    const carriers = computed(() =>\n      props.carriers.map((carrier) => ({\n        ...carrier,\n        selected:\n          selected.value !== null\n            ? selected.value.carrier_uuid === carrier.carrier_uuid\n            : false\n      }))\n    )\n    const isSelectedAllFilters = computed(\n      () => selectedFilters.value.length === props.filters.length\n    )\n    const isSelectedSomeFilters = computed(\n      () => selectedFilters.value.length > 0 && !isSelectedAllFilters.value\n    )\n    const isSelectedFilters = computed(() => selectedFilters.value.length > 0)\n    const filteredCarriers = computed(() => {\n      return carriers.value.filter((carrier) => {\n        const carrierNameMatchedQuery =\n          carrier.carrier_name || carrier.service_name\n            ? `${carrier.carrier_name || ''} - ${carrier.service_name || ''}`\n                .toLowerCase()\n                .replace(/[-\\s\\(\\))]/g, '')\n                .indexOf(\n                  searchQuery.value.toLowerCase().replace(/[-\\s\\(\\))]/g, '')\n                ) > -1\n            : false\n        const carrierNicknameMatchedQuery = carrier.carrier_nickname\n          ? carrier.carrier_nickname\n              .toLowerCase()\n              .replace(/[-\\s\\(\\))]/g, '')\n              .indexOf(\n                searchQuery.value.toLowerCase().replace(/[-\\s\\(\\))]/g, '')\n              ) > -1\n          : false\n\n        const isMatchedSearchQuery = searchQuery.value\n          ? carrierNameMatchedQuery || carrierNicknameMatchedQuery\n          : true\n        const isMatchedCarrierFilters =\n          selectedFilters.value.length > 0\n            ? selectedFilters.value.includes(carrier?.friendly_name) ||\n              selectedFilters.value.includes(carrier?.carrier_name)\n            : true\n        return isMatchedSearchQuery && isMatchedCarrierFilters\n      })\n    })\n    const selectedCarrierFilters = computed(() =>\n      selectedFilters.value.join(', ')\n    )\n    const handleSelect = (carrier) => {\n      if (carrier.disabled) return\n      selected.value = carrier\n      emit('selected', selected.value)\n    }\n    const handleSelectAllFilters = () => {\n      if (isSelectedSomeFilters.value || !isSelectedAllFilters.value) {\n        selectedFilters.value = props.filters\n      } else {\n        selectedFilters.value = []\n      }\n    }\n    const handleResetFilters = () => {\n      selectedFilters.value = []\n    }\n    watch(\n      () => props.selected,\n      (selectedCarrier) => (selected.value = selectedCarrier)\n    )\n    return {\n      selected,\n      carriers,\n      filteredCarriers,\n      searchQuery,\n      selectedFilters,\n      selectedCarrierFilters,\n      isSelectedSomeFilters,\n      isSelectedAllFilters,\n      isSelectedFilters,\n      handleSelect,\n      handleSelectAllFilters,\n      handleResetFilters\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.shipping-provider {\n  @apply grid md:grid-cols-4 grid-cols-1 gap-4 overflow-y-auto pr-2;\n  $self: &;\n  &__icon,\n  &__label {\n    @apply flex-auto flex items-center text-center my-2;\n  }\n  &__card {\n    @apply flex flex-col items-center transition duration-300 border border-grey-02 bg-white px-6 py-8 cursor-pointer;\n    min-height: 130px;\n    border-radius: 0.4em;\n    &--selected,\n    &:hover {\n      @apply border-teal-04 text-teal-04;\n    }\n    &--selected {\n      #{$self}__label {\n        @apply md:text-left md:items-start;\n      }\n    }\n    &--disabled {\n      &:hover {\n        @apply border-grey-01;\n      }\n      @apply bg-grey-lighten;\n      #{$self}__label {\n        h2 {\n          @apply text-grey-04;\n        }\n      }\n      #{$self}__icon {\n        img {\n          filter: grayscale(1);\n        }\n      }\n    }\n  }\n  &__label,\n  &__account {\n    word-break: break-word;\n  }\n}\n</style>\n"],"names":["_sfc_main","defineComponent","components","Input","Checkbox","Button","Badge","props","selected","type","Object","default","carrier_code","carrier_icon","carrier_name","carrier_uuid","service_code","service_name","friendly_name","carriers","Array","filters","String","emits","[object Object]","emit","searchQuery","ref","selectedFilters","computed","map","carrier","__spreadProps","__spreadValues","value","isSelectedAllFilters","length","isSelectedSomeFilters","isSelectedFilters","filteredCarriers","filter","carrierNameMatchedQuery","toLowerCase","replace","indexOf","carrierNicknameMatchedQuery","carrier_nickname","isMatchedSearchQuery","isMatchedCarrierFilters","includes","selectedCarrierFilters","join","watch","selectedCarrier","handleSelect","disabled","handleSelectAllFilters","handleResetFilters","key","_hoisted_4","class","paddingRight","_hoisted_5","_hoisted_7","_hoisted_10","_openBlock","_createElementBlock","_hoisted_1","onUpdate:modelValue","_cache","$event","_ctx","placeholder","block","icon","_withCtx","_createVNode","_component_Dropdown","trigger","size","fallbackPlacements","_component_Checkbox","modelValue","onClick","_withModifiers","indeterminate","_Fragment","_renderList","carrierFilter","carrierFilterIndex","_createBlock","_component_DropdownItem","_component_Button","color","view","_hoisted_2","_createElementVNode","args","_createCommentVNode","_hoisted_3","carrierIndex","_component_Tooltip","placement","max-width","_hoisted_6","src","_hoisted_8","_hoisted_11","_hoisted_13"],"mappings":"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"}