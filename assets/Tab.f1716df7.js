import{k as a,a5 as e,y as t,g as l,z as i,m as s,$ as n,o as r,t as o,B as d,n as c,w as p,D as m,I as g,A as u,a1 as b,a2 as f,K as h,S as x}from"./vendor.9695fe57.js";import{_ as y,b as k,f as _,d as v,P as w,ag as T,ah as C,ai as L,af as P,a7 as S,g as I}from"./index.dcc9fc55.js";import{_ as j}from"./tab.10f696d6.js";import{_ as A,a as z}from"./timeline-item.a8bf40e4.js";import{C as B}from"./card.323f324c.js";import{T as E}from"./TextLimit.91564872.js";const U=a({components:{Button:k,Tab:j,Input:_,Modal:v,Pagination:w,Timeline:A,TimelineItem:z,Card:B,TextLimit:E},async setup(){const{tab:a}=T(),{state:s,actionAll:n,data:r,loading:o}=C(),{action:d,loading:c}=L(),p=e(),{action:m,state:g}=P(),u=t((()=>({data:r,route:p.params.courierId})),I((async()=>{"shippingTab"===p.name&&await n(p.params.courierId||null)}),500),{deep:!0}),b=l((()=>0===g.value.length));return i((()=>u())),await Promise.all([n(p.params.courierId||null),m()]),{data:r,tab:a,state:s,loading:o,loadingPrint:c,isEmptyShippingLabel:b,nameCapitalize:S,rePrintShippingLabel:async a=>{a&&await d(a)}}}}),V={class:"flex xl:flex-row flex-col justify-between items-center"},D={class:"space-x-4"},M={class:"w-full h-full flex justify-center items-center"},N={class:"whitespace-pre-line"},$={key:0,class:"mb-2"},G={key:1,class:"block text-teal-04 mb-2"},K=["href"];var q=y(U,[["render",function(a,e,t,l,i,y){const k=s("router-link"),_=s("Button"),v=s("Popover"),w=s("Tab",!0),T=s("Input"),C=s("TableColumn"),L=s("TextLimit"),P=s("Table"),S=s("Pagination"),I=s("Card"),j=n("loading");return r(),o(b,null,[d("div",V,[e[8]||(e[8]=d("div",{class:"lg:flex lg:divide-x lg:divide-grey-01 xl:mb-0 mb-4"},[d("div",{class:"flex lg:pr-4 lg:mb-0 mb-4"},[d("h5",null,"Shipping")])],-1)),d("div",D,[a.isEmptyShippingLabel?(r(),c(v,{key:0,width:"400",trigger:"hover"},{reference:p((()=>[d("div",null,[m(_,{disabled:"",color:"teal",class:"lg:inline-block block"},{default:p((()=>e[6]||(e[6]=[d("span",{class:"material-icons text-lg"},"add",-1),g(" Add Shipping Label")]))),_:1})])])),default:p((()=>[d("div",M,[d("span",N,[e[5]||(e[5]=g("Please set up at least one shipping provider first. ")),m(k,{to:{name:"integration"}},{default:p((()=>e[4]||(e[4]=[g("Go to Add-ons")]))),_:1})])])])),_:1})):(r(),c(_,{key:1,color:"teal",class:"lg:inline-block block",to:{name:"createShippingLabel"},link:""},{default:p((()=>e[7]||(e[7]=[d("span",{class:"material-icons text-lg"},"add",-1),g(" Add Shipping Label")]))),_:1}))])]),e[11]||(e[11]=d("div",{class:"flex items-center space-x-2 px-4 py-2 bg-orange-01 text-orange-04 rounded-lg my-6"},[d("i",{class:"material-icons"},"info"),d("p",null," If you have an active Mail-in location and a shipping carrier integrated, you can create incoming shipping labels manually here instead of going to your carrier portal. ")],-1)),m(I,null,{default:p((()=>[m(w,{view:"smooth",color:"teal",items:a.tab},null,8,["items"]),m(T,{modelValue:a.data.search,"onUpdate:modelValue":e[0]||(e[0]=e=>a.data.search=e),block:"",placeholder:"Search Everything",icon:""},{icon:p((()=>e[9]||(e[9]=[d("i",{class:"material-icons text-lg text-grey-03"},"search",-1)]))),_:1},8,["modelValue"]),u((r(),c(P,{data:a.state.data,class:"mt-8"},{default:p((()=>[m(C,{prop:"box_id",label:"Buyback ID#"}),m(C,{label:"Name"},{default:p((e=>[m(L,{text:e.row.name||""},{default:p((({text:e})=>[a.nameCapitalize(e).length?(r(),o("div",$,[(r(!0),o(b,null,f(a.nameCapitalize(e),((a,e)=>(r(),o("span",{key:e,class:"text-teal-04 capitalize"},h(`${a} `),1)))),128))])):(r(),o("span",G,h(e),1))])),_:2},1032,["text"])])),_:1}),m(C,{prop:"address",label:"Address",width:"200"},{default:p((a=>[g(h(a.row.address||"-"),1)])),_:1}),m(C,{label:"Tracking Number",width:"300"},{default:p((a=>[d("a",{target:"_blank",href:a.row.tracking_number_link?a.row.tracking_number_link:"#",rel:"noreferrer noopener"},h(a.row.tracking_number),9,K)])),_:1}),m(C,{prop:"type",label:"Carrier"}),m(C,null,{default:p((t=>[d("div",{class:"lg:opacity-0 group-hover:opacity-100 transition-opacity",onClick:e[1]||(e[1]=x((()=>{}),["stop"]))},[m(_,{color:"teal",class:"mr-4",onClick:e=>a.rePrintShippingLabel(t.row.id),loading:a.loadingPrint.has(t.row.id),dense:""},{default:p((()=>e[10]||(e[10]=[d("i",{class:"material-icons text-lg"},"print",-1)]))),_:2},1032,["onClick","loading"])])])),_:1})])),_:1},8,["data"])),[[j,a.loading.all]]),m(S,{page:a.data.page,"onUpdate:page":e[2]||(e[2]=e=>a.data.page=e),limit:a.data.limit,"onUpdate:limit":e[3]||(e[3]=e=>a.data.limit=e),data:a.state,class:"mt-4"},null,8,["page","limit","data"])])),_:1})],64)}]]);export{q as default};
