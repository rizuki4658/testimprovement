{"version":3,"file":"tremendeous.d1ad0f3c.js","sources":["../../src/store/pinia/integration/tremendeous.js"],"sourcesContent":["import { defineStore } from 'pinia'\nimport request from 'utils/request'\n\nexport const useIntegrationTremendous = defineStore('integrationTremendous', {\n\tstate: () => {\n\t\treturn {\n\t\t\tform: {\n\t\t\t\tselectedLocations: [],\n\t\t\t\tselectedProducts: [],\n\t\t\t\tselectedCampaignId: '',\n\t\t\t\tdescription: '',\n\t\t\t},\n\t\t\tget: {\n\t\t\t\tisLoading: false,\n\t\t\t\tresult: undefined\n\t\t\t},\n\t\t\tgetLocations: {\n\t\t\t\tisLoading: false,\n\t\t\t\tresult: undefined,\n\t\t\t\tcontroller: undefined\n\t\t\t},\n\t\t\tupdate: {\n\t\t\t\tisLoading: false\n\t\t\t},\n\t\t\tclaimToken: {\n\t\t\t\tisLoading: false\n\t\t\t}\n\t\t}\n\t},\n\tgetters: {\n\t\tisLoading: state =>\n\t\t\tstate.get.isLoading ||\n\t\t\tstate.getLocations.isLoading ||\n\t\t\tstate.update.isLoading ||\n\t\t\tstate.claimToken.isLoading\n\t},\n\tactions: {\n\t\treset() {\n\t\t\tthis.$state.form.selectedLocations = []\n\t\t\tthis.$state.form.selectedProducts = []\n\t\t\tthis.$state.form.selectedCampaignId = ''\n\t\t\tthis.$state.form.description = ''\n\t\t\tthis.$state.get.result = undefined\n\t\t\tthis.$state.getLocations.result = undefined\n\t\t},\n\t\tasync $get(payload) {\n\t\t\tconst response = await request({\n\t\t\t\turl: `/v1/pos/integrations/tremendous`,\n\t\t\t\tmethod: 'get'\n\t\t\t})\n\n\t\t\tthis.$state.get.result = response\n\n\t\t\tif (response.selected_ids) {\n\t\t\t\tthis.$state.form.selectedProducts = response.selected_ids.products\n\t\t\t\tthis.$state.form.selectedLocations = response.selected_ids.locations\n\t\t\t\tthis.$state.form.selectedCampaignId = response.selected_ids.campaign_id\n\t\t\t\tthis.$state.form.description = response.description\n\t\t\t}\n\n\t\t\treturn response\n\t\t},\n\t\tasync $getLocations(payload) {\n\t\t\tconst response = await request({\n\t\t\t\turl: '/v1/pos/settings/store-location',\n\t\t\t\tmethod: 'get',\n\t\t\t\tsignal: this.$state.getLocations.controller\n\t\t\t\t\t? this.$state.getLocations.controller.signal\n\t\t\t\t\t: undefined,\n\t\t\t\tparams: payload.params\n\t\t\t})\n\n\t\t\tthis.$state.getLocations.result = response\n\n\t\t\treturn response\n\t\t},\n\t\tasync $update() {\n\t\t\treturn await request({\n\t\t\t\turl: '/v1/pos/integrations/tremendous',\n\t\t\t\tmethod: 'put',\n\t\t\t\tdata: {\n\t\t\t\t\tlocation_ids: this.$state.form.selectedLocations,\n\t\t\t\t\tproduct_ids: this.$state.form.selectedProducts,\n\t\t\t\t\tcampaign_id: this.$state.form.selectedCampaignId,\n\t\t\t\t\tdescription: this.$state.form.description,\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tasync $claimToken(payload) {\n\t\t\treturn await request({\n\t\t\t\turl: '/v1/pos/integrations/tremendous/token-claims',\n\t\t\t\tmethod: 'post',\n\t\t\t\tdata: payload.data\n\t\t\t})\n\t\t}\n\t}\n})\n"],"names":["useIntegrationTremendous","defineStore","state","form","selectedLocations","selectedProducts","selectedCampaignId","description","get","isLoading","result","getLocations","controller","update","claimToken","getters","actions","[object Object]","this","$state","payload","response","request","url","method","selected_ids","products","locations","campaign_id","signal","params","data","location_ids","product_ids","$claimToken"],"mappings":"iFAGY,MAACA,EAA2BC,EAAY,wBAAyB,CAC5EC,MAAO,KACC,CACNC,KAAM,CACLC,kBAAmB,GACnBC,iBAAkB,GAClBC,mBAAoB,GACpBC,YAAa,IAEdC,IAAK,CACJC,WAAW,EACXC,YAAQ,GAETC,aAAc,CACbF,WAAW,EACXC,YAAQ,EACRE,gBAAY,GAEbC,OAAQ,CACPJ,WAAW,GAEZK,WAAY,CACXL,WAAW,KAIdM,QAAS,CACRN,UAAWP,GACVA,EAAMM,IAAIC,WACVP,EAAMS,aAAaF,WACnBP,EAAMW,OAAOJ,WACbP,EAAMY,WAAWL,WAEnBO,QAAS,CACRC,QACMC,KAAAC,OAAOhB,KAAKC,kBAAoB,GAChCc,KAAAC,OAAOhB,KAAKE,iBAAmB,GAC/Ba,KAAAC,OAAOhB,KAAKG,mBAAqB,GACjCY,KAAAC,OAAOhB,KAAKI,YAAc,GAC1BW,KAAAC,OAAOX,IAAIE,YAAS,EACpBQ,KAAAC,OAAOR,aAAaD,YAAS,GAAAO,WAExBG,GACJ,MAAAC,QAAiBC,EAAQ,CAC9BC,IAAK,kCACLC,OAAQ,QAYF,OATFN,KAAAC,OAAOX,IAAIE,OAASW,EAErBA,EAASI,eACZP,KAAKC,OAAOhB,KAAKE,iBAAmBgB,EAASI,aAAaC,SAC1DR,KAAKC,OAAOhB,KAAKC,kBAAoBiB,EAASI,aAAaE,UAC3DT,KAAKC,OAAOhB,KAAKG,mBAAqBe,EAASI,aAAaG,YACvDV,KAAAC,OAAOhB,KAAKI,YAAcc,EAASd,aAGlCc,GAAAJ,oBAEYG,GACb,MAAAC,QAAiBC,EAAQ,CAC9BC,IAAK,kCACLC,OAAQ,MACRK,OAAQX,KAAKC,OAAOR,aAAaC,WAC9BM,KAAKC,OAAOR,aAAaC,WAAWiB,YACpC,EACHC,OAAQV,EAAQU,SAKV,OAFFZ,KAAAC,OAAOR,aAAaD,OAASW,EAE3BA,GAAAJ,gBAGP,aAAaK,EAAQ,CACpBC,IAAK,kCACLC,OAAQ,MACRO,KAAM,CACLC,aAAcd,KAAKC,OAAOhB,KAAKC,kBAC/B6B,YAAaf,KAAKC,OAAOhB,KAAKE,iBAC9BuB,YAAaV,KAAKC,OAAOhB,KAAKG,mBAC9BC,YAAaW,KAAKC,OAAOhB,KAAKI,gBAAA2B,kBAIfd,SACJE,EAAQ,CACpBC,IAAK,+CACLC,OAAQ,OACRO,KAAMX,EAAQW"}