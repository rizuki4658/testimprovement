var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,s=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,o=(e,o)=>{for(var i in o||(o={}))l.call(o,i)&&s(e,i,o[i]);if(a)for(var i of a(o))t.call(o,i)&&s(e,i,o[i]);return e};import{u as i}from"./index.f40e4a9e.js";import{c as n}from"./index.6b6f6369.js";import{r,e as d,v as u}from"./index.54844a74.js";import{f as c,a9 as p,_ as m,b as v}from"./index.9c4dcead.js";import{I as f}from"./InputPhone.084d26de.js";import{k as h,f as y,r as b,y as x,m as g,$ as _,o as k,t as w,B as $,D as V,a1 as j,a2 as C,K as I,A as O,g as A,n as P,W as S,z as T,w as L}from"./vendor.9695fe57.js";import{c as N}from"./copy.6c996115.js";import{A as E}from"./index.ec3bf3b0.js";const z=h({name:"AbandonCustomerForm",components:{Input:c,InputPhone:f},props:{data:{type:Object,default:()=>({email:null,firstname:null,lastname:null,phone:null,address:null,suite:null,city:null,state:null,zip:null,country:null})}},emits:["update:data"],setup(e,{emit:a}){const l=y(null),t=b(e.data);Object.assign(t,{valid:t.address&&""!==t.address&&null!==t.address});const s={firstname:{required:r},lastname:{required:r},phone:{required:r,invalidNumber:n.withMessage("Phone number is invalid",(()=>{var e;return!t.phone||(null==(e=l.value)?void 0:e.isValid)}))},email:{required:r,email:n.withMessage("Invalid email address",d)},valid:{sameAs:u}},c=i(s,t,{$lazy:!0});return x((()=>o({},t)),(()=>{a("update:data",t)})),{phoneNumber:p,data:t,refInputPhone:l,validation:c,validate:()=>(c.value.$validate(),!c.value.$invalid),address:{route:"address",valid:"valid",locality:"city",administrative_area_level_1:"state",formatted_address:"address_text",postal_code:"zip",country:"country",disallowCustomAddress:!0}}}}),D={class:"grid md:grid-cols-2 gap-6"},U={class:"md:col-span-2"},q={class:"md:col-span-2"},B={class:"md:col-span-2"};var F=m(z,[["render",function(e,a,l,t,s,o){const i=g("Input"),n=g("InputPhone"),r=_("gmap");return k(),w("div",D,[$("div",null,[V(i,{modelValue:e.data.firstname,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.firstname=a),label:"First Name",placeholder:"First Name",block:"",view:e.validation.firstname.$invalid?"danger":"default"},null,8,["modelValue","view"]),(k(!0),w(j,null,C(e.validation.firstname.$errors,((e,a)=>(k(),w("small",{class:"text-red-base block",key:a},I(e.$message)+". ",1)))),128))]),$("div",null,[V(i,{modelValue:e.data.lastname,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.lastname=a),label:"Last Name",placeholder:"Last Name",block:"",view:e.validation.lastname.$invalid?"danger":"default"},null,8,["modelValue","view"]),(k(!0),w(j,null,C(e.validation.lastname.$errors,((e,a)=>(k(),w("small",{class:"text-red-base block",key:a},I(e.$message)+". ",1)))),128))]),$("div",U,[V(i,{modelValue:e.data.email,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.email=a),label:"Email",placeholder:"Email address",block:"",view:e.validation.email.$invalid?"danger":"default"},null,8,["modelValue","view"]),(k(!0),w(j,null,C(e.validation.email.$errors,((e,a)=>(k(),w("small",{class:"text-red-base block",key:a},I(e.$message)+". ",1)))),128))]),$("div",q,[O(V(i,{modelValue:e.data.address_text,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data.address_text=a),label:"Street Address",block:"",placeholder:"Street address",view:e.validation.valid.$invalid?"danger":"default"},null,8,["modelValue","view"]),[[r,e.address]]),a[6]||(a[6]=$("small",null,"Street address, P.O box, company name, c/o.",-1)),(k(!0),w(j,null,C(e.validation.valid.$errors,((e,a)=>(k(),w("small",{class:"text-red-base block",key:a},I(e.$message)+". ",1)))),128))]),$("div",B,[V(i,{modelValue:e.data.suite,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.suite=a),block:"",placeholder:"Suite"},null,8,["modelValue"]),a[7]||(a[7]=$("small",null,"Apartment, suite, unit, building, floor, etc.",-1))]),$("div",null,[V(n,{ref:"refInputPhone",modelValue:e.data.phone,"onUpdate:modelValue":a[5]||(a[5]=a=>e.data.phone=a),label:"Phone",block:"","country-autofill-setting":""},null,8,["modelValue"]),(k(!0),w(j,null,C(e.validation.phone.$errors,((e,a)=>(k(),w("small",{class:"text-red-base block",key:a},I(e.$message)+". ",1)))),128))])])}]]);const M=h({name:"DetailContactOrderInformation",components:{Address:E,Button:v},props:{title:{type:String,default:void 0},data:{type:Object,default:()=>({})},type:{type:String,default:"local"}},setup(e){const a=A((()=>{const{shipping:a,customer:l}=e.data;return{firstName:(null==a?void 0:a.shipping_firstname)||(null==l?void 0:l.first_name)||"-",lastName:(null==a?void 0:a.shipping_lastname)||(null==l?void 0:l.last_name)||"-",email:(null==a?void 0:a.email)||(null==l?void 0:l.email)||"-",phone:(null==a?void 0:a.shipping_phone)||(null==l?void 0:l.phone)||"-",addressCustomer:(null==l?void 0:l.address_text)?(null==l?void 0:l.suite)?`${null==l?void 0:l.suite}, ${null==l?void 0:l.address_text}`:null==l?void 0:l.address_text:"-"}})),l=A((()=>{const a={};return["address1","suite","city","state","zip","country"].forEach((l=>{var t,s,o;(null==(t=e.data)?void 0:t.shipping)&&(a[l]=(null==(s=e.data)?void 0:s.shipping[`shipping_${l}`])||(null==(o=e.data)?void 0:o.shipping[l]))})),a})),t=A((()=>{const a=o({},e.data),l=[];if(["address1","suite","city",["state","zip"],"country"].forEach((e=>{if(Array.isArray(e)){const t=[];e.forEach((e=>{a.customer&&a.customer[e]&&t.push(a.customer[e])})),t.length&&l.push(t.join(" "))}else a.customer&&a.customer[e]&&l.push(a.customer[e])})),l.length)return l.join(", ")}));return{customer:a,addressLocation:l,CopyText:N,phoneNumber:p,addressLocationInStore:t}}}),K={class:"space-y-3 mb-3"},W={class:"font-semibold"},G={class:"flex gap-x-2"},H={class:"overflow-hidden text-ellipsis break-words"},J={class:"flex gap-x-2"},Q={class:"overflow-hidden text-ellipsis break-words"},R={key:1},X={class:"flex gap-x-2"},Y={class:"overflow-hidden text-ellipsis break-words"};var Z=m(M,[["render",function(e,a,l,t,s,o){var i,n;const r=g("Address");return k(),w("div",K,[$("p",W,I(e.title),1),$("div",G,[a[4]||(a[4]=$("i",{class:"material-icons text-base"},"email",-1)),$("div",H,I((null==(i=e.customer)?void 0:i.email)||"-"),1),$("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[0]||(a[0]=a=>{var l;return e.CopyText(null==(l=e.customer)?void 0:l.email)})}," file_copy ")]),$("div",J,[a[5]||(a[5]=$("i",{class:"material-icons text-base"},"location_on",-1)),$("div",Q,["online"===e.type?(k(),P(r,{key:0,data:e.addressLocation},null,8,["data"])):(k(),w("span",R,I(e.addressLocationInStore),1))]),"online"===e.type?(k(),w("i",{key:0,class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[1]||(a[1]=a=>{var l,t,s,o;return e.CopyText((null==(t=null==(l=e.data)?void 0:l.shipping)?void 0:t.shipping_address_text)||(null==(o=null==(s=e.data)?void 0:s.customer)?void 0:o.address_text))})}," file_copy ")):(k(),w("i",{key:1,class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[2]||(a[2]=a=>e.CopyText(e.addressLocationInStore))}," file_copy "))]),$("div",X,[a[6]||(a[6]=$("i",{class:"material-icons text-base"},"call",-1)),$("div",Y,I(e.phoneNumber(null==(n=e.customer)?void 0:n.phone)),1),$("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[3]||(a[3]=a=>{var l;return e.CopyText(null==(l=e.customer)?void 0:l.phone)})}," file_copy ")])])}],["__scopeId","data-v-7c8d1096"]]);const ee=h({name:"DetailCustomerPortalLink",components:{Button:v},props:{title:{type:String,default:void 0},data:{type:Object,default:void 0}},setup(){const e=y(200);let a=null;const l=()=>{e.value=400,clearTimeout(a),a=setTimeout((()=>{e.value=200}),150)};return S((()=>{window.addEventListener("scroll",l,{passive:!0})})),T((()=>{window.removeEventListener("scroll",l),clearTimeout(a)})),{CopyText:N,tooltipDelay:e,popperOptions:{modifiers:[{name:"computeStyles",options:{adaptive:!1}}]}}}}),ae={class:"font-bold"},le={class:"flex gap-x-4"},te={class:"flex-1 overflow-hidden"},se=["href"],oe={class:"max-w-lg"};var ie=m(ee,[["render",function(e,a,l,t,s,o){var i,n;const r=g("Button"),d=g("Tooltip");return k(),w("div",null,[$("p",ae,I(e.title),1),$("div",le,[$("div",te,[$("a",{href:(null==(i=e.data)?void 0:i.order_detail_link)||"#",target:"_blank",class:"transition-all block w-full overflow-hidden text-ellipsis whitespace-nowrap truncate text-grey-04 hover:text-teal-02 underline"},I(null==(n=e.data)?void 0:n.order_detail_link),9,se)]),$("div",null,[V(d,{placement:"bottom-end","show-after":e.tooltipDelay,"hide-after":100,"popper-options":e.popperOptions},{content:L((()=>{var a;return[$("p",oe,I((null==(a=e.data)?void 0:a.order_detail_link)||"-"),1)]})),default:L((()=>[V(r,{color:"teal",dense:"",onClick:a[0]||(a[0]=a=>{var l;return e.CopyText((null==(l=e.data)?void 0:l.order_detail_link)||"#")})},{default:L((()=>a[1]||(a[1]=[$("i",{class:"material-symbols-outlined te"},"content_copy",-1)]))),_:1})])),_:1},8,["show-after","popper-options"])])])])}]]);export{F as A,Z as D,ie as a};
