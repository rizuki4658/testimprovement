import{k as e,a5 as n,O as a,f as l,y as t,m as i,o,t as d,D as s,w as u,B as c,I as r,K as m,S as p,a1 as v,a2 as h}from"./vendor.9695fe57.js";import{_ as g,b as x,f as w,e as f,I}from"./index.10c203ea.js";import{C as b}from"./card.6034dd30.js";import{u as y}from"./index.f40e4a9e.js";import{r as K,m as V}from"./index.54844a74.js";import{_ as S}from"./mail-verification.a85ed380.js";import"./index.6b6f6369.js";const E=e({name:"Login",components:{Button:x,Card:b,Input:w,Checkbox:f},setup(){const e=n(),i=a(),{data:o,loading:d,action:s}=I(),u=window.localStorage.getItem("registration_email"),c=l(["","","","","",""]),r={code:{required:K,minLength:V(6)}},m=y(r,o,{$lazy:!0}),p=()=>(m.value.$validate(),!m.value.$invalid);return t(c,(e=>{o.code=e.join("")}),{deep:!0}),{data:o,dataInput:c,loading:d,registrationEmail:u,submit:()=>{p()&&s((n=>{window.localStorage.setItem("token",n.token),i.push({path:e.query.redirect||"/dashboard"})}))},validation:m,handlePaste:e=>{const n=e.clipboardData.getData("text");c.value.forEach(((e,a)=>{c.value[a]=n[a]||""}))},handleInput:e=>{const n=e.path[2];n.nextElementSibling&&n.nextElementSibling.classList.contains("input")&&n.children[0].children[0].value?n.nextElementSibling.children[0].children[0].focus():n.nextElementSibling&&!n.nextElementSibling.classList.contains("input")&&n.children[0].children[0].value&&n.nextElementSibling.nextElementSibling.children[0].children[0].focus()},handleKeydown:e=>{if(8===e.keyCode){const n=e.path[2];n.previousElementSibling&&n.previousElementSibling.classList.contains("input")&&!n.children[0].children[0].value?n.previousElementSibling.children[0].children[0].focus():!n.previousElementSibling||n.previousElementSibling.classList.contains("input")||n.children[0].children[0].value||n.previousElementSibling.previousElementSibling.children[0].children[0].focus()}}}}}),k={class:"flex items-start justify-center h-screen w-screen overflow-y-auto"},$={class:"text-center"},j={class:"text-black"},C={class:"font-semibold"},L={class:"form"},U={class:"block my-16"},_={class:"grid grid-cols-7 gap-4"},P={class:"text-red-base mt-2 block"},B={class:"block my-5"};var D=g(E,[["render",function(e,n,a,l,t,g){const x=i("Input"),w=i("Button"),f=i("Card");return o(),d("div",k,[s(f,{class:"lg:py-8 py-1 lg:px-20 px-1 box-content my-auto shadow-2xl",style:{width:"450px"}},{default:u((()=>[n[12]||(n[12]=c("img",{class:"mb-16 mx-auto",src:S,alt:"Verify Icon"},null,-1)),c("div",$,[n[9]||(n[9]=c("h5",{class:"text-black mb-2"},"Verification",-1)),c("p",j,[n[7]||(n[7]=r("You will receive an email with an activation code with-in the next few minutes to ")),c("span",C,m(e.registrationEmail),1),n[8]||(n[8]=r("."))])]),c("div",L,[c("form",{onSubmit:n[6]||(n[6]=p(((...n)=>e.submit&&e.submit(...n)),["prevent"]))},[c("div",U,[c("div",_,[s(x,{modelValue:e.dataInput[0],"onUpdate:modelValue":n[0]||(n[0]=n=>e.dataInput[0]=n),maxlength:"1",class:"text-4xl",view:e.validation.code.$invalid?"danger":"default",onInput:e.handleInput,onKeydown:e.handleKeydown,onPaste:e.handlePaste},null,8,["modelValue","view","onInput","onKeydown","onPaste"]),s(x,{modelValue:e.dataInput[1],"onUpdate:modelValue":n[1]||(n[1]=n=>e.dataInput[1]=n),maxlength:"1",class:"text-4xl",view:e.validation.code.$invalid?"danger":"default",onInput:e.handleInput,onKeydown:e.handleKeydown},null,8,["modelValue","view","onInput","onKeydown"]),s(x,{modelValue:e.dataInput[2],"onUpdate:modelValue":n[2]||(n[2]=n=>e.dataInput[2]=n),maxlength:"1",class:"text-4xl",view:e.validation.code.$invalid?"danger":"default",onInput:e.handleInput,onKeydown:e.handleKeydown},null,8,["modelValue","view","onInput","onKeydown"]),n[10]||(n[10]=c("div",{class:"flex flex-column items-center justify-center"},[c("span",{class:"material-icons align-middle"},"horizontal_rule")],-1)),s(x,{modelValue:e.dataInput[3],"onUpdate:modelValue":n[3]||(n[3]=n=>e.dataInput[3]=n),maxlength:"1",class:"text-4xl",view:e.validation.code.$invalid?"danger":"default",onInput:e.handleInput,onKeydown:e.handleKeydown},null,8,["modelValue","view","onInput","onKeydown"]),s(x,{modelValue:e.dataInput[4],"onUpdate:modelValue":n[4]||(n[4]=n=>e.dataInput[4]=n),maxlength:"1",class:"text-4xl",view:e.validation.code.$invalid?"danger":"default",onInput:e.handleInput,onKeydown:e.handleKeydown},null,8,["modelValue","view","onInput","onKeydown"]),s(x,{modelValue:e.dataInput[5],"onUpdate:modelValue":n[5]||(n[5]=n=>e.dataInput[5]=n),maxlength:"1",class:"text-4xl",view:e.validation.code.$invalid?"danger":"default",onInput:e.handleInput,onKeydown:e.handleKeydown},null,8,["modelValue","view","onInput","onKeydown"])]),(o(!0),d(v,null,h(e.validation.code.$errors,(e=>(o(),d("span",P,m(e.$message)+". ",1)))),256))]),c("div",B,[s(w,{view:"filled",color:"teal",type:"submit",loading:e.loading,block:""},{default:u((()=>n[11]||(n[11]=[r("Continue")]))),_:1},8,["loading"])])],32)])])),_:1})])}]]);export{D as default};
