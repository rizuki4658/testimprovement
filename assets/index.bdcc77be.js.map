{"version":3,"file":"index.bdcc77be.js","sources":["../../src/views/invoice/detail/Breadcrumb.vue","../../src/views/invoice/detail/index.js"],"sourcesContent":["<template>\n  <div class=\"flex xl:flex-row xl:space-y-4 flex-col justify-between mb-8\">\n    <!-- <div class=\"lg:flex lg:divide-x lg:divide-grey-01 xl:mb-0 mb-4\">\n      <div class=\"flex items-center lg:pr-4 lg:mb-0 mb-4\">\n        <router-link :to=\"{ name: 'invoice' }\" class=\"text-dark mr-4\"><span class=\"material-icons\">chevron_left</span></router-link>\n        <h5>Invoice Details</h5>\n      </div>\n      <div class=\"lg:pl-4 flex items-center\">\n        <Breadcrumb :items=\"breadcrumb\">\n          <span class=\"material-icons\">chevron_right</span>\n        </Breadcrumb>\n      </div>\n    </div> -->\n    <Breadcrumb pageTitle=\"Invoice Details\" :backTo=\"{ name: 'invoice' }\" :items=\"breadcrumb\" />\n    <div class=\"lg:space-x-4 flex justify-end items-center space-x-4\">\n      <Button v-loading=\"loadingEmailInvoice\" :style=\"{ padding: '.8rem' }\" :disabled=\"loadingEmailInvoice\" color=\"teal\" @click=\"sendEmailInvoice\">\n        Email Invoice\n      </Button>\n      <Dropdown placement=\"bottom\" :hide-on-click=\"false\">\n        <template #default>\n          <Button :style=\"{ padding: '.8rem' }\" color=\"teal\">\n            <i class=\"material-icons\">more_vert</i>\n          </Button>\n        </template>\n        <template #dropdown>\n          <DropdownMenu>\n            <DropdownItem @click=\"pdfInvoice\">\n              <span class=\"material-icons mr-2\">file_download</span> PDF\n            </DropdownItem>\n            <DropdownItem @click=\"csvInvoice\">\n              <span class=\"material-icons mr-2\">file_download</span> CSV\n            </DropdownItem>\n            <DropdownItem @click=\"openChangelog\">\n              <img src=\"@/assets/icon/changelog.svg\" alt=\"changelog\" class=\"inline-block mr-2\" />\n              Changelog\n            </DropdownItem>\n          </DropdownMenu>\n        </template>\n      </Dropdown>\n    </div>\n  </div>\n\n  <Modal\n    v-model=\"modalEmailInvoice\"\n    hideFooter\n    size=\"xs\">\n    <div class=\"pb-4 pt-6\">\n      <lottie-player\n        v-if=\"modalEmailInvoice\"\n        class=\"mx-auto\"\n        src=\"/lottie-assets/envelope.json\"\n        background=\"transparent\"\n        speed=\"1\"\n        style=\"width: 120px; height: 120px\"\n        loop\n        autoplay\n        ></lottie-player>\n      <h2 class=\"mb-10 mt-4 text-2xl text-center\">Your invoice has been sent!</h2>  \n    </div>\n  </Modal>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { usePrint, useEmailInvoice } from 'composable/invoice'\nimport { useRoute, useRouter } from 'vue-router'\nimport Breadcrumb from 'components/Breadcrumb.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Modal from 'bbUi/components/modal/modal.vue'\n\nexport default defineComponent({\n  components: {\n    Breadcrumb,\n    Button,\n    Modal\n  },\n  setup() {\n    const breadcrumb = [{\n      text: 'Invoices',\n      to: {\n        name: 'invoice'\n      }\n    }, {\n      text: 'Invoice Details'\n    }]\n    const { send: sendingEmail, loading: loadingEmailInvoice, modal: modalEmailInvoice } = useEmailInvoice()\n    const route = useRoute()\n    const router = useRouter()\n    const { loading, actionPdf, actionCsv } = usePrint()\n    const pdfInvoice = () => actionPdf(route.params.buybackId)\n    const csvInvoice = () => actionCsv(route.params.buybackId)\n\n    const openChangelog = () => {\n      router.push({\n        name: \"invoiceChangelog\",\n        params: {\n          buybackId: route.params.buybackId\n        }\n      })\n    }\n    const sendEmailInvoice = async () => {\n      loadingEmailInvoice.value = true\n      await sendingEmail(route.params.buybackId, () => {\n        loadingEmailInvoice.value = false\n        modalEmailInvoice.value = true\n      })\n    }\n\n    return {\n      breadcrumb,\n      loading,\n      pdfInvoice,\n      csvInvoice,\n      openChangelog,\n      sendEmailInvoice,\n      modalEmailInvoice,\n      loadingEmailInvoice\n    }\n  }\n})\n</script>","import { defineComponent, defineAsyncComponent, h } from 'vue'\nimport { useUser } from 'composable/user'\nimport { useSuspense } from 'composable/components'\nimport { useRouter } from 'vue-router'\nimport Breadcrumb from './Breadcrumb.vue'\n\nconst Items = defineAsyncComponent(() => import('./Items'))\nconst BuybackNotes = defineAsyncComponent(() => import('components/Features/Buyback/BuybackNotes/BuybackNotes.vue'))\nconst Returned = defineAsyncComponent(() => import('./Returned'))\nconst Show = defineAsyncComponent(() => import('./Show'))\n\nexport default defineComponent({\n  components: {\n    Items,\n    // Notes,\n    // Statuses,\n    Show,\n    Breadcrumb\n  },\n  setup() {\n    const { me } = useUser()\n    const router = useRouter()\n    const { genSuspense } = useSuspense()\n\n    // if (me.value.is_datamatch_processing == 1) {\n    //   router.push({\n    //     name: 'inventory'\n    //   })\n    // }\n\n    return () => {\n      return h('div', {\n        class: 'grid grid-cols-3 gap-4'\n      }, [\n        h('div', {\n          class: 'col-span-3'\n        }, h(Breadcrumb)),\n        h('div', {\n          class: 'col-span-3 grid grid-cols-3 gap-4'\n        }, [\n          genSuspense(Show)\n        ]),\n        h('div', {\n          class: 'col-span-3'\n        }, [\n          genSuspense(Items),\n          genSuspense(Returned),\n          genSuspense(BuybackNotes)\n        ]),\n      ])\n    }\n  }\n})"],"names":["_sfc_main","defineComponent","components","Breadcrumb","Button","Modal","[object Object]","send","sendingEmail","loading","loadingEmailInvoice","modal","modalEmailInvoice","useEmailInvoice","route","useRoute","router","useRouter","actionPdf","actionCsv","usePrint","breadcrumb","text","to","name","pdfInvoice","params","buybackId","csvInvoice","openChangelog","push","sendEmailInvoice","async","value","_hoisted_1","class","_hoisted_2","key","src","background","speed","style","width","height","loop","_openBlock","_createElementBlock","_Fragment","_createVNode","_component_Breadcrumb","pageTitle","backTo","_withDirectives","_createBlock","_component_Button","disabled","_ctx","color","_cache","_component_Dropdown","placement","_withCtx","padding","default","onClick","_createElementVNode","_imports_0","alt","onUpdate:modelValue","$event","hideFooter","_hoisted_3","_createCommentVNode","Items","defineAsyncComponent","__vitePreload","BuybackNotes","import","Returned","Show","index","useUser","genSuspense","useSuspense","h"],"mappings":"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"}