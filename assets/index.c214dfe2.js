import{j as t,a5 as e,O as a,aq as s,o as n,n as i}from"./vendor.9695fe57.js";import{u as o}from"./integration.bf33c2bd.js";import{z as r,B as d}from"./index.c2f66179.js";import{u}from"./tremendeous.b4ece87e.js";const g=t("integration",{state:()=>({get:{isLoading:!1,result:void 0},getAll:{isLoading:!1,result:void 0},update:{isLoading:!1}}),getters:{},actions:{async $get(t){const e=await r({url:`/v1/pos/integrations/${t.id}`,method:"get"});return this.$state.get.result=e,e},async $getAll(t){const e=await r({url:"/v1/pos/integrations",method:"get"});return this.$state.getAll.result=e,e},$update:async t=>await r({url:`/v1/pos/integrations/${t.id}`,method:"put",data:t.data})}}),m={__name:"index",async setup(t){let r,m;const l=e(),c=a(),p=g(),$=u(),{getIntegrationByName:y,enableIntegrationByName:f}=o();return[r,m]=s((async()=>$.$claimToken({data:{code:l.query.code}}).then((async()=>{const t=y("tremendous");await p.$update({id:t.id,data:{is_enable:1}}),await $.$get(),f("tremendous"),await c.push({name:"integrationTremendousCampaignTemplate"})})))),await r,m(),(t,e)=>(n(),i(d))}};export{m as default};
