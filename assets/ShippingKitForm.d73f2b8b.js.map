{"version":3,"file":"ShippingKitForm.d73f2b8b.js","sources":["../../src/components/Integration/ShippingKitForm.vue"],"sourcesContent":["<template>\n  <div class=\"grid grid-cols-1\">\n    <div>\n      <label v-if=\"isShowTextInfoOrder\" for=\"\">Page 1</label>\n      <TextEditor\n        ref=\"refTextEditor\"\n        v-model=\"data.textinfo\"\n        :options=\"ckeditor\"\n      />\n      <br />\n      <template v-if=\"isShowTextInfoOrder\">\n        <label for=\"\">Page 2</label>\n        <TextEditor\n          ref=\"refTextEditorOrder\"\n          v-model=\"data.textinfo_order\"\n          :options=\"ckeditor\"\n        />\n      </template>\n      <Table\n        v-if=\"data.sort_code && Array.isArray(data.sort_code)\"\n        :data=\"data.sort_code\"\n        class=\"mt-6\"\n      >\n        <TableColumn prop=\"code\" label=\"Code\">\n          <template #default=\"scope\">\n            <div class=\"flex\">\n              <span class=\"mr-2\">{{ scope.row.code }}</span>\n              <i\n                class=\"material-symbols-outlined text-lg text-teal-04\"\n                @click=\"copyText(scope.row.code)\"\n                >content_copy</i\n              >\n            </div>\n          </template>\n        </TableColumn>\n        <TableColumn prop=\"description\" label=\"Description\" />\n      </Table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent, reactive, ref, watch } from 'vue'\nimport { useVuelidate } from '@vuelidate/core'\nimport { ElMessage } from 'element-plus'\nimport { Editor as \nClassicEditor } from '@erdeprsty/ckeditor5-custom-build'\n\nimport Input from 'bbUi/components/input/input.vue'\nimport TextEditor from 'components/TextEditor.vue'\n\nexport default defineComponent({\n  components: {\n    Input,\n    TextEditor\n  },\n  props: {\n    data: {\n      type: Object,\n      default: () => ({\n        id: null,\n        key: null,\n        name: null,\n        textinfo: null,\n        textinfo_order: null,\n        sort_code: []\n      })\n    },\n    shippingLabelError: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['update:data'],\n  setup(props, { emit }) {\n    const refTextEditor = ref(null)\n    const refTextEditorOrder = ref(null)\n    const data = reactive(props.data)\n    const ckeditor = reactive({\n      editor: ClassicEditor,\n      config: {\n        htmlSupport: {\n          allow: [\n            {\n              styles: true,\n              classes: true\n            }\n          ]\n        }\n      }\n    })\n\n    const isShowTextInfoOrder = computed(\n      () => props.shippingLabelError === false\n    )\n\n    const rules = {}\n    const validation = useVuelidate(rules, data, {\n      $lazy: true\n    })\n    const validate = async () => {\n      const isReadyEditor =\n        refTextEditor.value.isEditorReady &&\n        refTextEditorOrder.value.isEditorReady\n      if (!isReadyEditor) return false\n      const [isSaved, isSavedOrder] = await Promise.all([\n        refTextEditor.value.forceSave(),\n        refTextEditorOrder.value.forceSave()\n      ])\n      if (!isSaved || !isSavedOrder) return false\n      validation.value.$validate()\n      return !validation.value.$invalid\n    }\n    const copyText = (text) => {\n      navigator.clipboard.writeText(text).then(() => {\n        ElMessage({\n          type: 'success',\n          message: 'Text copied to clipbord'\n        })\n      })\n    }\n\n    watch(\n      () => ({ ...data }),\n      (newData) => {\n        emit('update:data', newData)\n      }\n    )\n\n    return {\n      refTextEditor,\n      refTextEditorOrder,\n      data,\n      validation,\n      ckeditor,\n      isShowTextInfoOrder,\n      validate,\n      copyText\n    }\n  }\n})\n</script>\n"],"names":["_sfc_main","defineComponent","components","Input","TextEditor","props","data","type","Object","default","id","key","name","textinfo","textinfo_order","sort_code","shippingLabelError","Boolean","emits","[object Object]","emit","refTextEditor","ref","refTextEditorOrder","reactive","ckeditor","editor","ClassicEditor","exports","Editor","config","htmlSupport","allow","styles","classes","isShowTextInfoOrder","computed","validation","useVuelidate","$lazy","watch","__spreadValues","newData","validate","async","value","isEditorReady","isSaved","isSavedOrder","Promise","all","forceSave","$validate","$invalid","copyText","text","navigator","clipboard","writeText","then","_u","message","_hoisted_3","class","_openBlock","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","_component_TextEditor","modelValue","_ctx","onUpdate:modelValue","_cache","$event","_createElementVNode","_Fragment","for","Array","isArray","_withCtx","_component_TableColumn","prop","scope","_hoisted_4","_toDisplayString","row","code"],"mappings":"ufAmDA,MAAKA,EAAaC,EAAa,CAC7BC,WAAY,OACVC,EACAC,WAAAA,GAEFC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,QAAS,KAAO,CACdC,GAAI,KACJC,IAAK,KACLC,KAAM,KACNC,SAAU,KACVC,eAAgB,KAChBC,UAAW,MAGfC,mBAAoB,CAClBT,KAAMU,QACNR,SAAS,IAGbS,MAAO,CAAC,eACRC,MAAMd,GAAOe,KAAEA,IACb,MAAMC,EAAgBC,EAAI,MACpBC,EAAqBD,EAAI,MACzBhB,EAAOkB,EAASnB,EAAMC,MACtBmB,EAAWD,EAAS,CACxBE,OAAQC,EAAaC,QAAAC,OACrBC,OAAQ,CACNC,YAAa,CACXC,MAAO,CACL,CACEC,QAAQ,EACRC,SAAS,QAObC,EAAsBC,GAC1B,KAAmC,IAA7B/B,EAAMW,qBAIRqB,EAAaC,EADL,GACyBhC,EAAM,CAC3CiC,OAAO,IA+BF,OAPPC,GACE,uHAAOC,CAAA,GAAKnC,KACXoC,IACCtB,EAAK,cAAesB,MAIjB,CACLrB,cAAAA,EACAE,mBAAAA,EACAjB,KAAAA,EACA+B,WAAAA,EACAZ,SAAAA,EACAU,oBAAAA,EACAQ,SApCeC,UAIf,KAFEvB,EAAcwB,MAAMC,eACpBvB,EAAmBsB,MAAMC,eACA,OAAA,EAC3B,MAAOC,EAASC,SAAsBC,QAAQC,IAAI,CAChD7B,EAAcwB,MAAMM,YACpB5B,EAAmBsB,MAAMM,cAEvB,SAACJ,IAAYC,KACjBX,EAAWQ,MAAMO,aACTf,EAAWQ,MAAMQ,WA0BzBC,SAxBgBC,IAChBC,UAAUC,UAAUC,UAAUH,GAAMI,MAAK,KAC7BC,EAAA,CACRrD,KAAM,UACNsD,QAAS,oEAlHqBlD,IAAI,UAuBxBmD,EAAA,CAAAC,MAAM,0IAWhBC,OAAAA,IAAAC,EAAA,MAAAC,EAAA,GAlC4B,MAAA,KAAA,mDAK9BC,EAAA,IAAA,GAHAC,EAAmBC,EAAA,CACV/C,IAAA,gBAAAgD,WAAAC,EAAAjE,KAAAO,SACR2D,sBAAiBC,EAAA,KAAAA,EAAA,GAAAC,GAAAH,EAAAjE,KAAAO,SAAA6D,4CAEd,cAC6B,KAAAD,EAAA,GAAAE,EAAA,KAAA,KAAA,MAAA,2BACjCX,IAAAC,EAAAW,EAAA,CAA4BjE,IAArB,GAAA,CACP8D,EAIE,KAAAA,EAAA,GAAAE,EAAA,QAAA,CAAAE,IAAA,IAAA,UAAA,IAHAT,EAAwBC,EAAA,CACf/C,IAAA,qBAAAgD,WAAAC,EAAAjE,KAAAQ,eACR0D,sBAAiBC,EAAA,KAAAA,EAAA,GAAAC,GAAAH,EAAAjE,KAAAQ,eAAA4D,8DAIVP,EAAc,IAAA,qBAiBlBW,MAAAC,QAAAR,EAAAjE,KAAAS,qBAhBLJ,IAAI,EACLL,OAAYA,KAAAS,iCAaEiE,GAAA,IAAA,CAXDZ,EAAWa,EAAA,CAACC,0BACL,CAChBzE,QAAAuE,GAAAG,GAAA,CACER,EAAA,QAA8C,CAC9CA,EAIC,OAAAS,EAAAC,EAAAF,EAAAG,IAAAC,MAAA,GAHCZ,EAAsD,IAAA,CACrDZ,MAAK,yDACOW,GAAAH,EAAAjB,SAAA6B,EAAAG,IAAAC,sCAKRnB,EAAkBa,EAAA,CAACC"}