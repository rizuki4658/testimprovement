import{b as a}from"./invoice.1a24930a.js";import{_ as e}from"./tab.f3c6bb7c.js";import{_ as t,b as l,f as o,P as s,g as i}from"./index.9c4dcead.js";import{k as d,f as c,y as n,m as r,$ as m,o as p,t as u,B as f,D as b,w as h,A as g,n as w,a1 as S}from"./vendor.9695fe57.js";const v=d({components:{Tab:e,Button:l,Input:o,Pagination:s},props:{selected:{type:Array,default:()=>[]},data:{type:Object,default:()=>({selected:[]})}},emits:["choose","update:data","update:selected"],async setup(e,{emit:t}){const l=c(null),{data:o,state:s,loading:d,actionAll:r}=a("invoice"),m=[],p=c(null);return n((()=>({limit:o.limit,search:o.search})),(()=>{o.page=1}),{deep:!0}),n(o,i((async()=>{await r(),e.selected.length>0&&s.value.data.forEach((a=>{e.selected.map((a=>a.id)).includes(a.id)&&l.value.toggleRowSelection(a)})),p.value.focus()}),500),{immediate:!0}),{data:o,state:s,loading:d,refTable:l,choose:(a,e)=>{t("choose",e),(a=>{const e=m.findIndex((e=>e.id===a.id));-1===e?m.push(a):m.splice(e,1),t("update:data",{selected:m}),t("update:selected",m)})(e)},rowClick:a=>{t("choose",a),m.push(a)},refSearch:p}}}),x={class:"flex flex-col md:flex-row mb-6"},y={class:"flex-grow md:mr-3 md:mb-0 mb-3"};var I=t(v,[["render",function(a,e,t,l,o,s){const i=r("Input"),d=r("TableColumn"),c=r("Table"),n=r("Pagination"),v=m("loading");return p(),u(S,null,[f("div",x,[f("div",y,[b(i,{ref:"refSearch",autofocus:"true",modelValue:a.data.search,"onUpdate:modelValue":e[0]||(e[0]=e=>a.data.search=e),placeholder:"Search by Name, or IMEI/Serial Number",class:"w-full",icon:""},{icon:h((()=>e[3]||(e[3]=[f("span",{class:"material-icons"},"search",-1)]))),_:1},8,["modelValue"])])]),g((p(),w(c,{class:"mb-6",data:a.state.data,ref:"refTable",onRowClick:a.rowClick,onSelect:a.choose,onSelectAll:a.choose},{default:h((()=>[b(d,{prop:"name",label:"Name"}),b(d,{prop:"condition",label:"Condition"}),b(d,{prop:"imei_sn",label:"Imei/Serial Number"})])),_:1},8,["data","onRowClick","onSelect","onSelectAll"])),[[v,a.loading]]),b(n,{page:a.data.page,"onUpdate:page":e[1]||(e[1]=e=>a.data.page=e),limit:a.data.limit,"onUpdate:limit":e[2]||(e[2]=e=>a.data.limit=e),data:a.state},null,8,["page","limit","data"])],64)}]]);export{I};
