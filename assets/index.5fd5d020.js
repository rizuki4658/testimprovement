var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{u as i}from"./components.0003aa88.js";import{I as o}from"./setting.2daa7691.js";import{k as n,O as r,f as d,y as c,m,a0 as u,o as f,t as p,B as g,D as b,w as v,I as x,A as w,n as y,K as _,a2 as h,_ as j}from"./vendor.f1efedad.js";import{C as A}from"./card.dfb8e6f7.js";import{_ as C,f as k,b as F,P as q,d as O,O as Q,g as M}from"./index.9aa6481b.js";import{_ as P}from"./breadcrumb.296b7b59.js";import{_ as B}from"./attention.c511405b.js";import"./LoadingCard.be59eb97.js";const D=n({components:{Card:A,Input:k,Button:F,Breadcrumb:P,Pagination:q,Modal:O},async setup(e,{emit:i}){const{stateAll:n,loading:m,filters:u,actionAll:f,actionDelete:p,modal:g}=o(),b=r(),v=d(null);return c((()=>((e,i)=>{for(var o in i||(i={}))t.call(i,o)&&s(e,o,i[o]);if(a)for(var o of a(i))l.call(i,o)&&s(e,o,i[o]);return e})({},u)),M((async()=>{await f()}),400),{deep:!0}),c((()=>({limit:u.limit})),(()=>u.page=1),{deep:!0}),await f(),{stateAll:n,loading:m,filters:u,modal:g,breadcrumb:[{text:"Settings",to:{name:"setting"}},{text:"FAQ"}],openDeleteModal:e=>{v.value=e,g.delete=!0},deleteFaq:async()=>{await p(v.value.id,(async()=>{j({type:"success",message:"FAQ deleted"}),await f()})),v.value=null,g.delete=!1},editFaq:e=>b.push({name:"settingFaqEdit",params:{id:e}}),sanitize:Q}}}),I={class:"flex xl:flex-row flex-col justify-between mb-8"},S={class:"lg:flex lg:divide-x lg:divide-grey-01"},T={class:"flex items-center lg:pr-4 lg:mb-0 mb-4"},L={class:"lg:pl-4 flex items-center"},U={class:"flex flex-col mt-2"},V=["innerHTML"],z={class:"flex items-center justify-center lg:opacity-0 group-hover:opacity-100 transition-opacity"},E={class:"flex flex-col items-center justify-center my-10"},H={class:"flex flex-wrap"};var K=C(D,[["render",function(e,a,t,l,s,i){const o=m("router-link"),n=m("Breadcrumb"),r=m("Button"),d=m("TableColumn"),c=m("Table"),j=m("Pagination"),A=m("Card"),C=m("Modal"),k=u("loading");return f(),p(h,null,[g("div",I,[g("div",S,[g("div",T,[b(o,{to:{name:"setting"},class:"text-dark mr-4"},{default:v((()=>a[4]||(a[4]=[g("span",{class:"material-icons"},"chevron_left",-1)]))),_:1}),a[5]||(a[5]=g("h5",null,"FAQ",-1))]),g("div",L,[b(n,{items:e.breadcrumb},{default:v((()=>a[6]||(a[6]=[g("span",{class:"material-icons"},"chevron_right",-1)]))),_:1},8,["items"])])]),b(r,{view:"outlined",color:"teal",class:"lg:mt-0 mt-4 ml-auto",to:{name:"settingFaqCreate"},link:""},{default:v((()=>a[7]||(a[7]=[g("span",{class:"material-icons"},"add",-1),x(" Add New FAQ")]))),_:1})]),w((f(),y(A,null,{default:v((()=>[g("div",U,[b(c,{data:e.stateAll.data},{default:v((()=>[b(d,{label:"Category"},{default:v((e=>[x(_(e.row.faq_category.name),1)])),_:1}),b(d,{prop:"question",label:"Question"}),b(d,{label:"Answer"},{default:v((a=>[g("div",{innerHTML:e.sanitize(a.row.answer),class:"ck-content-preview"},null,8,V)])),_:1}),b(d,{label:""},{default:v((t=>[g("div",z,[b(r,{view:"smooth",color:"blue",class:"mr-4",dense:"",onClick:a=>e.editFaq(t.row.id)},{default:v((()=>a[8]||(a[8]=[g("span",{class:"material-icons text-xl"},"edit",-1)]))),_:2},1032,["onClick"]),b(r,{view:"smooth",color:"red",dense:"",onClick:a=>e.openDeleteModal(t.row)},{default:v((()=>a[9]||(a[9]=[g("span",{class:"material-icons text-xl"},"delete",-1)]))),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"]),b(j,{page:e.filters.page,"onUpdate:page":a[0]||(a[0]=a=>e.filters.page=a),limit:e.filters.limit,"onUpdate:limit":a[1]||(a[1]=a=>e.filters.limit=a),data:e.stateAll},null,8,["page","limit","data"])])])),_:1})),[[k,e.loading.all]]),b(C,{modelValue:e.modal.delete,"onUpdate:modelValue":a[3]||(a[3]=a=>e.modal.delete=a),"hide-footer":"","hide-header":""},{default:v((()=>[g("div",E,[a[12]||(a[12]=g("div",{class:"flex flex-col items-center justify-center mb-6"},[g("img",{class:"mb-6",src:B,alt:"Success Icon"}),g("h2",{class:"text-2xl mb-2"},"Delete this FAQ"),g("p",null,"Are you sure want to delete this FAQ?")],-1)),g("div",H,[b(r,{color:"teal",view:"smooth",class:"mr-4",onClick:a[2]||(a[2]=a=>e.modal.delete=!1)},{default:v((()=>a[10]||(a[10]=[x("Cancel")]))),_:1}),b(r,{color:"red",view:"smooth",onClick:e.deleteFaq,loading:e.loading.delete},{default:v((()=>a[11]||(a[11]=[x("Yes")]))),_:1},8,["onClick","loading"])])])])),_:1},8,["modelValue"])],64)}]]),N=n({setup(){const{genSuspense:e}=i();return()=>e(K)}});export{N as default};
