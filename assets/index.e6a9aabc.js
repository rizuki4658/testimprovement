var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,n=(e,a)=>{for(var l in a||(a={}))i.call(a,l)&&s(e,l,a[l]);if(t)for(var l of t(a))o.call(a,l)&&s(e,l,a[l]);return e},d=(e,t)=>a(e,l(t));import{v as r,c,e as u,d as m,f as p,h,j as v,k as g,w as b,l as f,x as _,y,b as k,z as w,A as x,B as C,C as S,D as I,E as P,L as B}from"./buyback.cda0d82b.js";import{u as T}from"./bulkquote.d18fd3c5.js";import{B as O,_ as V,u as D,a as j,S as M,b as U,c as A,d as L}from"./data-match-icon.78ca9845.js";import{a5 as N,m as E,o as $,n as F,w as R,B as Q,K as q,ap as z,D as K,av as G,k as Y,g as W,t as J,U as X,a1 as Z,a2 as H,I as ee,A as ae,L as le,f as te,y as ie,S as oe,F as se,O as ne,_ as de,$ as re,r as ce,s as ue,a6 as me,a3 as pe,aU as he,a0 as ve,T as ge,ar as be,q as fe,j as _e,W as ye}from"./vendor.9695fe57.js";import{_ as ke,d as we,f as xe,e as Ce,b as Se,R as Ie,a4 as Pe,j as Be,i as Te,u as Oe,a8 as Ve,a9 as De,a7 as je,aa as Me,t as Ue,W as Ae,T as Le,a5 as Ne,g as Ee,z as $e,B as Fe}from"./index.6438e939.js";import{_ as Re}from"./badge.9b69a9c8.js";import{C as Qe}from"./Currency.2db86f6c.js";import{u as qe}from"./notes.04c74527.js";import{_ as ze}from"./tab.15609441.js";import{u as Ke}from"./index.f40e4a9e.js";import{c as Ge,d as Ye}from"./index.6b6f6369.js";import{I as We}from"./ItemTable.cb5634f7.js";import{_ as Je}from"./BuybackNotesWarning.bad7ef2a.js";import{c as Xe,s as Ze}from"./status.6f59bf91.js";import{_ as He}from"./changelog.c96fc65d.js";import{B as ea}from"./Breadcrumb.cb17adf4.js";import{b as aa}from"./customer.dee677ba.js";import{p as la,l as ta}from"./dymo.7f1ac83b.js";import{c as ia}from"./copy.6c996115.js";import{C as oa}from"./card.33d29bf3.js";import{P as sa}from"./PaymentMethod.9efbbdf3.js";import{T as na}from"./TextLimit.41c53b87.js";import{r as da}from"./index.54844a74.js";import{S as ra}from"./select.94a9f057.js";import{A as ca,D as ua,a as ma}from"./DetailCustomerPortalLink.24811ae1.js";import{A as pa}from"./index.63be358c.js";import{_ as ha}from"./ExpeditedIcon.e915b9ec.js";import{L as va}from"./LoadingCard.6426fb93.js";import{u as ga}from"./integration.761f6e9e.js";import{b as ba}from"./device.a2558383.js";import{u as fa}from"./golf.470faa81.js";import{D as _a}from"./Form.1fc34e55.js";import{P as ya}from"./Info.4d32a0ce.js";import{P as ka}from"./PrintLabel.c10b5305.js";import{B as wa}from"./BBTable.948c6e3a.js";import{B as xa}from"./ChooseCondition.43800669.js";import{B as Ca}from"./BulkCondition.9a1dcdbb.js";import{B as Sa}from"./Input.06180fbe.js";import{G as Ia}from"./DeviceGolfSpecBadge.d3aef6d0.js";import{M as Pa}from"./MultipleInputFile.c061367f.js";import Ba from"./BuybackNotes.146d99e1.js";import"./date.f86face7.js";import"./fieldset.85092f83.js";import"./BTable.08f01735.js";import"./InputPhone.a6e71a14.js";import"./SelectCountry.e5d7e4ac.js";import"./setting.1af98a84.js";import"./breadcrumb.0bf6764a.js";import"./format.f845777a.js";import"./Custom.2cb428cc.js";import"./payment.ac118c2e.js";import"./TremendousCard.43aedb03.js";import"./auto-complete.f5ad78ed.js";import"./Accordion.edc9402e.js";import"./DeviceSearch.f734d3ae.js";import"./BDropdown.4b07dba1.js";import"./DeviceGolfSpec.b27adec2.js";import"./BSelect.788c4daf.js";const Ta={class:"ml-auto font-normal text-base"},Oa={class:"w-full mb-10"},Va={class:"align-top"},Da={class:"text-right"},ja={class:"w-full"},Ma={class:"text-2xl font-semibold"},Ua={class:"overflow-y-auto custom-max-h"};var Aa=ke({__name:"ShowOriginal",setup(e){const{state:a,loading:l,modal:t,openModal:i,action:o}=r();return N(),(e,l)=>{const i=E("TableColumn"),o=E("Table");return $(),F(we,{modelValue:z(t),"onUpdate:modelValue":l[0]||(l[0]=e=>G(t)?t.value=e:null),"hide-footer":""},{header:R((()=>l[1]||(l[1]=[Q("div",{class:"w-full flex"}," Original Quote ",-1)]))),default:R((()=>{var e,t,s,n,d,r,c,u,m;return[Q("div",Ta,[Q("table",Oa,[Q("tr",null,[Q("td",Va," Total Number of Items: "+q(null==(s=null==(t=null==(e=z(a))?void 0:e.data)?void 0:t.items)?void 0:s.length),1),Q("td",Da,[Q("table",ja,[Q("tr",null,[l[2]||(l[2]=Q("td",null,"Subtotal :",-1)),Q("td",null,[K(Qe,{value:null==(d=null==(n=z(a))?void 0:n.data)?void 0:d.sub_total},null,8,["value"])])]),Q("tr",null,[l[3]||(l[3]=Q("td",{class:"font-semibold"},"Total :",-1)),Q("td",Ma,[K(Qe,{value:null==(c=null==(r=z(a))?void 0:r.data)?void 0:c.total},null,8,["value"])])])])])])])]),Q("div",Ua,[K(o,{data:null==(m=null==(u=z(a))?void 0:u.data)?void 0:m.items},{default:R((()=>[K(i,{label:"Item Name",prop:"product_name"}),K(i,{label:"IMEI/SN",prop:"imei_sn"}),K(i,{label:"Notes",prop:"notes"}),K(i,{label:"Price",prop:"price"}),K(i,{label:"Quantity",prop:"qty"}),K(i,{label:"Condition",prop:"condition"})])),_:1},8,["data"])])]})),_:1},8,["modelValue"])}}},[["__scopeId","data-v-0027021c"]]);var La=ke(Y({components:{Input:xe,Checkbox:Ce},props:{data:{type:Object,default:()=>({list_reason:null,notes:"",returned_tracking:null,is_send_email:1})},disabled:{type:Boolean,default:!1}},emits:["update:data"],setup(e,{emit:a}){const l=W((()=>7==e.data.status_id||3==e.data.status_id)),t=W((()=>![1001,10,2002,1e3].includes(e.data.status_id))),i={list_reason:{required:Ge.withMessage("Reason is required",Ye((()=>5==e.data.status_id)))}},o=Ke(i,e.data,{$lazy:!0});return{data:e.data,isPaymentPending:l,hasEmailTemplate:t,validation:o,validate:()=>(o.value.$validate(),!o.value.$invalid),handleUpdateData:(l,t)=>{if(!l)return;const i=n({},e.data);i[l]=t,a("update:data",i)}}}}),[["render",function(e,a,l,t,i,o){const s=E("Input"),n=E("Checkbox");return $(),J(Z,null,[6===e.data.status_id?($(),F(s,{key:0,modelValue:e.data.returned_tracking,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.returned_tracking=a),type:"input",label:"Returned Tracking",class:"w-full mt-6",disabled:e.disabled},null,8,["modelValue","disabled"])):X("",!0),Q("div",null,[5===e.data.status_id?($(),F(s,{key:0,modelValue:e.data.list_reason,"onUpdate:modelValue":a[1]||(a[1]=a=>e.handleUpdateData("list_reason",a)),view:e.validation.list_reason.$invalid?"danger":"default",type:"textarea",label:"Reason",class:"w-full my-6",disabled:e.disabled,rows:"6"},null,8,["modelValue","view","disabled"])):X("",!0),($(!0),J(Z,null,H(e.validation.list_reason.$errors,((e,a)=>($(),J("small",{class:"text-red-base block mb-2",key:a},q(e.$message)+". ",1)))),128))]),Q("div",null,[a[5]||(a[5]=Q("label",{for:""},"Email Settings",-1)),a[6]||(a[6]=ee()),a[7]||(a[7]=Q("br",null,null,-1)),K(n,{modelValue:e.hasEmailTemplate?e.data.is_send_email:0,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.is_send_email=a),value:1,"value-off":0,disabled:!e.hasEmailTemplate,type:"toggle",class:"mt-4"},{default:R((()=>a[4]||(a[4]=[Q("span",{class:"toggle-label"},"Send Email",-1)]))),_:1},8,["modelValue","disabled"]),ae(K(s,{modelValue:e.data.transaction_id,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data.transaction_id=a),class:"my-4",label:"Transaction ID",block:""},null,8,["modelValue"]),[[le,e.isPaymentPending]])])],64)}],["__scopeId","data-v-3e798a18"]]);const Na={key:0},Ea={class:"flex flex-col"},$a={key:1},Fa={key:2},Ra={class:"grid grid-cols-12 gap-6"},Qa={class:"max-w-sm"},qa={class:"w-max ml-auto"},za={class:"flex flex-col justify-center items-center py-10"},Ka={class:"text-3xl mt-6 font-medium"},Ga={key:0,class:"mt-4 text-center text-grey-03"},Ya={key:1,class:"mt-4 text-center text-grey-03"},Wa={class:"mt-10 flex gap-4"};const Ja=Y({components:{Button:Se,Modal:we,Badge:Re,ShowOriginal:Aa,StatusesBtn:ke({__name:"StatusesBtn",setup(e){const a=qe(),{data:l,modal:t,loading:i,openModal:o,unsetData:s,actionAll:r,actionUpdate:h}=c("easy-offer");u("online");const{state:v,action:g}=m("online"),{stateOption:b,actionStatusOptions:f}=p("easy-offer",null),{state:_,actionAll:y}=u("online"),k=te(null),w=te(!1),x={id:"",product_name:"",condition:"",qty:"",price:"",total:"",action:""},C=W((()=>[...b.value].map((e=>d(n({},e),{disabled:e.is_disabled}))))),S=W((()=>{var e;return 1e3==(null==(e=v.value)?void 0:e.status_id)})),I=W((()=>{var e,a;return S.value&&(null==(e=v.value)?void 0:e.is_fulfilled_address)&&(null==(a=v.value)?void 0:a.is_fulfilled_payout)})),P=W((()=>v.value&&v.value.is_readonly)),B=N(),T=e=>{o(e,(()=>{var e,a;l.status_id=v.value.status_id,l.transaction_id=null==(a=null==(e=v.value)?void 0:e.billing)?void 0:a.transaction_id}))},O=async()=>{var e,o,s,n,d,r,c;if(null==(o=null==(e=k.value)?void 0:e.validate)?void 0:o.call(e))return 2==(null==(s=v.value)?void 0:s.status_id)&&1!=l.status_id&&2!=l.status_id&&((null==(n=v.value)?void 0:n.delivered_shipping_label_count)<(null==(d=v.value)?void 0:d.in_transit_shipping_label_count)||(null==(r=v.value)?void 0:r.not_used_shipping_label_count)>0)?(t.update=!1,void(w.value=!0)):[3,7].includes(l.status_id)&&(i.update=!0,a.warningNotes.ids=[null==(c=v.value)?void 0:c.id],!a.warningNotes.isReviewed&&await a.$getNotesUnread(),a.warningNotes.notes.length)?(a.warningNotes.modal=!0,void(i.update=!1)):void(await h(B.params.buybackId,(async()=>{await Promise.all([y(B.params.buybackId),g(B.params.buybackId)])})))},V=()=>{var e;2!=(null==(e=v.value)?void 0:e.status_id)&&s()},D=()=>{w.value=!1,t.update=!0},j=async()=>{await h(B.params.buybackId,(async()=>{w.value=!1,await Promise.all([y(B.params.buybackId),g(B.params.buybackId)])}))};ie((()=>l.status_id),(()=>{if(!l.status_id)return;l.ids=[];const e=b.value.find((e=>e.id==l.status_id));e&&(l.is_send_email=e.is_send_email)}));const M=e=>{l.ids=e.map((e=>e.id))},U=e=>{Object.assign(l,e)};W((()=>l.ids.length>0));const A=W((()=>5==l.status_id&&l.ids.length<1)),L=W((()=>A.value?"Please select at least one item":"Cannot update status")),G=W((()=>A.value));return Promise.all([r(B.params.buybackId),f(),g(B.params.buybackId)]),(e,a)=>{const o=E("Popover"),s=E("Tooltip");return $(),J("div",null,[S.value?($(),J("div",Na,[K(o,{trigger:"hover",placement:"left",disabled:I.value,width:300},{default:R((()=>{var e,l;return[a[7]||(a[7]=Q("div",{style:{"word-break":"normal"},class:"text-left p-2"},[Q("p",{class:"font-semibold"}," Insufficient details prevent the status change of an Abandoned Buyback Offer. "),Q("p",{class:"my-2"},"To change the status, you need to:")],-1)),Q("div",Ea,[K(Ce,{modelValue:null==(e=z(v))?void 0:e.is_fulfilled_address,onClick:a[0]||(a[0]=oe((()=>{}),["prevent"]))},{default:R((()=>{var e;return[Q("span",{class:se(["font-normal",(null==(e=z(v))?void 0:e.is_fulfilled_address)?"line-through-text":""])},"Complete your order information",2)]})),_:1},8,["modelValue"]),K(Ce,{modelValue:null==(l=z(v))?void 0:l.is_fulfilled_payout,onClick:a[1]||(a[1]=oe((()=>{}),["prevent"])),class:"my-2"},{default:R((()=>{var e;return[Q("span",{class:se(["font-normal",(null==(e=z(v))?void 0:e.is_fulfilled_payout)?"line-through-text":""])},"Complete your payout",2)]})),_:1},8,["modelValue"])])]})),reference:R((()=>{var e;return[Q("div",null,[K(Se,{disabled:null!=(null==(e=z(v))?void 0:e.deleted_at)||!I.value,color:"teal",onClick:a[2]||(a[2]=e=>T("update")),dense:""},{default:R((()=>a[8]||(a[8]=[Q("i",{class:"material-icons text-base"},"edit",-1)]))),_:1},8,["disabled"])])]})),_:1},8,["disabled"])])):P.value?($(),J("div",$a,[K(s,{placement:"top"},{content:R((()=>a[9]||(a[9]=[Q("div",{class:"w-52 text-sm"}," You can no longer edit the status of this offer. ",-1)]))),default:R((()=>[a[10]||(a[10]=Q("button",{view:"smooth",color:"grey",dense:"",class:"cursor-not-allowed py-1 px-2 text-sm leading-6 rounded-md bg-grey-01 text-grey-03"},[Q("i",{class:"material-icons text-base"},"edit")],-1))])),_:1})])):($(),J("div",Fa,[K(Se,{color:"teal",onClick:a[3]||(a[3]=e=>T("update")),dense:""},{default:R((()=>a[11]||(a[11]=[Q("i",{class:"material-icons text-base"},"edit",-1)]))),_:1})])),K(we,{modelValue:z(t).update,"onUpdate:modelValue":a[5]||(a[5]=e=>z(t).update=e),title:"Update Status",onClose:V,size:[5,6].includes(z(l).status_id)?"xl":"md"},{default:R((()=>[Q("div",Ra,[Q("div",{class:se(["border-r border-grey-01",[[5,6].includes(z(l).status_id)?"col-span-2":"col-span-4"]])},[a[12]||(a[12]=Q("div",{class:"pl-4"},[Q("p",{class:"text-md font-semibold"},"Choose Status")],-1)),K(ze,{color:"teal",view:"smooth",modelValue:z(l).status_id,"onUpdate:modelValue":a[4]||(a[4]=e=>z(l).status_id=e),by:"id",name:"short_name",items:C.value,component:"",type:"vertical","disabled-items":""},null,8,["modelValue","items"])],2),Q("div",{class:se([[5,6].includes(z(l).status_id)?"col-span-10":"col-span-8"])},[5==z(l).status_id?($(),F(We,{key:0,"show-print-label":!1,"show-table-summary":!1,selectable:!0,"width-column":x,onSelectedItems:M,"buyback-type":"mailin"})):X("",!0),K(z(La),{ref_key:"refStatusForm",ref:k,data:z(l),"onUpdate:data":U},null,8,["data"])],2)])])),footer:R((()=>[K(s,{disabled:!G.value,placement:"top"},{content:R((()=>[Q("div",Qa,q(L.value),1)])),default:R((()=>[Q("div",qa,[K(Se,{disabled:G.value,color:"teal",loading:z(i).update,onClick:O},{default:R((()=>a[13]||(a[13]=[ee("Update Status")]))),_:1},8,["disabled","loading"])])])),_:1},8,["disabled"])])),_:1},8,["modelValue","size"]),K(we,{modelValue:w.value,"onUpdate:modelValue":a[6]||(a[6]=e=>w.value=e),size:"xs","hide-header":"","hide-footer":""},{default:R((()=>{var e,l,t,o,s,n,d;return[Q("div",za,[a[16]||(a[16]=Q("img",{src:Ie,alt:"warning"},null,-1)),Q("h1",Ka,q((null==(e=z(v))?void 0:e.is_multiple_shipping)?"Some Packages Still In Transit":"Package Still In Transit"),1),(null==(l=z(v))?void 0:l.is_multiple_shipping)?($(),J("p",Ga," You're marking "+q(null==(t=z(v))?void 0:t.delivered_shipping_label_count)+" of "+q(null==(o=z(v))?void 0:o.in_transit_shipping_label_count)+" package"+q((null==(s=z(v))?void 0:s.in_transit_shipping_label_count)>1?"s":"")+" as delivered. The remaining "+q(null==(n=z(v))?void 0:n.not_used_shipping_label_count)+" package"+q((null==(d=z(v))?void 0:d.not_used_shipping_label_count)>1?"s":"")+" will stay unchanged. Proceed?",1)):($(),J("p",Ya," Tracking updates can be delayed — if you’ve already received the package, feel free to update the status manually. ")),a[17]||(a[17]=Q("p",{class:"mt-4 text-center text-grey-03"}," Are you sure you want to proceed? ",-1)),Q("div",Wa,[K(Se,{color:"teal",view:"outlined",onClick:D,style:{border:"none !important"},disabled:z(i).update},{default:R((()=>a[14]||(a[14]=[ee("Cancel")]))),_:1},8,["disabled"]),K(Se,{color:"teal",onClick:j,loading:z(i).update},{default:R((()=>a[15]||(a[15]=[ee("Proceed")]))),_:1},8,["loading"])])])]})),_:1},8,["modelValue"]),K(Je,{onProceed:O})])}}},[["__scopeId","data-v-3a6cdb7a"]]),BulkQuoteDetailStatus:O,BuybackShippingKitDownload:V},props:{bulkQuote:{type:Object,default:()=>({restrictedQuoteUpdate:!1,restrictedQuoteItemUpdate:!1,restrictedQuoteStatusUpdate:!1,restrictedQuotePercentageUpdate:!1,isReconcilable:!1})},order:{type:Object,default:void 0}},setup(e){const a=D(),{isBulkQuote:l}=T(),{data:t,modal:i,loading:o,actionArchive:s,unsetData:d}=h("online"),{data:c,modal:u,loading:p,actionUnarchive:f,unsetData:_}=v("online"),{state:y,loading:k,action:w}=m("online"),{actionShippingKit:x,actionReceipt:C,loading:S}=g("online"),{state:I,loading:P,modal:B,openModal:O,action:V}=r(),{actionOffer:j,actionRejectOffer:M,loading:U}=b(),A=N(),L=ne(),E=W((()=>{var e;return null==(null==(e=y.value)?void 0:e.order_status)})),$=W((()=>{var e,a;return 0===(null==(e=y.value)?void 0:e.shipping_label_is_generate)||2==(null==(a=y.value)?void 0:a.shipping_label_status)||!0===k.value})),F=W((()=>{var e;return 0==(null==(e=y.value)?void 0:e.is_print_receipt)})),R=W((()=>{var e;return!!(null==(e=y.value)?void 0:e.id)})),Q=te(!1),q=te(!1),z=()=>{i.value=!1},K=()=>{u.value=!1};return Q.value=W((()=>null!=y.value.deleted_at)),q.value=W((()=>null==y.value.deleted_at)),{state:y,stateOriginalQuote:I,loadingOriginalQuote:P,modalOriginalQuote:B,loadingPrint:S,printReceipt:async()=>{if(F.value)return;const e=y.value.box_id;await C(e)},printShippingKit:async()=>{A.params.buybackId&&!$.value&&(a.shippingKit.modal=!0)},openModalOriginalQuote:O,openChangelog:()=>L.push({name:"easyOfferChangelog",params:n(n({buybackId:A.params.buybackId},A.params.marketerId&&{marketerId:A.params.marketerId}),A.params.status&&{status:A.params.status})}),showOriginalQuote:async()=>{await V(A.params.buybackId),O()},isReady:R,isDisabledPrintShippingKit:$,isDisabledPrintReceipt:F,handleCustomOffer:()=>j(A.params.buybackId,(async()=>{de({type:"success",message:"Offer sent"}),await action(A.params.buybackId)})),handleRejectCustomOffer:()=>M(A.params.buybackId,(async()=>{de({type:"success",message:"Offer rejected"}),await action(A.params.buybackId)})),loadingCustomOffer:U,handleArchiveModal:()=>{i.value=!0},handleCloseArchiveModal:z,handleUnarchiveModal:()=>{u.value=!0},handleCloseUnarchiveModal:K,archiveOrder:async()=>{t.id=y.value.id,await s((()=>{de({type:"success",message:"Success archiving offer"}),z(),d()})),w(n({id:A.params.buybackId},A.params.marketerId&&"me"===A.params.marketerId&&{marketer_id:""}||A.params.marketerId&&{marketer_id:A.params.marketerId}))},unarchiveOrder:async()=>{c.id=y.value.id,await f((()=>{de({type:"success",message:"Success restoring offer"}),K(),_()})),w(n({id:A.params.buybackId},A.params.marketerId&&"me"===A.params.marketerId&&{marketer_id:""}||A.params.marketerId&&{marketer_id:A.params.marketerId}))},archiveModal:i,unarchiveModal:u,archiveLoading:o,unarchiveLoading:p,handleBulkQuoteStatusUpdate:async()=>{await w(n({id:A.params.buybackId},A.params.marketerId&&"me"===A.params.marketerId&&{marketer_id:""}||A.params.marketerId&&{marketer_id:A.params.marketerId}))},btnMenuArchive:Q,btnMenuUnarchive:q,color:Xe,isLoading:E,isBulkQuote:l,loadingShow:k}}}),Xa={class:"flex items-center gap-4"},Za={key:2,class:"rounded-md bg-white p-3 items-center"},Ha={class:"flex justify-between items-center"},el={class:"flex items-center"},al={key:0,class:"mr-4"},ll={key:0},tl={class:"py-10"},il={class:"text-center"},ol={class:"py-10"},sl={class:"text-center"};var nl=ke(Ja,[["render",function(e,a,l,t,i,o){var s,n,d,r,c,u;const m=E("Tooltip"),p=E("BulkQuoteDetailStatus"),h=E("Badge"),v=E("StatusesBtn"),g=E("Button"),b=E("DropdownItem"),f=E("DropdownMenu"),_=E("Dropdown"),y=E("ShowOriginal"),k=E("Modal"),w=E("BuybackShippingKitDownload"),x=re("loading");return $(),J(Z,null,[Q("div",Xa,[null!=(null==(s=e.state)?void 0:s.deleted_at)?($(),F(m,{key:0,content:"Archived",placement:"top"},{default:R((()=>a[5]||(a[5]=[Q("div",{class:"flex items-center justify-center w-12 h-12 bg-orange-lighten rounded-full text-orange-04 mx-4 select-none"},[Q("i",{class:"material-icons"},"archive")],-1)]))),_:1})):X("",!0),e.isBulkQuote?($(),F(p,{key:1,onUpdateStatus:e.handleBulkQuoteStatusUpdate,status:null==(n=e.state)?void 0:n.order_status,loading:e.loadingShow,"quote-id":e.$route.params.buybackId,disabled:e.bulkQuote.restrictedQuoteStatusUpdate,order:e.order},null,8,["onUpdateStatus","status","loading","quote-id","disabled","order"])):ae(($(),J("div",Za,[Q("div",Ha,[a[6]||(a[6]=Q("h6",null,"Status :",-1)),K(h,{color:e.color((null==(r=null==(d=e.state)?void 0:d.order_status)?void 0:r.short_name)||""),class:"ml-2 mr-2 text-status",view:"smooth"},{default:R((()=>{var a,l;return[ee(q(null==(l=null==(a=e.state)?void 0:a.order_status)?void 0:l.status_name),1)]})),_:1},8,["color"]),K(v,{data:e.state},null,8,["data"])])])),[[x,e.isLoading]]),Q("div",el,[e.isReady?($(),J("div",al,[0==e.state.is_offered&&4==e.state.type?($(),J("div",ll,[K(g,{onClick:e.handleCustomOffer,loading:e.loadingCustomOffer.offer,class:"mr-2",color:"teal"},{default:R((()=>a[7]||(a[7]=[Q("i",{class:"material-icons"},"local_offer",-1),ee(" Offer")]))),_:1},8,["onClick","loading"]),K(g,{onClick:e.handleRejectCustomOffer,loading:e.loadingCustomOffer.rejectOffer,color:"red"},{default:R((()=>a[8]||(a[8]=[Q("i",{class:"material-icons"},"close",-1),ee(" Reject Offer")]))),_:1},8,["onClick","loading"])])):X("",!0)])):X("",!0),K(_,{placement:"bottom","hide-on-click":!1},{default:R((()=>[K(g,{style:{padding:".8rem"},color:"teal"},{default:R((()=>a[9]||(a[9]=[Q("i",{class:"material-icons"},"more_vert",-1)]))),_:1})])),dropdown:R((()=>[K(f,null,{default:R((()=>{var l,t;return[K(m,{placement:"left",disabled:!e.isDisabledPrintShippingKit},{content:R((()=>a[11]||(a[11]=[Q("p",null,[ee(" Unable to generate a shipping label. "),Q("br"),ee(" Please contact support for more detail ")],-1)]))),default:R((()=>[ae(($(),F(b,{class:se(e.isDisabledPrintShippingKit?"el-dropdown-menu__item--disabled":""),onClick:e.printShippingKit},{default:R((()=>a[10]||(a[10]=[Q("i",{class:"material-icons mr-2 text-xl"},"print",-1),ee(" Shipping Kit ")]))),_:1},8,["class","onClick"])),[[x,e.loadingPrint.shippingKit]])])),_:1},8,["disabled"]),e.isReady?($(),J(Z,{key:0},[e.isBulkQuote?X("",!0):ae(($(),F(b,{key:0,class:se(e.isDisabledPrintReceipt?"el-dropdown-menu__item--disabled":""),onClick:e.printReceipt},{default:R((()=>a[12]||(a[12]=[Q("i",{class:"material-icons mr-2 text-xl"},"insert_drive_file",-1),ee(" Print Receipt")]))),_:1},8,["class","onClick"])),[[x,e.loadingPrint.receipt]])],64)):($(),F(b,{key:1},{default:R((()=>a[13]||(a[13]=[Q("span",{class:"text-grey-02"},[Q("i",{class:"material-icons mr-2 text-xl"},"print"),ee(" Print Receipt")],-1)]))),_:1})),e.isBulkQuote?X("",!0):ae(($(),F(b,{key:2,onClick:e.showOriginalQuote},{default:R((()=>a[14]||(a[14]=[Q("img",{src:j,alt:"show-original",class:"inline-block mr-2"},null,-1),ee(" Show Original")]))),_:1},8,["onClick"])),[[x,e.loadingOriginalQuote]]),K(b,{onClick:e.openChangelog},{default:R((()=>a[15]||(a[15]=[Q("img",{src:He,alt:"changelog",class:"inline-block mr-2"},null,-1),ee(" Changelog ")]))),_:1},8,["onClick"]),null==(null==(l=e.state)?void 0:l.deleted_at)?($(),F(b,{key:3,onClick:e.handleArchiveModal},{default:R((()=>[K(g,{class:"my-2",color:"orange",dense:"",block:""},{default:R((()=>[a[16]||(a[16]=Q("i",{class:"material-icons"},"archive",-1)),ee(" Archive "+q(e.isBulkQuote?"Quote":"Offer"),1)])),_:1})])),_:1},8,["onClick"])):X("",!0),null!=(null==(t=e.state)?void 0:t.deleted_at)?($(),F(b,{key:4,onClick:e.handleUnarchiveModal},{default:R((()=>[K(g,{class:"my-2",color:"orange",dense:"",block:""},{default:R((()=>[a[17]||(a[17]=Q("i",{class:"material-icons"},"archive",-1)),ee(" Restore "+q(e.isBulkQuote?"Quote":"Offer"),1)])),_:1})])),_:1},8,["onClick"])):X("",!0)]})),_:1})])),_:1})]),K(y,{modelValue:e.modalOriginalQuote,"onUpdate:modelValue":a[0]||(a[0]=a=>e.modalOriginalQuote=a)},null,8,["modelValue"])]),K(k,{size:"xs",modelValue:e.archiveModal,"onUpdate:modelValue":a[2]||(a[2]=a=>e.archiveModal=a),title:"Archive Offer","hide-header":"","hide-footer":"",onClose:e.handleCloseArchiveModal},{default:R((()=>[Q("div",tl,[a[20]||(a[20]=Q("img",{class:"mb-10 mx-auto",src:Pe,alt:"Success Icon"},null,-1)),a[21]||(a[21]=Q("div",{class:"mt-8 mb-10"},[Q("h5",{class:"mb-4 text-center"},"Archiving this Offer"),Q("p",{class:"text-center mb-4"},[ee(" Are you sure you want to archive this offer? "),Q("br"),ee(' Once archived, offers can be recovered from the "Archived" menu ')])],-1)),Q("div",il,[K(g,{view:"outlined",color:"teal",class:"bg-white",disabled:e.archiveLoading,onClick:a[1]||(a[1]=a=>e.archiveModal=!1)},{default:R((()=>a[18]||(a[18]=[ee("Cancel")]))),_:1},8,["disabled"]),K(g,{color:"orange",class:"ml-3",loading:e.archiveLoading,onClick:e.archiveOrder},{default:R((()=>a[19]||(a[19]=[ee("Yes, Archive")]))),_:1},8,["loading","onClick"])])])])),_:1},8,["modelValue","onClose"]),K(k,{size:"xs",modelValue:e.unarchiveModal,"onUpdate:modelValue":a[4]||(a[4]=a=>e.unarchiveModal=a),title:"Archive Offer","hide-header":"","hide-footer":"",onClose:e.handleCloseUnarchiveModal},{default:R((()=>[Q("div",ol,[a[24]||(a[24]=Q("img",{class:"mb-10 mx-auto",src:Pe,alt:"Success Icon"},null,-1)),a[25]||(a[25]=Q("div",{class:"mt-8 mb-10"},[Q("h5",{class:"mb-4 text-center"},"Restoring this Offer"),Q("p",{class:"text-center mb-4"}," Are you sure you want to restore this offer? ")],-1)),Q("div",sl,[K(g,{view:"outlined",color:"teal",class:"bg-white",disabled:e.unarchiveLoading,onClick:a[3]||(a[3]=a=>e.unarchiveModal=!1)},{default:R((()=>a[22]||(a[22]=[ee("Cancel")]))),_:1},8,["disabled"]),K(g,{color:"orange",class:"ml-3",loading:e.unarchiveLoading,onClick:e.unarchiveOrder},{default:R((()=>a[23]||(a[23]=[ee("Yes, Restore")]))),_:1},8,["loading","onClick"])])])])),_:1},8,["modelValue","onClose"]),K(w,{id:null==(c=e.state)?void 0:c.box_id,shippings:null==(u=e.state)?void 0:u.shipping_label},null,8,["id","shippings"])],64)}],["__scopeId","data-v-7bc399ca"]]);const dl={__name:"Breadcrumb",setup(e){const a=W((()=>({name:"easyOfferTab",params:{statusId:"all",category:"active"},query:{}}))),l=[{text:"Easy Offer",to:{name:"easyOffer"}},{text:"Offer Details"}];return(e,t)=>($(),F(ea,{backTo:a.value,items:l},{"page-title":R((()=>t[0]||(t[0]=[Q("div",{class:"flex gap-2 items-center flex-wrap"},[Q("h5",null,"Offer Detail")],-1)]))),_:1},8,["backTo"]))}},rl={class:"flex items-center flex-col"},cl={class:"flex w-full justify-between items-center"},ul={class:"flex"},ml={__name:"OrderInfo",setup(e){const{state:a,action:l}=m("online"),{loading:t,actionUpdate:i,data:o}=f("online"),{actionAll:s}=c("online"),n=N(),d=async(e,a,t)=>{o.is_accept=e,o.accepted_type=t,await i(n.params.buybackId,a,(async()=>{await Promise.all([l(n.params.buybackId),s(n.params.buybackId)]),de({message:"Offer updated!",type:"success"})}))};return(e,l)=>{var i,o,s,n,r,c,u,m,p,h,v,g,b;const f=E("router-link"),_=re("loading");return $(),J("div",rl,[(null==(i=z(a))?void 0:i.parent)?($(),F(Be,{key:0,class:"mb-4",color:"orange",view:"smooth"},{default:R((()=>[l[3]||(l[3]=ee(" This buyback is part of ")),K(f,{class:"mr-2",to:{name:"buybackOnlineDetail",params:{buybackId:z(a).parent.box_id}}},{default:R((()=>[ee(" #"+q(z(a).parent.box_id)+" ",1),l[2]||(l[2]=Q("i",{class:"material-icons text-lg ml-1"},"open_in_new",-1))])),_:1},8,["to"])])),_:1})):X("",!0),(null==(s=null==(o=z(a))?void 0:o.split_order)?void 0:s.length)>0?($(),F(Be,{key:1,class:"mb-4",color:"orange",view:"smooth"},{default:R((()=>[l[5]||(l[5]=ee(" Some of these items have been split into a new offer. Please use this offer number to view them ")),($(!0),J(Z,null,H(z(a).split_order,((e,a)=>($(),F(f,{class:"mr-2",key:a,to:{name:"buybackOnlineDetail",params:{buybackId:e.box_id}}},{default:R((()=>[ee(" #"+q(e.box_id)+" ",1),l[4]||(l[4]=Q("i",{class:"material-icons text-lg ml-1"},"open_in_new",-1))])),_:2},1032,["to"])))),128))])),_:1})):X("",!0),2===(null==(n=z(a))?void 0:n.is_accepted)&&12===(null==(c=null==(r=z(a))?void 0:r.order_status)?void 0:c.id)&&5===(null==(m=null==(u=z(a))?void 0:u.order_status)?void 0:m.parent_id)?($(),F(Be,{key:2,class:"mb-4",color:"orange",view:"smooth"},{default:R((()=>l[6]||(l[6]=[ee(" The customer has declined the offer. ")]))),_:1})):X("",!0),0===(null==(p=z(a))?void 0:p.is_accepted)&&12===(null==(v=null==(h=z(a))?void 0:h.order_status)?void 0:v.id)&&5===(null==(b=null==(g=z(a))?void 0:g.order_status)?void 0:b.parent_id)?ae(($(),F(Be,{key:3,class:"mb-4",color:"orange",view:"smooth"},{default:R((()=>[Q("div",cl,[l[9]||(l[9]=Q("p",null,"Waiting for customer response. You can also manually accept or decline the offer here",-1)),Q("div",ul,[K(Se,{color:"teal",class:"mr-2",dense:"",onClick:l[0]||(l[0]=e=>d(1,!0,"app")),disabled:z(t).update},{default:R((()=>l[7]||(l[7]=[ee("Accept")]))),_:1},8,["disabled"]),K(Se,{color:"red",dense:"",onClick:l[1]||(l[1]=e=>d(2,!0,"app")),disabled:z(t).update},{default:R((()=>l[8]||(l[8]=[ee("Decline")]))),_:1},8,["disabled"])])])])),_:1})),[[_,z(t).update]]):X("",!0)])}}},pl=Y({components:{Input:xe,Button:Se,Modal:we,Select:ra},props:{show:{type:Boolean,default:!1},shipping_number:{type:String,default:""},boxId:{type:String,default:""},originalTracking:{type:String,default:""},shippingLabelStatus:{type:String,default:""},regenerateShippingLabel:{type:String,default:""}},emits:["update:show","save"],async setup(e,{emit:a}){const{data:l,loading:t,action:i,actionCheckCourier:o,unsetData:s}=_(),{action:n}=y("online"),d=N(),r=te(e.show),c=te(null),u=te(!1),m=te(0),p=te(!1),h=te(!0),v=te([]),g=ce({courier_code:"",courier_name:""}),b=W((()=>[...v.value.map((e=>e.courier_name)),"Other"])),f=Ke({shipping_tracking:{required:da}},l,{$lazy:!0}),k=()=>f.value.$reset(),w=()=>(k(),f.value.$validate(),!f.value.$invalid),x=async()=>{if(w())try{await i(c.value,(()=>{de({type:"success",message:"Custom tracking saved"}),a("update:show",!1),a("save",!0),s(),k(),p.value=!1,h.value=!0,g.courier_name="",g.courier_code="",n(d.params.buybackId)}))}catch(e){e.response&&422===e.response.status&&(u.value=!0,m.value=0,l.force_courier_code=1)}};return ie((()=>e),(e=>{const a=!!e.shipping_number,t=!l.shipping_tracking;a&&t&&(l.shipping_tracking=e.shipping_number),c.value=e.boxId,r.value=e.show}),{deep:!0,immediate:!0}),{copyText:ia,isShow:r,data:l,loading:t,validation:f,handleSaveChanges:async()=>{if(w())if(h.value){h.value=!1;try{const e=await o(l.shipping_tracking);4110===e.code||4121===e.code?(u.value=!0,m.value=0,v.value=[],l.courier_code=null,l.courier_name=null):1===e.length?(l.courier_code=e[0].courier_code,l.courier_name=e[0].courier_name,x()):e.length>1&&(v.value=e,p.value=!0,u.value=!1)}catch(e){de({type:"error",message:"Error checking courier service"})}}else if("Other"===g.courier_name)l.courier_code="other",l.courier_name="Other",x();else{if(!g.courier_name&&p.value)return;x()}},handleCloseModal:()=>{a("update:show",!1),p.value=!1,u.value=!1,h.value=!0,s(),k()},handleSelectCourier:()=>{l.force_courier_code=0;const e=v.value.find((e=>e.courier_name===g.courier_name));"Other"===e?(l.courier_code="other",l.courier_name="Other"):e&&(u.value=!1,l.courier_code=e.courier_code,l.courier_name=e.courier_name)},handleTrackingChange:()=>{u.value=!1,p.value=!1,l.force_courier_code=0,p.value=!1,h.value=!0},selectedCourier:g,courierOptions:b,showWarning:u,warningType:m,showCourierSelect:p}}}),hl={key:0,class:"border border-grey-01 rounded-xl p-6 w-full mb-6"},vl={class:"flex-col my-4"},gl={key:0,class:"mr-4 text-grey-04"},bl={key:1,class:"text-red-base inline-block mr-4"},fl={key:2,class:"text-red-base mt-4 block"},_l={key:3,class:"flex items-start gap-2 text-orange-03 mt-4"},yl={key:0},kl={key:4,class:"flex items-start gap-2 text-orange-03 mt-4"};const wl=Y({components:{Currency:Qe,Alert:Be,Badge:Re,Button:Se,Card:oa,Modal:we,Tab:ze,Input:xe,Loading:Te,PaymentMethod:sa,ShippingLabelInfo:M,TextLimit:na,CustomTracking:ke(pl,[["render",function(e,a,l,t,i,o){const s=E("Button"),n=E("Input"),d=E("Select"),r=E("Modal"),c=re("maska");return $(),F(r,{modelValue:e.isShow,"onUpdate:modelValue":a[3]||(a[3]=a=>e.isShow=a),title:"Shipping Information",onClose:e.handleCloseModal},{default:R((()=>["1"!==e.shippingLabelStatus?($(),J("div",hl,[a[5]||(a[5]=Q("div",{class:"flex items-center gap-2 mb-4"},[Q("i",{class:"material-icons text-red-base icon-md"},"warning"),Q("p",{class:"text-2xl font-bold"},"Regenerate Shiping Label")],-1)),a[6]||(a[6]=Q("p",null,'The shipping label failed to generate. Once the root cause is resolved, you can click "Regenerate Shipping Label" to generate both the shipping label and the shipping kit again. The new tracking number and shipping kit will then be automatically attached to the Offer Details page.',-1)),K(s,{class:"btn btn-teal btn-outlined mt-6",rounded:"",dense:"",onClick:e.regenerateShippingLabel},{default:R((()=>a[4]||(a[4]=[Q("div",{class:"flex items-center gap-2 px-2 py-1"},[Q("i",{class:"material-icons text-base"},"refresh"),Q("span",{class:"font-medium"},"Regenerate Shiping Label")],-1)]))),_:1},8,["onClick"])])):X("",!0),a[11]||(a[11]=Q("p",{class:"font-bold"},"Original Tracking Number",-1)),Q("div",null,[Q("p",{class:se(["mb-2 mt-2 inline-block mr-4",{"text-red-base":null===e.originalTracking||""===e.originalTracking}])},q(e.originalTracking||"Not Available"),3),e.originalTracking?($(),F(s,{key:0,color:"teal",dense:"",onClick:a[0]||(a[0]=a=>e.copyText(e.originalTracking||"-"))},{default:R((()=>a[7]||(a[7]=[Q("i",{class:"material-symbols-outlined"},"content_copy",-1)]))),_:1})):X("",!0)]),Q("div",vl,[a[8]||(a[8]=Q("p",{class:"font-bold mb-1"},"Shipping Label Status",-1)),1==e.shippingLabelStatus?($(),J("span",gl,"Available")):($(),J("p",bl," Not Available "))]),a[12]||(a[12]=Q("p",{class:"font-bold mt-4"},"Custom Tracking Number",-1)),ae(K(n,{modelValue:e.data.shipping_tracking,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.shipping_tracking=a),onInput:e.handleTrackingChange,block:"",view:e.validation.shipping_tracking.$invalid?"danger":"default"},null,8,["modelValue","onInput","view"]),[[c,"X*"]]),($(!0),J(Z,null,H(e.validation.shipping_tracking.$errors,((e,a)=>($(),J("small",{class:"text-red-base block",key:a},q(e.$message)+". ",1)))),128)),e.showCourierSelect?($(),F(d,{key:1,modelValue:e.selectedCourier.courier_name,"onUpdate:modelValue":a[2]||(a[2]=a=>e.selectedCourier.courier_name=a),onChange:e.handleSelectCourier,items:e.courierOptions,placeholder:"Select one of the available carriers",label:"Carrier",class:"w-full",block:""},null,8,["modelValue","onChange","items"])):X("",!0),!e.selectedCourier.courier_name&&e.showCourierSelect?($(),J("small",fl,"Please select a carrier.")):X("",!0),e.showWarning?($(),J("div",_l,[a[9]||(a[9]=Q("span",{class:"material-icons"},"info",-1)),0===e.warningType?($(),J("p",yl,"The tracking number is either incorrect or not recogniced. You can still save the changes. but the offer status will not automatically updates to 'in-transit'.")):X("",!0)])):X("",!0),"Other"===e.selectedCourier.courier_name?($(),J("div",kl,a[10]||(a[10]=[Q("span",{class:"material-icons"},"info",-1),Q("p",null,"You can still save the changes, but the offer status will not automatically update to 'in-transit'.",-1)]))):X("",!0)])),footer:R((()=>[K(s,{onClick:e.handleSaveChanges,color:"teal",loading:e.loading},{default:R((()=>a[13]||(a[13]=[ee("Save Changes")]))),_:1},8,["onClick","loading"])])),_:1},8,["modelValue","onClose"])}]]),AbandonBuybackCustomerForm:ca,Address:pa,ExpeditedIcon:ha,DetailContactOrderInformation:ua,DetailCustomerPortalLink:ma,BuybackShippingOptions:U},props:{bulkQuote:{type:Object,default:()=>({restrictedQuoteUpdate:!1,restrictedQuoteItemUpdate:!1,restrictedQuoteStatusUpdate:!1,restrictedQuotePercentageUpdate:!1,isReconcilable:!1,totalQuoteItems:0})},isBulkQuote:{type:Boolean,default:!1}},async setup(e){const{state:a,modal:l,openModal:t,loading:i,action:o,stateOrdersToReloads:s,resetStateOrdersToReloads:r}=m("online"),{state:c}=u("online"),{state:p,data:h,loading:v,errors:b,showBankNumber:f,actionAll:S,actionUpdate:I,actionShowBankNumber:P,actionShowCheckSettings:B}=k("online"),{loading:T,actionPaperCheck:O}=g(),{state:V,loading:j,action:M}=y("online"),{loading:U,action:A}=w("online"),{modal:L,openModal:E}=_(),{bankTransferConfig:$,me:F}=Oe(),{state:R,action:Q}=aa(),{data:q,modal:z,updateCustomer:K,loading:G}=x("online"),{loading:Y,regenerateShipping:J}=C("online"),X=ce({selected:"PaymentMethod"}),Z=W((()=>{var l;const t=[{name:e.isBulkQuote?"Shipping Label Info":"Offer Details",component:"ShippingLabelInfo"},{name:e.isBulkQuote?"Payment Method":"Offer Payout Method",component:"PaymentMethod"}];return e.isBulkQuote&&9e3!==(null==(l=a.value)?void 0:l.status_id)?[{name:"Payment Method",component:"PaymentMethod"}]:t})),H=D(),ee=N(),ae=ne(),le=te(null),oe=te(null),se=te(!1),re=te({}),me=ce({}),pe=te(!1),he=te(!1),ve=W((()=>{var e;return"PaymentMethod"===X.selected?{autoSelect:!0,items:p.value,data:a.value.billing}:"ShippingLabelInfo"===X.selected?{data:Object.assign(h.shippingLabelInfo,d(n({},a.value.shipping),{company_name:null==(e=null==a?void 0:a.value.billing)?void 0:e.company_name,custom_fields:fe.value})),isEasyOffer:_e.value}:void 0})),ge=W((()=>"PaymentMethod"===X.selected?Object.assign({},{"update:data":e=>re.value=e}):{})),be=W((()=>{const e=a.value.custom_fields;return!e?[]:Object.entries(e).map((([e,a])=>({label:a.key,value:a.value})))})),fe=W((()=>Object.fromEntries(be.value.map((e=>[e.label,e.value]))))),_e=W((()=>3===(null==a?void 0:a.value.type)&&"Easy Offer"===(null==a?void 0:a.value.type_text))),ye=()=>{Object.assign(me,n(n({},h.shippingLabelInfo),a.value.shipping))},ke=W((()=>0===Object.keys(a.value).length)),we=W((()=>{var e;return 1e3==(null==(e=a.value)?void 0:e.status_id)})),xe=W((()=>!we.value)),Ce=W((()=>a.value&&a.value.is_readonly));await M(ee.params.buybackId),await o({id:ee.params.buybackId,is_store:1},(async e=>{await S({id:e.customer_id,params:{box_id:ee.params.buybackId}}),await Q(e.customer_id),ye()})),await B((e=>{pe.value=1==e.is_ready_in_store&&1==e.is_enable_check})),"Local Buyback"===a.value.buyback_type&&ae.push({name:"buybackLocalDetail",params:{buybackId:ee.params.buybackId}});const Se=W((()=>{var e;return F.value.is_view_confidential&&"Bank Transfer"===(null==(e=a.value.billing)?void 0:e.payment_method)})),Ie=W((()=>{var e,l,t;const i=[];return(null==(e=a.value.billing)?void 0:e.bank_transfer.length)&&!se.value?(null==(l=a.value.billing)||l.bank_transfer.forEach((e=>{const a=n({},e);if("account_name"!==a.attribute_name)if(a.value){const e=a.value.split("").splice(0,a.value.length-3).map((()=>"*")),l=a.value.split("").splice(a.value.length-3,3);a.value=`${e.join("")}${l.join("")}`}else a.value="-";i.push(a)})),i):null==(t=a.value.billing)?void 0:t.bank_transfer})),Pe=W((()=>{const{shipping:e,customer:l}=a.value||{};return{firstName:e&&(null==e?void 0:e.shipping_firstname)||(null==l?void 0:l.first_name)||"-",lastName:e&&(null==e?void 0:e.shipping_lastname)||(null==l?void 0:l.last_name)||"-",email:e&&(null==e?void 0:e.email)||(null==l?void 0:l.email)||"-",phone:e&&(null==e?void 0:e.shipping_phone)||(null==l?void 0:l.phone)||"-",addressCustomer:(null==l?void 0:l.address_text)?(null==l?void 0:l.suite)?`${null==l?void 0:l.suite}, ${null==l?void 0:l.address_text}`:null==l?void 0:l.address_text:"-"}})),Be=W((()=>{var l;if(i.value)return!1;if(e.isBulkQuote){return!["9000","9001"].includes(String(null==(l=a.value)?void 0:l.status_id))}return!0})),Te=W((()=>{var e,l;return 0===(null==(e=a.value)?void 0:e.shipping_label_is_generate)||2==(null==(l=a.value)?void 0:l.shipping_label_status)||!0===i.value}));return ie((()=>s.value),(async e=>{var a;(null==e?void 0:e.offer_id)&&(null==e?void 0:e.offer_has_changes)&&(null==(a=null==ee?void 0:ee.params)?void 0:a.buybackId)===(null==e?void 0:e.offer_id)&&(await o({id:ee.params.buybackId,is_store:1}),r())}),{deep:!0}),{dataPaymentMethod:re,dataAbandonBubyback:q,tab:X,componentBind:ve,componentOn:ge,customFields:be,stateShow:a,stateItems:c,statePaymentMethod:p,stateTrackingStatus:V,bankTransferConfig:$,showBankNumber:f,printAddressLabel:()=>{var e,l;const t=`${(null==(e=a.value.shipping)?void 0:e.shipping_suite)?Me(null==(l=a.value.shipping)?void 0:l.shipping_suite)+", ":""}${Me(a.value.shipping.shipping_address1)||""}\n${Me(a.value.shipping.shipping_city)||""} ${Me(a.value.shipping.shipping_state)||""} ${Me(a.value.shipping.shipping_zip)||""}`,i=`${a.value.shipping.shipping_firstname||""} ${a.value.shipping.shipping_lastname||""}`,o=a.value.shipping.shipping_imb||"";la(t,i,o)},isShowBankNumber:se,loadingPaymentMethod:v,loadingPrint:T,loadingTrackingStatus:j,loadingPrintStatus:U,loadingAbandonBuyback:G,isLoading:ke,isNotAbandonedBuyback:xe,isReadonly:Ce,isAbandonedBuyback:we,isReadyPaperCheck:pe,errorsPaymentMethod:b,modal:l,modalCustomTracking:L,modalAbandonBuyback:z,refComponent:le,refAbandonBuybackCustomerForm:oe,openModal:t,openModalCustomTracking:E,paperCheck:()=>O(ee.params.buybackId),updatePaymentMethod:async()=>{Object.assign(re.value,n(n({},a.value.shipping),h.shippingLabelInfo));const e=Object.entries(re.value).filter((([e,a])=>!!Object.keys(me).includes(e)&&me[e]!==a)).length>0;await ue((()=>"PaymentMethod"===X.selected?le.value.refChildComponent.validate():le.value.validate()))&&I(ee.params.buybackId,d(n({},re.value),{is_generate_shipping:e?1:0}),(async()=>{l.paymentMethod=!1,await o({id:ee.params.buybackId,is_store:1},(()=>{ye()}))}))},changeStatusPrint:()=>{A(ee.params.buybackId,(async()=>{de({message:"Print status updated",type:"success"}),await o({id:ee.params.buybackId,is_store:1})}))},color:Xe,sellingTypeColor:Ze,kebabCase:Ve,toggleShowBankNumber:()=>{se.value=!se.value},handleCustomTrackingSaved:async()=>await o({id:ee.params.buybackId,is_store:1},(async e=>{await S({id:e.customer_id,params:{box_id:ee.params.buybackId}})})),CopyText:ia,phoneNumber:De,handleLoginAsCustomer:(e=null)=>{if(!e)return null;window.open(e,"_blank").focus()},handleOpenShippingLabelInfoModal:()=>{X.selected="ShippingLabelInfo",a.value.shipping&&Object.keys(a.value.shipping).forEach((e=>{a.value.shipping[e]||(a.value.shipping[e]=a.value.customer[e.replace("shipping_","")])})),t("paymentMethod")},handleOpenPayoutMethodModal:()=>{X.selected="PaymentMethod",t("paymentMethod")},handleUpdateAbandonBuybackCustomer:async()=>{if(!oe.value)return;oe.value.validate()&&await K(a.value.customer.id,(async()=>{z.update.customer=!1,de({type:"success",message:"Customer information saved"}),await o({id:ee.params.buybackId,is_store:1}),await S({id:a.value.customer.id,params:{box_id:ee.params.buybackId}})}))},handleOpenAbandonBuybackCustomerModal:()=>{z.update.customer=!0,Object.assign(q.customer,{box_id:a.value.box_id,email:a.value.customer.email,firstname:a.value.customer.first_name,lastname:a.value.customer.last_name,phone:a.value.customer.phone,address:a.value.customer.address1,suite:a.value.customer.suite,city:a.value.customer.city,state:a.value.customer.state,zip:a.value.customer.zip,country:a.value.customer.country,address_text:a.value.customer.address_text})},nameCapitalize:je,stateCustomer:R,computedBankTransfer:Ie,confidentialView:Se,computedCustomer:Pe,isShowTrackingNumber:Be,tabItems:Z,actionShow:o,handleSucceedBuybackOption:async()=>{await o({id:ee.params.buybackId,is_store:1})},loadingShippingInfo:he,handleRegenerateShipping:async()=>{const e=a.value.box_id||ee.params.buybackId;if(!e)return void de({type:"warning",message:"Box ID Undefined"});const l=await J(e);de({type:"success",message:(null==l?void 0:l.result)||(null==l?void 0:l.message)||"Success"}),await o({id:ee.params.buybackId,is_store:1})},loadingRegenerateShipping:Y,printShippingKit:async()=>{ee.params.buybackId&&!Te.value&&(H.shippingKit.modal=!0)},onDownload:async()=>{await Ue(H.shippingKit,(async()=>{var e,l,t;await H.$downloadShippingKit({id:null==(e=a.value)?void 0:e.box_id,params:{order_shipping_label_id:null==(t=null==(l=a.value)?void 0:l.shipping_label)?void 0:t.order_shipping_label}}).then((e=>{Ae(e)}))}))},store:H}}}),xl={class:"flex items-center justify-between mb-4"},Cl={class:"text-lg text-grey-04 font-semibold"},Sl={class:"flex items-center p-1"},Il=["src","alt"],Pl={key:0,class:"bg-red-01 text-red-base px-4 py-2 mb-4 rounded-lg"},Bl={key:1},Tl={class:"my-6"},Ol={class:"space-y-1"},Vl={class:"flex items-center mb-4"},Dl={class:"font-semibold mr-2"},jl={key:0,class:"flex justify-between"},Ml={class:"flex items-center gap-x-2"},Ul=["href"],Al={key:1,class:"flex justify-between"},Ll={class:"flex items-center gap-x-2"},Nl={key:2},El={class:"my-6"},$l={class:"flex items-center gap-2 font-semibold mr-2 mb-4"},Fl={style:{maxWidth:"300px"}},Rl={key:0,class:"my-6"},Ql={key:0,class:"text-grey-03"},ql={class:"my-6"},zl={class:"text-grey-03"},Kl={class:"my-6",style:{"overflow-wrap":"anywhere"}},Gl={class:"text-grey-03"},Yl={key:2,class:"my-6"},Wl={class:"text-grey-03"},Jl={class:"flex justify-between items-center"},Xl={class:"flex items-center justify-end gap-x-2"},Zl={key:0},Hl={class:"text-xl font-medium mb-4"},et={key:1},at={class:"inline-block"},lt={class:"w-full h-full flex justify-center items-center"},tt={key:0,class:"p-5"},it={key:0},ot={class:"space-y-2"},st={key:0},nt={key:1,class:"text-teal-04"},dt={key:1},rt={class:"text-teal-04"},ct={class:"flex flex-wrap items-center"},ut={key:2,class:"my-5"},mt={class:"flex items-center gap-x-1"},pt={class:"mb-2"},ht={key:3},vt={class:"font-semibold mb-2"},gt={class:"text-grey-03"},bt={class:"mb-2"},ft={key:4,class:"mt-10"},_t={class:"flex justify-between items-center"},yt={key:0},kt={class:"mb-2"},wt={key:0,class:"mb-2"},xt={class:"font-semibold mb-2 flex items-center gap-2"},Ct={key:1,class:"text-teal-04 cursor-pointer"},St={class:"flex items-center gap-2"},It={class:"mt-2"},Pt={key:0,class:"flex items-center gap-2"},Bt={class:"flex items-center gap-2"},Tt={key:1,class:"flex items-center gap-2"},Ot={key:0,class:"flex items-center gap-2"},Vt={key:1,class:"flex items-center gap-2"},Dt={class:"flex items-center gap-2"},jt={class:"flex items-center gap-2"},Mt={class:"flex items-center gap-2"},Ut={class:"flex items-center gap-2"},At={key:4,class:"flex items-center"},Lt={key:5},Nt={class:"text-sm"},Et=["onClick"],$t={key:6,class:"flex items-center gap-2"},Ft={key:7,class:"flex items-center gap-2"},Rt={key:8,class:"flex items-center gap-2"},Qt={key:9,class:"flex items-center gap-2 mt-1"},qt={class:"ml-2"},zt={key:10,class:"flex items-center gap-2"},Kt={key:11,class:"flex items-center gap-2"},Gt={key:12,class:"flex items-center gap-2"},Yt={class:"flex items-center gap-2"},Wt={key:0,class:"flex items-center gap-2"},Jt={key:14,class:"flex items-center gap-2"},Xt={key:15,class:"flex items-center gap-2"},Zt={class:"flex items-center gap-2"},Ht={class:"flex items-center gap-2"},ei={key:17,class:"flex items-center gap-2"},ai={key:18},li={key:20,class:"flex items-center gap-2"},ti={key:21},ii={key:1,class:"mb-2"},oi={key:2},si={key:3},ni={class:"flex justify-between items-center gap-4"},di={key:0,class:"flex items-center gap-2 bg-green-lighten text-green-04 py-2 px-4 rounded-full mr-auto text-sm"},ri={key:0,class:"mb-4 flex flex-col items-center justify-center"},ci={class:"flex justify-end"};var ui=ke(wl,[["render",function(e,a,l,t,i,o){var s,n;const d=E("Badge"),r=E("Button"),c=E("Tooltip"),u=E("BuybackShippingOptions"),m=E("Card"),p=E("TextLimit"),h=E("router-link"),v=E("Popover"),g=E("DetailContactOrderInformation"),b=E("DetailCustomerPortalLink"),f=E("ExpeditedIcon"),_=E("Tab"),y=E("Modal"),k=E("AbandonBuybackCustomerForm"),w=E("CustomTracking"),x=re("loading");return $(),J(Z,null,[ae(($(),F(m,{class:"mb-4"},{header:R((()=>{var l;return[Q("div",Jl,[a[55]||(a[55]=Q("h6",null,"Offer",-1)),Q("div",Xl,[K(u,{id:null==(l=e.stateShow)?void 0:l.box_id,"status-offer":e.stateShow.status_id,multiple:e.stateShow.is_multiple_shipping,total:e.stateShow.total_shipping_label,shippings:e.stateShow.shipping_label,shippingLabelStatus:e.stateShow.shipping_label_status,regenerateShippingLabel:e.handleRegenerateShipping,onSucceed:e.handleSucceedBuybackOption},null,8,["id","status-offer","multiple","total","shippings","shippingLabelStatus","regenerateShippingLabel","onSucceed"])])])]})),default:R((()=>{var l,t,i,o,s,n,u,m,p,h,v,g,b,f,_,y,k,w;return[Q("div",xl,[Q("p",Cl,"Offer ID # "+q(e.$route.params.buybackId),1),e.stateShow.type_text&&!e.isBulkQuote?($(),F(d,{key:0,class:"whitespace-nowrap",color:e.sellingTypeColor(e.stateShow.type_text)},{default:R((()=>[Q("div",Sl,[Q("img",{src:`/icon/selling-type/${e.kebabCase(e.stateShow.type_text,"lower")}.svg`,alt:`${e.stateShow.type_text} icon`},null,8,Il),Q("p",null,q(e.stateShow.type_text),1)])])),_:1},8,["color"])):X("",!0)]),2==e.stateShow.shipping_label_status?($(),J("div",Pl,a[39]||(a[39]=[Q("div",{class:"flex gap-x-2"},[Q("i",{class:"material-icons text-red-base text-center"},"warning"),Q("span",null,' Unable to generate the shipping label due to an error. Once the root cause is resolved, you can click "Regenerate Shipping Label" from the three-dot menu above. ')],-1)]))):X("",!0),Q("p",null,[a[40]||(a[40]=Q("span",{class:"material-icons text-base"},"date_range",-1)),ee(" "+q(null==(l=e.stateShow)?void 0:l.created_at),1)]),e.isShowTrackingNumber?($(),J("div",Bl,[Q("div",Tl,[Q("div",Ol,[Q("div",Vl,[Q("p",Dl,q(null==(t=e.stateShow)?void 0:t.shipping_courier)+" Shipping Information ",1),1==(null==(i=e.stateShow)?void 0:i.is_custom_tracking)?($(),F(d,{key:0,color:"orange"},{default:R((()=>a[41]||(a[41]=[ee("Custom")]))),_:1})):X("",!0)]),1===(null==(s=null==(o=e.stateShow)?void 0:o.shipping_label)?void 0:s.length)?($(),J("div",jl,[Q("div",null,[Q("div",Ml,[a[43]||(a[43]=Q("span",{class:"material-icons"},"local_shipping",-1)),Q("span",null,q((null==(u=null==(n=e.stateShow)?void 0:n.shipping_label[0])?void 0:u.custom_tracking)||(null==(p=null==(m=e.stateShow)?void 0:m.shipping_label[0])?void 0:p.shipping_tracking)),1),Q("a",{href:e.stateShow.shipping_tracking_link,rel:"noreferrer noopener",class:"text-grey-03",target:"_blank"},a[42]||(a[42]=[Q("span",{class:"material-icons"},"launch",-1)]),8,Ul)]),a[44]||(a[44]=Q("div",{class:"flex items-center gap-x-2"},[Q("span",{class:"material-icons"},"qr_code"),Q("span",null,"Shipping Label Available")],-1))]),Q("div",null,[K(r,{onClick:e.onDownload,color:"teal",view:"outlined",dense:"",loading:null==(v=null==(h=e.store)?void 0:h.shippingKit)?void 0:v.isLoading},{default:R((()=>a[45]||(a[45]=[Q("span",{class:"material-icons mr-2"},"print",-1),ee("Shipping Kit ")]))),_:1},8,["onClick","loading"])])])):(null==(b=null==(g=e.stateShow)?void 0:g.shipping_label)?void 0:b.length)>1?($(),J("div",Al,[Q("div",Ll,[a[46]||(a[46]=Q("span",{class:"material-icons"},"local_shipping",-1)),Q("span",null,q(e.stateShow.shipping_label.length)+" Available Shipping Label",1)]),Q("div",null,[K(r,{onClick:e.printShippingKit,color:"teal",view:"outlined",dense:""},{default:R((()=>a[47]||(a[47]=[Q("span",{class:"material-icons mr-2"},"print",-1),ee("Shipping Kit ")]))),_:1},8,["onClick"])])])):($(),J("div",Nl,a[48]||(a[48]=[Q("div",null,[Q("div",{class:"flex items-center gap-x-2"},[Q("span",{class:"material-icons"},"local_shipping"),Q("span",{class:"text-red-base"},"Tracking Number is not available")]),Q("div",{class:"flex items-center gap-x-2"},[Q("span",{class:"material-icons"},"qr_code"),Q("span",{class:"text-red-base"},"Shipping Label Not Available")])],-1)])))])]),Q("div",El,[Q("p",$l,[a[50]||(a[50]=Q("span",null,"Shipping Cost",-1)),K(c,{placement:"top"},{content:R((()=>[Q("div",Fl,[0==e.stateShow.shipping_cost?($(),J(Z,{key:0},[ee(" This feature is available only for offers using EasyPost USPS services. The shipping service you are using doesn't support this feature. ")],64)):($(),J(Z,{key:1},[ee(" The shipping cost is not final until USPS weighs the package, after which the actual shipping cost will be reflected here. ")],64))])])),default:R((()=>[a[49]||(a[49]=Q("span",{class:"material-icons"},"info",-1))])),_:1})]),Q("p",null,[0!=e.stateShow.shipping_cost?($(),J(Z,{key:0},[ee(q(e.stateShow.shipping_cost),1)],64)):($(),J(Z,{key:1},[ee("-")],64))])]),(null==(f=e.stateShow)?void 0:f.is_multiple_shipping)?X("",!0):($(),J("div",Rl,[a[51]||(a[51]=Q("p",{class:"font-semibold mb-2"},"Status",-1)),(null==(y=null==(_=e.stateShow)?void 0:_.shipping_label)?void 0:y.length)?($(),J("p",Ql,q((null==(w=null==(k=e.stateShow)?void 0:k.shipping_label[0])?void 0:w.shipping_status_summary)||"No Shipping Information"),1)):X("",!0)]))])):X("",!0),Q("div",ql,[a[52]||(a[52]=Q("p",{class:"font-semibold mb-2"},"Source",-1)),Q("p",zl,q(e.stateShow.source||"-"),1)]),Q("div",Kl,[a[53]||(a[53]=Q("p",{class:"font-semibold mb-2"},"Referral Source",-1)),Q("p",Gl,q(e.stateShow.referral_source||"-"),1)]),e.stateShow.returned_tracking?($(),J("div",Yl,[a[54]||(a[54]=Q("p",{class:"font-semibold mb-2"},"Returned Tracking ",-1)),Q("p",Wl,q(e.stateShow.returned_tracking),1)])):X("",!0)]})),_:1})),[[x,e.isLoading]]),ae(($(),F(m,{class:"mb-4",error:e.isAbandonedBuyback&&!(null==(s=e.stateShow)?void 0:s.is_fulfilled_address)},{header:R((()=>{var l,t,i,o,s,n;return[Q("div",_t,[Q("h6",null,q(e.isBulkQuote?"Quote Information":"Offer Information"),1),e.isReadonly?X("",!0):($(),J("div",yt,[e.isAbandonedBuyback?($(),F(r,{key:0,onClick:e.handleOpenAbandonBuybackCustomerModal,class:"mx-2",disabled:null!=(null==(l=e.stateShow)?void 0:l.deleted_at)||e.isBulkQuote&&9e3!==(null==(t=e.stateShow)?void 0:t.status_id),loading:e.loadingPaymentMethod.all,color:"teal",dense:""},{default:R((()=>a[65]||(a[65]=[Q("i",{class:"material-icons text-base"},"edit",-1),ee(" Edit")]))),_:1},8,["onClick","disabled","loading"])):($(),F(r,{key:1,onClick:e.handleOpenShippingLabelInfoModal,disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.bulkQuote.restrictedQuoteUpdate||e.isBulkQuote&&9e3!==(null==(o=e.stateShow)?void 0:o.status_id),loading:e.loadingPaymentMethod.all,class:"mr-2",color:"teal",dense:""},{default:R((()=>a[66]||(a[66]=[Q("i",{class:"material-icons text-base"},"edit",-1),ee(" Edit")]))),_:1},8,["onClick","disabled","loading"])),(null==(s=e.stateCustomer)?void 0:s.login_link)&&"#"!=(null==(n=e.stateCustomer)?void 0:n.login_link)?($(),F(v,{key:2,trigger:"hover",width:"400"},{reference:R((()=>{var l;return[K(r,{disabled:1e3===(null==(l=e.stateShow)?void 0:l.status_id),onClick:a[2]||(a[2]=a=>{var l;return e.handleLoginAsCustomer(null==(l=e.stateCustomer)?void 0:l.login_link)}),color:"green",dense:""},{default:R((()=>a[67]||(a[67]=[Q("i",{class:"material-icons text-base"},"vpn_key",-1),ee(" Login")]))),_:1},8,["disabled"])]})),default:R((()=>[a[68]||(a[68]=Q("span",{class:"font-normal"},"Login to customer account",-1))])),_:1})):X("",!0)]))])]})),default:R((()=>{var l,t,i,o,s,n,d;return[e.isBulkQuote?($(),J("div",Zl,[Q("h6",Hl,q(null==(t=null==(l=e.stateShow)?void 0:l.customer)?void 0:t.company),1)])):($(),J("div",et,[Q("div",at,[K(v,{width:"400",trigger:"hover"},{reference:R((()=>{var l,t;return[e.isAbandonedBuyback?($(),J("div",it,[K(p,{text:`${e.computedCustomer.firstName||""} ${e.computedCustomer.lastName||""}`},{default:R((({text:a})=>[Q("div",ot,[e.nameCapitalize(a).length?($(),J("h5",st,[($(!0),J(Z,null,H(e.nameCapitalize(a),((e,a)=>($(),J("span",{key:a,class:"text-teal-04 capitalize"},q(`${e} `),1)))),128))])):($(),J("h5",nt,q(a),1))])])),_:1},8,["text"])])):($(),J("div",dt,[K(h,{to:{name:"customerDetail",params:{customerId:null==(t=null==(l=e.stateShow)?void 0:l.customer)?void 0:t.id,category:"mail-in"}}},{default:R((()=>[K(p,{text:`${e.computedCustomer.firstName||""} ${e.computedCustomer.lastName||""}`},{default:R((e=>[Q("h5",rt,[ee(q(e.text)+" ",1),a[60]||(a[60]=Q("i",{class:"material-icons icon-visibility"},"visibility",-1))])])),_:1},8,["text"])])),_:1},8,["to"])]))]})),default:R((()=>[Q("div",lt,[($(),J("div",tt,[a[59]||(a[59]=Q("p",{class:"font-semibold"},"Customer Information",-1)),Q("p",null,[a[56]||(a[56]=Q("i",{class:"material-icons text-base mr-1"},"email",-1)),ee(" "+q(e.computedCustomer.email),1)]),Q("p",null,[a[57]||(a[57]=Q("i",{class:"material-icons text-base mr-1"},"location_on",-1)),ee(" "+q(e.computedCustomer.addressCustomer),1)]),Q("p",null,[a[58]||(a[58]=Q("i",{class:"material-icons text-base mr-1"},"call",-1)),ee(" "+q(e.phoneNumber(e.computedCustomer.phone)),1)])]))])])),_:1})]),Q("i",{class:"material-icons hover:text-teal-04 text-teal-04 cursor-pointer ml-2",style:{"line-height":"2"},onClick:a[0]||(a[0]=oe((a=>e.CopyText(`${e.computedCustomer.firstName} ${e.computedCustomer.lastName}`)),["stop"]))}," file_copy ")])),Q("p",ct,[a[61]||(a[61]=Q("i",{class:"material-icons text-base mr-2"}," assignment ",-1)),ee(" "+q((e.isBulkQuote?e.bulkQuote.totalQuoteItems:null==(i=e.stateItems)?void 0:i.total_qty)||0)+" items ",1)]),e.stateShow.type_text&&"Easy Offer"===e.stateShow.type_text?($(),J("div",ut,[a[62]||(a[62]=Q("p",{class:"font-semibold"},"Company Name",-1)),Q("p",mt,q((null==(o=e.stateShow.billing)?void 0:o.company_name)||"-"),1)])):X("",!0),Q("div",{class:se(e.stateShow.type_text&&"Easy Offer"===e.stateShow.type_text?"mb-2":"mt-5")},[K(g,{title:e.isBulkQuote?"Order Information":"Contact Information",data:e.stateShow,type:"online"},null,8,["title","data"])],2),Q("div",pt,[Q("a",{class:"flex items-center",href:"",onClick:a[1]||(a[1]=oe(((...a)=>e.printAddressLabel&&e.printAddressLabel(...a)),["prevent"]))},a[63]||(a[63]=[Q("i",{class:"material-icons text-lg mt-2"},"print",-1),Q("span",{class:"mt-2 mx-3"},"Print Address Label",-1)]))]),e.customFields.length>0?($(),J("div",ht,[($(!0),J(Z,null,H(e.customFields,(e=>($(),J("div",{key:e.label,class:"my-6"},[Q("p",vt,q(e.label),1),Q("p",gt,q(e.value),1)])))),128))])):X("",!0),Q("div",bt,[K(b,{title:"Customer Portal URL",data:e.stateShow},null,8,["data"])]),(null==(s=e.stateShow)?void 0:s.order_ip_address)?($(),J("div",ft,[a[64]||(a[64]=Q("p",{class:"mb-2 font-bold"},"IP Address",-1)),Q("p",null,q(null!=(d=null==(n=e.stateShow)?void 0:n.order_ip_address)?d:"-"),1)])):X("",!0)]})),_:1},8,["error"])),[[x,e.isLoading]]),ae(($(),F(m,{class:"mb-4",error:e.isAbandonedBuyback&&!(null==(n=e.stateShow)?void 0:n.is_fulfilled_payout)},{header:R((()=>{var l,t,i,o;return[Q("div",ni,[a[106]||(a[106]=Q("h6",null,"Payout",-1)),(null==(t=null==(l=e.stateShow)?void 0:l.billing)?void 0:t.expedited_payout)?($(),J("div",di,[K(f,{class:"text-green-04"}),a[103]||(a[103]=Q("span",null,"Expedited Payout",-1))])):X("",!0),e.isAbandonedBuyback&&!e.isReadonly?($(),F(r,{key:1,disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.bulkQuote.restrictedQuoteUpdate,loading:e.loadingPaymentMethod.all,color:"teal",onClick:e.handleOpenPayoutMethodModal,dense:""},{default:R((()=>a[104]||(a[104]=[Q("i",{class:"material-icons text-base"},"edit",-1),ee(" Edit")]))),_:1},8,["disabled","loading","onClick"])):e.isReadonly?X("",!0):($(),F(r,{key:2,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.bulkQuote.restrictedQuoteUpdate,loading:e.loadingPaymentMethod.all,color:"teal",onClick:e.handleOpenPayoutMethodModal,dense:""},{default:R((()=>a[105]||(a[105]=[Q("i",{class:"material-icons text-base"},"edit",-1),ee(" Edit")]))),_:1},8,["disabled","loading","onClick"]))])]})),default:R((()=>{var l,t,i,o,s,n,d,u,m,h,v,g,b,f,_,y,k,w,C,S,I,P,B,T,O,V,D,j,M,U,A,L,N,E,z,G,Y,W,le,te,ie,se,ne,de,re,ce,ue,me,pe,he,ve,ge,be,fe,_e,ye,ke,we,xe,Ce,Se,Ie,Pe,Be,Te,Oe,Ve,De;return[Q("div",kt,[a[70]||(a[70]=Q("p",{class:"font-semibold mb-2"},"Payout Method",-1)),Q("p",null,[ee(q(null==(l=e.stateShow.billing)?void 0:l.payment_method)+" ",1),e.isReadyPaperCheck?($(),J(Z,{key:0},["Paper Check"===(null==(t=e.stateShow.billing)?void 0:t.payment_method)||"Express Check"===(null==(i=e.stateShow.billing)?void 0:i.payment_method)?($(),F(r,{key:0,class:"ml-8",color:"teal",loading:e.loadingPrint.paperCheck,onClick:oe(e.paperCheck,["prevent"]),disabled:0==(null==(o=e.stateShow.billing)?void 0:o.is_print_check),dense:""},{default:R((()=>a[69]||(a[69]=[Q("i",{class:"material-icons text-base"},"print",-1)]))),_:1},8,["loading","onClick","disabled"])):X("",!0)],64)):X("",!0)])]),(null==(s=e.stateShow.billing)?void 0:s.payment_method)&&!["Cash","Store Credit","Gift Card","Virtual Debit Card"].includes(null==(n=e.stateShow.billing)?void 0:n.payment_method)?($(),J("div",wt,[Q("div",xt,[a[72]||(a[72]=ee(" Payout Info ")),e.confidentialView?($(),J(Z,{key:0},[e.isShowBankNumber?($(),J("span",{key:0,class:"text-teal-04 cursor-pointer",onClick:a[3]||(a[3]=(...a)=>e.toggleShowBankNumber&&e.toggleShowBankNumber(...a))},a[71]||(a[71]=[Q("i",{class:"material-icons icon-visibility"},"visibility",-1)]))):X("",!0),e.isShowBankNumber?X("",!0):($(),J("span",Ct,[Q("i",{class:"material-icons icon-visibility-off",onClick:a[4]||(a[4]=(...a)=>e.toggleShowBankNumber&&e.toggleShowBankNumber(...a))},"visibility_off")]))],64)):X("",!0)]),"Paper Check"===(null==(d=e.stateShow.billing)?void 0:d.payment_method)||"Express Check"===(null==(u=e.stateShow.billing)?void 0:u.payment_method)?($(),J(Z,{key:0},[Q("div",St,[a[73]||(a[73]=Q("strong",{class:"text-sm"},"Customer Info",-1)),K(p,{text:`${(null==(m=e.stateShow.billing)?void 0:m.billing_firstname)||""} ${(null==(h=e.stateShow.billing)?void 0:h.billing_lastname)||""}`},{default:R((e=>[Q("p",null,q(e.text),1)])),_:1},8,["text"]),Q("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[5]||(a[5]=a=>{var l,t;return e.CopyText(`${(null==(l=e.stateShow.billing)?void 0:l.billing_firstname)||""} ${(null==(t=e.stateShow.billing)?void 0:t.billing_lastname)||""}`)})}," file_copy ")]),Q("div",It,[a[75]||(a[75]=Q("p",{class:"font-semibold"},"Payout Address",-1)),"1"===e.stateShow.use_company_name?($(),J("p",Pt,[a[74]||(a[74]=Q("strong",{class:"text-sm"},"Company",-1)),ee(" "+q(null==(v=e.stateShow.billing)?void 0:v.company_name)+" ",1),Q("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[6]||(a[6]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.company_name)})}," file_copy ")])):X("",!0),K(p,{text:`${(null==(g=e.stateShow.billing)?void 0:g.billing_firstname)||""} ${(null==(b=e.stateShow.billing)?void 0:b.billing_lastname)||""}`},{default:R((e=>[Q("p",null,q(e.text),1)])),_:1},8,["text"]),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[7]||(a[7]=a=>{var l,t;return e.CopyText(`${(null==(l=e.stateShow.billing)?void 0:l.billing_firstname)||""} ${(null==(t=e.stateShow.billing)?void 0:t.billing_lastname)||""}`)})}," file_copy "),Q("p",Bt,[ee(q((null==(f=e.stateShow.billing)?void 0:f.billing_address_text_suite)||(null==(_=e.stateShow.billing)?void 0:_.billing_address_text)||"-")+" ",1),Q("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[8]||(a[8]=a=>{var l,t;return e.CopyText((null==(l=e.stateShow.billing)?void 0:l.billing_address_text_suite)||(null==(t=e.stateShow.billing)?void 0:t.billing_address_text)||"-")})}," file_copy ")]),(null==(y=e.stateShow.billing)?void 0:y.billing_phone)?($(),J("p",Tt,[ee(q(e.phoneNumber(null==(k=e.stateShow.billing)?void 0:k.billing_phone))+" ",1),Q("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[9]||(a[9]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.billing_phone))})}," file_copy ")])):X("",!0)])],64)):"Venmo"===(null==(w=e.stateShow.billing)?void 0:w.payment_method)?($(),J(Z,{key:1},[Q("p",null,q(null==(C=e.stateShow.billing)?void 0:C.venmo_email),1),Q("p",null,q(e.phoneNumber(null==(S=e.stateShow.billing)?void 0:S.venmo_phone_number)),1),(null==(I=e.stateShow.billing)?void 0:I.venmo_username)?($(),J("div",Ot,[a[76]||(a[76]=Q("strong",{class:"text-sm"},"Username",-1)),Q("p",null,q(null==(P=e.stateShow.billing)?void 0:P.venmo_username),1),Q("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[10]||(a[10]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.venmo_username)})}," file_copy ")])):X("",!0),(null==(B=e.stateShow.billing)?void 0:B.venmo_last_digit)?($(),J("div",Vt,[a[77]||(a[77]=Q("strong",{class:"text-sm"},"Last 4 digits of phone number",-1)),Q("p",null,q(null==(T=e.stateShow.billing)?void 0:T.venmo_last_digit),1),Q("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[11]||(a[11]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.venmo_last_digit)})}," file_copy ")])):X("",!0)],64)):"Amazon Gift Card"===(null==(O=e.stateShow.billing)?void 0:O.payment_method)?($(),J(Z,{key:2},[Q("p",Dt,[a[78]||(a[78]=Q("strong",{class:"text-sm"},"Email",-1)),ee(q(null==(V=e.stateShow.billing)?void 0:V.amazon_card_email)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[12]||(a[12]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.amazon_card_email)})}," file_copy ")]),Q("p",jt,[a[79]||(a[79]=Q("strong",{class:"text-sm"},"Phone Number",-1)),ee(q(e.phoneNumber(null==(D=e.stateShow.billing)?void 0:D.amazon_card_phone))+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[13]||(a[13]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.amazon_card_phone))})}," file_copy ")])],64)):"Square Cash"===(null==(j=e.stateShow.billing)?void 0:j.payment_method)?($(),J(Z,{key:3},[Q("p",Mt,[a[80]||(a[80]=Q("strong",{class:"text-sm"},"Cash Tag",-1)),ee(" "+q(null==(M=e.stateShow.billing)?void 0:M.square_cash_tag)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[14]||(a[14]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.square_cash_tag)})}," file_copy ")]),Q("p",Ut,[a[81]||(a[81]=Q("strong",{class:"text-sm"},"Phone Number",-1)),ee(q(e.phoneNumber(null==(U=e.stateShow.billing)?void 0:U.square_phone_number))+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[15]||(a[15]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.square_phone_number))})}," file_copy ")])],64)):"PayPal"===(null==(A=e.stateShow.billing)?void 0:A.payment_method)?($(),J("div",At,[Q("p",null,[a[82]||(a[82]=Q("strong",{class:"mr-2 text-sm"},"PayPal Address",-1)),ee(" "+q(null==(L=e.stateShow.billing)?void 0:L.paypal_address),1)]),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[16]||(a[16]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.paypal_address)})}," file_copy ")])):"Bank Transfer"===(null==(N=e.stateShow.billing)?void 0:N.payment_method)?ae(($(),J("div",Lt,[($(!0),J(Z,null,H(e.computedBankTransfer,((l,t)=>($(),J("p",{key:t,class:"flex items-center gap-2"},[Q("strong",Nt,q(l.name),1),ee(" "+q(l.value)+" ",1),e.confidentialView?($(),J("i",{key:0,class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a=>e.CopyText(l.value)}," file_copy ",8,Et)):($(),F(c,{key:1,placement:"top"},{content:R((()=>a[83]||(a[83]=[Q("div",{class:"max-w-sm"},"You don't have access to this data. Please request access from your account admin",-1)]))),default:R((()=>a[84]||(a[84]=[Q("i",{disabled:"",class:"material-icons ml-4 text-teal-02 cursor-not-allowed"}," file_copy ",-1)]))),_:1}))])))),128))])),[[x,e.loadingPaymentMethod.showBankNumber]]):"Bitcoin"===(null==(E=e.stateShow.billing)?void 0:E.payment_method)?($(),J("p",$t,[a[85]||(a[85]=Q("strong",{class:"text-sm"},"Bitcoin Address",-1)),ee(q(null==(z=e.stateShow.billing)?void 0:z.bitcoin_crypto_address)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[17]||(a[17]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.bitcoin_crypto_address)})}," file_copy ")])):"Coinbase"===(null==(G=e.stateShow.billing)?void 0:G.payment_method)?($(),J("p",Ft,[a[86]||(a[86]=Q("strong",{class:"text-sm"},"Coinbase Address",-1)),ee(q(null==(Y=e.stateShow.billing)?void 0:Y.bitcoin_crypto_address)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[18]||(a[18]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.bitcoin_crypto_address)})}," file_copy ")])):"Zelle"===(null==(W=e.stateShow.billing)?void 0:W.payment_method)?($(),J("p",Rt,[a[87]||(a[87]=Q("strong",{class:"text-sm"},"Email or Phone Number",-1)),ee(" "+q(null==(le=e.stateShow.billing)?void 0:le.zelle_email_or_phone_number)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[19]||(a[19]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.zelle_email_or_phone_number)})}," file_copy ")])):"Cash App"===(null==(te=e.stateShow.billing)?void 0:te.payment_method)?($(),J("p",Qt,[a[88]||(a[88]=Q("strong",{class:"text-sm"},"Email or Phone Number or Cash Tag",-1)),Q("span",qt,q(null==(ie=e.stateShow.billing)?void 0:ie.cash_app_email_or_phone_number_or_cash_tag),1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[20]||(a[20]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.cash_app_email_or_phone_number_or_cash_tag)})}," file_copy ")])):"Apple Pay"===(null==(se=e.stateShow.billing)?void 0:se.payment_method)?($(),J("p",zt,[a[89]||(a[89]=Q("strong",{class:"text-sm"},"Phone Number",-1)),ee(" "+q(e.phoneNumber(null==(ne=e.stateShow.billing)?void 0:ne.apple_pay_phone_number))+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[21]||(a[21]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.apple_pay_phone_number))})}," file_copy ")])):"Google Pay"===(null==(de=e.stateShow.billing)?void 0:de.payment_method)?($(),J("p",Kt,[a[90]||(a[90]=Q("strong",{class:"text-sm"},"Email or Phone Number",-1)),ee(" "+q(null==(re=e.stateShow.billing)?void 0:re.google_play_email_or_phone_number)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[22]||(a[22]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.google_play_email_or_phone_number)})}," file_copy ")])):"Facebook Pay"===(null==(ce=e.stateShow.billing)?void 0:ce.payment_method)?($(),J("p",Gt,[a[91]||(a[91]=Q("strong",{class:"text-sm"},"Email",-1)),ee(" "+q(null==(ue=e.stateShow.billing)?void 0:ue.facebook_pay_email)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[23]||(a[23]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.facebook_pay_email)})}," file_copy ")])):"Interac e-Transfer"===(null==(me=e.stateShow.billing)?void 0:me.payment_method)?($(),J(Z,{key:13},[Q("p",Yt,[a[92]||(a[92]=Q("strong",{class:"text-sm"},"Full Name",-1)),ee(q(null==(pe=e.stateShow.billing)?void 0:pe.interac_full_name)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[24]||(a[24]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.interac_full_name)})}," file_copy ")]),(null==(he=e.stateShow.billing)?void 0:he.interac_email_or_phone)?($(),J("p",Wt,[a[93]||(a[93]=Q("strong",{class:"text-sm"}," Email or Phone Number ",-1)),ee(" "+q(null==(ve=e.stateShow.billing)?void 0:ve.interac_email_or_phone)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[25]||(a[25]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.interac_email_or_phone)})}," file_copy ")])):X("",!0)],64)):"eCheck"===(null==(ge=e.stateShow.billing)?void 0:ge.payment_method)?($(),J("p",Jt,[a[94]||(a[94]=Q("strong",{class:"text-sm"},"Email",-1)),ee(" "+q(null==(be=e.stateShow.billing)?void 0:be.echeck_email)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[26]||(a[26]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.echeck_email)})}," file_copy ")])):"Swish"===(null==(fe=e.stateShow.billing)?void 0:fe.payment_method)?($(),J("p",Xt,[a[95]||(a[95]=Q("strong",{class:"text-sm"},"Phone Number",-1)),ee(" "+q(e.phoneNumber(null==(_e=e.stateShow.billing)?void 0:_e.swish_phone_number))+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[27]||(a[27]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.swish_phone_number))})}," file_copy ")])):"Bill"===(null==(ye=e.stateShow.billing)?void 0:ye.payment_method)?($(),J(Z,{key:16},[Q("p",Zt,[a[96]||(a[96]=Q("strong",{class:"text-sm"},"Legal Business Name",-1)),ee(" "+q(null==(ke=e.stateShow.billing)?void 0:ke.bill_legal_business_name)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[28]||(a[28]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.bill_legal_business_name)})}," file_copy ")]),Q("p",Ht,[a[97]||(a[97]=Q("strong",{class:"text-sm"},"Network ID",-1)),ee(" "+q(null==(we=e.stateShow.billing)?void 0:we.bill_network_id)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[29]||(a[29]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.bill_network_id)})}," file_copy ")])],64)):"Rebate"===(null==(xe=e.stateShow.billing)?void 0:xe.payment_method)?($(),J("p",ei,[a[98]||(a[98]=Q("strong",{class:"text-sm"},"Order Number",-1)),ee(" "+q(null==(Ce=e.stateShow.billing)?void 0:Ce.rebate_order_number)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[30]||(a[30]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.rebate_order_number)})}," file_copy ")])):"Choose Later"===(null==(Se=e.stateShow.billing)?void 0:Se.payment_method)?($(),J("p",ai," Choose Later (Tremendous) ")):(null==(Ie=e.stateShow.billing)?void 0:Ie.custom_payout)?($(!0),J(Z,{key:19},H(null==(Pe=e.stateShow.billing)?void 0:Pe.custom_payout,((e,a)=>($(),J("p",{key:a,class:"break-words"},[ee(q(e.value)+" ",1),Q("small",null,"("+q(e.name)+")",1)])))),128)):"Revolut"===(null==(Be=e.stateShow.billing)?void 0:Be.payment_method)?($(),J("p",li,[a[99]||(a[99]=Q("strong",{class:"text-sm"},"Revtag, Email or Phone Number",-1)),ee(q(null==(Te=e.stateShow.billing)?void 0:Te.revtag_or_email_or_phone)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[31]||(a[31]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.revtag_or_email_or_phone)})}," file_copy ")])):($(),J("p",ti,"No Payout Information"))])):X("",!0),"Choose Later"===(null==(Oe=e.stateShow.billing)?void 0:Oe.payment_method)?($(),J("div",ii,[a[100]||(a[100]=Q("p",{class:"font-semibold mb-2"},"Payout Status",-1)),Q("p",null,q(null==(Ve=e.stateShow.billing)?void 0:Ve.tremendous_status),1)])):X("",!0),e.stateItems.coupon_code?($(),J("div",oi,[a[101]||(a[101]=Q("p",{class:"font-semibold mb-2"},"Promo Code",-1)),Q("p",null,q(e.stateItems.coupon_code),1)])):X("",!0),(null==(De=e.stateShow.billing)?void 0:De.transaction_id)?($(),J("div",si,[a[102]||(a[102]=Q("p",{class:"font-semibold mb-2"},"Transaction ID",-1)),Q("p",null,q(e.stateShow.billing.transaction_id),1)])):X("",!0)]})),_:1},8,["error"])),[[x,e.isLoading]]),K(y,{modelValue:e.modal.paymentMethod,"onUpdate:modelValue":a[35]||(a[35]=a=>e.modal.paymentMethod=a),title:e.isBulkQuote?"Update Payout":"Update Offer Information","hide-footer":e.errorsPaymentMethod.all},{footer:R((()=>[K(r,{color:"teal",loading:e.loadingPaymentMethod.update,onClick:a[34]||(a[34]=a=>e.updatePaymentMethod())},{default:R((()=>[ee(q(e.isBulkQuote?"Save Payout":"Save Offer Information"),1)])),_:1},8,["loading"])])),default:R((()=>[e.errorsPaymentMethod.all?($(),J("div",ri,[a[108]||(a[108]=Q("p",null,"There's an error when getting payout info, please try again",-1)),K(r,{class:"mt-4",color:"teal",onClick:a[32]||(a[32]=()=>e.$router.go())},{default:R((()=>a[107]||(a[107]=[Q("i",{class:"material-icons text-lg"},"refresh",-1),ee(" Reload Page")]))),_:1})])):($(),J(Z,{key:1},[K(_,{modelValue:e.tab.selected,"onUpdate:modelValue":a[33]||(a[33]=a=>e.tab.selected=a),items:e.tabItems,component:""},null,8,["modelValue","items"]),($(),F(me(e.tab.selected),pe({ref:"refComponent"},e.componentBind,he(e.componentOn)),null,16))],64))])),_:1},8,["modelValue","title","hide-footer"]),K(y,{modelValue:e.modalAbandonBuyback.update.customer,"onUpdate:modelValue":a[37]||(a[37]=a=>e.modalAbandonBuyback.update.customer=a),title:"Edit Customer"},{default:R((()=>[K(k,{ref:"refAbandonBuybackCustomerForm",data:e.dataAbandonBubyback.customer,"onUpdate:data":a[36]||(a[36]=a=>e.dataAbandonBubyback.customer=a)},null,8,["data"])])),footer:R((()=>[Q("div",ci,[K(r,{onClick:e.handleUpdateAbandonBuybackCustomer,loading:e.loadingAbandonBuyback.update.customer,color:"teal"},{default:R((()=>a[109]||(a[109]=[ee("Save")]))),_:1},8,["onClick","loading"])])])),_:1},8,["modelValue"]),K(w,{show:e.modalCustomTracking,"onUpdate:show":a[38]||(a[38]=a=>e.modalCustomTracking=a),"box-id":e.stateShow.box_id,"original-tracking":e.stateShow.original_tracking,onSave:e.handleCustomTrackingSaved},null,8,["show","box-id","original-tracking","onSave"])],64)}],["__scopeId","data-v-b6fd6022"]]);const mi=Y({components:{Input:xe,Button:Se,Modal:we,Card:oa,Tab:ze,Badge:Re,DeviceForm:_a,PhonecheckInfo:ya,StatusesForm:La,PrintLabel:ka,BBTable:wa,BBTColumn:xa,Currency:Qe,BulkCondition:Ca,BulkImeiSNInput:Sa,GolfSpecBadge:Ia},props:{isBulkQuoteReconcile:{type:Boolean,default:!1}},emits:["reconcile"],async setup(){const{state:e,device:a,dataCoupon:l,loadingCoupon:t,loading:i,modal:o,selected:s,isCouponApplied:d,isCouponChanged:r,unsetData:c,openModal:h,actionAll:v,actionCreate:g,actionUpdate:b,actionDelete:f,actionImeiCheck:_,actionImeiCheckPrint:y,actionImeiCheckPrintBulk:k,applyCoupon:w,removeCoupon:x,actionEmailPhonecheck:C}=u("online"),{me:B}=Oe(),{data:T,modal:O,action:V,unsetData:D,openModal:j,loading:M}=S("online"),{stateOption:U,actionStatusOptions:A}=p("easy-offer"),{state:L,action:E,batchPrintLabel:$}=m("online"),{update:F}=P("online"),{stateEnabledIntegration:R,actionEnabledIntegration:Q}=ga(),{data:q,action:z,loading:K,modal:G,unsetData:Y}=I(),{loading:J,items:X,action:Z,actionCustom:H}=ba(),{transformSeperateCustomSpecs:ee}=fa(),ae=N(),le=ne(),ie=te(null),oe=te(null),se=te(null),re=te(null),me=te([]),pe=te([]),he=te(null),ve=te(null),ge=te(!1),be=te([]),fe=te(!1),_e=te(!1),ye=te("qr"),ke=W((()=>L.value&&L.value.is_readonly)),we=W((()=>B.value.package_id>=4&&1==R.value.is_phonecheck_enable)),xe=W({set(e){q.imei=e?e.split("\n"):null},get:()=>Array.isArray(q.imei)?q.imei.join("\n"):q.imei});a.marketerId=ae.params.marketerId;const Ce=W((()=>B.value.is_view_commission)),Se=W((()=>pe.value.every((e=>"exists"==e.phonecheck_status)))),Ie=Ee((async e=>{await b(ae.params.buybackId,e.id,{imei_sn:e.imei_sn,notes:e.notes})}),300),Pe=Ee((async e=>{await b(ae.params.buybackId,e.id,{imei_sn:e.imei_sn,notes:e.notes})}),300),Be=W((()=>JSON.parse(JSON.stringify(e.value)))),Te=()=>{if(_e.value=!1,pe.value.length>0){_e.value=!0;const e=pe.value[0].is_mac,a=pe.value[0].category_id;pe.value.forEach((l=>{l.is_mac!=e&&(_e.value=!1),l.category_id!=a&&(_e.value=!1)}))}},Ve=()=>{var e;fe.value=!1,G.value=!1,null==(e=null==re?void 0:re.value)||e.validate.$reset(),Y()},De=ce({modal:!1,loading:!1});return await Q(),await Promise.all([v(ae.params.buybackId),A()]),{me:B,device:a,state:e,stateStatuses:U,stateShow:L,items:Be,selectedItems:pe,dataSplitItems:T,loading:i,loadingSplitItems:M,modal:o,modalSplitItems:O,printLabelData:me,unsetData:c,unsetDataSplitItems:D,dataBulkImeiAddDevice:q,dataCoupon:l,loadingBulkImeiAddDevice:K,loadingCoupon:t,modalBulkImeiAddDevice:G,isBulkImei:fe,bulkImei:xe,splitItems:async()=>{const e=pe.value.length>0,a=T.new_status;if(!e)return de({message:"Please choose at least one item",type:"warning"});if(!a)return de({message:"Please choose new status",type:"warning"});const l=pe.value.map((e=>e.id));Object.assign(T,{ids:l}),await V(ae.params.buybackId,(async()=>{pe.value=[],de({message:"Order splitted!",type:"success"}),await Promise.all([v(ae.params.buybackId),E(ae.params.buybackId),A()])}))},openSplitItemsModal:j,rowKey:e=>{const a=e.child?"_parent":"_child";return e.id+a},isParent:(e,a)=>!(e.child&&e.child.length>0),refDeviceForm:ie,refPhonecheckInfo:oe,refBulkImeiSNInput:re,openModalSelected:(e,l)=>h(e,(()=>{"update"===e&&(a.id=l.id,Object.assign(a.data,{product_name:l.product_name,product_id:l.product_id,category_id:l.category_id,category_name:l.category_name,condition:l.condition,is_mac:l.is_mac,is_custom:l.is_custom,imei_sn:l.imei_sn,imei_required:l.imei_required,price:l.price,qty:l.qty,color:l.color,color_id:l.color_id,notes:l.notes,golf_steps:l.golf_step?l.golf_step:[],is_custom_color:null!==l.custom_color,custom_color:l.custom_color||null}),Object.assign(a.original,{is_mac:l.is_mac||0,product_name:l.ori_product_name||"",processor:l.ori_processor_speed||"",hard_drive:l.ori_hard_drive||"",memory:l.ori_memory||"",graphics:l.ori_graphics||"",created_at:l.created_at}),Object.assign(a.golfSpecs,{length:{selected:l.golf_length||l.custom_length||null,is_custom:null!==l.custom_length},loft:{selected:l.golf_loft||l.custom_loft||null,is_custom:null!==l.custom_loft},gender:{selected:l.golf_gender||l.custom_gender||null,is_custom:null!==l.custom_gender},shaft_model:{selected:l.golf_shaft_model||l.custom_shaft_model||null,is_custom:null!==l.custom_shaft_model},shaft_material:{selected:l.golf_shaft_material||l.custom_shaft_material||null,is_custom:null!==l.custom_shaft_material}})),s.value=l.id})),deviceTableUpdate:Pe,addDevice:async()=>{if(await ue((()=>ie.value.validate()))){const e=n(n(n({},a.data),ee(a.golfSpecs)),a.data.is_custom_color?{custom_color:a.data.custom_color,color_id:null}:{color_id:a.data.color_id});delete e.color,a.data=Object.assign(e),await g(ae.params.buybackId)}},deleteDevice:async(e,a)=>{pe.value=[],await f(ae.params.buybackId)},updateDevice:async()=>{var e,l,t,i,o,s,d,r,c,u,m,p;if(await ue((()=>ie.value.validate()))){const h=n({},a.data);delete h.color,Object.assign(h,n(n({product_id:a.data.product_id?a.data.product_id+(a.computer.processor?`-${a.computer.processor.id}-${a.computer.memory.id}-${a.computer.hardDrive.id}-${a.computer.graphicsCard.id}`:""):-1,processor:(null==(e=a.computer.processor)?void 0:e.name)||null,hard_drive:(null==(l=a.computer.hardDrive)?void 0:l.name)||null,memory:(null==(t=a.computer.memory)?void 0:t.name)||null,graphics:(null==(i=a.computer.graphicsCard)?void 0:i.name)||null,device:(null==(s=null==(o=a.device)?void 0:o.detail)?void 0:s.device)||null,model:(null==(r=null==(d=a.device)?void 0:d.detail)?void 0:r.model)||null,network:(null==(u=null==(c=a.device)?void 0:c.detail)?void 0:u.network)||null,size:(null==(p=null==(m=a.device)?void 0:m.detail)?void 0:p.size)||null,is_custom:a.data.is_custom||0,notes:a.data.notes,buyback_type:a.data.buyback_type||"mailin"},ee(a.golfSpecs)),a.data.is_custom_color?{custom_color:a.data.custom_color,color_id:null}:{color_id:a.data.color_id})),await b(ae.params.buybackId,a.id,h,(async()=>{await Promise.all([v(ae.params.buybackId),A()])}))}},money:Le,openModal:h,tableSummary:({columns:a})=>a.map((a=>"total"===a.property?`${Ne(B.value,e.value.total)}`:"price"===a.property?"Total":"")),selectItems:e=>{pe.value=e,be.value=e.filter((e=>"exists"==e.phonecheck_status)),Te()},tabValidate:e=>5!==e.id,openDataMatch:()=>le.push({name:"easyOfferDataMatch",params:{buybackId:ae.params.buybackId}}),printQrLabel:e=>{const a=ta({id:e.id,productName:e.product_name,isMac:e.is_mac,detail:e.detail,condition:e.condition,buybackId:ae.params.buybackId,imei:e.imei_sn});ye.value="qr",me.value=[a],o.print_qr=!0},printBarcodeLabel:e=>{const a=ta({id:e.id,productName:e.product_name,isMac:e.is_mac,detail:e.detail,condition:e.condition,buybackId:ae.params.buybackId,imei:e.imei_sn,price:Ne(B.value,e.price)});ye.value="barcode",me.value=[a],o.print_barcode=!0},printQrLabelBatch:()=>{const e=[];for(let a of pe.value)e.push(ta({id:a.id,productName:a.product_name,isMac:a.is_mac,detail:a.detail,condition:a.condition,buybackId:ae.params.buybackId,imei:a.imei_sn}));ye.value="qr",me.value=e,o.print_qr=!0},printBarcodeLabelBatch:()=>{const e=[];for(let a of pe.value)e.push(ta({id:a.id,productName:a.product_name,isMac:a.is_mac,detail:a.detail,condition:a.condition,buybackId:ae.params.buybackId,imei:a.imei_sn,price:Ne(B.value,a.price)}));ye.value="barcode",me.value=e,o.print_barcode=!0},viewPhoneCheckData:e=>{he.value=JSON.parse(e.phonecheck_info),ve.value=e,h("phonecheck_info")},importPhoneCheck:async()=>{let e=pe.value.map((e=>({id:e.id,imei_sn:e.imei_sn})));await _(ae.params.buybackId,{imei:e,origin:"mail-in"}),await Promise.all([v(ae.params.buybackId),A()])},PhonecheckInfoData:he,PhonecheckDevice:ve,isErrorSelectedPhonecheck:ge,printPhonecheck:async e=>{await y(ae.params.buybackId,{id:e.id,imei:e.imei_sn,origin:"mail-in"})},imeiUpdate:Ie,validPhonecheckselectedItems:be,importBulkPhoneCheck:async()=>{await k(ae.params.buybackId,{ids:be.value.map((e=>e.id)),origin:"mail-in"})},isReadonly:ke,isCouponApplied:d,isCouponChanged:r,hasEnablePhonecheck:we,actionEnabledIntegration:Q,importSinglePhoneCheck:async e=>{var a;let l=[{id:e.id,imei_sn:e.imei_sn}],t=await _(ae.params.buybackId,{imei:l,origin:"mail-in"});if(0==t.data.length&&1!==(null==t?void 0:t.is_phonecheck_error))return de({message:"IMEI/SN not found",type:"warning"});he.value=null==(a=t.data[0])?void 0:a.info,ve.value=e,t.data.length&&!t.is_phonecheck_error?ge.value=!1:ge.value=!t.is_phonecheck_error||1==t.is_phonecheck_error,h("phonecheck_info"),await Promise.all([v(ae.params.buybackId),A()])},handleOpenAddBulkImeiModal:e=>{var a;const{product_id:l,product_name:t,condition:i,price:o,qty:s}=e;q.product_id=l,q.product_name=t,q.condition=i,q.price=o,q.qty=s;const n=[];(null==(a=null==e?void 0:e.child)?void 0:a.length)&&e.child.forEach((e=>{n.push((null==e?void 0:e.imei_sn)||"")})),q.imei=n,fe.value=!0,G.value=!0},handleCloseAddBulkImeiModal:Ve,handleAddBulkImeiDevice:async()=>{await re.value.validate.$validate()&&await z(ae.params.buybackId,(async()=>{Ve(),await Promise.all([v(ae.params.buybackId),E(ae.params.buybackId),A()]),de({message:"Items added",type:"success"})}))},handleBulkChangeCondition:async()=>{De.modal=!0;pe.value.length>0&&1==pe.value[0].is_custom?await H({category_id:pe.value[0].category_id,is_mac:pe.value[0].is_mac}):await Z({product_id:pe.value[0].product_id,is_mac:pe.value[0].is_mac})},bulkCondition:De,handleCloseModalBulkCondition:()=>{De.modal=!1},handleBulkChangeItemCondition:async e=>{await F({boxId:ae.params.buybackId,data:e}),de({type:"success",message:"Item conditions updated"}),De.modal=!1,pe.value=[],se.value.checkValue=[],await Promise.all([v(ae.params.buybackId),A()])},handleApplyCoupon:async()=>{await w({boxId:ae.params.buybackId},(async(e,a)=>{e||await v(ae.params.buybackId)}))},handleRemoveCoupon:async()=>{await x({boxId:ae.params.buybackId},(async(e,a)=>{e||await v(ae.params.buybackId)}))},refItemTable:se,sameProduct:_e,loadingCondition:J,itemConditions:X,labelType:ye,isExistAllPhonecheck:Se,sendEmailPhonecheck:async(e,a=!1)=>{var l,t;const i={customer_email:null==(t=null==(l=L.value)?void 0:l.customer)?void 0:t.email,box_id:ae.params.buybackId,imei:a?pe.value.map((e=>({id:e.id,imei_sn:e.imei_sn}))):[{id:e.id,imei_sn:e.imei_sn}]};try{const e=await C(i);de({message:e.message,type:"success"})}catch(o){console.log(o)}},isShowCommission:Ce}}}),pi={class:"mb-8"},hi={key:0,class:"flex gap-4 flex-wrap flex-col items-center justify-center my-4"},vi={key:1},gi={key:0,class:"flex flex-wrap gap-2"},bi={key:0},fi={key:0,class:"mb-4"},_i={class:"font-bold mr-2"},yi={class:"whitespace-nowrap"},ki={key:1,class:"block"},wi={key:2},xi={key:0},Ci={key:0,src:"https://d18hvo5uozp8li.cloudfront.net/public/images/phonecheck.svg",alt:"",class:"h-4"},Si={key:1},Ii={key:0,class:"flex flex-row items-center justify-center"},Pi={key:1,class:"flex flex-wrap justify-center"},Bi={class:"space-x-2 mb-2"},Ti={class:"font-bold"},Oi={class:"whitespace-nowrap"},Vi={key:0},Di={key:0,src:"https://d18hvo5uozp8li.cloudfront.net/public/images/phonecheck.svg",alt:"",class:"h-4"},ji={key:1},Mi={class:"flex flex-row items-center justify-center"},Ui={key:0,class:"mb-2"},Ai={key:1,class:"mb-2"},Li={key:2,class:"mb-2"},Ni={key:3,class:"mb-2"},Ei={key:4,class:"flex items-center justify-end gap-2 mb-2"},$i={style:{maxWidth:"300px"}},Fi={class:"mb-2"},Ri={key:5},Qi={key:6,class:"mt-4"},qi={class:"mb-2"},zi={key:0,class:"mb-2"},Ki={key:1,class:"mt-4"},Gi={class:"mb-2"},Yi={key:0,class:"mb-2 text-red-03"},Wi={key:1,class:"mb-2"},Ji={key:2,class:"mb-2"},Xi={key:3,class:"mb-2"},Zi={key:4,class:"mb-2"},Hi={class:"mb-2"},eo={key:5},ao={key:6,class:"mt-4"},lo={class:"bb-table-row group"},to=["colspan"],io={class:"relative"},oo={class:"absolute right-3 top-1/2 transform -translate-y-1/2"},so={key:0,class:"text-green-04 block mt-2"},no={class:"bb-table-column text-right"},ro={class:"bb-table-column"},co={key:0},uo={key:1,class:"group-hover:opacity-100 opacity-0 transition-all duration-200"},mo={class:"grid grid-cols-5"},po={class:"col-span-2"},ho={class:"col-span-3 border-l border-grey-01 px-6"},vo={class:"w-full flex justify-between items-center"},go={class:"modal__content-header-title"},bo={class:"flex justify-between items-center"};var fo=ke(mi,[["render",function(e,a,l,t,i,o){var s,n;const d=E("Button"),r=E("Popover"),c=E("BBTColumn"),u=E("GolfSpecBadge"),m=E("Badge"),p=E("Input"),h=E("Currency"),v=E("DropdownItem"),g=E("DropdownMenu"),b=E("Dropdown"),f=E("Tooltip"),_=E("BBTable"),y=E("Modal"),k=E("DeviceForm"),w=E("PrintLabel"),x=E("Tab"),C=E("PhonecheckInfo"),S=E("BulkImeiSNInput"),I=E("BulkCondition");return $(),J("div",pi,[e.isBulkQuoteReconcile&&(null==(s=e.items.items)?void 0:s.length)<1?($(),J("div",hi,[a[41]||(a[41]=Q("img",{src:A,class:"h-20"},null,-1)),a[42]||(a[42]=Q("h2",{class:"text-2xl font-medium"},"No item Reconcile yet",-1)),K(d,{onClick:a[0]||(a[0]=a=>e.$emit("reconcile",!0)),color:"teal",view:"outlined"},{default:R((()=>a[40]||(a[40]=[Q("span",null,"Reconcile on Item",-1),ee(),Q("i",{class:"material-icons"},"chevron_right",-1)]))),_:1})])):($(),J("div",vi,[e.selectedItems.length>0?($(),J("div",gi,[K(d,{color:"teal",view:"outlined",class:"mb-4",onClick:e.printQrLabelBatch,dense:""},{default:R((()=>a[43]||(a[43]=[Q("span",{class:"material-symbols-outlined text-lg mr-2"},"qr_code",-1),ee(" Print QR Label")]))),_:1},8,["onClick"]),K(d,{color:"teal",view:"outlined",class:"mb-4",onClick:e.printBarcodeLabelBatch,dense:""},{default:R((()=>a[44]||(a[44]=[Q("span",{class:"material-symbols-outlined text-lg mr-2"},"barcode",-1),ee(" Print Barcode Label")]))),_:1},8,["onClick"]),e.sameProduct&&!e.isReadonly?($(),F(d,{key:0,onClick:e.handleBulkChangeCondition,view:"outlined",color:"teal",class:"mb-4",dense:""},{default:R((()=>a[45]||(a[45]=[ee("Change Conditions and Payout")]))),_:1},8,["onClick"])):X("",!0),e.selectedItems.length>0&&!e.sameProduct&&!e.isReadonly?($(),F(r,{key:1,width:"400",trigger:"hover"},{reference:R((()=>[Q("div",null,[K(d,{view:"smooth",color:"grey",class:"mb-4 ml-2",disabled:"",dense:""},{default:R((()=>a[46]||(a[46]=[ee("Change Conditions and Payout")]))),_:1})])])),default:R((()=>[a[47]||(a[47]=Q("div",{class:"w-full h-full flex justify-center items-center"},[Q("span",{class:"whitespace-pre-line"},"Change conditions only available for the device with the same category")],-1))])),_:1})):X("",!0),e.hasEnablePhonecheck&&e.selectedItems.length>0&&!e.isReadonly?($(),F(d,{key:2,view:"outlined",color:"teal",class:"mb-4",onClick:a[1]||(a[1]=a=>e.importPhoneCheck()),dense:""},{default:R((()=>a[48]||(a[48]=[Q("span",{class:"material-symbols-outlined text-lg mr-2"},"upload",-1),ee(" Import from Phonecheck")]))),_:1})):X("",!0),e.hasEnablePhonecheck&&e.validPhonecheckselectedItems.length>0&&!e.isReadonly&&e.isExistAllPhonecheck?($(),F(d,{key:3,color:"teal",view:"outlined",class:"mb-4",onClick:a[2]||(a[2]=a=>e.importBulkPhoneCheck()),loading:e.loading.printPhonecheck,dense:""},{default:R((()=>a[49]||(a[49]=[Q("span",{class:"material-symbols-outlined text-lg mr-2"},"print",-1),ee(" Print All Phonecheck Data")]))),_:1},8,["loading"])):X("",!0),e.hasEnablePhonecheck&&e.validPhonecheckselectedItems.length>0&&!e.isReadonly&&e.isExistAllPhonecheck?($(),F(d,{key:4,color:"teal",view:"outlined",class:"mb-4",onClick:a[3]||(a[3]=a=>e.sendEmailPhonecheck(null,!0)),loading:e.loading.emailPhonecheck,dense:""},{default:R((()=>a[50]||(a[50]=[Q("span",{class:"material-symbols-outlined text-lg mr-2"},"email",-1),ee(" Email All Phonecheck Data")]))),_:1},8,["loading"])):X("",!0)])):X("",!0),K(_,{ref:"refItemTable",items:e.items.items,loading:e.loading.all,children:"child",selectable:!e.isReadonly,header:["Item #","Item",{label:"Condition",align:"center"},{label:"Payout",align:"right"},{label:"Qty",align:"right"},{label:"Total Payout",align:"right"},{label:" ",align:"right"}],"header-key":"label","show-footer":"","footer-align":"right",footer:[{key:"Payout",value:"Total"},{key:"Qty",value:e.items.total_qty},{key:"Total Payout",value:""},{key:" ",value:""}],onSelectionChange:e.selectItems,"collapse-all":"","disable-expand":e.isBulkImei},{item:R((({item:l,collapsed:t})=>[K(c,null,{default:R((()=>[0==l.child.length?($(),J("span",bi,q(l.id),1)):X("",!0)])),_:2},1024),K(c,{width:"200"},{default:R((()=>{var i,o,s,n;return[t?X("",!0):($(),J("div",fi,[Q("span",_i,q(l.product_name),1),K(u,{length:l.golf_length||l.custom_length,loft:l.golf_loft||l.custom_loft,gender:l.golf_gender||l.custom_gender,shaft_model:l.golf_shaft_model||l.custom_shaft_model,shaft_material:l.golf_shaft_material||l.custom_shaft_material},null,8,["length","loft","gender","shaft_model","shaft_material"]),l.custom_color||l.color?($(),F(m,{key:0,color:"grey"},{default:R((()=>[Q("span",yi,q(l.custom_color||l.color.name),1)])),_:2},1024)):X("",!0)])),0===l.is_mac||t?X("",!0):($(),J("small",ki,q(l.detail),1)),l.child&&0!==l.child.length?X("",!0):($(),J("div",wi,[e.hasEnablePhonecheck&&l.imei_required?($(),J("div",xi,["exists"==l.phonecheck_status?($(),F(p,{key:0,disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.imeiUpdate(l),onKeypress:a[4]||(a[4]=ve(oe((()=>{}),["prevent"]),["space"])),dense:"",icon:""},{icon:R((()=>["exists"==l.phonecheck_status?($(),J("img",Ci)):X("",!0)])),_:2},1032,["disabled","modelValue","onUpdate:modelValue","onInput"])):($(),F(p,{key:1,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.imeiUpdate(l),onKeypress:a[5]||(a[5]=ve(oe((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"]))])):l.imei_required?($(),J("div",Si,[K(p,{disabled:null!=(null==(s=e.stateShow)?void 0:s.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.deviceTableUpdate(l),onKeypress:a[6]||(a[6]=ve(oe((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])):X("",!0),Q("div",null,[K(p,{disabled:null!=(null==(n=e.stateShow)?void 0:n.deleted_at)||e.isReadonly,type:"textarea",rows:3,placeholder:"Notes...",class:"w-full",modelValue:l.notes,"onUpdate:modelValue":e=>l.notes=e,onInput:a=>e.deviceTableUpdate(l),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])]))]})),_:2},1024),K(c,{align:"center"},{default:R((()=>[ee(q(t?"":l.condition),1)])),_:2},1024),K(c,{align:"right"},{default:R((()=>[t?X("",!0):($(),F(h,{key:0,value:l.price},null,8,["value"]))])),_:2},1024),K(c,{align:"right"},{default:R((()=>[ee(q(t?"":l.qty),1)])),_:2},1024),K(c,{width:"120",align:"right"},{default:R((()=>[t?X("",!0):($(),F(h,{key:0,value:l.total},null,8,["value"]))])),_:2},1024),K(c,null,{default:R((()=>[l.child&&0!==l.child.length?($(),J("div",Pi,[e.isReadonly||1!=l.imei_required?X("",!0):($(),F(d,{key:0,onClick:a=>e.handleOpenAddBulkImeiModal(l),dense:"",color:"teal"},{default:R((()=>a[62]||(a[62]=[ee("Add Bulk IMEI/SN")]))),_:2},1032,["onClick"]))])):($(),J("div",Ii,[K(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printQrLabel(l)},{default:R((()=>a[51]||(a[51]=[Q("span",{class:"material-symbols-outlined"},"qr_code",-1)]))),_:2},1032,["loading","onClick"]),K(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printBarcodeLabel(l)},{default:R((()=>a[52]||(a[52]=[Q("span",{class:"material-symbols-outlined"},"barcode",-1)]))),_:2},1032,["loading","onClick"]),e.isReadonly?X("",!0):($(),F(b,{key:0,trigger:"click",placement:"bottom-end","hide-on-click":!0},{dropdown:R((()=>[K(g,{class:"py-1 text-sm"},{default:R((()=>{var t,i,o,s;return[K(v,{disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("update",l)},{default:R((()=>a[54]||(a[54]=[Q("span",{class:"material-icons mr-2"},"edit",-1),ee(" Edit ")]))),_:2},1032,["disabled","onClick"]),e.hasEnablePhonecheck&&1==l.imei_required?($(),J(Z,{key:0},["exists"==l.phonecheck_status?($(),F(v,{key:0,class:"text-base",disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:R((()=>a[55]||(a[55]=[Q("span",{class:"material-icons mr-2"},"visibility",-1),ee(" View Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])):"not_found"==l.phonecheck_status?($(),F(r,{key:1,width:"400",trigger:"hover",placement:"top"},{reference:R((()=>{var t;return[K(v,{class:"text-base",disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:R((()=>a[56]||(a[56]=[Q("span",{class:"material-icons mr-2"},"visibility",-1),ee(" View Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])]})),default:R((()=>[a[57]||(a[57]=Q("div",{class:"w-full h-full flex justify-center items-center"},[Q("span",null,"IMEI not found")],-1))])),_:2},1024)):($(),F(r,{key:2,width:"400",trigger:"hover",placement:"top"},{reference:R((()=>{var t;return[K(v,{class:"text-base",disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:R((()=>a[58]||(a[58]=[Q("span",{class:"material-icons mr-2"},"visibility",-1),ee(" View Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])]})),default:R((()=>[a[59]||(a[59]=Q("div",{class:"w-full h-full flex justify-center items-center"},[Q("span",null,"Import from Phonecheck first")],-1))])),_:2},1024))],64)):X("",!0),e.hasEnablePhonecheck&&1==l.imei_required?($(),J(Z,{key:1},["exists"==l.phonecheck_status?($(),F(v,{key:0,class:"text-base",disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.sendEmailPhonecheck(l),dense:""},{default:R((()=>a[60]||(a[60]=[Q("span",{class:"material-icons mr-2"},"email",-1),ee(" Email Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])):X("",!0)],64)):X("",!0),K(v,{disabled:null!=(null==(s=e.stateShow)?void 0:s.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("delete",l)},{default:R((()=>a[61]||(a[61]=[Q("span",{class:"material-icons mr-2"},"delete",-1),ee(" Delete ")]))),_:2},1032,["disabled","onClick"])]})),_:2},1024)])),default:R((()=>[K(d,{view:"outlined",style:{border:"none !important"},color:"teal",class:"mr-2",loading:e.loading.update||e.loading.import.has(l.id),dense:"",icon:""},{default:R((()=>a[53]||(a[53]=[Q("span",{class:"material-icons"},"more_horiz",-1)]))),_:2},1032,["loading"])])),_:2},1024))]))])),_:2},1024)])),child:R((({child:l})=>[K(c,null,{default:R((()=>[ee(q(l.id),1)])),_:2},1024),K(c,null,{default:R((()=>{var t,i,o,s;return[Q("div",Bi,[Q("span",Ti,q(l.product_name),1),l.custom_color||l.color?($(),F(m,{key:0,color:"grey"},{default:R((()=>[Q("span",Oi,q(l.custom_color||l.color.name),1)])),_:2},1024)):X("",!0)]),e.hasEnablePhonecheck&&1==l.imei_required?($(),J("div",Vi,["exists"==l.phonecheck_status?($(),F(p,{key:0,disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.imeiUpdate(l),onKeypress:a[7]||(a[7]=ve(oe((()=>{}),["prevent"]),["space"])),dense:"",icon:""},{icon:R((()=>["exists"==l.phonecheck_status?($(),J("img",Di)):X("",!0)])),_:2},1032,["disabled","modelValue","onUpdate:modelValue","onInput"])):($(),F(p,{key:1,disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.imeiUpdate(l),onKeypress:a[8]||(a[8]=ve(oe((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"]))])):1==l.imei_required?($(),J("div",ji,[K(p,{disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.deviceTableUpdate(l),onKeypress:a[9]||(a[9]=ve(oe((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])):X("",!0),Q("div",null,[K(p,{disabled:null!=(null==(s=e.stateShow)?void 0:s.deleted_at)||e.isReadonly,type:"textarea",rows:3,placeholder:"Notes...",class:"w-full",modelValue:l.notes,"onUpdate:modelValue":e=>l.notes=e,onInput:a=>e.deviceTableUpdate(l),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])]})),_:2},1024),K(c,{align:"center"},{default:R((()=>[ee(q(l.condition),1)])),_:2},1024),K(c,{align:"right"},{default:R((()=>[K(h,{value:l.price},null,8,["value"])])),_:2},1024),K(c,{align:"right"},{default:R((()=>[ee(q(l.qty),1)])),_:2},1024),K(c,{width:"120",align:"right"},{default:R((()=>[K(h,{value:l.total},null,8,["value"])])),_:2},1024),K(c,null,{default:R((()=>[Q("div",Mi,[K(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printQrLabel(l)},{default:R((()=>a[63]||(a[63]=[Q("span",{class:"material-symbols-outlined"},"qr_code",-1)]))),_:2},1032,["loading","onClick"]),K(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printBarcodeLabel(l)},{default:R((()=>a[64]||(a[64]=[Q("span",{class:"material-symbols-outlined"},"barcode",-1)]))),_:2},1032,["loading","onClick"]),e.isReadonly?X("",!0):($(),F(b,{key:0,trigger:"click",placement:"bottom-end","hide-on-click":!0},{dropdown:R((()=>[K(g,{class:"py-1 text-sm"},{default:R((()=>{var t,i,o,s;return[K(v,{disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("update",l)},{default:R((()=>a[66]||(a[66]=[Q("span",{class:"material-icons mr-2"},"edit",-1),ee(" Edit ")]))),_:2},1032,["disabled","onClick"]),e.hasEnablePhonecheck&&1==l.imei_required?($(),J(Z,{key:0},["exists"==l.phonecheck_status?($(),F(v,{key:0,class:"text-base",disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:R((()=>a[67]||(a[67]=[Q("span",{class:"material-icons mr-2"},"visibility",-1),ee(" View Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])):"not_found"==l.phonecheck_status?($(),F(r,{key:1,width:"400",trigger:"hover",placement:"top"},{reference:R((()=>{var t;return[K(v,{class:"text-base",disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:R((()=>a[68]||(a[68]=[Q("span",{class:"material-icons mr-2"},"visibility",-1),ee(" View Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])]})),default:R((()=>[a[69]||(a[69]=Q("div",{class:"w-full h-full flex justify-center items-center"},[Q("span",null,"IMEI not found")],-1))])),_:2},1024)):($(),F(r,{key:2,width:"400",trigger:"hover",placement:"top"},{reference:R((()=>{var t;return[K(v,{class:"text-base",disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:R((()=>a[70]||(a[70]=[Q("span",{class:"material-icons mr-2"},"visibility",-1),ee(" View Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])]})),default:R((()=>[a[71]||(a[71]=Q("div",{class:"w-full h-full flex justify-center items-center"},[Q("span",null,"Import from Phonecheck first")],-1))])),_:2},1024))],64)):X("",!0),e.hasEnablePhonecheck&&1==l.imei_required?($(),J(Z,{key:1},["exists"==l.phonecheck_status?($(),F(v,{key:0,class:"text-base",disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),onClick:a=>e.sendEmailPhonecheck(l),dense:""},{default:R((()=>a[72]||(a[72]=[Q("span",{class:"material-icons mr-2"},"email",-1),ee(" Email Phonecheck Data ")]))),_:2},1032,["disabled","loading","onClick"])):X("",!0)],64)):X("",!0),K(v,{disabled:null!=(null==(s=e.stateShow)?void 0:s.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("delete",l)},{default:R((()=>a[73]||(a[73]=[Q("span",{class:"material-icons mr-2"},"delete",-1),ee(" Delete ")]))),_:2},1032,["disabled","onClick"])]})),_:2},1024)])),default:R((()=>[K(d,{view:"outlined",style:{border:"none !important"},color:"teal",class:"mr-2",loading:e.loading.update||e.loading.import.has(l.id),dense:"",icon:""},{default:R((()=>a[65]||(a[65]=[Q("span",{class:"material-icons"},"more_horiz",-1)]))),_:2},1032,["loading"])])),_:2},1024))])])),_:2},1024)])),footer:R((l=>{var t,i,o,s,n;return["Payout"===(null==(t=l.column.footer)?void 0:t.key)?($(),J(Z,{key:0},[a[76]||(a[76]=Q("p",{class:"mb-2"},"Subtotal",-1)),0!==e.items.express_check_fee?($(),J("p",Ui,"Express Check")):X("",!0),0!==e.items.payment_extra_amount?($(),J("p",Ai,"Payout Bonus")):X("",!0),0!==e.items.coupon_amount?($(),J("p",Li,"Promo Code")):X("",!0),e.items.is_expedited_payout?($(),J("p",Ni,"Expedited Payout")):X("",!0),null!=e.items.shipping_cost?($(),J("p",Ei,[a[75]||(a[75]=ee(" Shipping Cost ")),K(f,{placement:"top"},{content:R((()=>[Q("div",$i,[0==e.items.shipping_cost?($(),J(Z,{key:0},[ee(" This feature is available only for offers using EasyPost USPS services. The shipping service you are using doesn't support this feature. ")],64)):($(),J(Z,{key:1},[ee(" The shipping cost is not final until USPS weighs the package, after which the actual shipping cost will be reflected here. ")],64))])])),default:R((()=>[a[74]||(a[74]=Q("span",{class:"material-icons"},"info",-1))])),_:1})])):X("",!0),Q("p",Fi,q(0!==e.items.shipping_cost&&null!==e.items.shipping_cost?"Grand Total":"Total"),1),(null==(i=e.stateShow)?void 0:i.affiliate_id)?($(),J("p",Ri,"Commision for "+q(e.items.affiliate_name),1)):X("",!0),e.isShowCommission?($(),J("p",Qi,"Commission")):X("",!0)],64)):X("",!0),"Qty"===(null==(o=l.column.footer)?void 0:o.key)?($(),J(Z,{key:1},[Q("p",qi,q(e.items.total_qty),1),null!=e.items.shipping_cost?($(),J("p",zi," ")):X("",!0),a[77]||(a[77]=Q("p",{class:"mb-2"}," ",-1)),e.isShowCommission?($(),J("p",Ki," ")):X("",!0)],64)):X("",!0),"Total Payout"===(null==(s=l.column.footer)?void 0:s.key)?($(),J(Z,{key:2},[Q("p",Gi,[K(h,{value:e.items.sub_total},null,8,["value"])]),0!==e.items.express_check_fee?($(),J("p",Yi,[a[78]||(a[78]=ee("- ")),K(h,{value:e.items.express_check_fee},null,8,["value"])])):X("",!0),0!==e.items.payment_extra_amount?($(),J("p",Wi,[K(h,{value:e.items.payment_extra_amount},null,8,["value"])])):X("",!0),0!==e.items.coupon_amount?($(),J("p",Ji,[a[79]||(a[79]=ee("+ ")),K(h,{value:e.items.coupon_amount},null,8,["value"])])):X("",!0),e.items.is_expedited_payout?($(),J("p",Xi,[a[80]||(a[80]=ee("- ")),K(h,{value:e.items.expedited_payout_fee},null,8,["value"])])):X("",!0),null!=e.items.shipping_cost?($(),J("p",Zi,[0!==e.items.shipping_cost?($(),J(Z,{key:0},[ee(q(e.items.shipping_cost),1)],64)):($(),J(Z,{key:1},[ee("-")],64))])):X("",!0),Q("p",Hi,[K(h,{value:e.items.total},null,8,["value"])]),(null==(n=e.stateShow)?void 0:n.affiliate_id)?($(),J("p",eo,[K(h,{value:e.items.affiliate_commision},null,8,["value"])])):X("",!0),e.isShowCommission?($(),J("p",ao,[K(h,{value:e.items.total_commission},null,8,["value"])])):X("",!0)],64)):X("",!0)]})),"footer-prepend":R((()=>[Q("tr",lo,[a[85]||(a[85]=Q("td",{class:"bb-table-column",colspan:"4"},null,-1)),a[86]||(a[86]=Q("td",{class:"bb-table-column text-right"},[Q("span",null,"Have a Promo Code?")],-1)),Q("td",{class:"bb-table-column",colspan:e.isCouponApplied?1:2},[Q("div",io,[K(p,{modelValue:e.dataCoupon.code,"onUpdate:modelValue":a[10]||(a[10]=a=>e.dataCoupon.code=a),disabled:e.isCouponApplied,dense:"",placeholder:"Promo Code",block:""},null,8,["modelValue","disabled"]),ae(Q("div",oo,a[81]||(a[81]=[Q("i",{class:"material-icons text-green-04"},"check_circle",-1)]),512),[[le,e.isCouponApplied]])]),e.isCouponApplied?($(),J("small",so,"Promo code is valid")):X("",!0)],8,to),ae(Q("td",no,[K(h,{value:e.state.coupon_amount},null,8,["value"])],512),[[le,e.isCouponApplied]]),Q("td",ro,[K(ge,{name:"slide-fade"},{default:R((()=>[e.isCouponChanged?($(),J("div",co,[K(d,{onClick:e.handleApplyCoupon,loading:e.loadingCoupon.applyCoupon,class:"mx-1",color:"teal",dense:""},{default:R((()=>a[82]||(a[82]=[Q("i",{class:"material-icons text-lg"},"check",-1)]))),_:1},8,["onClick","loading"]),K(d,{onClick:a[11]||(a[11]=a=>e.dataCoupon.code=e.dataCoupon.codeOriginal),disabled:e.loadingCoupon.applyCoupon,class:"mx-1",color:"red",dense:""},{default:R((()=>a[83]||(a[83]=[Q("i",{class:"material-icons text-lg"},"close",-1)]))),_:1},8,["disabled"])])):e.isCouponApplied?($(),J("div",uo,[K(d,{onClick:e.handleRemoveCoupon,loading:e.loadingCoupon.removeCoupon,class:"mx-1",color:"red",dense:""},{default:R((()=>a[84]||(a[84]=[Q("i",{class:"material-icons text-lg"},"delete",-1)]))),_:1},8,["onClick","loading"])])):X("",!0)])),_:1})])])])),_:1},8,["items","loading","selectable","footer","onSelectionChange","disable-expand"])])),K(y,{modelValue:e.modal.delete,"onUpdate:modelValue":a[12]||(a[12]=a=>e.modal.delete=a),title:"Delete Item",onClose:e.unsetData},{footer:R((()=>[K(d,{color:"teal",loading:e.loading.delete,onClick:e.deleteDevice},{default:R((()=>a[87]||(a[87]=[ee("Delete Item")]))),_:1},8,["loading","onClick"])])),default:R((()=>[a[88]||(a[88]=Q("p",null,"Are you sure want to delete this item?",-1))])),_:1},8,["modelValue","onClose"]),K(y,{modelValue:e.modal.create,"onUpdate:modelValue":a[18]||(a[18]=a=>e.modal.create=a),title:"Add Item",onClose:e.unsetData},{default:R((()=>[K(k,{ref:"refDeviceForm",data:e.device.data,"onUpdate:data":a[13]||(a[13]=a=>e.device.data=a),"data-computer":e.device.computer,"onUpdate:dataComputer":a[14]||(a[14]=a=>e.device.computer=a),"data-golf":e.device.golfSpecs,"onUpdate:dataGolf":a[15]||(a[15]=a=>e.device.golfSpecs=a),"is-custom-color":e.device.data.is_custom_color,"onUpdate:isCustomColor":a[16]||(a[16]=a=>e.device.data.is_custom_color=a),"custom-color":e.device.data.custom_color,"onUpdate:customColor":a[17]||(a[17]=a=>e.device.data.custom_color=a),"multi-imei":"","buyback-type":"mailin"},null,8,["data","data-computer","data-golf","is-custom-color","custom-color"])])),footer:R((()=>[K(d,{color:"teal",loading:e.loading.create,onClick:e.addDevice},{default:R((()=>a[89]||(a[89]=[ee("Add Item")]))),_:1},8,["loading","onClick"])])),_:1},8,["modelValue","onClose"]),K(y,{modelValue:e.modal.update,"onUpdate:modelValue":a[25]||(a[25]=a=>e.modal.update=a),title:"Update Item",onClose:e.unsetData},{default:R((()=>[K(k,{ref:"refDeviceForm",data:e.device.data,"onUpdate:data":a[19]||(a[19]=a=>e.device.data=a),device:e.device.device,"onUpdate:device":a[20]||(a[20]=a=>e.device.device=a),"data-computer":e.device.computer,"onUpdate:dataComputer":a[21]||(a[21]=a=>e.device.computer=a),"data-golf":e.device.golfSpecs,"onUpdate:dataGolf":a[22]||(a[22]=a=>e.device.golfSpecs=a),"is-custom-color":e.device.data.is_custom_color,"onUpdate:isCustomColor":a[23]||(a[23]=a=>e.device.data.is_custom_color=a),"custom-color":e.device.data.custom_color,"onUpdate:customColor":a[24]||(a[24]=a=>e.device.data.custom_color=a),"golf-steps":e.device.data.golf_steps,"auto-fill":"","original-specs":e.device.original,hide:{qty:!0},"buyback-type":"mailin","is-editable":""},null,8,["data","device","data-computer","data-golf","is-custom-color","custom-color","golf-steps","original-specs"])])),footer:R((()=>[K(d,{color:"teal",loading:e.loading.update,onClick:e.updateDevice},{default:R((()=>a[90]||(a[90]=[ee("Update")]))),_:1},8,["loading","onClick"])])),_:1},8,["modelValue","onClose"]),K(y,{modelValue:e.modal.print_qr,"onUpdate:modelValue":a[27]||(a[27]=a=>e.modal.print_qr=a),title:"Print QR Label"},{footer:R((()=>a[91]||(a[91]=[]))),default:R((()=>[K(w,{data:e.printLabelData,"label-type":e.labelType,onCloseModal:a[26]||(a[26]=a=>e.modal.print_qr=!1)},null,8,["data","label-type"])])),_:1},8,["modelValue"]),K(y,{modelValue:e.modal.print_barcode,"onUpdate:modelValue":a[29]||(a[29]=a=>e.modal.print_barcode=a),title:"Print Barcode Label"},{footer:R((()=>a[92]||(a[92]=[]))),default:R((()=>[K(w,{data:e.printLabelData,"label-type":e.labelType,onCloseModal:a[28]||(a[28]=a=>e.modal.print_barcode=!1)},null,8,["data","label-type"])])),_:1},8,["modelValue"]),K(y,{modelValue:e.modalSplitItems,"onUpdate:modelValue":a[32]||(a[32]=a=>e.modalSplitItems=a),title:"Split Order",onClose:e.unsetDataSplitItems,size:"md"},{default:R((()=>[Q("div",mo,[Q("div",po,[a[93]||(a[93]=Q("div",{class:"px-6"},[Q("p",{class:"text-md font-semibold"},"Choose New Status")],-1)),K(x,{modelValue:e.dataSplitItems.new_status,"onUpdate:modelValue":a[30]||(a[30]=a=>e.dataSplitItems.new_status=a),validate:e.tabValidate,color:"teal",view:"smooth",by:"id",name:"short_name",items:e.stateStatuses,component:"",type:"vertical"},null,8,["modelValue","validate","items"])]),Q("div",ho,[K(p,{modelValue:e.dataSplitItems.note,"onUpdate:modelValue":a[31]||(a[31]=a=>e.dataSplitItems.note=a),type:"textarea",rows:3,label:"Notes",block:""},null,8,["modelValue"])])])])),footer:R((()=>[K(d,{color:"teal",onClick:e.splitItems,loading:e.loadingSplitItems},{default:R((()=>a[94]||(a[94]=[ee("Split")]))),_:1},8,["onClick","loading"])])),_:1},8,["modelValue","onClose"]),K(y,{modelValue:e.modal.phonecheck_info,"onUpdate:modelValue":a[35]||(a[35]=a=>e.modal.phonecheck_info=a),title:null==(n=e.PhonecheckDevice)?void 0:n.product_name,onClose:a[36]||(a[36]=a=>e.isErrorSelectedPhonecheck=!1)},{header:R((()=>{var l;return[Q("div",vo,[Q("h5",go,q(null==(l=e.PhonecheckDevice)?void 0:l.product_name),1),K(d,{color:"teal",onClick:a[33]||(a[33]=a=>e.printPhonecheck(e.PhonecheckDevice)),loading:e.loading.printPhonecheck,dense:"",icon:""},{default:R((()=>a[95]||(a[95]=[Q("i",{class:"material-icons text-lg"},"print",-1)]))),_:1},8,["loading"])])]})),default:R((()=>[K(C,{ref:"refPhonecheckInfo",data:e.PhonecheckInfoData,"onUpdate:data":a[34]||(a[34]=a=>e.PhonecheckInfoData=a),"is-error":e.isErrorSelectedPhonecheck},null,8,["data","is-error"])])),_:1},8,["modelValue","title"]),K(y,{modelValue:e.modalBulkImeiAddDevice,"onUpdate:modelValue":a[39]||(a[39]=a=>e.modalBulkImeiAddDevice=a),size:"xs",title:"Add Bulk IMEI/SN",onClose:e.handleCloseAddBulkImeiModal},{default:R((()=>{var l;return[a[96]||(a[96]=Q("div",{class:"flex bg-orange-lighten text-orange-04 p-4 rounded-lg mb-4"},[Q("div",{class:"mr-4"},[Q("i",{class:"material-icons"},"info")]),Q("div",{class:"mt-1"}," IMEIs/SNs entered here will overwrite those already input on the Quote Details page for these items. ")],-1)),K(S,{ref:"refBulkImeiSNInput",modelValue:e.bulkImei,"onUpdate:modelValue":a[37]||(a[37]=a=>e.bulkImei=a),qty:null==(l=e.dataBulkImeiAddDevice)?void 0:l.qty,block:"",rows:"5"},null,8,["modelValue","qty"])]})),footer:R((()=>[Q("div",bo,[Q("span",{onClick:a[38]||(a[38]=(...a)=>e.handleCloseAddBulkImeiModal&&e.handleCloseAddBulkImeiModal(...a)),class:"text-red-04 cursor-pointer px-2"},"Cancel"),K(d,{onClick:e.handleAddBulkImeiDevice,loading:e.loadingBulkImeiAddDevice,disabled:!e.bulkImei,color:"teal",dense:""},{default:R((()=>a[97]||(a[97]=[Q("span",{class:"px-2"},"Add",-1)]))),_:1},8,["onClick","loading","disabled"])])])),_:1},8,["modelValue","onClose"]),K(I,{loading:e.bulkCondition.loading,show:e.bulkCondition.modal,onClose:e.handleCloseModalBulkCondition,items:e.selectedItems,conditions:e.itemConditions,loadingCondition:e.loadingCondition,me:e.me,onSubmit:e.handleBulkChangeItemCondition},null,8,["loading","show","onClose","items","conditions","loadingCondition","me","onSubmit"])])}]]);const _o={class:"flex items-center justify-between"},yo={key:0},ko={key:0},wo={__name:"Items",setup(e){const a=te(null),l=W((()=>a.value||null));return(e,t)=>($(),F(be,null,{default:R((()=>[K(oa,null,{header:R((()=>{var e,a,i,o;return[Q("div",_o,[t[4]||(t[4]=Q("h6",null,"Items",-1)),l.value?($(),J("div",yo,[l.value.isReadonly?X("",!0):($(),J("div",ko,[1e3!==l.value.stateShow.status_id&&l.value.selectedItems.length>0&&l.value.state.total_qty>1?($(),F(Se,{key:0,disabled:null!=(null==(e=l.value.stateShow)?void 0:e.deleted_at),loading:0===l.value.stateStatuses.length,class:"mr-4",color:"teal",dense:"",onClick:l.value.openSplitItemsModal},{default:R((()=>t[1]||(t[1]=[Q("span",{class:"material-icons transform rotate-90 text-lg"},"arrow_circle_up",-1),ee(" Split Buyback ")]))),_:1},8,["disabled","loading","onClick"])):X("",!0),3!==(null==(a=l.value.stateShow)?void 0:a.status_id)&&l.value.state.total_qty>=3?($(),F(Se,{key:1,disabled:null!=(null==(i=l.value.stateShow)?void 0:i.deleted_at),class:"mr-4",color:"teal",dense:"",onClick:l.value.openDataMatch},{default:R((()=>t[2]||(t[2]=[Q("img",{alt:"data-match-icon",class:"inline-block mr-1 w-5",src:L},null,-1),ee(" Data Match ")]))),_:1},8,["disabled","onClick"])):X("",!0),K(Se,{disabled:null!=(null==(o=l.value.stateShow)?void 0:o.deleted_at),color:"teal",dense:"",onClick:t[0]||(t[0]=e=>l.value.openModal("create"))},{default:R((()=>t[3]||(t[3]=[Q("span",{class:"material-icons text-lg"},"add",-1),ee(" Add Item ")]))),_:1},8,["disabled"])]))])):X("",!0)])]})),default:R((()=>[K(fo,{ref_key:"refItems",ref:a},null,512)])),_:1})])),fallback:R((()=>[Q("div",null,[K(va)])])),_:1}))}};const xo={key:0,class:"input-file-preview space-y-4"},Co={class:"file-card"},So={class:"flex gap-4 items-center"},Io={class:"material-icons icon-md"},Po={class:"text-black"},Bo={class:"text-sm"},To={key:0,class:"text-grey-02"},Oo=["href"],Vo=["accept","disabled"],Do={class:"my-12"},jo={class:"flex flex-col justify-center items-center text-center"};var Mo=ke({__name:"DocumentFileInput",props:{data:{type:Object,default:()=>({id:Math.floor(1e6*Math.random()),nad:[],custom_offer:[]})},preview:{type:Boolean,default:!0},rules:{type:Object,default:()=>({maxFileSize:"50MB",allowedFiles:[{name:"PDF",mime:"application/pdf"},{name:"CSV",mime:"text/csv"},{name:"XLSX",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}]})},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["input","remove"],setup(e,{expose:a,emit:l}){const t=e,i=l,o=te(null),s=te(!1),n=te(!1);let d=0;const r=W((()=>t.rules.allowedFiles.map((e=>e.mime)).filter(Boolean).join(","))),c=W((()=>{var e,a;return[...Array.isArray(null==(e=t.data)?void 0:e.nad)?t.data.nad:[],...Array.isArray(null==(a=t.data)?void 0:a.custom_offer)?t.data.custom_offer:[]]})),u=e=>{try{return decodeURIComponent(e.split("/").pop())}catch{return"File"}};function m(e){if(!e)return"";const a=new URL(e).pathname,l=a.lastIndexOf(".");return-1===l?"":a.substring(l+1)}const p=e=>{if(!e)return"";return{pdf:"application/pdf",csv:"text/csv",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xls:"application/vnd.ms-excel"}[e.split(".").pop().toLowerCase()]||"application/octet-stream"},h=e=>{const a=new Date(e);return`${a.getDate()}/${a.getMonth()+1}/${a.getFullYear()}`},v=e=>{if(0===e)return"0 Bytes";const a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB"][a]},g=()=>{o.value.click()},b=e=>{const a=Array.from(e.target.files);a.length>0&&i("input",a)},f=e=>{t.disabled||(d++,n.value=!0)},_=e=>{t.disabled||(e.dataTransfer.dropEffect="copy",n.value=!0)},y=e=>{t.disabled||(d--,0===d&&(n.value=!1))},k=e=>{if(t.disabled)return;d=0,n.value=!1;const a=Array.from(e.dataTransfer.files);a.length>0&&i("input",a)},w=async e=>{try{if(!e||!e.file)return void de({message:"File URL not found",type:"error"});s.value=!0;const a=e.file,l=document.createElement("a");l.href=a,l.target="_blank";const t=e.name||u(a);l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),de({message:"File downloaded successfully",type:"success"})}catch(a){console.error("Download error:",a),de({message:"Failed to download file",type:"error"})}finally{s.value=!1}};return a({triggerFileInput:g,triggerInput:g,resetUpload:()=>{o.value&&(o.value.value=null)},downloadFile:w}),(a,l)=>{const t=E("DropdownItem"),s=E("DropdownMenu"),d=E("Dropdown"),x=re("loading");return $(),J(Z,null,[ae(($(),J("div",null,[e.preview&&c.value.length>0?($(),J("div",xo,[fe(a.$slots,"preview",{},(()=>[($(!0),J(Z,null,H(c.value,((a,o)=>{return $(),J("div",{class:"w-full",key:o},[Q("div",Co,[Q("div",So,[Q("span",Io,q((n=a.type||p(a.file),{"application/pdf":"description","text/csv":"description","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"description","application/vnd.ms-excel":"description"}[n]||"description")),1),Q("span",Po,q(a.name||u(a.file)),1),Q("span",Bo,q(a.size?v(a.size):""),1),a.created_at?($(),J("span",To," Uploaded on "+q(h(a.created_at)),1)):X("",!0)]),K(d,{trigger:"click","hide-on-click":"",placement:"bottom-end",class:"mr-8"},{dropdown:R((()=>[K(s,{class:"py-1 text-sm"},{default:R((()=>["pdf"==m(a.file)?($(),F(t,{key:0,class:"text-base"},{default:R((()=>[Q("a",{href:a.file,target:"_blank",class:"text-grey-03"},l[1]||(l[1]=[Q("span",{class:"material-icons mr-2"},"visibility",-1),ee(" Preview ")]),8,Oo)])),_:2},1024)):X("",!0),K(t,{class:"text-base",onClick:e=>w(a)},{default:R((()=>l[2]||(l[2]=[Q("span",{class:"material-icons mr-2"},"download",-1),ee(" Download ")]))),_:2},1032,["onClick"]),K(t,{class:"text-base",onClick:e=>{return l=a.id,void i("remove",l);var l}},{default:R((()=>l[3]||(l[3]=[Q("span",{class:"material-icons mr-2"},"delete",-1),ee(" Remove ")]))),_:2},1032,["onClick"])])),_:2},1024)])),default:R((()=>[K(Se,{loading:e.loading,color:"teal",view:"outlined",class:"btn-action",dense:"",icon:""},{default:R((()=>l[0]||(l[0]=[Q("span",{class:"material-icons"},"more_horiz",-1)]))),_:1},8,["loading"])])),_:2},1024)])]);var n})),128))]),!0)])):($(),J("div",{key:1,class:se(["input-file",e.disabled?"opacity-30":"",n.value?"dragging":""]),onDragenter:oe(f,["prevent"]),onDragover:oe(_,["prevent"]),onDragleave:oe(y,["prevent"]),onDrop:oe(k,["prevent"])},[Q("input",{ref_key:"fileInput",ref:o,type:"file",accept:r.value,class:"input-file-form",multiple:"",disabled:e.disabled,onChange:b},null,40,Vo),Q("div",Do,[fe(a.$slots,"default",{},(()=>[Q("div",jo,[l[5]||(l[5]=Q("span",{class:"material-symbols-outlined icon-xl"},"upload",-1)),l[6]||(l[6]=Q("strong",{class:"text-xl"},"Choose files or drag them here",-1)),l[7]||(l[7]=Q("p",{class:"text-base text-grey-02 font-light"},"Upload PDF, CSV, or XLSX files",-1)),K(Se,{class:"mt-4",color:"teal",view:"outlined",onClick:oe(g,["prevent"])},{default:R((()=>l[4]||(l[4]=[ee(" Upload Files ")]))),_:1})])]),!0)])],34))])),[[x,e.loading]]),Q("small",null,[l[8]||(l[8]=Q("b",null,"File",-1)),ee(": "+q(e.rules.allowedFiles.map((e=>e.name)).join(", ")),1)])],64)}}},[["__scopeId","data-v-2a89da44"]]);const Uo=_e("easyOfferDetail",{state:()=>({easyOfferDetail:null,fileUpload:null,loading:{getDetail:!1,getFiles:!1,uploadFiles:!1,deleteFiles:!1}}),getters:{},actions:{async $actionShow(e){try{this.$state.loading.getDetail=!0;const a=await $e({url:`/v1/pos/easy-offer/show/${e}`,method:"get"});return this.$state.easyOfferDetail=a,a}catch(a){console.error(a)}finally{this.$state.loading.getDetail=!1}},async $getFiles(e){try{this.$state.loading.getFiles=!0;const a=await $e({url:`/v1/pos/easy-offer/file/${e}`,method:"get"});return this.$state.fileUpload=a,a}catch(a){console.error(a)}finally{this.$state.loading.getFiles=!1}},async $uploadFiles(e,a){try{this.$state.loading.uploadFiles=!0;return await $e({url:`/v1/pos/easy-offer/file/${e}`,method:"post",data:a})}catch(l){console.error(l)}finally{this.$state.loading.uploadFiles=!1}},async $deleteFiles(e){try{this.$state.loading.deleteFiles=!0;return $e({url:`/v1/pos/easy-offer/file/${e}`,method:"delete"})}catch(a){console.error(a)}finally{this.$state.loading.deleteFiles=!1}}}});const Ao=Y({components:{Card:oa,MultipleInputFile:Pa,DocumentFileInput:Mo,Button:Se,Tab:ze,Files:{__name:"Files",setup(e){const a=N(),l=te(null),t=ce({getFiles:!1,uploadFiles:!1,removeFiles:!1}),i=te([]),o=Uo(),s=async()=>{t.getFiles=!0;const e=await o.$getFiles(a.params.buybackId);e&&(i.value=e),t.getFiles=!1};ye((async()=>{await s()}));const n=async e=>{if(!e)return;i.value=[];const l=new FormData;for(let a=0;a<e.length;a++){const t=e[a];i.value.push({name:t.name,type:t.type,size:t.size,file:t}),l.append("files[]",t)}try{t.uploadFiles=!0;"saved"==await o.$uploadFiles(a.params.buybackId,l)&&(de({message:"File uploaded!",type:"success"}),await s())}catch(n){console.error("Upload failed:",n)}finally{t.uploadFiles=!1}},d=async e=>{t.removeFiles=!0,await o.$deleteFiles(e),await s(),t.removeFiles=!1};return(e,a)=>($(),F(Mo,{ref_key:"documentFileInputRef",ref:l,preview:"",data:i.value,onInput:n,onRemove:d,loading:t.getFiles||t.uploadFiles||t.removeFiles},null,8,["data","loading"]))}}},props:{},async setup(e){const a=te(null),{isBulkQuote:l}=T(),t=N(),{state:i,action:o}=m("online"),{loading:s,state:n,actionShow:d,actionCreate:r,actionDelete:c}=B("online"),u=W((()=>i.value&&i.value.is_readonly)),p=W((()=>!l.value)),h=Uo(),v=W((()=>{var e,a,l,t;return[...null!=(a=null==(e=null==h?void 0:h.fileUpload)?void 0:e.nad)?a:[],...null!=(t=null==(l=null==h?void 0:h.fileUpload)?void 0:l.custom_offer)?t:[]].length})),g=W((()=>{var e,a,l,t;return[...null!=(a=null==(e=n.value)?void 0:e.nad)?a:[],...null!=(t=null==(l=n.value)?void 0:l.custom_offer)?t:[]].length})),b=te("files");return await d(t.params.buybackId),{multipleInputFileRef:a,isBulkQuote:l,route:t,stateShow:i,isReadonly:u,isShowPictures:p,statePictures:n,showPictureLoading:s,showPictureDelete:async e=>{await c(e,(async()=>{await d(t.params.buybackId),de({message:"Picture deleted!",type:"success"})}))},uploadFiles:async e=>{const a=new FormData;for(let[l,t]of Object.entries(e))a.append(`picture_files[${l}]`,t);await r(t.params.buybackId,a,(async()=>{await d(t.params.buybackId),de({message:"Picture uploaded!",type:"success"})}))},handleZoomImage:e=>{e&&window.open(e,"_blank")},triggerFileInput:()=>{a.value.triggerFileInput()},selectedTab:b,tabOption:[{id:"files",name:"Files"},{id:"images",name:"Images"}],filesCount:v,imagesCount:g}}}),Lo={class:"flex flex-row items-center justify-center"},No={class:"block"},Eo={class:"py-1 px-2.5 ml-4 bg-teal-04 text-white rounded-full flex items-center justify-center box-border text-sm"},$o={key:0},Fo={key:1},Ro={class:"w-full flex flex-wrap justify-center"},Qo=["onClick"],qo=["onClick","src","alt"],zo={class:"flex flex-col justify-center items-center text-center"};var Ko=ke(Ao,[["render",function(e,a,l,t,i,o){const s=E("Tab"),n=E("Files"),d=E("Button"),r=E("MultipleInputFile"),c=E("Card"),u=re("loading");return e.isShowPictures?($(),F(c,{key:0,class:"mt-6 mb-6"},{header:R((()=>a[1]||(a[1]=[Q("h6",null,"Attachment",-1)]))),default:R((()=>{var l,t;return[K(s,{view:"smooth",items:e.tabOption,by:"id",name:"name",modelValue:e.selectedTab,"onUpdate:modelValue":a[0]||(a[0]=a=>e.selectedTab=a),component:""},{title:R((a=>[Q("div",Lo,[Q("span",No,q(a.item.name),1),Q("div",Eo,q("images"===a.item.id?e.imagesCount:e.filesCount),1)])])),_:1},8,["items","modelValue"]),e.statePictures&&null==(null==(l=e.stateShow)?void 0:l.deleted_at)&&"files"===e.selectedTab?ae(($(),J("div",$o,[K(n)])),[[u,e.showPictureLoading.show||e.showPictureLoading.create||e.showPictureLoading.delete]]):X("",!0),e.statePictures&&null==(null==(t=e.stateShow)?void 0:t.deleted_at)&&"images"===e.selectedTab?ae(($(),J("div",Fo,[K(r,{ref:"multipleInputFileRef",disabled:e.isReadonly,preview:"",onInput:e.uploadFiles},{preview:R((()=>[Q("div",Ro,[($(!0),J(Z,null,H([...e.statePictures.nad,...e.statePictures.custom_offer],((l,t)=>($(),J("div",{class:"m-4 relative transition duration-200 transform hover:scale-105 cursor-pointer",key:t},["unlinked"!=e.route.params.status?($(),J("div",{key:0,onClick:a=>e.showPictureDelete(l.id),class:"absolute top-0 right-0 bg-teal-04 w-1 h-1 p-4 box-content flex items-center justify-center transform -translate-x-2 -translate-y-1/2 rounded-full font-semibold text-white hover:bg-white hover:text-teal-04 transition duration-200 cursor-pointer"},a[2]||(a[2]=[Q("i",{class:"material-icons text-lg"},"close",-1)]),8,Qo)):X("",!0),Q("img",{onClick:a=>e.handleZoomImage(l.picture),class:"rounded-md",src:l.picture,alt:`picture-${t}`},null,8,qo)])))),128))])])),default:R((()=>[Q("div",zo,[a[4]||(a[4]=Q("span",{class:"material-symbols-outlined icon-xl"},"upload",-1)),a[5]||(a[5]=Q("strong",{class:"text-xl"},"Choose files or drag them here",-1)),a[6]||(a[6]=Q("p",{class:"text-base text-grey-02 font-light"},"Upload multiple PNG, JPG, or JPEG images",-1)),K(d,{class:"mt-4",color:"teal",view:"outlined",onClick:oe(e.triggerFileInput,["prevent"])},{default:R((()=>a[3]||(a[3]=[ee("Upload Files")]))),_:1},8,["onClick"])])])),_:1},8,["disabled","onInput"])])),[[u,e.showPictureLoading.show||e.showPictureLoading.create||e.showPictureLoading.delete]]):X("",!0)]})),_:1})):X("",!0)}],["__scopeId","data-v-4e86929e"]]);const Go={class:"grid gap-4 my-4"},Yo={class:"flex flex-wrap items-center justify-between gap-4"},Wo={class:"md:flex-none flex-auto"},Jo={class:"md:flex-none flex-auto"},Xo={class:"my-2"},Zo={class:"grid md:grid-cols-3 grid-cols-1 gap-4 my-2"},Ho={class:"my-2 mb-6"},es={class:"my-2"},as={class:"my-2"},ls={__name:"Detail",setup(e){const a=Uo(),l=N(),t=W((()=>a.stateShow));return ye((()=>{a.$actionShow(l.params.buybackId)})),(e,a)=>($(),J("div",null,[Q("div",null,[Q("div",Go,[Q("div",Yo,[Q("div",Wo,[($(),F(be,null,{default:R((()=>[Q("div",null,[K(dl,{class:"w-full"})])])),fallback:R((()=>[K(va)])),_:1}))]),Q("div",Jo,[($(),F(be,null,{default:R((()=>[K(nl,{order:t.value},null,8,["order"])])),fallback:R((()=>[K(va)])),_:1}))])])]),Q("div",Xo,[($(),F(be,null,{default:R((()=>[K(ml)])),fallback:R((()=>[K(va)])),_:1}))]),Q("div",Zo,[($(),F(be,null,{default:R((()=>[K(ui)])),fallback:R((()=>[K(va)])),_:1}))]),Q("div",Ho,[($(),F(be,null,{default:R((()=>[K(wo)])),fallback:R((()=>[K(va)])),_:1}))]),Q("div",es,[($(),F(be,null,{default:R((()=>[K(Ko)])),fallback:R((()=>[K(va)])),_:1}))]),Q("div",as,[($(),F(be,null,{default:R((()=>[K(Ba)])),fallback:R((()=>[K(va)])),_:1}))])])]))}},ts={class:"flex item-center justify-center w-full h-full bg-red-04"},is={__name:"index",setup:e=>(e,a)=>($(),F(be,null,{default:R((()=>[K(ls)])),fallback:R((()=>[Q("div",ts,[K(Fe)])])),_:1}))};export{is as default};
