import{u as e}from"./components.00bf6492.js";import{k as a,a5 as s,O as o,g as t,f as l,r as i,W as r,m as n,$ as d,o as c,t as m,B as u,A as p,n as f,w as v,U as y,S as g,D as w,a1 as b,a2 as x,K as h,I as _,F as k,_ as V}from"./vendor.9695fe57.js";import{_ as S,b as j,f as $,d as C,K as R}from"./index.c2f66179.js";import{C as D}from"./card.f57f7ca5.js";import{u as q}from"./index.f40e4a9e.js";import{r as U}from"./index.54844a74.js";import{c as E}from"./index.6b6f6369.js";import{_ as P}from"./logo.95f55a2b.js";import"./LoadingCard.c138fa92.js";const I=a({name:"InviteVerify",components:{Button:j,Card:D,Input:$,Modal:C},setup(){const e=s(),a=o(),{formData:n,loading:d,action:c,actionVerifyInvite:m}=R(),u=t((()=>({isExist:!!e.query.is_existing&&!!Number(e.query.is_existing),company:e.query.company_name?e.query.company_name:"Unknown Company",inviteBy:e.query.invite_by?e.query.invite_by:"Unknown User"}))),p=l(!0),f=i({password:!1,confirmPassword:!1}),v=l(""),y=l(""),g=l(!1),w={first_name:{required:U},last_name:{required:U},job_title:{required:U},password:{required:U,validation:E.withMessage("At least 6 characters and include capital letters",E.regex(/^(?=.*?[A-Z]).{6,}$/))},password_confirmation:{required:U,sameAs:E.withMessage("Confirmation password didn't match",(()=>n.password===n.password_confirmation))}},b=q(w,n,{$lazy:!0});return r((async()=>{const s=e.query.token||"";if(!s)return a.push({name:"login"});v.value=s,await m(v.value,(e=>{const a=(null==e?void 0:e.email)||"";y.value=a}),(()=>{a.push({name:"login"})}))})),{route:e,router:a,dataRoute:u,modalSucceed:g,alertRecognize:p,isShow:f,validation:b,formData:n,loading:d,email:y,handleSignIn:()=>{a.push({name:"login"})},handleSubmit:async()=>{(!!u.value.isExist||(b.value.$validate(),!b.value.$invalid))&&await c(v.value,u.value.isExist,(()=>{u.value.isExist?g.value=!0:(V({type:"success",message:"Account registered successfully"}),a.push({name:"login"}))}))}}}}),z={class:"flex items-start justify-center h-screen w-screen overflow-y-auto px-10"},B={key:0,class:"flex justify-center items-center flex-col mb-12"},A={key:0,class:"grid grid-cols-2 gap-6"},M={class:"xl:col-span-1 lg:col-span-1 md:col-span-1 col-span-2"},N={class:"xl:col-span-1 lg:col-span-1 md:col-span-1 col-span-2"},T={class:"col-span-2"},Y={class:"col-span-2"},F={class:"col-span-2"},J={class:"col-span-2"},K={class:"col-span-2"},L={key:1,class:"-m-6"},W={class:"border-b border-grey-01 px-6 py-6"},O={class:"text-xl"},Z={class:"px-6 py-6"},G={class:"font-semibold mb-4"},H={key:0,class:"bg-orange-01 rounded-lg px-4 py-2 flex gap-x-4 items-center relative mb-4"},Q={class:"border-t border-grey-01 px-6 py-6"},X={class:"flex items-center justify-between gap-x-4"},ee={key:1,whitelabel:"remove",class:"text-center my-6"},ae={class:"flex flex-col gap-4 py-10 justify-center items-center"},se={class:"text-center text-2xl font-semibold"},oe={class:"text-base font-normal mt-4"},te={class:"flex gap-x-4 justify-between items-center"};var le=S(I,[["render",function(e,a,s,o,t,l){const i=n("Input"),r=n("Button"),V=n("router-link"),S=n("Card"),j=n("Modal"),$=d("loading");return c(),m(b,null,[u("div",z,[p((c(),f(S,{class:k(["my-auto",e.dataRoute.isExist&&"w-full max-w-2xl rounded-lg border border-grey-01 border-opacity-50 h-auto",!e.dataRoute.isExist&&"w-full xl:w-1/3 md:1/2 lg:w-1/2 py-6 px-8"])},{default:v((()=>[e.dataRoute.isExist?y("",!0):(c(),m("div",B,a[11]||(a[11]=[u("img",{src:P,alt:"Brand logo",whitelabel:"image-replace","data-image-type":"logo",class:"mb-4",width:"180"},null,-1),u("p",{class:"text-dark"},"Create your account",-1)]))),u("form",{onSubmit:a[9]||(a[9]=g(((...a)=>e.handleSubmit&&e.handleSubmit(...a)),["prevent"]))},[e.dataRoute.isExist?(c(),m("div",L,[u("div",W,[u("h1",O,h(e.dataRoute.company),1)]),u("div",Z,[_(" You've been invited to join the "+h(e.dataRoute.company)+" team by ",1),u("p",G,h(e.dataRoute.inviteBy),1),e.alertRecognize?(c(),m("div",H,[a[14]||(a[14]=u("span",{class:"material-icons text-4xl text-orange-04"},"info",-1)),a[15]||(a[15]=u("div",{class:"flex items-center gap-x-4 text-orange-04"},[_(" Don't recognize this email address? "),u("a",{href:"https://www.reusely.com",target:"_blank",class:"text-grey-base hover:text-grey-base border-b border-opacity-0 border-grey-base hover:border-opacity-100"},"Contact Us")],-1)),u("button",{class:"absolute right-2",onClick:a[8]||(a[8]=a=>e.alertRecognize=!1)},a[13]||(a[13]=[u("span",{class:"material-icons text-4xl text-orange-04"},"close",-1)]))])):y("",!0)]),u("div",Q,[u("div",X,[w(V,{to:"/login",class:"hover:text-red-base text-grey-base"},{default:v((()=>a[16]||(a[16]=[_(" Cancel ")]))),_:1}),w(r,{color:"teal",type:"submit",view:"smooth"},{default:v((()=>a[17]||(a[17]=[_(" Join Team ")]))),_:1})])])])):(c(),m("div",A,[u("div",M,[w(i,{modelValue:e.formData.first_name,"onUpdate:modelValue":a[0]||(a[0]=a=>e.formData.first_name=a),view:e.validation.first_name.$invalid?"danger":"default",placeholder:"First Name",block:""},null,8,["modelValue","view"]),(c(!0),m(b,null,x(e.validation.first_name.$errors,((e,a)=>(c(),m("small",{class:"text-red-base block mt-2",key:a},h(e.$message)+". ",1)))),128))]),u("div",N,[w(i,{modelValue:e.formData.last_name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formData.last_name=a),view:e.validation.last_name.$invalid?"danger":"default",placeholder:"Last Name",block:""},null,8,["modelValue","view"]),(c(!0),m(b,null,x(e.validation.last_name.$errors,((e,a)=>(c(),m("small",{class:"text-red-base block mt-2",key:a},h(e.$message)+". ",1)))),128))]),u("div",T,[w(i,{modelValue:e.formData.job_title,"onUpdate:modelValue":a[2]||(a[2]=a=>e.formData.job_title=a),view:e.validation.job_title.$invalid?"danger":"default",placeholder:"Job Title",block:""},null,8,["modelValue","view"]),(c(!0),m(b,null,x(e.validation.job_title.$errors,((e,a)=>(c(),m("small",{class:"text-red-base block mt-2",key:a},h(e.$message)+". ",1)))),128))]),u("div",Y,[w(i,{modelValue:e.email,"onUpdate:modelValue":a[3]||(a[3]=a=>e.email=a),placeholder:"Email",block:"",disabled:""},null,8,["modelValue"])]),u("div",F,[w(i,{modelValue:e.formData.password,"onUpdate:modelValue":a[5]||(a[5]=a=>e.formData.password=a),type:e.isShow.password?"text":"password",view:e.validation.password.$invalid?"danger":"default",placeholder:"Password",block:"",autocomplete:"new-password",icon:"",right:""},{icon:v((()=>[u("span",{class:"material-icons block cursor-pointer text-grey-03 select-none",onClick:a[4]||(a[4]=a=>e.isShow.password=!e.isShow.password)},h(e.isShow.password?"visibility_off":"visibility"),1)])),_:1},8,["modelValue","type","view"]),(c(!0),m(b,null,x(e.validation.password.$errors,((e,a)=>(c(),m("small",{class:"text-red-base block mt-2",key:a},h(e.$message)+". ",1)))),128))]),u("div",J,[w(i,{modelValue:e.formData.password_confirmation,"onUpdate:modelValue":a[7]||(a[7]=a=>e.formData.password_confirmation=a),type:e.isShow.confirmPassword?"text":"password",view:e.validation.password_confirmation.$invalid?"danger":"default",placeholder:"Confirm Password",block:"",autocomplete:"new-password",icon:"",right:""},{icon:v((()=>[u("span",{class:"material-icons block cursor-pointer text-grey-03 select-none",onClick:a[6]||(a[6]=a=>e.isShow.confirmPassword=!e.isShow.confirmPassword)},h(e.isShow.confirmPassword?"visibility_off":"visibility"),1)])),_:1},8,["modelValue","type","view"]),(c(!0),m(b,null,x(e.validation.password_confirmation.$errors,((e,a)=>(c(),m("small",{class:"text-red-base block mt-2",key:a},h(e.$message)+". ",1)))),128))]),u("div",K,[w(r,{color:"teal",block:"",loading:e.loading.submit},{default:v((()=>a[12]||(a[12]=[_("Register")]))),_:1},8,["loading"])])]))],32),e.dataRoute.isExist?y("",!0):(c(),m("div",ee,a[18]||(a[18]=[u("p",null,[_('By clicking "Register" you agree to reusely.com\'s '),u("a",{href:" https://www.reusely.com/terms-of-service",rel:"noreferrer noopener"},"Terms and Conditions"),_(" and "),u("a",{href:"https://www.reusely.com/privacy-policy",rel:"noreferrer noopener"},"Privacy Policy")],-1)])))])),_:1},8,["class"])),[[$,e.loading.all]])]),w(j,{modelValue:e.modalSucceed,"onUpdate:modelValue":a[10]||(a[10]=a=>e.modalSucceed=a),size:"xs","hide-header":""},{default:v((()=>[u("div",ae,[a[21]||(a[21]=u("span",{style:{"font-size":"10rem"},class:"material-symbols-outlined text-green-02"}," check_circle ",-1)),u("div",se,[a[19]||(a[19]=_(" Welcome to the team! ")),u("p",oe," Your're now viewing details for "+h(e.dataRoute.company)+". You can also access another account. ",1)]),u("div",te,[w(r,{color:"teal",onClick:g(e.handleSignIn,["prevent"])},{default:v((()=>a[20]||(a[20]=[_(h("Sign In"))]))),_:1},8,["onClick"])])])])),_:1},8,["modelValue"])],64)}]]),ie=a({setup(){const{genSuspense:a}=e();return()=>a(le)}});export{ie as default};
