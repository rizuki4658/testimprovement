{"version":3,"file":"Tab.5ab1af8e.js","sources":["../../src/views/customer/Tab.vue"],"sourcesContent":["<template>\n  <!-- <router-link :to=\"{ name: 'customerCreate' }\">Create Customer</router-link> -->\n  <div class=\"flex xl:flex-row flex-col justify-between mb-8 items-center\">\n    <div class=\"lg:flex lg:divide-x lg:divide-grey-01 xl:mb-0 mb-4\">\n      <div class=\"flex lg:pr-4 lg:mb-0 mb-4\">\n        <h5>Customers</h5>\n      </div>\n    </div>\n    <div class=\"space-x-4\">\n      <Button color=\"teal\" class=\"lg:inline-block block\" :to=\"{ name: 'customerCreate' }\" link><span class=\"material-icons\">add</span> Add New Customer</Button>\n    </div>\n  </div>\n  <Card>\n    <Tab view=\"smooth\" :items=\"tab\" />\n    <CustomerTable\n      @choose=\"handleSelectCustomer\"\n      @export-customer=\"handleExportCustomerData\"\n      :statusId=\"route.params.statusId\"\n      :loading-export=\"loading.csv\"\n      :status-name=\"currentStatusName\"\n      show-custom-table-setting\n    />\n  </Card>\n</template>\n\n<script>\nimport { defineComponent, computed } from 'vue'\nimport { useRoute , useRouter} from 'vue-router'\nimport { useStatuses, useCustomers } from 'composable/customer'\nimport Button from 'bbUi/components/button/button.vue'\nimport Card from 'bbUi/components/card/card.vue'\nimport Tab from 'bbUi/components/tab/tab.vue'\nimport CustomerTable from 'components/Customer/Table.vue'\n\n\nexport default defineComponent({\n  components: {\n    Button,\n    Card,\n    Tab,\n    CustomerTable\n  },\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const { tab } = useStatuses()\n    const { getCsv, loading } = useCustomers()\n    const currentStatusName = computed(\n      () =>\n        tab.value.find((status) => status.id == route.params.statusId)?.name ||\n        ''\n    )\n    const downloadCsv = async() => {\n      await getCsv()\n    }\n    const handleSelectCustomer = (customer = undefined) => {\n      if (customer === undefined || customer === null || route.params.statusId == 2) return\n      router.push({\n        name: 'customerDetail',\n        params: { customerId: customer.customer_id, category: 'in-store' }\n      })\n    }\n    const handleExportCustomerData = async (\n      exportOptions = { format: 'csv', filters: {} }\n    ) => {\n      await getCsv(exportOptions)\n    }\n\n    return {\n      tab,\n      route,\n      loading,\n      currentStatusName,\n      downloadCsv,\n      handleSelectCustomer,\n      handleExportCustomerData\n    }\n  },\n})\n</script>"],"names":["_sfc_main","defineComponent","components","Button","Card","Tab","CustomerTable","[object Object]","route","useRoute","router","useRouter","tab","useStatuses","getCsv","loading","useCustomers","currentStatusName","computed","_a","value","find","status","id","params","statusId","name","downloadCsv","async","handleSelectCustomer","customer","push","customerId","customer_id","category","handleExportCustomerData","exportOptions","format","filters","_hoisted_1","class","_openBlock","_createElementBlock","_Fragment","_cache","_createElementVNode","_hoisted_2","_createVNode","_component_Button","color","to","default","_withCtx","_component_Tab","view","_component_CustomerTable","onChoose","_ctx","onExportCustomer","loading-export","csv","status-name"],"mappings":"0wBAmCA,MAAKA,EAAaC,EAAa,CAC7BC,WAAY,CACVC,OAAAA,EACAC,KAAAA,EACAC,IAAAA,EACAC,cAAAA,GAEFC,QACE,MAAMC,EAAQC,IACRC,EAASC,KACTC,IAAEA,GAAQC,KACVC,OAAEA,UAAQC,GAAYC,IACtBC,EAAoBC,GACxB,WACM,OAAJ,OAAIC,EAAAP,EAAAQ,MAAMC,MAAMC,GAAWA,EAAOC,IAAMf,EAAMgB,OAAOC,iBAArD,EAAAN,EAAgEO,OAChE,MAkBG,MAAA,CACLd,IAAAA,EACAJ,MAAAA,EACAO,QAAAA,EACAE,kBAAAA,EACAU,YArBkBC,gBACZd,KAqBNe,qBAnB4BC,IACxBA,MAAAA,GAAwE,GAAzBtB,EAAMgB,OAAOC,UAChEf,EAAOqB,KAAK,CACVL,KAAM,iBACNF,OAAQ,CAAEQ,WAAYF,EAASG,YAAaC,SAAU,eAgBxDC,yBAb+BP,MAC/BQ,EAAgB,CAAEC,OAAQ,MAAOC,QAAS,aAEpCxB,EAAOsB,QAzDVG,EAAA,CAAAC,MAAM,mMANbC,OAAAA,IASMC,EAAAC,EAAA,KAAA,WAJE,GADE,KAAAC,EAAA,GAAAC,EAFgC,MAAA,CAAAL,MAAA,sDAAA,CACpCK,EAAA,aAAa,6BAAA,8BAGjB,MAC4J,MAAAC,EAAA,CAAlJC,EAAYC,EAAA,CAACC,MAAM,OAAyBT,MAA8B,wBAAEU,GAAI,CAAJxB,KAAI,4BAACyB,QAAAC,GAAA,IAAMR,EAAA,OAAM,GAAA,GAA4C,OAAA,CAAAJ,MAAA,kBAAA,OAAA,4CAIjH,KAAA,SAAAY,GAAA,IAAA,CAA7BL,EAAaM,EAAA,CAAEC,2BAQlB,KAAA,EAAA,CAAA,UANCP,EAA4BQ,EAAA,CAC5BC,SAAAC,EAAA5B,qBACA6B,iBAAUD,EAAMtB,yBAChBV,SAAcgC,EAAAjD,MAASgB,OAAAC,SACvBkC,iBAA8BF,EAAA1C,QAAA6C,IAC/BC,cAAAJ,EAAAxC"}