{"version":3,"file":"index.04391c77.js","sources":["../../src/views/inventory/changelog/index.vue","../../src/views/inventory/changelog/index.js"],"sourcesContent":["<template>\n  <div>\n    <Breadcrumb class=\"mb-8\" page-title=\"Changelog\" :backTo=\"{name: 'inventoryEdit', params: {\n      inventoryId: route.params.inventoryId\n    }}\" :items=\"breadcrumb\" />\n    <Card hide-footer class=\"mt-8\">\n      <template #header>\n        <h6 class=\"font-semibold text-lg\">Latest Changelog</h6>\n      </template>\n      <div :style=\"{maxHeight: '65vh'}\"  class=\"overflow-y-auto\">\n         <Changelog collapse child-key=\"data\" date-key=\"month\" :items=\"histories\">\n          <template #description=\"scoped\">\n            <div class=\"mr-6\">\n              <span class=\"block text-right\">{{scoped.item.created_at}}</span> \n            </div>\n          </template>\n          <template #default=\"scoped\">\n            <ul class=\"list\">\n              <li v-html=\"scoped.item.status_name\" class=\"text-grey-04\" />\n              <li class=\"hide-dot text-grey-04\">\n                <span v-if=\"!!scoped.item.location\" class=\"block text-sm\">Location: {{scoped.item.location}}</span>\n                <span v-if=\"!!scoped.item.condition\" class=\"block text-sm\">Condition: {{scoped.item.condition}}</span>\n                <span v-if=\"!!scoped.item.price\" class=\"block text-sm\">Price: ${{money(scoped.item.price)}}</span>\n              </li>\n            </ul>\n          </template>\n        </Changelog>\n      </div>\n    </Card>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useShowTransferHistories } from 'composable/inventory'\nimport Breadcrumb from 'components/Breadcrumb.vue'\nimport Card from 'bbUi/components/card/card.vue'\nimport Changelog from 'components/Changelog.vue'\nimport { money } from 'utils/number'\n\nexport default defineComponent({\n  components: {\n    Breadcrumb,\n    Card,\n    Changelog\n  },\n  props: {\n  },\n  async setup() {\n    const { state, loading, action } = useShowTransferHistories()\n    const route = useRoute()\n    const breadcrumb = [{\n      text: 'Inventory',\n      to: {\n        name: 'inventory'\n      }\n    }, {\n      text: 'Edit',\n      to: {\n        name: 'inventoryEdit',\n        params: {\n          buybackId: route.params.inventoryId\n        }\n      }\n    },\n    {\n      text: 'Changelog'\n    }]\n    await action(route.params.inventoryId)\n    \n    const histories = computed(() => {\n      const clonedData = {...state.value}\n      const isEmptyClonedData = !Object.keys(clonedData).length\n      if(isEmptyClonedData) return []\n      return Object.entries(clonedData).map(history => {\n        const [date, data] = history\n        return {\n          month: date,\n          data\n        }\n      })\n    })\n\n    return {\n      state,\n      histories,\n      loading,\n      breadcrumb,\n      money,\n      route\n    }\n  }\n})\n</script>","import { defineComponent, h } from 'vue'\nimport { useSuspense } from 'composable/components'\nimport Index from './index.vue'\n\nexport default defineComponent({\n  setup() {\n    const { genSuspense } = useSuspense()\n    return () => [\n      genSuspense(Index)\n    ]\n  }\n})"],"names":["_sfc_main","defineComponent","components","Breadcrumb","Card","Changelog","props","[object Object]","state","loading","action","useShowTransferHistories","route","useRoute","breadcrumb","text","to","name","params","buybackId","inventoryId","histories","computed","clonedData","__spreadValues","value","Object","keys","length","entries","map","history","date","data","month","money","_hoisted_1","style","maxHeight","_hoisted_2","class","_hoisted_3","_hoisted_5","key","_openBlock","_createElementBlock","_createVNode","_component_Breadcrumb","page-title","_component_Card","hide-footer","header","_withCtx","_cache","default","_component_Changelog","collapse","child-key","date-key","description","_createElementVNode","scoped","_hoisted_4","innerHTML","item","status_name","_hoisted_6","_createCommentVNode","index","genSuspense","useSuspense","Index"],"mappings":"wsBAyCA,MAAKA,EAAaC,EAAa,CAC7BC,WAAY,CACVC,WAAAA,EACAC,KAAAA,EACAC,UAAAA,GAEFC,MAAO,GAAAC,cAGC,MAAAC,MAAEA,EAAOC,QAAAA,EAAAC,OAASA,GAAWC,IAC7BC,EAAQC,IACRC,EAAa,CAAC,CAClBC,KAAM,YACNC,GAAI,CACFC,KAAM,cAEP,CACDF,KAAM,OACNC,GAAI,CACFC,KAAM,gBACNC,OAAQ,CACNC,UAAWP,EAAMM,OAAOE,eAI9B,CACEL,KAAM,oBAEFL,EAAOE,EAAMM,OAAOE,aAEpB,MAAAC,EAAYC,GAAS,KACnB,MAAAC,qHAAaC,IAAIhB,EAAMiB,OAE1B,OADwBC,OAAOC,KAAKJ,GAAYK,OACtB,GACtBF,OAAOG,QAAQN,GAAYO,KAAeC,IACzC,MAACC,EAAMC,GAAQF,EACd,MAAA,CACLG,MAAOF,EACPC,KAAAA,SAKC,MAAA,CACLzB,MAAAA,EACAa,UAAAA,EACAZ,QAAAA,EACAK,WAAAA,EACAqB,MAAAA,EACAvB,MAAAA,MAjFMwB,EAA0B,CAAGC,MAAM,CAAiBC,UAAA,iCAI5CC,EAAA,CAAAC,MAAM,QAIVC,EAAA,CAAAD,MAAM,qCAEJE,EAAA,CAAA,kDACkCC,IAAK,4BACJA,IAAK,4BACTA,IAAK,yHAlBxBC,OAAAA,IAAAC,EAAA,MAAA,KAAA,CAFdC,EAAYC,EAAA,CAACP,MAAA,OAAwBQ,aAAM,yBAA4D,gBAAmB9B,OAAA,8DA0B/H,KAAA,EAAA,CAAA,SAAA,UAvBD4B,EAAAG,EAAW,CAACC,cAAY,iBACjB,CACTC,OAAAC,GAAA,IAAIC,EAAA,OAAM,GAAA,mEAEZC,QAAAF,GAAA,OAiBc,MAAAhB,EAAA,CAhBAU,EAAQS,EAAA,CAACC,SAAA,GAAiBC,YAAgB,OAAEC,WAAgB,2BAChD,CACpBC,YAAAP,MAEM,CADJQ,EAAA,QAAgE,yCAIlEN,QAAAF,GAAAS,GAOK,GANyD,KAAAC,EAAA,CAAxDF,EAAe,KAAgB,CAAEG,UAAoBF,EAAAG,KAAAC,kCACzD,KAAA,EAAAvB,KACoC,KAAAwB,EAAA,qEACdC,EAAe,IAAA,0EACfA,EAAW,IAAA,2HClB/CC,EAAenE,EAAgB,CAC7BM,QACE,MAAM8D,YAAEA,GAAgBC,IACxB,MAAO,IAAM,CACXD,EAAYE"}