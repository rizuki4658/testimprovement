var a=Object.defineProperty,t=Object.defineProperties,e=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(t,e,o)=>e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,r=(a,t)=>{for(var e in t||(t={}))i.call(t,e)&&n(a,e,t[e]);if(o)for(var e of o(t))s.call(t,e)&&n(a,e,t[e]);return a};import{g as l,r as c,f as d,_ as u,b as y}from"./vendor.f1efedad.js";import{r as h,s as b,v as m}from"./index.e231b017.js";import{n as p}from"./date.f86face7.js";import{u as v}from"./setting.86482221.js";const _=()=>{p();const a=c({month:"all",year:"all",source:null}),t=d([]),e=l((()=>b.getters["dashboard/GET_ORDERS_FORMATTED"]));return{data:a,state:t,getFormatted:e,orders:async(e,o=(()=>{}))=>{const i=r({},a);t.value=await b.dispatch("dashboard/orders",{id:e,data:i}),m(o)&&o()},arrivingToday:async(a,e=(()=>{}))=>{t.value=await b.dispatch("dashboard/arrivingToday"),m(e)&&e()},inTransit:async(a,e=(()=>{}))=>{t.value=await b.dispatch("dashboard/inTransit"),m(e)&&e()}}},f=()=>{const a=p(),t=c({month:a.month,year:a.year}),e=d([]),o=l((()=>b.getters["dashboard/GET_FORMATTED"]("customers")));return{data:t,state:e,getFormatted:o,customers:async(a=(()=>{}))=>{e.value=await b.dispatch("dashboard/customers",t),m(a)&&a()}}},g=()=>{const a=p(),t=c({month:a.month,year:a.year}),e=d([]),o=l((()=>b.getters["dashboard/GET_FORMATTED"]("affiliates")));return{data:t,state:e,getFormatted:o,affiliates:async(a=(()=>{}))=>{e.value=await b.dispatch("dashboard/affiliates",t),m(a)&&a()}}},w=()=>{const a=p(),o=c({local:"",month:"",year:a.year,buyback_type:b.state.user&&b.state.user.me&&b.state.user.me.is_location_mail_in?1:2}),i=d([]);return{data:o,state:i,chart:async(a=(()=>{}))=>{var s,n;i.value=await b.dispatch("dashboard/chart",(s=r({},o),n={leads:"leads"===o.local||""===o.local,paid:"paid"===o.local||""===o.local,month:o.month?o.month:"all"},t(s,e(n)))),m(a)&&a()}}},T=()=>{const a=c({search:"",data:[]});return{scanInData:a,scanIn:async(t=(()=>{}))=>{const e=await b.dispatch("dashboard/scanIn",{q:a.search});m(t)&&t(e)}}},O=()=>{const a=d(null),t=c({search:"",data:[]});return{data:t,cancelToken:a,actionSearch:async(e=(()=>{}))=>{a.value&&a.value.cancel(),a.value=y.CancelToken.source();const o=await b.dispatch("dashboard/search",{q:t.search,cancelToken:a.value&&a.value.token});t.data=o,m(e)&&e(o)}}},j=()=>{const a=l((()=>h(r({},b.state.dashboard.location)))),t=l((()=>h(r({},b.state.dashboard.locationFiltered)))),e=l((()=>h(r({},b.state.dashboard.locationPremission)))),o=c({page:1,limit:10,search:"",sort_by:"",order_by:"",is_addtional_info:1,location_type:null}),i=c({page:1,limit:10,search:"",sort_by:"",order_by:"",is_addtional_info:1,loaded:[],location_type:null}),s=c({all:!1}),n=l((()=>t.value.mailin_location_id?{id:t.value.mailin_location_id||null,name:t.value.mailin_location_name||""}:null)),d=l((()=>t.value.current_location_id?{id:t.value.current_location_id||null,name:t.value.current_location_name||"",is_default_mail_in:!!n.value.id&&t.value.current_location_id==n.value.id}:null));return{query:o,queryLocationPermission:i,state:a,stateFiltered:t,stateLocationPermission:e,loading:s,mailInLocation:n,currentLocation:d,locations:async(t=(()=>{}),e)=>{try{s.all=!0;const i=await b.dispatch("dashboard/locations",r(r({},o),e&&{admin_id:e}));"object"!=typeof i||Array.isArray(i)||Object.assign(a,h(i)),m(t)&&t(i)}finally{s.all=!1}},locationsPremission:async(a=(()=>{}),t)=>{try{s.all=!0;const o=await b.dispatch("dashboard/locationsPermission",r(r({},i),t&&{admin_id:t}));"object"!=typeof o||Array.isArray(o)||Object.assign(e,h(o)),m(a)&&a(o)}finally{s.all=!1}}}},P=()=>{const a=l((()=>b.state.setting.condition)),{data:t,actionConditionDeviceWidgetAvailability:e,actionConditionDeviceConditionAvailability:o}=v();return{state:a,data:t,actionConditionDeviceWidgetAvailability:e,actionConditionDeviceConditionAvailability:o}},A=()=>{const a=d(!1),t=d(null);return{loading:a,getPersonalize:async t=>{try{a.value=!0;return await b.dispatch("dashboard/personalize",t)}finally{a.value=!1}},updatePersonalize:async e=>{t.value&&t.value.abort();const o=new AbortController;t.value=o;try{a.value=!0,await b.dispatch("dashboard/updatePersonalize",{data:e,signal:o.signal}),u({message:"Personlize Dashboard Updated!",type:"success"}),t.value=null}catch{u({message:"Failed to update!",type:"error"})}finally{a.value=!1}}}};export{T as a,O as b,P as c,A as d,_ as e,g as f,f as g,w as h,j as u};
