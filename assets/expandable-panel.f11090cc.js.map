{"version":3,"file":"expandable-panel.f11090cc.js","sources":["../../system-design/src/components/expandable-panel/expandable-panel.vue","../../system-design/src/mixins/triggered.js"],"sourcesContent":["<template>\n  <div :class=\"['expandable-panel', isTriggered ? 'expandable-panel-triggered' : classTriggered]\">\n    <div class=\"panel__header\">\n      <slot\n        name=\"header\"\n        :toggle=\"onTriggered\"\n        :isExpanded=\"isTriggered\"\n      >\n        <span class=\"panel__label\" @click=\"onTriggered\">{{ label }}</span>\n        <span class=\"panel__caret\" @click=\"onTriggered\">^</span>\n      </slot>\n    </div>\n\n    <div\n      class=\"panel__content\"\n      :class=\"{\n        'expand-enter-active': isTriggered,\n        'expand-leave-active': !isTriggered\n      }\"\n    >\n      <div v-show=\"isShown\">\n        <slot />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref, watch } from 'vue'\nimport { mixinTriggered } from '../../mixins'\nimport { addMixinPrefix } from '../../util/helpers'\n\nexport default defineComponent({\n  name: 'ExpandablePanel',\n  mixins: [...addMixinPrefix([mixinTriggered], 'expandable-panel')],\n  props: {\n    label: {\n      type: String,\n      default: ''\n    },\n    modelValue: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['update:modelValue', 'clickHeader'],\n  setup(props, { emit }) {\n    const isTriggered = ref(props.modelValue)\n    const isShown = ref(props.modelValue)\n\n    const onTriggered = () => {\n      isTriggered.value = !isTriggered.value\n      emit('update:modelValue', isTriggered.value)\n      emit('clickHeader')\n\n      if (isTriggered.value) {\n        isShown.value = true\n      } else {\n        setTimeout(() => {\n          isShown.value = false\n        }, 300)\n      }\n    }\n\n    watch(() => props.modelValue, (val) => {\n      isTriggered.value = val\n      if (val) {\n        isShown.value = true\n      } else {\n        setTimeout(() => {\n          isShown.value = false\n        }, 300)\n      }\n    })\n\n    return {\n      isTriggered,\n      isShown,\n      onTriggered\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.panel__content {\n  opacity: 0;\n  max-height: 0;\n  overflow: hidden;\n  transition: opacity 0.3s ease-in-out, max-height 0.3s ease-in-out;\n\n  &.expand-enter-active {\n    opacity: 1;\n    max-height: calc(100vh * 4);\n  }\n\n  &.expand-leave-active {\n    opacity: 0;\n    max-height: 0;\n  }\n}\n</style>\n","export default (prefix = null) => ({\n  props: {\n    triggered: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    classTriggered() {\n      return this.triggered ? `${prefix + '-' || ''}triggered` : ''\n    }\n  }\n})"],"names":["_sfc_main","defineComponent","name","mixins","addMixinPrefix","prefix","props","triggered","type","Boolean","default","computed","[object Object]","this","label","String","modelValue","emits","emit","isTriggered","ref","isShown","watch","val","value","setTimeout","onTriggered","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_hoisted_1","_renderSlot","_ctx","$slots","toggle","_createElementVNode","class","args","_toDisplayString"],"mappings":"8JAgCA,MAAKA,EAAaC,EAAa,CAC7BC,KAAM,kBACNC,OAAQ,IAAIC,EAAe,CClCd,CAACC,EAAS,QAAU,CACjCC,MAAO,CACLC,UAAW,CACTC,KAAMC,QACNC,SAAS,IAGbC,SAAU,CACRC,iBACE,OAAOC,KAAKN,UAAY,GAAGF,EAAS,KAAO,cAAgB,QDyBlB,qBAC7CC,MAAO,CACLQ,MAAO,CACLN,KAAMO,OACNL,QAAS,IAEXM,WAAY,CACVR,KAAMC,QACNC,SAAS,IAGbO,MAAO,CAAC,oBAAqB,eAC7BL,MAAMN,GAAOY,KAAEA,IACP,MAAAC,EAAcC,EAAId,EAAMU,YACxBK,EAAUD,EAAId,EAAMU,YA2BnB,OAXPM,GAAM,IAAMhB,EAAMU,aAAaO,IAC7BJ,EAAYK,MAAQD,EAChBA,EACFF,EAAQG,OAAQ,EAEhBC,YAAW,KACTJ,EAAQG,OAAQ,IACf,QAIA,CACLL,YAAAA,EACAE,QAAAA,EACAK,YA5BkB,KACNP,EAAAK,OAASL,EAAYK,MACjCN,EAAK,oBAAqBC,EAAYK,OACjCN,EAAA,eAEDC,EAAYK,MACdH,EAAQG,OAAQ,EAEhBC,YAAW,KACTJ,EAAQG,OAAQ,IACf,oEApCHG,EAAAC,EAAAC,EAAAC,EAAAC,GAvBKC,OAAAA,IAAAC,EAAA,MAAkC,4FAC3C,GAQS,MAAAC,EAAA,CALJC,EAAmBC,EAAAC,OAAA,SAAA,CACnBC,OAAAF,EAAuBV,uBAInBU,EAAAjB,cAF6D,IAAA,CAA5DoB,EAAoB,OAAA,CAAEC,MAAK,8BAAuBb,EAAA,GAAA,IAAAc,IAAAL,EAAAV,aAAAU,EAAAV,eAAAe,KACAC,EAAAN,EAAAtB,OAAA,GAAlDyB,EAAoB,OAAA,CAAEC,MAAK,uBAAgBb,EAAA,KAAAA,EAAA,GAAA,IAAAc,IAAAL,EAAAV,aAAAU,EAAAV,eAAAe,kBAKnDF,QAAsB,2BAC8B,yBAA6CpB,wDAMvFoB,EAAA,MAAA,KAAA"}