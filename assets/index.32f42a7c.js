import{u as a}from"./components.00bf6492.js";import{k as e,a5 as t,O as s,f as o,m as n,o as r,t as i,B as d,D as m,w as l,I as u,a1 as c}from"./vendor.9695fe57.js";import{l as p}from"./setting.10b5d883.js";import{_ as f,b as g,u as b}from"./index.c2f66179.js";import{M as j,u as U}from"./Form.69080206.js";import{B as _}from"./Breadcrumb.9ae3c470.js";import{C as v}from"./card.f57f7ca5.js";import"./LoadingCard.c138fa92.js";import"./dashboard.b5a7a3a4.js";import"./date.f86face7.js";import"./index.6b6f6369.js";import"./index.54844a74.js";import"./index.f40e4a9e.js";import"./fieldset.400d29ed.js";import"./breadcrumb.4b2ddf0a.js";const x=e({components:{Button:g,Breadcrumb:_,Card:v,ManageUserForm:j},async setup(){const a=t(),e=s(),{data:n,loading:r,actionShow:i,actionUpdate:d,getMenu:m}=p(),{action:l}=b(),{selectDefaultLocation:u,selectedLocations:c,selectedDefaultLocationDetailed:f}=U(),g=o(null);return await Promise.all([i(a.params.userId),m(a.params.userId)]),u({id:n.default_location_id,name:n.default_location_name}),{data:n,breadcrumb:[{text:"Settings",to:{name:"setting"}},{text:"Manage Users",to:{name:"settingManageUser"}},{text:"Edit User"}],refComponent:g,loading:r,updateUser:async()=>{n.locations=c.value,n.default_location_id=f.value.id,n.default_location_name=f.value.name,g.value.validate()&&await d(a.params.userId,(async()=>{await l(),e.push({name:"settingManageUser"})}))}}}}),y={class:"flex justify-between items-center mb-8"},C={class:"text-right"};var M=f(x,[["render",function(a,e,t,s,o,p){const f=n("Breadcrumb"),g=n("ManageUserForm"),b=n("Button"),j=n("Card");return r(),i(c,null,[d("div",y,[m(f,{pageTitle:"Edit User",backTo:{name:"settingManageUser"},items:a.breadcrumb},null,8,["items"])]),m(j,null,{footer:l((()=>[d("div",C,[m(b,{disabled:0==a.data.permission.update,color:"teal",loading:a.loading.form,onClick:a.updateUser},{default:l((()=>e[1]||(e[1]=[u("Save")]))),_:1},8,["disabled","loading","onClick"])])])),default:l((()=>[m(g,{ref:"refComponent",data:a.data,"onUpdate:data":e[0]||(e[0]=e=>a.data=e),edit:"",readonly:0==a.data.permission.update,"permission-readonly":0==a.data.menu_list.permission.update},null,8,["data","readonly","permission-readonly"])])),_:1})],64)}]]),B=e({setup(){const{genSuspense:e}=a();return()=>e(M)}});export{B as default};
