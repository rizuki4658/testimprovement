{"version":3,"file":"index.9d5d57a4.js","sources":["../../src/views/verify/index.vue"],"sourcesContent":["<template>\n  <div class=\"flex items-start justify-center h-screen w-screen overflow-y-auto\">\n    <Card class=\"lg:py-8 py-1 lg:px-20 px-1 box-content my-auto shadow-2xl\" style=\"width: 450px\">\n      <img class=\"mb-16 mx-auto\" src=\"@/assets/icon/mail-verification.svg\" alt=\"Verify Icon\">\n      <div class=\"text-center\">\n        <h5 class=\"text-black mb-2\">Verification</h5>\n        <p class=\"text-black\">You will receive an email with an activation code with-in the next few minutes to <span class=\"font-semibold\">{{registrationEmail}}</span>.</p>\n      </div>\n      <div class=\"form\">\n        <form @submit.prevent=\"submit\">\n          <div class=\"block my-16\">\n            <div class=\"grid grid-cols-7 gap-4\">\n              <Input v-model=\"dataInput[0]\" maxlength=\"1\" class=\"text-4xl\" :view=\"validation.code.$invalid && 'danger' || 'default'\" @input=\"handleInput\" @keydown=\"handleKeydown\" @paste=\"handlePaste\" />\n              <Input v-model=\"dataInput[1]\" maxlength=\"1\" class=\"text-4xl\" :view=\"validation.code.$invalid && 'danger' || 'default'\" @input=\"handleInput\" @keydown=\"handleKeydown\" />\n              <Input v-model=\"dataInput[2]\" maxlength=\"1\" class=\"text-4xl\" :view=\"validation.code.$invalid && 'danger' || 'default'\" @input=\"handleInput\" @keydown=\"handleKeydown\" />\n              <div class=\"flex flex-column items-center justify-center\">\n                <span class=\"material-icons align-middle\">horizontal_rule</span>\n              </div>\n              <Input v-model=\"dataInput[3]\" maxlength=\"1\" class=\"text-4xl\" :view=\"validation.code.$invalid && 'danger' || 'default'\" @input=\"handleInput\" @keydown=\"handleKeydown\" />\n              <Input v-model=\"dataInput[4]\" maxlength=\"1\" class=\"text-4xl\" :view=\"validation.code.$invalid && 'danger' || 'default'\" @input=\"handleInput\" @keydown=\"handleKeydown\" />\n              <Input v-model=\"dataInput[5]\" maxlength=\"1\" class=\"text-4xl\" :view=\"validation.code.$invalid && 'danger' || 'default'\" @input=\"handleInput\" @keydown=\"handleKeydown\" />\n            </div>\n            <span class=\"text-red-base mt-2 block\" v-for=\"error of validation.code.$errors\">{{ error.$message }}. </span>\n          </div>\n          <div class=\"block my-5\">\n            <Button view=\"filled\" color=\"teal\" type=\"submit\" :loading=\"loading\" block>Continue</Button>\n          </div>\n        </form>\n      </div>\n      <!--      <p class=\"text-center text-grey-02\">Don't have an account? <router-link :to=\"{ name: 'register' }\">Register</router-link></p>-->\n    </Card>\n  </div>\n</template>\n\n<script>\nimport { ref, defineComponent, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useVerify } from 'composable/user'\nimport Button from 'bbUi/components/button/button.vue'\nimport Card from 'bbUi/components/card/card.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\nimport { useVuelidate } from '@vuelidate/core'\nimport { required, minLength } from '@/validations/index'\n\nexport default defineComponent({\n  name: 'Login',\n  components: {\n    Button,\n    Card,\n    Input,\n    Checkbox,\n  },\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const { data, loading, action } = useVerify()\n    const submit = () => {\n      if(validate()) {\n        action((e) => {\n          // Set Token User\n          window.localStorage.setItem('token', e.token)\n          router.push({\n            path: route.query.redirect || '/dashboard',\n          })\n        })\n      }\n    }\n    const registrationEmail = window.localStorage.getItem('registration_email')\n    const dataInput = ref(['', '', '', '', '', ''])\n    const rules = {\n      code: { required, minLength: minLength(6) }\n    }\n    const validation = useVuelidate(rules, data, {\n      $lazy: true\n    })\n    const validate = () => {\n      validation.value.$validate()\n      return !validation.value.$invalid\n    }\n    const handlePaste = (e) => {\n      const paste = e.clipboardData.getData('text');\n      dataInput.value.forEach((input, i) => {\n        dataInput.value[i] = paste[i] || ''\n      })\n    }\n    const handleInput = (e) => {\n      const input = e.path[2]\n      if(input.nextElementSibling && input.nextElementSibling.classList.contains('input') && input.children[0].children[0].value) {\n        input.nextElementSibling.children[0].children[0].focus()\n      }\n      else if(input.nextElementSibling && !input.nextElementSibling.classList.contains('input') && input.children[0].children[0].value) {\n        input.nextElementSibling.nextElementSibling.children[0].children[0].focus()\n      }\n    }\n    const handleKeydown = (e) => {\n      if(e.keyCode === 8) {\n        const input = e.path[2]\n        if(input.previousElementSibling && input.previousElementSibling.classList.contains('input') && !input.children[0].children[0].value) {\n          input.previousElementSibling.children[0].children[0].focus()\n        }\n        else if(input.previousElementSibling && !input.previousElementSibling.classList.contains('input') && !input.children[0].children[0].value) {\n          input.previousElementSibling.previousElementSibling.children[0].children[0].focus()\n        }\n      }\n    }\n\n    watch(dataInput, (newValue) => {\n      data.code = newValue.join('')\n    }, {\n      deep: true\n    })\n\n    return {\n      data,\n      dataInput,\n      loading,\n      registrationEmail,\n      submit,\n      validation,\n      handlePaste,\n      handleInput,\n      handleKeydown\n    }\n  },\n})\n</script>"],"names":["_sfc_main","defineComponent","name","components","Button","Card","Input","Checkbox","[object Object]","route","useRoute","router","useRouter","data","loading","action","useVerify","registrationEmail","window","localStorage","getItem","dataInput","ref","rules","code","required","minLength","validation","useVuelidate","$lazy","validate","value","$validate","$invalid","watch","newValue","join","deep","submit","e","setItem","token","push","path","query","redirect","handlePaste","paste","clipboardData","getData","forEach","input","i","handleInput","nextElementSibling","classList","contains","children","focus","handleKeydown","keyCode","previousElementSibling","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_openBlock","_createElementBlock","_createVNode","_component_Card","_cache","_createElementVNode","src","_imports_0","_createTextVNode","_ctx","onUpdate:modelValue","$event","maxlength","view","onInput","onKeydown","_Fragment","_renderList","$errors","error","_hoisted_9","_component_Button","color","type"],"mappings":"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"}