{"version":3,"file":"Show.0d7f1b1d.js","sources":["../../src/views/customer/detail/Show.vue"],"sourcesContent":["<template>\n  <Card>\n    <div class=\"flex justify-between items-center mb-5\">\n      <h6>Customer</h6>\n      <div class=\"flex items-center flex-wrap\">\n        <Button\n          class=\"mr-2\"\n          \n          color=\"teal\"\n          :to=\"{ name: 'customerEdit' }\"\n          link\n          dense\n          ><i class=\"material-icons text-base\">edit</i> Edit</Button\n        >\n        <Popover v-if=\"state.login_link !== '#'\" trigger=\"hover\" width=\"400\">\n          <span class=\"font-normal\">Login to customer account</span>\n          <template #reference>\n            <Button\n              @click=\"handleLoginAsCustomer(state?.login_link)\"\n              color=\"green\"\n              dense\n              ><i class=\"material-icons text-base\">vpn_key</i> Login</Button\n            >\n          </template>\n        </Popover>\n      </div>\n    </div>\n    <hr class=\"border-grey-01\" />\n    <TextLimit :text=\"`${state.first_name || ''} ${state.last_name || ''}`\">\n      <template #default=\"{ text }\">\n        <h5 v-if=\"nameCapitalize(text).length\" class=\"mb-2\">\n          <span v-for=\"(name, n) in nameCapitalize(text)\" :key=\"n\" class=\"text-teal-04 capitalize\">\n            {{ `${name} ` }}\n          </span>\n        </h5>\n        <h5 v-else class=\"mb-2\">{{ text }}</h5>\n      </template>\n    </TextLimit>\n    <div class=\"mb-4\">\n      <p class=\"font-bold my-2\">Contact Information</p>\n      <p><i class=\"material-icons text-base\">email</i> {{ state.email }}</p>\n      <p>\n        <i class=\"material-icons text-base\">location_on</i\n        >{{ state.address_text ? state.address_text : '-' }}\n      </p>\n      <p>\n        <i class=\"material-icons text-base\">call</i>\n        {{ phoneNumber(state.phone) }}\n      </p>\n    </div>\n    <div class=\"mb-2\">\n      <p class=\"font-bold\">Customer Offer History</p>\n      <div class=\"flex items-center\">\n        <TextLimit\n          :text=\"state.order_history_url ? state.order_history_url : ' - '\"\n          tooltip-placement=\"top\"\n          :tooltipMaxWidth=\"350\">\n          <template #default=\"{ text }\">\n            <a class=\"truncate w-full inline-block transition text-grey-04 hover:text-teal-04 underline text-sm\"\n              :href=\"state.order_history_url ? state.order_history_url : '#'\"\n              target=\"_blank\">\n              {{ text }}\n             </a>\n          </template>\n        </TextLimit>\n        <div v-if=\"state.order_history_url\" class=\"ml-2\">\n          <Button\n            @click=\"\n              copy(state.order_history_url ? state.order_history_url : '#')\n            \"\n            color=\"teal\"\n            dense\n          >\n            <i class=\"material-symbols-outlined\">content_copy</i>\n          </Button>\n        </div>\n      </div>\n    </div>\n  </Card>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useShow } from 'composable/customer'\nimport Button from 'bbUi/components/button/button.vue'\nimport Card from 'bbUi/components/card/card.vue'\nimport TextLimit from 'components/TextLimit.vue'\nimport { phoneNumber } from 'utils/number'\nimport { nameCapitalize } from 'utils/element'\nimport copy from 'utils/copy'\n\nexport default defineComponent({\n  components: {\n    Card,\n    Button,\n    TextLimit\n  },\n  async setup() {\n    const route = useRoute()\n    const { state, loading, action } = useShow()\n\n    await action(route.params.customerId)\n\n    const handleLoginAsCustomer = (link = null) => {\n      if (!link) return null\n      window.open(link, '_blank').focus()\n    }\n\n    return {\n      state,\n      handleLoginAsCustomer,\n      phoneNumber,\n      nameCapitalize,\n      copy\n    }\n  }\n})\n</script>\n"],"names":["_sfc_main","defineComponent","components","Card","Button","TextLimit","[object Object]","route","useRoute","state","loading","action","useShow","params","customerId","handleLoginAsCustomer","link","window","open","focus","phoneNumber","nameCapitalize","copy","_hoisted_1","class","key","_hoisted_5","_hoisted_6","_createBlock","_component_Card","default","_withCtx","_createElementVNode","_cache","_hoisted_2","_createVNode","_component_Button","color","to","name","trigger","onClick","$event","_ctx","_a","login_link","_component_TextLimit","text","length","_createElementBlock","_hoisted_3","_Fragment","_renderList","n","_openBlock","_hoisted_7","order_history_url","tooltip-placement","href","_hoisted_9"],"mappings":"8ZA4FA,MAAKA,EAAaC,EAAa,CAC7BC,WAAY,CACVC,KAAAA,EACAC,OAAAA,EACAC,UAAAA,GAAAC,cAGA,MAAMC,EAAQC,KACRC,MAAEA,EAAOC,QAAAA,EAAAC,OAASA,GAAWC,UAE7BD,EAAOJ,EAAMM,OAAOC,YAOnB,MAAA,CACLL,MAAAA,EACAM,sBAP4B,CAACC,EAAO,QACpC,IAAKA,EAAa,OAAA,KACXC,OAAAC,KAAKF,EAAM,UAAUG,SAM5BC,YAAAA,EACAC,eAAAA,EACAC,KAAAA,MA9GKC,EAAA,CAAAC,MAAM,qFA0B8BC,IAAK,mBAKjCA,IAAK,gBAefC,EAAA,CAAAF,MAAM,QAEJG,EAAA,CAAAH,MAAM,oDAa2BC,IAAK,sIAvCvCG,EAAAC,EAAA,KAAA,CAxBNC,QAAAC,GAAA,KACEC,EAAA,MAAAT,EAAA,CACAU,EAAA,KAAAA,OAqBM,KAAA,KAAA,YAAA,MAZH,MAAAC,EAAA,CAPCC,EAAYC,EAAA,CAEZZ,MAAM,OACLa,MAA4B,OAC7BC,GAAI,CAAJC,KAAI,gBACJvB,mBACCc,QAAAC,GAAA,IAAGE,EAAA,OAAM,GAAA,GAAwC,IAAA,CAAAT,MAAA,4BAAA,QAAA,wBAY1C,mCAV+BC,IAAA,EAAgBe,QAAW,qBAEvD,WAMRT,GAAA,IAAA,CAJEI,EAAOC,EAAA,CACRK,QAAaR,EAAA,KAAAA,EAAA,GAAAS,UAAA,OAAAC,EAAA5B,sBAAA,OAAA6B,EAAAD,EAAAlC,YAAA,EAAAmC,EAAAC,cACbR,MAAA,mBACCP,QAAAC,GAAA,IAAGE,EAAA,OAAM,GAAA,GAA4C,IAAA,CAAAT,MAAA,4BAAA,WAAA,4BAN1DM,QAAAC,GAAA,IAAA,oGAaNE,EASY,MAAAA,EAAA,IAAAD,EAAA,KAAA,CAAAR,MAAA,kBAAA,MAAA,IATAW,EAAcW,EAAqB,4DAC3B,SACQf,GAAA,EAAAgB,KAAAA,KAAa,CAArCJ,EAAAtB,eAAA0B,GAAAC,QACEC,IAAAA,EAAA,KAEOC,YAAAC,EAAA,KAAAC,EAAAT,EAAAtB,eAAA0B,IAAA,CAAAR,EAAAc,KAFgDC,IAAAL,EAAA,OAAA,CAAExB,IAAK4B,4FAOpE,EAAA,CAAA,SACErB,EAAA,MAAAN,EAAA,CACAO,EAAsE,KAAAA,EAAA,GAAAD,EAAA,IAAA,CAAAR,MAAA,kBAAA,uBAAA,IAAnEQ,EAAA,IAAA,KAAA,QAA8CC,EAAA,GAAAD,EAAQ,IAAC,CAAKR,MAAA,4BAAA,SAAA,gCAE7DQ,EAAA,IAAA,KAAA,CACIC,EAAA,KAAAA,EAAA,GAAAD,EAAM,IAAA,CAAAR,MAAe,4BAAkB,eAAA,4DAG3CQ,EAAA,IAAA,KAAA,CAA4CC,EAAA,KACzCA,EAAA,GAAAD,EAAA,IAAA,CAAAR,MAAY,4BAAW,QAAA,iDAI5BQ,EAAA,MAAAL,EAAA,CACAM,EAAA,YAwBMD,EAAA,IAAA,CAAAR,MAAA,aAAA,0BAAA,MAZQ,MAAA+B,EAAA,CAVTpB,EAAWW,GACZC,KAAAJ,EAAAlC,MAAA+C,kBAAuBb,EAAAlC,MAAA+C,kBAAA,MACtBC,oBAAoB,2BACH,SAKX1B,GAAA,EAAAgB,KAAAA,KAAA,CAJFf,EAAiG,IAAA,CACjGR,MAAW,4FACZkC,KAAMf,EAASlC,MAAA+C,kBAAAb,EAAAlC,MAAA+C,kBAAA,uCAKV,EAAA,CAAA,SAAXb,EAAAlC,MAAA+C,mBASWP,IAAAA,EAAA,MAAAU,EAAA,GAPDvB,EAAA,CAAiBK,QAAUR,EAAA,UAAqBS,oEAItDL,MAAA,kBAEAP,QAAAC,GAAA,IAAGE,EAAA,QAAM,IAAA"}