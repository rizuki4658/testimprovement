var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(a,t,o)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,d=(e,a)=>{for(var t in a||(a={}))l.call(a,t)&&i(e,t,a[t]);if(o)for(var t of o(a))s.call(a,t)&&i(e,t,a[t]);return e};import{j as r,f as n,r as c,b as u,aP as m,g as p,y,$ as v,A as _,o as g,t as b,B as h,a1 as f,a2 as C,n as S,w,q as k,ap as q,K as P,D as x,T as V,I as $,L as O,a4 as F,a0 as I,s as D,k as j,M as U,W as N,z as Q,m as E,U as M,S as B,F as A}from"./vendor.9695fe57.js";import{u as G,a as T,b as H,c as R}from"./device.cc6073a7.js";import{i as L}from"./buyback.0f2f20b2.js";import{z,s as K,v as J,_ as W,i as X,e as Y,f as Z,S as ee,b as ae,u as te,Y as oe,Z as le,g as se,O as ie}from"./index.73ae30fa.js";import{S as de}from"./select.a72384b0.js";import{_ as re}from"./badge.809b6147.js";import{_ as ne}from"./auto-complete.d8f9b5eb.js";import{u as ce}from"./index.f40e4a9e.js";import{c as ue,d as me,r as pe,n as ye,f as ve}from"./index.6b6f6369.js";import{C as _e}from"./Currency.2f332742.js";import{A as ge}from"./Accordion.55b8abe4.js";import{B as be}from"./BBTable.2c4b31b0.js";import{D as he}from"./DeviceSearch.02c0c24e.js";import{C as fe,D as Ce}from"./DeviceGolfSpec.3a741466.js";import{B as Se}from"./BSelect.a6409611.js";import{_ as we}from"./fieldset.1864b72f.js";const ke=r("item",{state:()=>({getQuestions:{isLoading:!1,result:void 0}}),getters:{},actions:{getConditionalFormat(e){let a=e.amount_price;return"Mark Down"===e.type&&(a="-"+a),a="Percentage"===e.amount_type?parseInt(a).toString()+"%":e.symbol+a,a},async $getQuestions(e){const a=await z({url:`/v1/pos/condition/${e.id}/questions`,method:"get"});return this.$state.getQuestions.result=a,a}}}),qe=n(null),Pe=c({search:{product:{query:null,result:{products:[],categories:[]}}},loading:{search:{product:!1}}}),xe=()=>{const{searchProduct:e,unsetResult:a}=(()=>{const e=()=>{Pe.search.product.result.categories=[],Pe.search.product.result.products=[]};return{searchProduct:async(a={query:null,buyback_type:null},t=(()=>{}))=>{qe.value&&qe.value.cancel(),qe.value=u.CancelToken.source();try{Pe.loading.search.product=!0;const l=await K.dispatch("product/search",{q:a.query||Pe.search.product.query||null,buyback_type:a.buyback_type||null,cancelToken:qe.value&&qe.value.token});await Promise.all([(o=l,e(),void Object.keys(o).forEach((e=>{"product"===e?Pe.search.product.result.categories=o[e]:Pe.search.product.result.products.push({category_name:e,products:o[e]})}))),J(t)&&t()]).then((()=>{Pe.loading.search.product=!1})).catch((()=>{Pe.loading.search.product=!1}))}catch(l){console.error(l),Pe.loading.search.product=!1}var o},unsetResult:e}})();return{state:Pe.search,loading:Pe.loading.search,searchProduct:e,unsetProductSearchResult:a}};const Ve={key:0,class:"leading-none space-x-2 space-y-1"},$e={key:1,class:"text-grey-02"},Oe={class:"relative"},Fe={key:1,class:"material-icons"},Ie={ref:"list",class:"select-list"},De={class:"select-options"},je={class:"font-normal"};var Ue=W({__name:"SelectCheckbox",props:{modelValue:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},by:String,name:String,placeholder:String},emits:["update:modelValue"],setup(e){const a=e,t=n(),o=m("parent"),l=m("list"),s=c({isShow:!1});t.value=a.modelValue;const i=p((()=>a.by?a.items.filter((e=>t.value.includes(e[a.by]))):t.value)),d=()=>{a.loading||(s.isShow=!s.isShow,D((()=>{(e=>{if(o.value&&l.value){const{left:e,top:a,height:t,width:s}=o.value.getBoundingClientRect(),{height:i}=l.value.getBoundingClientRect(),d=window.innerHeight;let r="";r=`${a+i+80<0||a+i+80>d?a-i-10:a+t+10}px`;const n=`${window.scrollX+e+s/2}px`;l.value.style.width=`${s}px`,l.value.style.top=r,l.value.style.left=n}})()})))},r=e=>{var t,o;a.loading||(null==(o=null==(t=l.value)?void 0:t.contains)?void 0:o.call(t,null==e?void 0:e.target))||(s.isShow=!1)};return y((()=>a.modelValue),(e=>{t.value=e,console.log(e)})),(e,a)=>{const o=v("outside");return _((g(),b("div",{ref:"parent",class:"select",onKeydown:a[2]||(a[2]=I((e=>s.isShow=!1),["esc"]))},[h("div",{class:"select-head",onClick:d},[h("div",null,[t.value.length?(g(),b("div",Ve,[(g(!0),b(f,null,C(i.value,(a=>(g(),S(q(re),null,{default:w((()=>[k(e.$slots,"head",{item:a},void 0,!0)])),_:2},1024)))),256))])):(g(),b("span",$e,P(e.$props.placeholder),1))]),h("div",Oe,[x(V,{name:"fade"},{default:w((()=>[e.loading?(g(),S(q(X),{key:0})):(g(),b("i",Fe,"keyboard_arrow_down"))])),_:1})])]),(g(),S(F,{to:"body"},[x(V,{name:"fade"},{default:w((()=>[_(h("div",Ie,[h("div",De,[(g(!0),b(f,null,C(e.$props.items,(o=>(g(),b("div",{class:"select-option",key:o},[x(Y,{modelValue:t.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>t.value=e),a[1]||(a[1]=a=>e.$emit("update:modelValue",t.value))],value:e.$props.by?o[e.$props.by]:o,class:"w-full"},{default:w((()=>[h("span",je,[k(e.$slots,"option",{item:o},(()=>[$(P(e.$props.name?o[e.$props.name]:o),1)]),!0)])])),_:2},1032,["modelValue","value"])])))),128))])],512),[[O,s.isShow]])])),_:3})]))],32)),[[o,r]])}}},[["__scopeId","data-v-13685ea6"]]);const Ne=j({components:{Input:Z,Select:de,Select2:ee,SelectCheckbox:Ue,Button:ae,AutoComplete:ne,Currency:_e,Accordion:ge,BBTable:be,DeviceSearch:he,ColorSearch:fe,DeviceGolfSpec:Ce,BSelect:Se,Fieldset:we},props:{data:{type:Object,default:()=>({product_name:null,product_id:null,condition_id:null,condition:null,imei_sn:null,is_mac:0,qty:1,price:0,color:null})},dataComputer:{type:Object,default:()=>({processor:null,hardDrive:null,memory:null,graphicsCard:null})},dataGolf:{type:Object},golfSteps:{type:Array,default:()=>[]},device:{type:Object,default:()=>({})},deviceScan:{type:Object,default:void 0},condition:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},autoFill:{type:Boolean,default:!1},hide:{type:Object,default:()=>({})},originalSpecs:{type:Object,default:()=>({})},multiImei:{type:Boolean,default:!1},colors:{type:Object,default:()=>({})},buybackType:{type:String,default:"instore"},isEditable:{type:Boolean,default:!1},withScan:{type:Boolean,default:!1},isDisabledCustomProduct:{type:Boolean,default:!1},isCustomColor:{type:Boolean,default:!1},customColor:{type:String,default:null}},emits:["update:data","update:dataComputer","update:dataGolf","update:condition","update:device","update:colors","update:isCustomProduct","update:isCustomColor","update:customColor"],setup(e,{emit:o}){const{data:l,dataComputer:s,dataGolf:i,isDeviceScan:r,unsetData:u}=G(e.buybackType,e.isEditable),{data:m,loading:v,items:_,action:g,devices:b}=T(e.buybackType,e.isEditable),{items:h,loading:f,action:C,actionCustom:S,unset:w}=H(e.buybackType,e.isEditable),{state:k,loading:q,searchProduct:P,unsetProductSearchResult:x}=xe(),{me:V,isDisableCustomProduct:$}=te(),O=ke(),F=n(1),I=n(null),j=U(e,"originalSpecs"),E=n([]),{colors:M,getColors:B,unset:A}=R(),z=p((()=>{var e;return{id:l.color_id||null,name:(null==(e=(ee||[]).find((e=>e.id===l.color_id)))?void 0:e.name)||null}})),K=n(null),J=n(null),W=n(null),X=n(!1),Y=n(e.golfSteps),Z=n(!1),ee=c([]),ae=n(!1),de=n(!1),re=se((async e=>{try{if((null==e?void 0:e.length)<2&&qe.value)return void ee.splice(0,ee.length);ae.value=!0;const a=await B({search:e,product_id:l.product_id});ee.splice(0,ee.length,...a)}catch(a){console.error("Error fetching colors:",a)}finally{ae.value=!1}}),500),ne=()=>{if(l.qty>0){const e=E.value.length,a=parseInt(l.qty);if(a>e){const t=a-e;for(let e=0;e<t;e++)E.value.push({imei_sn:"",notes:""})}else E.value=E.value.splice(0,a)}},_e=e=>{let a=parseFloat(e.amount_price);return"Percentage"===e.amount_type&&(a=l.condition_price*(a/100)),"Mark Down"===e.type?-1*a:a},ge={condition_id:{required:ue.withMessage("Condition is required",me((()=>!de.value)))},condition:{required:ue.withMessage("Condition is required",me((()=>de.value)))},product_id:{required:ue.withMessage("Item is required",me((()=>!qe.value)))},category_id:{required:ue.withMessage("Item name is required",me((()=>qe.value&&!l.category_id&&!de.value)))},product_name:{required:ue.withMessage("Item name is required",me((()=>qe.value)))},qty:{required:ue.withMessage("Quantity is required",pe),numeric:ye,minValue:ve(1)},price:{required:ue.withMessage("Payout is required",pe),numeric:ye,minValue:ve(0)},questions:{required:me(((e,a)=>a.has_question)),$each:ue.forEach({answer_id:{required:me(((e,a)=>a.is_required))}})}},be=ce(ge,l,{$lazy:!0}),he=se((async()=>{await g()}),800),fe=async e=>{m.q=e,he()},Ce=p((()=>e.withScan&&e.deviceScan||(qe.value?!!(null==l?void 0:l.category_id):!!l.product_id))),Se=p((()=>0==l.is_mac?Ce.value:1==l.is_mac?qe.value?Ce.value:Ce.value&&!!s.processor&&!!s.hardDrive&&!!s.memory&&!!s.graphicsCard:void 0)),we=p((()=>h.value.length<1&&!f.value)),qe=p({get:()=>{var a;return 1==(null==(a=e.data)?void 0:a.is_custom)},set:e=>{o("update:isCustomProduct",e)}}),Pe=p((()=>!!Object.keys(j.value).length&&!qe.value)),Ve=p((()=>Array.isArray(I.value)?I.value.map((e=>ie(e))):[])),$e=p((()=>k.product.result.products)),Oe=p((()=>k.product.result.categories)),Fe=p({get:()=>e.customColor,set:e=>o("update:customColor",e)}),Ie=p({get:()=>({id:l.condition_id,name:l.condition})}),De=()=>{o("update:isCustomColor",!1),o("update:customColor",null)},je=()=>{z.value.id=null},Ue=()=>{u(!0),De(),je()},Ne=async(e,a=!1)=>{const t=1==(null==e?void 0:e.is_custom),s=1==(null==e?void 0:e.is_custom)&&!(null==e?void 0:e.category_id);a||Ue(),s?de.value=!0:(O.$state.getQuestions.result=void 0,I.value=null,t?(l.category_id=e.category_id,l.category_name=e.name):(l.product_name=e.product_name,l.product_id=e.product_id),l.imei_required=e.imei_required,l.is_mac=e.is_mac,l.is_custom=(null==e?void 0:e.is_custom)||0,1!=l.is_mac||t||await Promise.allSettled([g({product_id:l.product_id,type:"Processor"}),g({product_id:l.product_id,type:"Hard Drive"}),g({product_id:l.product_id,type:"Memory"}),g({product_id:l.product_id,type:"Graphics Card"})]),t?await S({category_id:l.category_id,is_mac:l.is_mac}):await C({product_id:l.product_id,is_mac:l.is_mac}),Z.value=(e.hasOwnProperty("golf_step")||e.hasOwnProperty("golf_steps"))&&!t,Z.value&&!a&&(Y.value=e.golf_step),X.value=!0,a&&(Me(),e.is_mac&&!t&&Ee()),o("update:device",e))},Qe=async(e,a)=>{var t,o,i,d;await C({product_id:l.product_id,is_mac:l.is_mac,processor:(null==(t=s.processor)?void 0:t.name)||"",memory:(null==(o=s.memory)?void 0:o.name)||"",hdd:(null==(i=s.hardDrive)?void 0:i.name)||"",graphics:(null==(d=s.graphicsCard)?void 0:d.name)||""}),a&&Me(),l.condition_id&&Be(l.condition_id)},Ee=()=>{for(let[e,a]of Object.entries(s))s[e]=_.hasOwnProperty(e)&&"object"==typeof _[e]&&_[e].filter((e=>e.id==a))[0]||{}},Me=()=>{const a=h.value.length>0&&h.value.filter((a=>a.id===e.data.condition_id||a.name===e.data.condition));1===a.length&&(l.condition_id=a[0].id,l.condition=a[0].name,l.condition_price=a[0].price,l.price=a[0].price,I.value=a[0].rule&&JSON.parse(a[0].rule)||null)},Be=e=>{const a=h.value.filter((a=>a.id===e));l.price=1===a.length&&a[0].price||0},Ae=se((async()=>{await P({query:k.product.query,buyback_type:e.buybackType})}),500),Ge=async()=>{try{if(l.is_custom)return void ee.splice(0,ee.length);ae.value=!0;const e=await B({product_id:l.product_id});ee.splice(0,ee.length,...e)}catch(e){console.error("Error fetching initial colors:",e)}finally{ae.value=!1}};y((()=>({dataComputer:s,dataForm:l})),(()=>{l.product_id&&(F.value=l.is_mac?2:6),l.is_mac&&(s.processor&&(F.value=3),s.hardDrive&&(F.value=4),s.memory&&(F.value=5),s.graphicsCard&&(F.value=6)),l.condition_id&&(F.value=7),o("update:data",l),o("update:dataComputer",s)}),{deep:!0}),y(i,(()=>{o("update:dataGolf",d({},i))})),y((()=>E.value),(a=>{if(e.multiImei){const e=a.map((e=>e.imei_sn)),t=a.map((e=>e.notes));l.imei_sn=JSON.stringify(e),l.notes=JSON.stringify(t)}}),{deep:!0}),y((()=>F.value),(async e=>{6!==e&&7!==e||o("update:colors",M)})),y((()=>e.golfSteps),(e=>Y.value=e)),y((()=>[l.product_id,l.is_custom]),(([e,a])=>{e||a?Ge():ee.splice(0,ee.length)})),N((async()=>{k.product.query="",l.product_id&&Ge(),l.category_id&&!e.autoFill&&(de.value=!0),e.autoFill&&(async()=>{const a=e.data.product_id,t=e.data.price,o=e.data.is_mac;if(qe.value?(Object.assign(l,{product_id:e.data.product_id||-1,condition_id:-1,is_mac:e.data.is_mac||0,qty:e.data.qty,price:e.data.price,imei_sn:e.data.imei_sn,buyback_type:e.data.buyback_type,is_editable:e.data.is_editable,product_name:e.data.product_name,condition:e.data.condition,is_custom:1,color:e.data.color||null,color_id:e.data.color_id||null,is_custom_color:e.data.is_custom_color||null,custom_color:e.data.custom_color||null,category_name:e.data.category_name||null,category_id:e.data.category_id||null,notes:e.data.notes}),k.product.query=e.data.category_name||"",await P()):(k.product.query=e.data.product_name||"",Object.assign(l,e.data),await P()),o&&0==e.data.is_custom){const[t,o,i,r,n]=a.split("-");Object.assign(l,d({},e.data)),Object.assign(s,{processor:o,hardDrive:r,memory:i,graphicsCard:n}),l.product_id=t,await fe(e.data.product_name),await Ne(l,!0),await Qe(0,!0)}else await Ne(l,!0);e.data.color&&(l.color=e.data.color,l.color_id=e.data.color_id),e.dataGolf&&Object.entries(e.dataGolf||{}).forEach((([e,a])=>{i.hasOwnProperty(e)&&(i[e]={selected:a.selected||null,is_custom:a.is_custom||!1})})),Object.assign(l,{price:t}),await O.$getQuestions({id:l.condition_id}),l.questions=[],O.$state.getQuestions.result.forEach((e=>{l.questions.push({question_id:e.id,answer_id:void 0,is_required:e.is_required,question:e,answer:void 0})})),e.data.questions_temp&&e.data.questions_temp.length>0&&l.questions_temp.forEach((e=>{const a=e.answers?e.answers.map((e=>e.answer_id)):[e.answer_id],t=O.$state.getQuestions.result.find((a=>a.id===e.question_id)),o=t.answers.filter((e=>a.includes(e.id))),s={question_id:e.question_id,answer_id:"Single"===t.answer_type?e.answer_id:o.map((e=>e.id)),is_required:t.is_required,question:t,answer:"Single"===t.answer_type?o[0]:o},i=l.questions.findIndex((e=>e.question_id===s.question_id));l.questions[i]=s}))})(),e.multiImei&&ne()})),Q((()=>{x(),O.$state.getQuestions.result=void 0}));return{isFetchedConditions:X,golfSteps:Y,isGolfProduct:Z,stateSearch:k,loadingSearch:q,products:$e,categories:Oe,customColor:Fe,selectedCondition:Ie,isDeviceScan:r,isDisabledPrice:L,refCustomDeviceForm:K,refDeviceSearch:J,assignImeiSnNotes:ne,imeiSnNotes:E,dataOriginalSpecs:j,dataForm:l,dataComputer:s,dataGolf:i,dataSearch:m,devices:b,loading:v,loadingConditions:f,items:_,conditions:h,isSelected:Se,isEmptyCondition:we,isOriginalSpecs:Pe,isCustomProduct:qe,isDisableCustomProduct:$,sanitizedConditionRules:Ve,search:fe,validation:be,currentStep:F,conditionRules:I,select:Ne,selectSpec:Qe,selectCondition:async e=>{l.condition_id=e.id,l.condition_price=e.price,l.price=e.price,l.condition=e.name,I.value=e.rule&&JSON.parse(e.rule)||null,o("update:condition",e),await O.$getQuestions({id:e.id}),l.questions=[],O.$state.getQuestions.result.forEach((e=>{l.questions.push({question_id:e.id,answer_id:void 0,is_required:e.is_required,question:e,answer:void 0})}))},unsetData:u,validate:()=>(be.value.$validate(),!be.value.$invalid),filterNumberAllowDecimal:oe,filterNumber:le,addDeviceQuantity:()=>{l.qty=parseInt(l.qty)+1,ne()},deleteImeiSnNotes:e=>{E.value.splice(e,1),l.qty=parseInt(l.qty)-1},colors:M,selectedColor:z,selectingColor:e=>{z.value=e,l.color=d({},e),l.color_id=z.value.id},handleSearchProduct:Ae,handleSelectProduct:e=>{k.product.query=(null==e?void 0:e.product_name)||(null==e?void 0:e.name)||"",Ne(e)},handleCustomProduct:()=>{l.is_custom=1,qe.value=1,de.value=!0,k.product.query=null,e.withScan&&k.product.query?(k.product.query=e.deviceScan.Name,Ae(),se((()=>{J.value.isCollapse=!0}),500)()):k.product.query="",x(),w(),A(),X.value=!1},handleResetCustomProduct:()=>{l.is_custom=0,qe.value=0,de.value=!1,e.withScan&&e.deviceScan?(k.product.query=e.deviceScan.Name,Ae(),se((()=>{J.value.isCollapse=!0}),500)()):(k.product.query="",x()),Ue()},handleUpdateGolfSpecs:e=>{Object.entries(e||{}).forEach((([e,a])=>{i.hasOwnProperty(e)&&(i[e].selected=a.selected,i[e].is_custom=a.is_custom)}))},resetCustomColor:()=>{je(),De()},doSearch:re,handleUpdateColor:async e=>{const{id:a}=e||{};l.color_id=a,l.color=e},colorOptions:ee,loadingSearchColor:ae,handleCustomColor:async()=>{o("update:isCustomColor",!0),await D(),W.value.focus()},initializeColors:Ge,refCustomColor:W,isFullCustomProduct:de,conditionStore:O,conditionalQuestionShown:e=>{return O.getConditionalFormat((o=d({},e),l={symbol:V.value.currency_symbol},a(o,t(l))));var o,l},onChangeAnswer:(e,a)=>{l.questions[a].answer?"Single"===e.answer_type?l.questions[a].answer_id=l.questions[a].answer.id:l.questions[a].answer_id=l.questions[a].answer.map((e=>e.id)):l.questions[a].answer_id=void 0,l.price=parseFloat(l.condition_price)+l.questions.reduce(((e,a)=>"object"==typeof a.answer_id?e+a.answer.reduce(((e,a)=>e+_e(a)),0):a.answer_id?e+_e(a.answer):e),0)}}}}),Qe={key:0,class:"grid grid-cols-2"},Ee={class:"text-black font-normal text-md mb-1"},Me={class:"text-black font-normal text-md mb-1"},Be={class:"text-black font-normal text-md mb-1"},Ae={class:"text-black font-normal text-md mb-1"},Ge={class:"text-black font-normal text-md mb-1"},Te={class:"text-black font-normal text-md mb-1"},He={key:1,class:"grid grid-cols-2"},Re={class:"text-black font-normal text-md mb-1"},Le={class:"text-black font-normal text-md mb-1"},ze={class:"block"},Ke={class:"block my-4"},Je={key:1,class:"block my-4"},We={key:0,class:"block my-4"},Xe={key:1,class:"block my-4"},Ye={key:2,class:"block my-4"},Ze={key:3,class:"block my-4"},ea={key:4},aa={key:0,class:"block my-4"},ta={class:"block my-4"},oa={class:"block my-4"},la={key:2,class:"mt-4 text-grey-04"},sa={key:3,class:"mt-6"},ia=["innerHTML"],da={key:1},ra=["innerHTML"],na={key:1,class:"block my-4"},ca={key:0,class:"font-normal text-grey-02"},ua=["innerHTML","value"],ma={class:"block my-4"},pa={class:"block my-4"},ya={key:2,class:"block my-4"},va={class:"table-fixed w-full mt-6 border-b border-grey-01"},_a={class:"px-2 py-3"},ga={class:"px-2 py-3"},ba={class:"flex"};var ha=W(Ne,[["render",function(e,a,t,o,l,s){var i,d,r,n,c,u,m,p,y;const k=E("Accordion"),q=E("Button"),V=E("DeviceSearch"),O=E("Input"),F=E("Select"),D=E("DeviceGolfSpec"),j=E("ColorSearch"),U=E("BSelect"),N=E("router-link"),Q=E("SelectCheckbox"),G=E("Fieldset"),T=E("Currency"),H=v("loading");return g(),b(f,null,[e.isOriginalSpecs?(g(),S(k,{key:0,label:"Original Specs",block:""},{default:w((()=>[1==e.dataOriginalSpecs.is_mac?(g(),b("div",Qe,[h("div",null,[h("p",Ee,[a[12]||(a[12]=h("span",{class:"font-semibold text-grey-04"},"Item Name: ",-1)),$(" "+P(e.dataOriginalSpecs.product_name||"-"),1)]),h("p",Me,[a[13]||(a[13]=h("span",{class:"font-semibold text-grey-04"},"Processor: ",-1)),$(" "+P(e.dataOriginalSpecs.processor||"-"),1)]),h("p",Be,[a[14]||(a[14]=h("span",{class:"font-semibold text-grey-04"},"Hard Drive: ",-1)),$(" "+P(e.dataOriginalSpecs.hard_drive||"-"),1)]),h("p",Ae,[a[15]||(a[15]=h("span",{class:"font-semibold text-grey-04"},"Memory: ",-1)),$(" "+P(e.dataOriginalSpecs.memory||"-"),1)]),h("p",Ge,[a[16]||(a[16]=h("span",{class:"font-semibold text-grey-04"},"Graphic Card: ",-1)),$(" "+P(e.dataOriginalSpecs.graphics||"-"),1)])]),h("div",null,[h("p",Te,[a[17]||(a[17]=h("span",{class:"font-semibold text-grey-04"},"Date Added: ",-1)),$(" "+P(e.dataOriginalSpecs.created_at||"-"),1)])])])):(g(),b("div",He,[h("div",null,[h("p",Re,[a[18]||(a[18]=h("span",{class:"font-semibold text-grey-04"},"Item Name: ",-1)),$(" "+P(e.dataOriginalSpecs.product_name||"-"),1)])]),h("div",null,[h("p",Le,[a[19]||(a[19]=h("span",{class:"font-semibold text-grey-04"},"Date Added: ",-1)),$(" "+P(e.dataOriginalSpecs.created_at||"-"),1)])])]))])),_:1})):M("",!0),h("div",ze,[e.isCustomProduct?(g(),S(q,{key:0,onClick:e.handleResetCustomProduct,view:"smooth",color:"teal",dense:"",type:"pill",class:"mb-6"},{default:w((()=>a[20]||(a[20]=[$("Custom Item "),h("i",{class:"material-icons icon-xxs ml-1"},"close",-1)]))),_:1},8,["onClick"])):M("",!0)]),h("div",Ke,[e.isFullCustomProduct?M("",!0):(g(),S(V,{key:0,ref:"refDeviceSearch",query:e.stateSearch.product.query,"onUpdate:query":a[0]||(a[0]=a=>{e.dataSearch.q=a,e.stateSearch.product.query=a}),onSearch:e.handleSearchProduct,onSelect:e.handleSelectProduct,onCustomProduct:e.handleCustomProduct,error:e.validation.category_id.$invalid,products:e.products,categories:e.categories,loading:e.loadingSearch.product,"show-category-only":e.isCustomProduct,"is-disabled-custom-product":e.isDisableCustomProduct},null,8,["query","onSearch","onSelect","onCustomProduct","error","products","categories","loading","show-category-only","is-disabled-custom-product"])),(g(!0),b(f,null,C(e.validation.product_id.$errors,((e,a)=>(g(),b("small",{class:"text-red-base block my-2",key:a},P(e.$message)+". ",1)))),128)),(g(!0),b(f,null,C(e.validation.category_id.$errors,((e,a)=>(g(),b("small",{class:"text-red-base block my-2",key:a},P(e.$message)+". ",1)))),128))]),e.isCustomProduct?(g(),b("div",Je,[x(O,{modelValue:e.dataForm.product_name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.dataForm.product_name=a),label:e.isFullCustomProduct?"Item Name":"Custom Item Name",type:"text",placeholder:e.isFullCustomProduct?"Input item name":"Input your custom item name",class:"w-full",disabled:e.disabled,view:e.validation.product_name.$invalid?"danger":"default"},null,8,["modelValue","label","placeholder","disabled","view"]),(g(!0),b(f,null,C(e.validation.product_name.$errors,((e,a)=>(g(),b("small",{class:"text-red-base block my-2",key:a},P(e.$message)+". ",1)))),128))])):M("",!0),1!=e.dataForm.is_mac||e.isCustomProduct?M("",!0):(g(),b(f,{key:2},[e.currentStep>=2?(g(),b("div",We,[a[21]||(a[21]=h("label",null,"Processor",-1)),x(F,{modelValue:e.dataComputer.processor,"onUpdate:modelValue":a[2]||(a[2]=a=>e.dataComputer.processor=a),name:"name",placeholder:"Select Processor",items:e.items.processor,loading:e.loading.processor,onInput:e.selectSpec,class:"w-full"},null,8,["modelValue","items","loading","onInput"])])):M("",!0),e.currentStep>=3?(g(),b("div",Xe,[a[22]||(a[22]=h("label",null,"Hard Drive",-1)),x(F,{modelValue:e.dataComputer.hardDrive,"onUpdate:modelValue":a[3]||(a[3]=a=>e.dataComputer.hardDrive=a),name:"name",placeholder:"Select Hard Drive",items:e.items.hardDrive,loading:e.loading.hardDrive,onInput:e.selectSpec,class:"w-full"},null,8,["modelValue","items","loading","onInput"])])):M("",!0),e.currentStep>=4?(g(),b("div",Ye,[a[23]||(a[23]=h("label",null,"Memory",-1)),x(F,{modelValue:e.dataComputer.memory,"onUpdate:modelValue":a[4]||(a[4]=a=>e.dataComputer.memory=a),name:"name",placeholder:"Select Memory",items:e.items.memory,loading:e.loading.memory,onInput:e.selectSpec,class:"w-full"},null,8,["modelValue","items","loading","onInput"])])):M("",!0),e.currentStep>=5?(g(),b("div",Ze,[a[24]||(a[24]=h("label",null,"Graphics Card",-1)),x(F,{modelValue:e.dataComputer.graphicsCard,"onUpdate:modelValue":a[5]||(a[5]=a=>e.dataComputer.graphicsCard=a),name:"name",placeholder:"Select Graphics Card",items:e.items.graphicsCard,loading:e.loading.graphicsCard,onInput:e.selectSpec,class:"w-full"},null,8,["modelValue","items","loading","onInput"])])):M("",!0)],64)),e.isGolfProduct?(g(),S(D,{key:3,onUpdateSpecs:e.handleUpdateGolfSpecs,item:{product_id:e.dataForm.product_id},specs:e.dataGolf,steps:e.golfSteps},null,8,["onUpdateSpecs","item","specs","steps"])):M("",!0),e.isSelected||e.isCustomProduct?(g(),b("div",ea,[(null==(i=e.hide)?void 0:i.imei_sn)||e.multiImei||!e.dataForm.imei_required?M("",!0):(g(),b("div",aa,[x(O,{modelValue:e.dataForm.imei_sn,"onUpdate:modelValue":a[6]||(a[6]=a=>e.dataForm.imei_sn=a),label:"IMEI/SN",class:"w-full",onKeypress:a[7]||(a[7]=I(B((()=>{}),["prevent"]),["space"])),disabled:e.disabled},null,8,["modelValue","disabled"])])),h("div",ta,[e.isCustomColor||e.isFullCustomProduct?(g(),b(f,{key:0},[a[25]||(a[25]=h("label",null,"Color",-1)),x(O,{ref:"refCustomColor",modelValue:e.customColor,"onUpdate:modelValue":a[8]||(a[8]=a=>e.customColor=a),block:"",placeholder:e.isFullCustomProduct?"Input color":"Input your custom color",clearable:!e.isFullCustomProduct,"clearable-fixed":!0,onClear:e.resetCustomColor},null,8,["modelValue","placeholder","clearable","onClear"])],64)):(g(),S(j,{key:1,items:e.colorOptions,loading:e.loadingSearchColor,modelValue:(null==(d=e.data.color)?void 0:d.name)||e.selectedColor.name,productId:null==(r=e.dataForm)?void 0:r.product_id,isCustomItem:e.isCustomProduct,onSearch:e.doSearch,onSelect:e.handleUpdateColor,onCustomColor:e.handleCustomColor},null,8,["items","loading","modelValue","productId","isCustomItem","onSearch","onSelect","onCustomColor"]))]),h("div",oa,[e.isFullCustomProduct?(g(),b(f,{key:0},[x(O,{modelValue:e.dataForm.condition,"onUpdate:modelValue":a[9]||(a[9]=a=>e.dataForm.condition=a),block:"",placeholder:"Input condition",label:"Condition",view:e.validation.condition.$invalid?"danger":"default"},null,8,["modelValue","view"]),(g(!0),b(f,null,C(e.validation.condition.$errors,((e,a)=>(g(),b("small",{class:"text-red-base block my-2",key:a},P(e.$message)+". ",1)))),128))],64)):(g(),b(f,{key:1},[a[26]||(a[26]=h("label",null,"Condition",-1)),_(x(U,{"model-value":e.selectedCondition,"onUpdate:modelValue":e.selectCondition,by:"id",name:"name",placeholder:"Select Condition",loading:e.loadingConditions,items:e.conditions,disabled:e.disabled||e.isEmptyCondition,error:e.validation.condition_id.$invalid,block:""},null,8,["model-value","onUpdate:modelValue","loading","items","disabled","error"]),[[H,(null==(n=e.loadingSearch)?void 0:n.product)||e.loadingConditions]])],64)),(g(!0),b(f,null,C(e.validation.condition_id.$errors,((e,a)=>(g(),b("small",{class:"text-red-base block my-2",key:a},P(e.$message)+". ",1)))),128)),e.isEmptyCondition&&e.isFetchedConditions?(g(),b("p",la,[a[28]||(a[28]=$("No conditions active. Please go to ")),x(N,{to:{name:"settingCondition"}},{default:w((()=>a[27]||(a[27]=[$("Conditions")]))),_:1}),a[29]||(a[29]=$(" and set up your conditions first."))])):M("",!0),e.isFullCustomProduct?M("",!0):(g(),b("div",sa,[h("ul",null,[(g(!0),b(f,null,C(e.sanitizedConditionRules,((e,t)=>(g(),b("li",{key:t},[0===t?(g(),b("p",{key:0,innerHTML:e,class:"font-semibold text-grey-04 mb-4"},null,8,ia)):(g(),b("div",da,[a[30]||(a[30]=h("i",{class:"material-icons text-teal-04 text-lg mr-4"},"assignment_turned_in",-1)),h("span",{class:"line-text",innerHTML:e},null,8,ra)]))])))),128))])]))]),e.conditionStore.$state.getQuestions.result&&e.conditionStore.$state.getQuestions.result.length?(g(),b("div",na,[x(G,null,{label:w((()=>a[31]||(a[31]=[$(" Conditional Question ")]))),default:w((()=>[e.conditionStore.$state.getQuestions.result.length>0?(g(!0),b(f,{key:0},C(e.conditionStore.$state.getQuestions.result,((t,o)=>(g(),b("div",{key:t.id,class:"block space-y-1 mb-2"},[h("label",null,[$(P(t.question)+" ",1),t.is_required?M("",!0):(g(),b("span",ca,"(Optional)"))]),e.dataForm.questions[o]?(g(),b(f,{key:0},["Single"===t.answer_type?(g(),S(F,{key:0,modelValue:e.dataForm.questions[o].answer,"onUpdate:modelValue":[a=>e.dataForm.questions[o].answer=a,a=>e.onChangeAnswer(t,o)],items:t.answers,name:"answer",placeholder:"Select Answer","max-height":"300px",style:{display:"block"},"disabled-default-option":"",block:""},{"default-option":w((()=>a[32]||(a[32]=[h("option",{class:"select__option",value:"",selected:""},"Choose the answer",-1)]))),option:w((({item:a})=>[(g(),b("option",{class:"select__option",innerHTML:`${a.answer} (${e.conditionalQuestionShown(a)})`,value:a,key:a.id},null,8,ua))])),_:2},1032,["modelValue","onUpdate:modelValue","items"])):(g(),S(Q,{key:1,modelValue:e.dataForm.questions[o].answer,"onUpdate:modelValue":[a=>e.dataForm.questions[o].answer=a,a=>e.onChangeAnswer(t,o)],items:t.answers,placeholder:"Choose the answer",name:"answer"},{head:w((({item:a})=>[$(P(a.answer)+" ("+P(e.conditionalQuestionShown(a))+") ",1)])),option:w((({item:a})=>[$(P(a.answer)+" ("+P(e.conditionalQuestionShown(a))+") ",1)])),_:2},1032,["modelValue","onUpdate:modelValue","items"])),e.validation.questions.$error?(g(!0),b(f,{key:2},C(e.validation.questions.$each.$response.$errors[o].answer_id,((e,a)=>(g(),b("small",{class:"text-red-base block my-2",key:a},P(e.$message)+". ",1)))),128)):M("",!0)],64)):M("",!0)])))),128)):M("",!0)])),_:1})])):M("",!0),h("div",ma,[a[33]||(a[33]=h("label",null,"Payout",-1)),(null==(c=e.hide)?void 0:c.price)?M("",!0):(g(),S(O,{key:0,modelValue:e.dataForm.price,"onUpdate:modelValue":a[10]||(a[10]=a=>e.dataForm.price=a),rtl:!0,class:"w-full",disabled:e.disabled&&!e.isFullCustomProduct||e.isEmptyCondition&&!e.isFullCustomProduct||e.isDisabledPrice&&!e.isFullCustomProduct,view:e.validation.price.$invalid?"danger":"default",currency:!0,icon:"","icon-block":""},{icon:w((()=>[x(T,{"only-symbol":"",class:"text-xl"})])),_:1},8,["modelValue","disabled","view"])),(g(!0),b(f,null,C(e.validation.price.$errors,((e,a)=>(g(),b("small",{class:"text-red-base block my-2",key:a},P(e.$message)+". ",1)))),128))]),h("div",pa,[(null==(u=e.hide)?void 0:u.qty)?M("",!0):(g(),S(O,{key:0,modelValue:e.dataForm.qty,"onUpdate:modelValue":a[11]||(a[11]=a=>e.dataForm.qty=a),type:"number",min:"1",onKeypress:e.filterNumber,onChange:e.assignImeiSnNotes,label:"Qty",class:"w-full",disabled:e.disabled||e.isEmptyCondition&&!e.isFullCustomProduct||e.isDeviceScan,view:e.validation.qty.$invalid?"danger":"default"},null,8,["modelValue","onKeypress","onChange","disabled","view"])),(g(!0),b(f,null,C(e.validation.qty.$errors,((e,a)=>(g(),b("small",{class:"text-red-base block my-2",key:a},P(e.$message)+". ",1)))),128))]),e.isFullCustomProduct&&!(null==(m=e.hide)?void 0:m.imei_sn)&&e.isEmptyCondition&&!(null==(p=e.hide)?void 0:p.qty)||!e.isEmptyCondition&&e.imeiSnNotes.length&&!(null==(y=e.hide)?void 0:y.imei_sn)&&e.multiImei&&e.dataForm.imei_required?(g(),b("div",ya,[h("table",va,[a[35]||(a[35]=h("thead",null,[h("tr",{class:"bg-grey-01"},[h("th",{class:"p-4 text-left"},"IMEI/SN"),h("th",{class:"p-4 text-left"},"Notes")])],-1)),h("tbody",null,[(g(!0),b(f,null,C(e.imeiSnNotes,((t,o)=>(g(),b("tr",{key:o},[h("td",_a,[x(O,{modelValue:t.imei_sn,"onUpdate:modelValue":e=>t.imei_sn=e,block:""},null,8,["modelValue","onUpdate:modelValue"])]),h("td",ga,[h("div",ba,[x(O,{modelValue:t.notes,"onUpdate:modelValue":e=>t.notes=e,block:"",class:A(0!==o&&"mr-4")},null,8,["modelValue","onUpdate:modelValue","class"]),0!==o?(g(),S(q,{key:0,onClick:a=>e.deleteImeiSnNotes(o),color:"red",dense:"",view:"smooth"},{default:w((()=>a[34]||(a[34]=[h("i",{class:"material-icons"},"delete",-1)]))),_:2},1032,["onClick"])):M("",!0)])])])))),128))])]),e.isDeviceScan?M("",!0):(g(),S(q,{key:0,onClick:e.addDeviceQuantity,class:"mt-6",block:"",color:"teal",view:"smooth"},{default:w((()=>a[36]||(a[36]=[h("i",{class:"material-icons mr-3"},"add",-1),$("Add New Quantity")]))),_:1},8,["onClick"]))])):M("",!0)])):M("",!0)],64)}],["__scopeId","data-v-653d0bf8"]]);export{ha as D,Ue as S,xe as a,ke as u};
