import{_ as e,u as a,b as t,V as o}from"./index.35a87af4.js";import{k as s,m as i,o as r,n,aO as c,w as m,q as l,O as u,f as d,x as p,aN as f}from"./vendor.9695fe57.js";import{u as v}from"./components.aaee2f92.js";import{u as b}from"./invoice.6d6d599e.js";import{a as j}from"./customer.34c8e0c9.js";import{C}from"./card.85454cb1.js";import{S as x}from"./stepper.ea3cdf93.js";import{I as _}from"./Detail.8b2334c1.js";import{I as g}from"./Search.bb2e6868.js";import{B as I}from"./Breadcrumb.a04d3c7a.js";import{C as h}from"./Customer.0196d31e.js";import"./LoadingCard.fae900cb.js";import"./date.f86face7.js";import"./format.f845777a.js";import"./select.5dc6bc5e.js";import"./tab.8e54d1d1.js";import"./breadcrumb.f242deab.js";import"./Form.155b63ab.js";import"./index.f40e4a9e.js";import"./index.54844a74.js";import"./index.6b6f6369.js";import"./InputPhone.8995f9a6.js";import"./SelectCountry.e091963d.js";import"./setting.598aa5c3.js";var y=e(s({components:{Breadcrumb:I},setup:()=>({breadcrumb:[{text:"Invoice",to:{name:"invoice"}},{text:"Add Invoice"}]})}),[["render",function(e,a,t,o,s,u){const d=i("Breadcrumb",!0);return r(),n(d,{class:"mb-8 mt-4",pageTitle:"Add Invoice",backTo:{name:"invoice"},items:e.breadcrumb},c({_:2},[e.$slots.buttonStep?{name:"right",fn:m((()=>[l(e.$slots,"buttonStep")])),key:"0"}:void 0]),1032,["items"])}]]);var S=s({components:{CustomerTable:f((()=>o((()=>import("./Table.f00d74e3.js")),["/assets/Table.f00d74e3.js","/assets/Table.d5ec71dd.css","/assets/vendor.9695fe57.js","/assets/customer.34c8e0c9.js","/assets/index.35a87af4.js","/assets/index.b794d288.css","/assets/date.f86face7.js","/assets/format.f845777a.js","/assets/tab.8e54d1d1.js","/assets/TextLimit.40527315.js","/assets/TextLimit.8c8111fb.css","/assets/index.7b4b2419.js","/assets/CustomTableExport.40209bc9.js","/assets/CustomTableExport.3d063882.css","/assets/index.f40e4a9e.js","/assets/index.6b6f6369.js","/assets/vue-draggable-next.esm-bundler.4467bcb1.js","/assets/fieldset.3185be27.js","/assets/attention.c511405b.js","/assets/BTable.a53f5790.js","/assets/BTable.1c3f3813.css","/assets/FilterDropdown.c17f480f.js","/assets/FilterDropdown.846268db.css","/assets/BDropdown.8baf076c.js","/assets/BDropdown.5a12d6a5.css","/assets/Input.f4f0e4da.js","/assets/Input.2dc64cac.css"]))),InvoiceDetail:_,InvoiceDeviceSearch:g},setup(){const e=u();a();const{genSuspense:o}=v(),s=d(1),{dataCustomer:i,dataInvoice:r,dataDevice:n,loading:c,action:m}=b("invoice"),{data:l,action:f,loading:I}=j(),S=d(!1),k=async e=>{i.customer_id=e.customer_id||e.id,i.customer_email=e.email,i.customer_firstname=e.first_name,i.customer_lastname=e.last_name,s.value=2},w=e=>{Object.assign(l,e)},D=()=>p(t,{color:"teal",loading:I.value,onClick:()=>(async()=>{S.value.refChildComponent.validate()&&await f((async e=>{await k(e)}))})()},{default:()=>"Continue"}),T=d(!1),B=()=>{if(1===s.value)return[p(h,{onData:w,onChoose:k,ref:S,choose:!0,onChange:e=>T.value="CustomerForm"===e}),p("div",{class:["flex","items-center","justify-end"]})];{let e;return 2===s.value?e=p(_,{data:r}):3===s.value&&(e=o({component:g,props:{selected:n.value,onChoose:e=>{const a=n.value.findIndex((a=>a.id===e.id));-1===a?n.value.push(e):n.value.splice(a,1)}}})),[p(C,{class:"mb-4"},{default:()=>e})]}},O=()=>p(t,{view:"outlined",color:"teal",onClick:()=>s.value--},{default:()=>"Previous"});return()=>[p(y,{},{buttonStep:()=>1===s.value?T.value&&D()||"":2===s.value?[p("div",{class:"flex items-center justify-between gap-x-2"},{default:()=>[O(),p(t,{color:"teal",loading:c.value,onClick:async a=>{await m((a=>{e.push({name:"invoiceDetail",params:{buybackId:a.data.box_id},query:{new:!0}})}))}},{default:()=>"Continue"})]})]:[p("div",{class:"flex items-center justify-between gap-x-2"},{default:()=>[O(),p(t,{color:"teal",loading:c.value,onClick:()=>s.value++},{default:()=>"Next"})]})]}),p(C,{},{default:()=>[p(x,{activeStep:s.value,steps:["Customer","Invoice Details"],class:"mb-16",color:"teal"}),B()]})]}});export{S as default};
