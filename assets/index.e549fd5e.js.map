{"version":3,"file":"index.e549fd5e.js","sources":["../../src/components/BulkPriceEditor/SyncPricing.vue","../../src/components/BulkPriceEditor/Device/Input.vue","../../src/components/BulkPriceEditor/Mapping/FormMethod/Methods.vue","../../src/components/BulkPriceEditor/Mapping/FormMethod/EmptyCondition.vue","../../src/components/BulkPriceEditor/Mapping/FormMethod/Conditions.vue","../../src/components/BulkPriceEditor/Mapping/FormMethod/index.vue","../../src/composable/setting/conditions/category.js","../../src/composable/setting/conditions/condition.js","../../src/composable/setting/conditions/index.js","../../src/components/Condition/Category/index.vue","../../src/components/Condition/Modal/CautionSource.vue","../../src/components/Condition/Mapping/Source.vue","../../src/components/Condition/Preview.vue","../../src/components/Condition/Modal/Preview.vue","../../src/components/Condition/Modal/Delete.vue","../../src/components/Condition/FormPreview.vue","../../src/components/Condition/Modal/Condition.vue","../../src/components/Condition/Mapping/List.vue","../../src/components/Condition/Mapping/index.vue","../../src/components/Condition/Form.vue","../../src/components/BulkPriceEditor/Mapping/FormCondition.vue","../../src/components/BulkPriceEditor/Device/Sources.vue","../../src/components/BulkPriceEditor/Device/List.vue","../../src/components/BulkPriceEditor/Device/Pricing.vue","../../src/components/BulkPriceEditor/Device.vue","../../src/components/BulkPriceEditor/Device/ConditionGroupList.vue","../../src/components/BulkPriceEditor/Computer/Table.vue","../../src/components/BulkPriceEditor/Computer.vue","../../src/components/BulkPriceEditor/MassPricing/Search.vue","../../src/components/BulkPriceEditor/MassPricing/Rules.vue","../../src/components/BulkPriceEditor/MassPricing/Conditions.vue","../../src/components/BulkPriceEditor/MassPricing/index.vue","../../src/components/BulkPriceEditor/PriceUpload/PriceUploadDownloadTemplate.vue","../../src/components/BulkPriceEditor/PriceUpload/PriceUploadImportData.vue","../../src/components/BulkPriceEditor/PriceUpload/PriceUploadInProgress.vue","../../src/components/BulkPriceEditor/PriceUpload/index.vue","../../src/views/setting/bulk-price-editor/tab/manufacturer/index.vue","../../src/composable/alerts.js","../../src/views/setting/bulk-price-editor/tab/manufacturer/index.js"],"sourcesContent":["<template v-if=\"!disabledAction.priceUploadByProgress\">\n  <ElCheckbox\n    v-if=\"disabledAction.priceUploadByProgress\"\n    v-model=\"synced\" \n    disabled\n    color=\"teal\" \n    :true-label=\"1\" \n    :false-label=\"0\" \n    v-loading=\"isLoading\" \n  />\n  <Tooltip v-else-if=\"available\" placement=\"top\" :disabled=\"!computedTooltip && !isNotSyncable\">\n    <div>\n      <ElCheckbox\n        v-model=\"synced\" \n        :disabled=\"isNotSyncable || (disallowSync && !synced)\" \n        color=\"teal\" \n        :indeterminate=\"isIndeterminateState ? true : false\"\n        :true-label=\"1\" \n        :false-label=\"0\" \n        v-loading=\"isLoading\" \n        @change=\"handleChange\" \n      />\n    </div>\n    <template #content>\n      <div class=\"text-sm\">\n        <p v-if=\"!isNotSyncable && item.total_device_manual && !item.total_device_sync\">\n          All Items Manually Priced\n        </p>\n        <p v-else-if=\"!isNotSyncable && !item.total_device_manual && item.total_device_sync\">\n          All items in this category are price-synced.\n        </p>\n        <p v-else-if=\"!isNotSyncable && item.total_device_manual && item.total_device_sync\">\n          <!-- {{ item.total_device_sync }}\n          {{ item.total_device_sync > 1 ? 'Items' : 'Item' }} price synced,\n          {{ item.total_device_manual }}\n          {{ item.total_device_manual > 1 ? 'Items' : 'Item' }} manually priced -->\n          Not all items in this category are price-synced.\n        </p>\n        <p class=\"w-60 text-xs\" v-else>\n          There are currently no pricing sources available for this item. You can price it manually by using the dropdown menu.\n        </p>\n      </div>\n    </template>\n  </Tooltip>\n  <Tooltip v-else placement=\"top\" :disabled=\"priceSharing\">\n    <ElCheckbox color=\"teal\" true-label=\"1\" false-label=\"0\" disabled v-loading=\"isLoading\" />\n    <template #content>\n      <div v-if=\"!priceScraper\" class=\"w-60 text-xs\">There are currently no pricing sources available for this item. You can price it manually by using the dropdown menu.</div>\n      <div v-else class=\"w-60 text-xs\">Accounts designated as scrapers cannot sync with the pricing source.</div>\n    </template>\n  </Tooltip>\n  <div v-if=\"!priceSharing && !disabledAction.priceUploadByProgress\">\n    <Modal\n      v-model=\"modal\"\n      hide-header\n      hide-footer\n      size=\"xs\">\n      <div class=\"flex items-center justify-center flex-col gap-y-8 my-6 -mx-8\">\n        <img src=\"@/assets/icon/attention-orange.svg\" />\n        <div class=\"space-y-2 text-center max-w-lg\">\n          <p class=\"font-semibold text-xl\">{{ computedWording.title }}</p>\n          <p class=\"text-sm text-grey-03\">\n            {{ computedWording.desc }}\n          </p>\n          <p\n            v-if=\"!item.is_child && item.total_device_manual && item.total_device_sync\"\n            class=\"text-sm text-grey-03\">\n            Currently\n            <b>\n              {{ item.total_device_sync }}\n              {{ item.total_device_sync > 1 ? 'Items' : 'Item' }} price synced,\n              {{ item.total_device_manual }}\n              {{ item.total_device_manual > 1 ? 'Items' : 'Item' }} manually priced\n            </b>\n          </p>\n        </div>\n        <div class=\"flex items-center justify-center gap-x-4\">\n          <Button\n            color=\"teal\"\n            @click=\"handleConfirm\">\n            Yes, {{ synced == 1 ? 'Enable' : 'Disable' }}\n          </Button>\n          <Button\n            color=\"teal\"\n            view=\"smooth\"\n            @click=\"handleCancel\">\n            Cancel\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref, watch, onMounted } from 'vue'\nimport { useUser } from 'composable/user'\nimport { useRoute } from 'vue-router'\nimport { useDevice } from 'composable/pricing'\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport { ElCheckbox } from 'element-plus'\n\nconst props = defineProps({\n  is_available: Number | String,\n  loading: {\n    type: Boolean,\n    default: false\n  },\n  isSyncable: Number | String,\n  modelValue: {\n    type: [Number, Boolean, String],\n    default: 0\n  },\n  tooltip: {\n    type: Boolean,\n    default: false\n  },\n  item: {\n    type: Object,\n    default: () => undefined\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  },\n  priceSharing: {\n    type: Boolean,\n    default: false\n  },\n  priceScraper: {\n    type: Boolean,\n    default: false\n  },\n  disabledAction: {\n    type: Object,\n    default: undefined\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'loaded-price'])\n\n/* Remove This If API give parameter if prices exist or more than Zero */\nconst route = useRoute()\nconst {\n  loading: loadingPrice,\n  actionAll,\n  actionSetLevel,\n  actionManualPrice\n} = useDevice(route.params.tab)\n/* End Of Remove This If API give parameter if prices exist or more than Zero */\n\nconst wordings = ref({\n  title: {\n    disable_category: 'Disable Price Sync for all Items in this Category?',\n    disable_child: 'Disable Price Sync for this Items?',\n    enable_category: 'Enable Price Sync for all Items in this Category?',\n    enable_child: 'Enable Price Sync for this Items'\n  },\n  description: {\n    disable_category: 'Warning! Proceeding will require manual price updates for all items in this category. You will retain the most recently synced prices until then.',\n    disable_child: 'Warning! Proceeding will require manual price updates for this items. You will retain the most recently synced prices until then.',\n    enable_category: 'Warning! If you proceed, any manually set prices for items in this category will be overridden.',\n    enable_child: 'Warning! If you proceed, any manually set prices for this items will be overridden.'\n  }\n})\n\nconst computedWording = computed(() => {\n  if (synced.value == 1) {\n    return {\n      desc: props.item?.is_child ? wordings.value.description.enable_child : wordings.value.description.enable_category,\n      title: props.item?.is_child ? wordings.value.title.enable_child : wordings.value.title.enable_category\n    }\n  }\n\n  return {\n    desc: props.item?.is_child ? wordings.value.description.disable_child : wordings.value.description.disable_category,\n    title: props.item?.is_child ? wordings.value.title.disable_child : wordings.value.title.disable_category\n  }\n})\n\nconst computedTooltip = computed(() => {\n  props.tooltip && (props.item.total_device_manual > 0 || props.item.total_device_sync > 0)\n})\n\nconst available = computed(() => props.modelValue ? 1 : props.isSyncable)\nconst { me } = useUser()\nconst disallowSync = computed(() => me.value.is_price_sharing == 3)\nconst subDomainLinked = computed(() => me.value.sub_domain_linked)\nconst modal = ref(false)\nconst synced = ref(props.modelValue)\nconst priceExist = ref([]) // Remove This If API give parameter if prices exist or more than Zero\n\nconst isIndeterminateState = computed(() => {\n  if (!props.item) return false\n  const level = actionSetLevel(props.item)\n  return (level === 'device' || props.item.model_as_device) &&\n    props.item.total_device_sync > 0 &&\n    props.item.total_device_manual > 0\n})\n\nconst isLoading = computed(() =>\n  props.loading || loadingPrice.all || loadingPrice.manual_price\n)\n\nconst isNotSyncable = computed(() => {\n  if (subDomainLinked.value !== null) {\n    return props.item?.is_syncable == 0\n  }\n  return !subDomainLinked.value && (props.item?.is_syncable == 0 && !props.item?.is_price_sync)\n})\n\nconst handleChange = async (value) => {\n  let isManualExist = false\n  if (value == 1 && (props.item?.sync_with_multiple_source || (!isIndeterminateState.value && !props.item?.sync_with_multiple_source))) {\n    await actionManualPrice({ category_id: props.item.id }, (err, res) => {\n      if (!err) isManualExist = res?.is_price_exist ?? false\n    })\n  }\n  synced.value = value\n\n  const conditionSubValue = !props.item?.is_price_sync && props.item?.conditions?.length\n    ? [...props.item?.conditions]?.filter(\n        (condition) =>\n          !isNaN(condition.condition_sub_value) &&\n          parseFloat(condition.condition_sub_value) > 0\n      )\n    : []\n\n  if (\n    (\n      props.item.is_price_sync ||\n      conditionSubValue?.length ||\n      (\n        !props.item.is_child &&\n        props.item.total_device_manual &&\n        props.item.total_device_sync\n      ) ||\n      isManualExist\n    ) &&\n    !props.priceSharing\n  ) {\n    modal.value = true\n  } else {\n\n    handleConfirm()\n  }\n}\n\nconst handleCancel = () => {\n  modal.value = false\n  synced.value = Number(!synced.value)\n}\n\nconst handleConfirm = () => {\n  modal.value = false\n  emit('update:modelValue', Number(synced.value))\n}\n\nwatch(\n  () => props.modelValue,\n  (val) => synced.value = val\n)\n</script>\n\n<style scoped>\n::v-deep(.el-checkbox__inner) {\n  width: 16px !important;\n  height: 16px !important;\n}\n\n/* Checked (✔) - only show when not disabled or when specifically set as checked */\n::v-deep(.el-checkbox__input.is-checked .el-checkbox__inner::after) {\n  top: 1.5px !important;\n  left: 5px !important;\n  transform: rotate(45deg) scaleY(1) !important;\n}\n\n/* Hide checkmark when disabled unless specifically checked */\n::v-deep(.el-checkbox__input.is-disabled:not(.is-checked) .el-checkbox__inner::after) {\n  opacity: 0 !important;\n}\n\n/* Indeterminate (-) */\n::v-deep(.el-checkbox__input.is-indeterminate .el-checkbox__inner::before) {\n  top: 6px !important;\n}\n\n/* Change border color when disabled */\n::v-deep(.el-checkbox__input.is-disabled .el-checkbox__inner) {\n  border-color: #dcdfe6 !important;\n  background-color: #f5f7fa !important;\n}\n</style>","<template>\n  <div v-if=\"!!data.row?.price?.length\" class=\"flex items-stretch\">\n    <div class=\"relative flex-grow\">\n      <Tooltip\n        v-model=\"tooltipShow\"\n        placement=\"top\"\n        manual>\n        <template #content>\n          <p class=\"max-w-md text-sm\">Items priced at {{ me.currency_prefix == 1 ? `${me.currency_symbol}0` : `0${me.currency_symbol}` }} are not subject to pricing rules.</p>\n        </template>\n        <Input\n          tabindex=\"0\"\n          :modelValue=\"data.row.price[data.index].price\"\n          @update:modelValue=\"\n            (value) => {\n              data.row.price[data.index].price = value\n              $emit('setCustomPrice')\n            }\n          \"\n          type=\"number\"\n          :class=\"[\n            'w-full',\n            isPriceSyncCustomPrice ? 'input--custom-priced' : ''\n          ]\"\n          :disabled=\"\n            disabled ||\n            // (data.condition.is_disabled && !hasPricingSource) ||\n            data.row.price[data.index].loading\n          \"\n          :view=\"data.row.price[data.index].success ? 'success' : 'default'\"\n          :loading=\"data.row.price[data.index].loading\"\n          :currency=\"true\"\n          @mouseenter=\"isVisible = disabled\"\n          @mouseleave=\"isVisible = false\"\n          @focus-out=\"deviceUpdate(data.row, data.index, data.items)\"\n          @focus-in=\"tooltipShow = true\"\n          icon\n        >\n          <template #icon>\n            {{ me.currency_symbol }}\n          </template>\n        </Input>\n      </Tooltip>\n      <transition name=\"slide-fade\">\n        <span\n          v-if=\"data.row.price[data.index].success\"\n          class=\"material-icons text-green-04 absolute left-10 top-1/2 text-2xl transform -translate-y-1/2\"\n          >done</span\n        >\n      </transition>\n      <Tooltip v-if=\"isPriceSyncCustomPrice && !!data.row.price[data.index].last_update\" placement=\"top\">\n        <template #content>\n          <div class=\"max-w-sm\">\n            Manually updated on {{ data.row.price[data.index].last_update }}\n          </div>\n        </template>\n        <template #default>\n          <i\n            class=\"material-icons absolute right-4 top-1/2 transform -translate-y-1/2 text-teal-04\"\n            >info</i\n          >\n        </template>\n      </Tooltip>\n    </div>\n    <div v-if=\"isAutomatedPrice\" class=\"flex items-stretch\">\n      <template v-if=\"data.row.price[data.index].is_custom_price === 0\">\n        <transition name=\"slide-fade\">\n          <div\n            v-if=\"!data.row.price[data.index].is_editable_custom_price\"\n            class=\"flex item-stretch\"\n          >\n            <Button\n              v-if=\"data.row.price[data.index].price > 0\"\n              @click=\"$emit('setCustomPrice')\"\n              class=\"mx-2\"\n              color=\"teal\"\n              dense\n              view=\"outlined\"\n              style=\"border-color: #dddddd !important;\"\n            >\n              <div class=\"p-1\">\n                <i class=\"material-icons\">edit</i>\n              </div>\n            </Button>\n            <Tooltip\n              v-else\n              placement=\"left\">\n              <Button\n                @click=\"$emit('setCustomPrice')\"\n                class=\"mx-2\"\n                color=\"red\"\n                dense\n                view=\"outlined\"\n              >\n                <div class=\"p-1\">\n                  <i class=\"material-icons\">edit</i>\n                </div>\n              </Button>\n              <template #content>\n                <div class=\"max-w-lg\">\n                  Manual pricing required: Conditions priced at $0 must be manually priced to be visible to your customers.\n                </div>\n              </template>\n            </Tooltip>\n          </div>\n        </transition>\n      </template>\n      <template v-else>\n        <transition name=\"slide-fade\">\n          <div\n            v-if=\"!data.row.price[data.index].is_editable_custom_price\"\n            class=\"flex items-stretch\"\n          >\n            <Button\n              v-if=\"!!isAutomatedPrice\"\n              @click=\"$emit('resetCustomPrice')\"\n              :loading=\"data.row.price[data.index].loading\"\n              color=\"red\"\n              class=\"mx-2\"\n              dense\n            >\n              <div class=\"p-1\">\n                <i class=\"material-icons\">delete</i>\n              </div>\n            </Button>\n          </div>\n        </transition>\n      </template>\n      <transition name=\"slide-fade\">\n        <div\n          v-if=\"data.row.price[data.index].is_editable_custom_price === 1\"\n          class=\"flex item-stretch\"\n        >\n          <Button\n            @click=\"$emit('saveCustomPrice')\"\n            :loading=\"data.row.price[data.index].loading\"\n            class=\"mx-2\"\n            color=\"teal\"\n            dense\n          >\n            <div class=\"p-1\">\n              <i class=\"material-icons\">check</i>\n            </div>\n          </Button>\n          <Button\n            @click=\"$emit('unsetCustomPrice')\"\n            :disabled=\"data.row.price[data.index].loading\"\n            color=\"red\"\n            dense\n          >\n            <div class=\"p-1\">\n              <i class=\"material-icons\">close</i>\n            </div>\n          </Button>\n        </div>\n      </transition>\n    </div>\n  </div>\n  <div v-else class=\"flex items-stretch\">\n    <div class=\"relative flex-grow\">\n      <Tooltip\n        v-model=\"tooltipShow\"\n        trigger=\"focus\"\n        placement=\"top\"\n        manual>\n        <template #content>\n          <p class=\"max-w-xs text-sm\">Items priced at {{ me.currency_prefix == 1 ? `${me.currency_symbol}0` : `0${me.currency_symbol}` }} are not subject to pricing rules.</p>\n        </template>\n        <Input\n          class=\"w-full\"\n          disabled\n          :currency=\"true\"\n          icon>\n          <template #icon>\n            {{ me.currency_symbol }}\n          </template>\n        </Input>\n      </Tooltip>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, watch, onMounted, computed } from 'vue'\nimport { useUser } from 'composable/user'\nimport { currencies } from 'constants/currency'\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nexport default defineComponent({\n  name: 'BulkPriceEditorInput',\n  components: {\n    Input,\n    Button\n  },\n  props: {\n    data: {\n      type: Object,\n      default: () => ({})\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    isAutomatedPrice: {\n      type: [Boolean, Number],\n      default: false\n    },\n    hasPricingSource: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\n    'input',\n    'focusOut',\n    'setCustomPrice',\n    'unsetCustomPrice',\n    'resetCustomPrice',\n    'saveCustomPrice',\n    'setOriginalPrice'\n  ],\n  setup(props, { emit }) {\n    const tooltipShow = ref(false)\n    const isVisible = ref(null)\n    const { me } = useUser()\n    const data = reactive(props.data)\n\n    const deviceUpdate = (row, index, item) => {\n      tooltipShow.value = false\n      if (props.isAutomatedPrice) return\n      if (row?.price[index]?.original_price == row?.price[index]?.price) return\n\n      emit('focusOut', { row, index, item, isSync: props.isAutomatedPrice })\n    }\n\n    const isPriceSyncCustomPrice = computed(() =>\n      data.index > -1 && Array.isArray(data?.row?.price)\n        ? props.isAutomatedPrice &&\n          data.row.price[data.index].is_custom_price === 1\n        : false\n    )\n\n    onMounted(() => {\n      if (props.isAutomatedPrice) {\n        emit('setOriginalPrice')\n      }\n    })\n\n    watch(\n      () => props.data,\n      (newData) => {\n        if(!data.row.price[data.index].original_price) emit('setOriginalPrice')\n        Object.assign(data, newData)\n      }\n    )\n\n    return {\n      isVisible,\n      tooltipShow,\n      isPriceSyncCustomPrice,\n      deviceUpdate,\n      currencies,\n      data,\n      me\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.input {\n  &.input--custom-priced {\n    input {\n      padding-right: 3rem !important;\n    }\n  }\n}\n</style>\n","<template>\n  <div v-if=\"(!isChild && !companySource) || !sources?.length\">\n    <!-- Warning if multiple sources -->\n    <div\n      v-if=\"(sources?.length || 0) > 1\"\n      class=\"bg-grey-02 bg-opacity-10 rounded-md px-4 py-1 flex items-center gap-x-2 mb-4\">\n      <i class=\"material-icons\">info</i>\n      <p class=\"text-sm font-semibold\">\n        Manual mapping will be used for price sync due to the selection of multiple data sources\n      </p>\n    </div>\n\n    <!-- Always show options even if sources is empty -->\n    <div class=\"grid md:grid-cols-2 md:gap-x-4 gap-y-4 md:gap-y-0\">\n      <div\n        v-for=\"(option, n) in options\"\n        :key=\"n\"\n        :class=\"[\n          option.class,\n          option.disabled && `${option.class}--disabled`,\n          !sources?.length && `${option.class}--disabled-initiate`,\n          method === option.value && `${option.class}--active`\n        ]\"\n        @click=\"select(option)\">\n        <div class=\"flex justify-between gap-x-4\">\n          <img :src=\"option.icon\" />\n          <div class=\"info-mapping\">\n            <div class=\"flex justify-between items-center\">\n              <div class=\"flex items-center gap-x-4\">\n                <h2 class=\"text-base font-semibold\">{{ option.title }}</h2>\n                <div\n                  v-if=\"option.extras\"\n                  class=\"bg-green-04 rounded-full text-white inline-flex px-4 py-0 items-center justify-center gap-1 text-sm\">\n                  <span class=\"material-icons\">verified</span>\n                  Recomended\n                </div>\n              </div>\n              <div\n                v-if=\"method === option.value\"\n                class=\"bg-grey-01 text-sm rounded-full px-3 py-1\">\n                Active\n              </div>\n            </div>\n            <p\n              :class=\"method === option.value\n                ? 'text-grey-04'\n                : 'text-grey-03'\"\n              class=\"info-mapping--desc\">\n              {{ option.desc }}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent, ref } from 'vue'\n\nexport default defineComponent({\n  name: 'BulkPriceEditorMappingMethodMethods',\n  props: {\n    modelValue: {\n      type: [Number, String],\n      default: undefined\n    },\n    sources: {\n      type: Array,\n      default: () => []\n    },\n    isChild: {\n      type: Boolean,\n      default: false\n    },\n    companySource: {\n      type: Boolean,\n      default: false\n    },\n    editing: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['update:modelValue', 'select'],\n  setup(props, ctx) {\n    const method = computed({\n      get: () => props.modelValue,\n      set: (val) => ctx.emit('update:modelValue', val)\n    })\n    const options = computed(() => {\n      return [\n        {\n          value: 1,\n          class: 'auto-mapping',\n          title: 'Auto Mapping',\n          extras: false,\n          disabled: props.isChild || props.sources?.length > 1 && !props.isChild,\n          icon: '/icon/settings/auto-mapping.svg',\n          desc: 'This method clones Item conditions and terms automatically from the chosen price source, but be cautious: any existing conditions and terms will be overwritten.'\n        },\n        {\n          value: 2,\n          class: 'manual-mapping',\n          title: 'Manual Mapping',\n          extras: true,\n          icon: '/icon/settings/manual-mapping.svg',\n          disabled: false,\n          desc: 'With this method, you can create conditions and terms from scratch or use our presets, then manually map them to any price source for better control, a highly recommended approach if you frequently change sources but want to maintain your conditions and terms.'\n        }\n      ]\n    })\n    const select = (val) => {\n      if (val.disabled) return\n      method.value = val.value\n      ctx.emit('select', val.value)\n    }\n\n    return {\n      method,\n      options,\n      select\n    }\n  }\n})\n</script>\n","<template>\n  <div\n    v-if=\"!conditions && !loading\"\n    class=\"text-center bg-grey-01 bg-opacity-20 py-10 w-full\">\n    <div v-if=\"available\" class=\"max-w-lg mx-auto mt-10 mb-6 space-y-6 text-grey-03\">\n      <img class=\"mx-auto\" alt=\"not-found\" src=\"/icon/settings-icon/catalog-not-found.svg\" />\n      <p class=\"leading-5 text-2xl\">No Condition</p>\n      <p class=\"leading-5 text-base\">You don't have any conditions set yet. Before proceeding to pricing, please add conditions according to your needs.</p>\n      <Button\n        color=\"teal\"\n        view=\"outlined\"\n        @click=\"addConditionGroup\">\n        <div class=\"flex\">\n          Add Condition Group\n          <span class=\"material-icons\">arrow_right</span>\n        </div>\n      </Button>\n    </div>\n    <div v-else class=\"mx-auto mt-10 mb-6 space-y-6\">\n      <img class=\"mx-auto\" alt=\"not-found\" src=\"/icon/settings-icon/catalog-not-found.svg\" />\n      <p class=\"leading-5 text-2xl\">No Items Found</p>\n      <p class=\"leading-5 text-base\">\n        To set items condition, you first need to enable items in the Catalog.\n        Click the <b>Go to Catalog Page</b> button below, switch on the toggle for the items you want to display, and then proceed to the Price Editor to set their conditions and prices\n      </p>\n      <Button\n        link\n        color=\"teal\"\n        view=\"outlined\"\n        :to=\"{ name: 'settingBuybackDevice' }\">\n        <div class=\"flex\">\n          Go to Catalog Page\n          <span class=\"material-icons\">arrow_right</span>\n        </div>\n      </Button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\n\nimport Button from 'bbUi/components/button/button.vue'\n\nexport default defineComponent({\n  name: 'BulkPriceEditorMappingMethodEmpty',\n  components: {\n    Button\n  },\n  props: {\n    conditions: {\n      type: Number,\n      default: 0\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    available: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['add'],\n  setup(props, ctx) {\n    const addConditionGroup = () => ctx.emit('add')\n\n    return {\n      addConditionGroup\n    }\n  }\n})\n</script>","<template>\n  <Table\n    v-if=\"!!list?.length && !loading\"\n    class=\"w-full\"\n    :data=\"list\">\n    <TableColumn\n      prop=\"name\"\n      min-width=\"160\">\n      <template #header>\n        <span\n          v-if=\"method === 1\"\n          class=\"capitalize\">\n          {{ sources[0]?.name }} Conditions\n        </span>\n        <span\n          v-else\n          class=\"capitalize\">\n          {{ category?.name }} Condition\n        </span>\n      </template>\n      <template #default=\"{ row }\">\n        <span class=\"capitalize\">{{ row.name }}</span>\n      </template>\n    </TableColumn>\n    <TableColumn\n      prop=\"condition_term\"\n      label=\"Description\"\n      min-width=\"300\">\n      <template #default=\"{ row }\">\n        <div class=\"space-y-2\">\n          <p v-html=\"row.term\" />\n          <div class=\"pl-4\">\n            <ul class=\"list-disc\">\n              <li\n                v-for=\"(textTerm, n) in row.condition_term\"\n                :key=\"n\">\n                <span v-html=\"textTerm\" />\n              </li>\n            </ul>\n          </div>\n        </div>\n      </template>\n    </TableColumn>\n    <TableColumn\n      v-if=\"method === 2\"\n      min-width=\"300\"\n      class-name=\"cell-custom\">\n      <template #header>\n        <div class=\"flex items-center gap-x-2\">\n          <span>Map Data Source Condition to yours</span>\n          <Tooltip\n            placement=\"top\">\n            <span class=\"text-teal-04 material-icons leading-4\" style=\"font-size: 1.25rem !important;\">info</span>\n            <template #content>\n              <div class=\"w-72\">\n                When you map your own conditions to a Data Source, your own conditions will be the ones visible to your customers.\n              </div>\n            </template>\n          </Tooltip>\n        </div>\n      </template>\n      <template #default=\"{ row, $index }\">\n        <Select\n          ref=\"selectCondtion\"\n          v-model=\"row.source_condition_id\"\n          v-bind=\"{\n            ...(sources?.length > 1 &&\n              {\n              child: 'condition',\n              optgroup: true,\n              optgroupBy: 'condition',\n              optgroupCheckbox: true,\n            }),\n            items: sources?.length > 1 ? row.options : sourceConditions\n          }\"\n          :error=\"validation?.source_condition_id?.$error\"\n          by=\"id\"\n          name=\"name\"\n          placeholder=\"Choose Condition\"\n          :multiple=\"sources?.length > 1\"\n          block\n          no-border\n          max-height=\"200px\"\n          @change=\"handleUpdateConditionIDS($event, row, $index)\">\n          <template\n            v-if=\"sources?.length > 1\"\n            #selected=\"{ selectedOption }\">\n            <div v-if=\"!!row?.source_condition_id?.length\">\n              <div v-if=\"selectedOption.length > 1\" class=\"flex items-center gap-x-2\">\n                <span>Mixed</span>\n                <span class=\"bg-teal-02 bg-opacity-30 capitalize text-sm px-2 py-0.5 rounded-full\">\n                  {{ selectedOption.length }} Source Selected\n                </span>\n              </div>\n              <div v-else class=\"flex items-center gap-x-2\">\n                <span>{{ selectedOption?.name }}</span>\n                <span class=\"bg-teal-02 bg-opacity-30 capitalize text-sm px-2 py-0.5 rounded-full\">\n                  {{ row?.source[0]?.name }}'s\n                </span>\n              </div>\n            </div>\n          </template>\n          <template #item=\"{ item }\">\n            <div class=\"flex items-center justify-start gap-x-2\">\n              <span\n                :class=\"[\n                  'capitalize',\n                  sources?.length > 1 && 'font-semibold'\n                ]\">\n                {{ sources?.length > 1 ? `${item.name}'s Conditions` : item.name }}\n              </span>\n              <Tooltip\n                v-if=\"sources?.length === 1\"\n                :disabled=\"!item?.condition_term?.length\"\n                placement=\"top\">\n                <template #content>\n                  <div\n                    :style=\"{ width: '320px' }\"\n                    class=\"space-y-2\">\n                    <p v-html=\"item?.term || ''\" />\n                    <ul\n                      v-if=\"item?.condition_term?.length\"\n                      class=\"list-disc list-outside mx-4 space-y-1\">\n                      <li\n                        v-for=\"(term, nTerm) in  item?.condition_term\"\n                        :key=\"`${nTerm}_${$index}`\"\n                        class=\"text-sm\">\n                        {{ term }}\n                      </li>\n                    </ul>\n                  </div>\n                </template>\n                <template #default>\n                  <i :class=\"!item?.condition_term?.length && 'opacity-0'\" class=\"material-icons\">info</i>\n                </template>\n              </Tooltip>\n            </div>\n          </template>\n          <template\n            v-if=\"sources?.length > 1 || isDifferentRules\"\n            #child=\"{ childItem, childIndex }\">\n            <Tooltip placement=\"top\" :disabled=\"(!childItem.disabled && !childItem.already_selected_other)\">\n              <template #content>\n                <div class=\"w- text-sm\">\n                  You can only choose one condition per one source\n                </div>\n              </template>\n              <template #default>\n                <div class=\"flex items-center justify-start gap-x-2\">\n                  <span class=\"capitalize\">\n                    {{ childItem?.name }}\n                  </span>\n                  <Tooltip placement=\"top\" :disabled=\"((childItem.disabled || childItem.already_selected_other)) || !childItem?.condition_term?.length\">\n                    <template #content>\n                      <div\n                        :style=\"{ width: '320px' }\"\n                        class=\"space-y-2\">\n                        <p v-html=\"childItem?.term || ''\" />\n                        <ul\n                          v-if=\"childItem?.condition_term?.length\"\n                          class=\"list-disc list-outside mx-4 space-y-1\">\n                          <li\n                            v-for=\"(term, nTermChild) in childItem?.condition_term\"\n                            :key=\"`${childIndex}_${nTermChild}`\"\n                            class=\"text-sm\">\n                            {{ term }}\n                          </li>\n                        </ul>\n                      </div>\n                    </template>\n                    <template #default>\n                      <i :class=\"!childItem?.condition_term?.length && 'opacity-0'\" class=\"material-icons\">info</i>\n                    </template>\n                  </Tooltip>\n                </div>\n              </template>\n            </Tooltip>\n          </template>\n          <template #noChild=\"{ item }\">\n            <div class=\"\">\n              No Condition\n              <p class=\"text-xs\">\n                {{ item?.name }}\n                don't have any conditions set yet\n              </p>\n            </div>\n          </template>\n          <template v-if=\"Array.isArray(row?.source_condition_id) ? row?.source_condition_id?.length : !!row?.source_condition_id\" #append=\"{ hide }\">\n            <button\n              class=\"bg-grey-01 bg-opacity-20 px-4 py-3 mt-1 text-base text-center text-grey-02 hover:text-grey-03 w-full\"\n              @click=\"handleResetConditionIDS(hide, row)\">\n              Clear Selection\n            </button>\n          </template>\n        </Select>\n        <small\n          v-if=\"validation?.source_condition_id?.$error\"\n          class=\"text-red-04\">\n          Please select at least one condition.\n        </small>\n      </template>\n    </TableColumn>\n    <TableColumn\n      :label=\"showColumns ? 'Pricing Rules' : ''\"\n      :min-width=\"showColumns ? '360' : ''\">\n      <template #default=\"{ row }\">\n        <div v-if=\"(isSameRulesForOneSource && row.is_duplicate) || sources?.length > 1 || isDifferentRules || companySource\">\n          <div\n            v-if=\"row.source_condition_id || row?.source_condition_id?.length\"\n            class=\"w-full flex items-center justify-end\">\n            <div class=\"flex-1 space-y-2\">\n              <div class=\"max-w-lg\">\n                <RadioGroup\n                  v-model=\"row.pricingRuleType\"\n                  class=\"radio--full\"\n                  @change=\"handleChangeRuleType(row)\">\n                  <RadioButton label=\"3\">Match</RadioButton>\n                  <RadioButton label=\"2\">Markup</RadioButton>\n                  <RadioButton label=\"1\">Markdown</RadioButton>\n                </RadioGroup>\n              </div>\n              <div\n                v-if=\"row.pricingRuleType != 3\"\n                class=\"grid grid-cols-3 max-w-lg gap-2\">\n                <RadioGroup\n                  v-model=\"row.amountType\"\n                  dense\n                  class=\"radio--full mb-4 col-span-2\"\n                  @change=\"handleChangeRuleAmountType(row)\">\n                  <RadioButton label=\"1\">\n                    % Percentage\n                  </RadioButton>\n                  <RadioButton label=\"0\">\n                    {{ currencySymbol }} Fixed\n                  </RadioButton>\n                </RadioGroup>\n                <Tooltip\n                  v-model=\"row.showTooltip\"\n                  placement=\"top\"\n                  manual>\n                  <template #content>\n                    <p class=\"max-w-xs text-sm\">Items priced at {{ currencyPrefix == 1 ? `${currencySymbol}0` : `0${currencySymbol}` }} are not subject to pricing rules.</p>\n                  </template>\n                  <Input\n                    v-model=\"row.amountPrice\"\n                    :right=\"row.amountPrice == '0' ? false : true\"\n                    :max=\"row.amountType == 1 ? (row.pricingRuleType == 2 ? undefined : 100) : 'auto'\"\n                    :min=\"0\"\n                    type=\"number\"\n                    class=\"w-full col-span-1\"\n                    icon-block\n                    icon\n                    @change=\"handleChangeRuleAmountPrice(row)\"\n                    @focus-in=\"row.showTooltip = true\"\n                    @focus-out=\"row.showTooltip = false\">\n                    <template #icon>\n                      <span\n                        v-if=\"row.amountType == '0'\"\n                        class=\"text-grey-03\">\n                        {{ currencySymbol }}\n                      </span>\n                      <span\n                        v-else\n                        class=\"text-grey-03\">\n                        %\n                      </span>\n                    </template>\n                  </Input>\n                </Tooltip>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </TableColumn>\n  </Table>\n</template>\n\n<script>\nimport { defineComponent, computed, ref, nextTick } from 'vue'\nimport { useVuelidate } from '@vuelidate/core'\n\nimport Select from 'components/Select.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport { required, helpers } from '@vuelidate/validators'\n\nexport default defineComponent({\n  name: 'BulkPriceEditorMappingMethodConditions',\n  components: {\n    Select,\n    Input\n  },\n  props: {\n    conditions: {\n      type: Array,\n      default: () => []\n    },\n    sources: {\n      type: Array,\n      default: () => []\n    },\n    sourceConditions: {\n      type: Array,\n      default: () => []\n    },\n    category: {\n      type: Object,\n      default: () => ({})\n    },\n    companySource: {\n      type: Boolean,\n      default: false\n    },\n    method: {\n      type: Number,\n      default: 1\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    differentRules: {\n      type: Boolean,\n      default: false\n    },\n    currencySymbol: {\n      type: String,\n      default: '$'\n    },\n    currencyPrefix: {\n      type: [String, Number],\n      default: 1\n    }\n  },\n  emits: ['update:conditions', 'update:different', 'update:ids'],\n  setup(props, ctx) {\n    const showTooltip = ref(false)\n    const list = computed({\n      get: () => props.conditions.map(condition => ({\n        ...condition,\n        showTooltip: condition?.showTooltip !== undefined ? condition.showTooltip : false\n      })),\n      set: (val) => ctx.emit('update:conditions', val)\n    })\n    const isDifferentRules = computed(() => {\n      if (!list?.length || props.sources.length) return false\n\n      const [firstEl, ...othersEl] = props.conditions\n      const { amountPrice, amountType, pricingRuleType } = firstEl\n      const isConsistent = othersEl.every(\n        (row) =>\n          row?.amountPrice === amountPrice &&\n          row?.amountType === amountType &&\n          row?.pricingRuleType === pricingRuleType\n      )\n\n      const result = !isConsistent\n      ctx.emit('update:different', result)\n\n      return result\n    })\n    const isSameRulesForOneSource = computed(() => {\n      if (!props.sources?.length || props.method === 1 || !list.value.length) return false\n      const ids = list.value.map(item => item?.source_condition_id).filter(id => !!id)\n      const duplicates = ids.filter((id, index) => ids.indexOf(id) !== index)\n\n      if (duplicates.length > 0) return true\n\n      return false\n    })\n    const showColumns = computed(() => {\n      return isSameRulesForOneSource.value || props.sources?.length > 1 || isDifferentRules.value || props.companySource\n    })\n\n    const atLeastOneSelected = helpers.withMessage(\n      'Please select at least one condition.',\n      () => list.value.some(item => item.source_condition_id)\n    )\n\n    const rules = computed(() => props.method === 2 ? ({\n      source_condition_id: { atLeastOneSelected }\n    }) : { source_condition_id: {} })\n    const validation = useVuelidate(rules, list, { $lazy: true })\n\n    const handleChangeRuleType = async row => {\n      // Always reset amountPrice to 0 when type is Match (3)\n      if (row.type == 3) {\n        row.amountPrice = 0\n        return // No need to proceed with other validations\n      }\n\n      // Markdown + Percentage → limit to 100\n      if (row.type == 1 && row.amountType == 1 && row.amountPrice > 100) {\n        row.amountPrice = 100\n      }\n\n      // Switching from Fixed to Percentage (Markdown only), normalize large value to 100\n      if (row.amountType == 1 && row.type == 1 && row.amountPrice > 100) {\n        row.amountPrice = 100\n      }\n\n      await nextTick()\n      // row.amountPrice = 0\n      // row.amountType = \"1\"\n      ctx.emit('update:conditions', list.value)\n      return row\n    }\n    const handleChangeRuleAmountType = async row => {\n      handleChangeRuleType(row)\n      await nextTick()\n      ctx.emit('update:conditions', list.value)\n      return row\n    }\n    const handleChangeRuleAmountPrice = row => {\n      ctx.emit('update:conditions', list.value)\n      return row\n    }\n    /*\n      update from 'https://app.clickup.com/t/86cxr4kj2'\n\n      const validationSelectionMultiple = ({row, index, indexChild}, selected) => {\n        list.value[row].options[index].condition = list.value[row].options[index].condition.map(item => ({\n          ...item,\n          disabled: Boolean(selected?.length && !item.checked && selected?.find(i => i.sub_domain === item.sub_domain))\n        }))\n\n        // For validation if the condition was selected in another row\n        list.value.forEach((item, key, self) => {\n          item.options[index].condition[indexChild].already_selected_other = false\n          if (key !== row) {\n            item.options[index].condition[indexChild].disabled = !item?.options[index]?.condition[indexChild]?.disabled ? true : false\n            if (item?.options[index]?.condition[indexChild]?.disabled) {\n              item.options[index].condition[indexChild].already_selected_other = true\n            }\n          }\n          return item\n        })\n      }\n    */\n    const handleUpdateConditionIDS = (e, value, index) => {\n      list.value = [...list.value].map(item => {\n        if (value.id === item.id) {\n          item.source_condition_id = value?.source_condition_id\n          if (props.sources.length > 1) {\n            // (type 1 for add, type 0  for remove existing selected)\n            if (e.type === 1) {\n              value.source = [...value.source, {\n                sub_domain: e?.head?.sub_domain,\n                name: e?.head?.name,\n                id: e?.option?.id\n              }]\n            } else {\n              value.source = value.source.filter(\n                item => !(item.id === e?.option?.id && item.sub_domain === e?.head?.sub_domain)\n              )\n            }\n          }\n        }\n\n        return item\n      })\n\n      /*\n        update from 'https://app.clickup.com/t/86cxr4kj2'\n\n        if (props.companySource && props.sources.length > 1) {\n          validationSelectionMultiple({\n            row: index,\n            index: e.index,\n            indexChild: e.indexChild\n          }, value.source)\n        }\n      */\n    }\n    const handleResetConditionIDS = (callback, value) => {\n      list.value = [...list.value].map(item => {\n        if (item.id === value.id) {\n          item.source_condition_id = null\n          if (!props?.sources || (props?.sources?.length === 1)) {\n            item.source = {}\n          } else if (props?.sources?.length > 1) {\n            item.source = []\n            item.source_condition_id = []\n            item.options = [...item.options].map(option => ({\n              ...option,\n              condition: [...option?.condition].map(cond => ({\n                ...cond,\n                checked: false,\n                disabled: false\n              }))\n            }))\n          }\n        }\n\n        return item\n      })\n\n      typeof callback === 'function' && callback()\n    }\n    const onSubmit = async () => {\n      return await validation.value.$validate()\n    }\n\n    return {\n      list,\n      showTooltip,\n      isDifferentRules,\n      showColumns,\n      handleUpdateConditionIDS,\n      handleResetConditionIDS,\n      handleChangeRuleType,\n      handleChangeRuleAmountType,\n      handleChangeRuleAmountPrice,\n      isSameRulesForOneSource,\n      validation,\n      onSubmit\n    }\n  }\n})\n</script>","<template>\n  <div\n    class=\"bulkprice-editor-mapping\">\n    <Methods\n      v-model=\"data.method\"\n      :sources=\"pricingSource\"\n      :is-child=\"category.is_child\"\n      :editing=\"editing\"\n      :company-source=\"companySource\"\n      @select=\"handleSelectMethod\"\n    />\n    <div v-if=\"!!data.method && !!pricingSource?.length\">\n      <div\n        v-loading=\"data.loading\"\n        class=\"flex items-start justify-center\"\n        :style=\"{\n          minHeight: !conditions?.length || data.loading ? '280px' : ''\n        }\">\n        <EmptyCondition\n          :conditions=\"conditions.length\"\n          :loading=\"data.loading\"\n          :available=\"isAvailableDevice\"\n          @add=\"handleAddConditionGroup\"\n        />\n        <Conditions\n          :key=\"`${data.method}-${keyCondition}`\"\n          ref=\"formConditions\"\n          :conditions=\"conditions\"\n          :loading=\"data.loading\"\n          :method=\"data.method\"\n          :sources=\"pricingSource\"\n          :source-conditions=\"sourceConditions\"\n          :category=\"category\"\n          :company-source=\"companySource\"\n          :currency-symbol=\"me.currency_symbol\"\n          :currency-prefix=\"me.currency_prefix\"\n          :differentRules=\"differentRules\"\n          @update:different=\"handleUpdateDifferent\"\n          @update:conditions=\"handleUpdateConditions\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent, onMounted, reactive, ref, watch } from 'vue'\nimport { useConditionAll } from 'composable/setting'\nimport { deepClone } from 'utils/deep-clone'\nimport { usePriceMappingMethod } from 'composable/pricing'\nimport { useUser } from 'composable/user'\nimport { useRoute } from 'vue-router'\nimport debounce from 'utils/debounce'\n\nimport Button from 'bbUi/components/button/button.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Select from 'components/Select.vue'\nimport Methods from './Methods.vue'\nimport EmptyCondition from './EmptyCondition.vue'\nimport Conditions from './Conditions.vue'\n\nexport default defineComponent({\n  name: \"BulkPriceEditorMappingMethod\",\n  components: {\n    Button,\n    Select,\n    Input,\n    Methods,\n    EmptyCondition,\n    Conditions\n  },\n  props: {\n    pricingSource: {\n      type: Array,\n      default: undefined\n    },\n    main: {\n      type: Object,\n      default: undefined\n    },\n    editing: {\n      type: Boolean,\n      default: false\n    },\n    category: {\n      type: Object,\n      default: undefined\n    },\n    type: {\n      type: [String, Number],\n      default: undefined\n    },\n    rules: {\n      type: Object,\n      default: undefined\n    },\n    companySource: {\n      type: Boolean,\n      default: false\n    },\n    differentRules: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['manual-mapping', 'update:type', 'update:different', 'selectedCondition'],\n  async setup(props, ctx) {\n    const route = useRoute()\n    const { me } = useUser()\n    const selectCondtion = ref()\n    const formConditions = ref()\n    const keyCondition = ref()\n    const {\n      isAvailableDevice,\n      actionConditionDeviceAvailability\n    } = useConditionAll()\n    const {\n      data,\n      conditions,\n      sourceConditions,\n      getConditions: _getConditions,\n      handleExisting,\n      handleWithLoading,\n      handleParsingJSON\n    } = usePriceMappingMethod()\n\n    const handleAddConditionGroup = () => ctx.emit('manual-mapping')\n    const updateConditions = (conditions) => {\n      const flatSelected = deepClone(conditions).map(entry => entry.source).flat()\n\n      data.conditions = deepClone(conditions).map(entry => {\n        const isSelectedRow = flatSelected.some(flat => flat.member_id === entry.id)\n        if (isSelectedRow) {\n          entry.options = entry.options.map(option => {\n            if (flatSelected.some(flat => flat.sub_domain === option.sub_domain)) {\n              option.condition = option.condition.map(cond => ({\n                ...cond,\n                disabled: false, // !flatSelected.some(flat => flat.id === cond.id),\n                already_selected_other: false\n              }))\n            }\n            return option\n          })\n        } else {\n          entry.options = entry.options.map(option => {\n            if (flatSelected.some(flat => flat.sub_domain === option.sub_domain)) {\n              option.condition = option.condition.map(cond => ({\n                ...cond,\n                already_selected_other: false, // flatSelected.some(flat => flat.id === cond.id),\n                disabled: false // flatSelected.some(flat => flat.id === cond.id)\n              }))\n            }\n            return option\n          })\n        }\n        \n        return entry\n      })\n    }\n    const setSourceConditions = async (sources = undefined) => {\n      const results = await Promise.all(\n        props.pricingSource?.map(async source => {\n          try {\n            const res = props.editing && sources\n              ? sources[source.sub_domain]\n              : await _getConditions({\n                  category_id: props.category.id,\n                  sub_domain: source.sub_domain\n                })\n            const conditionList = Array.isArray(res) ? res : []\n    \n            return ({\n              ...source, \n              condition: conditionList.map(i => {\n                const { term, terms } = handleParsingJSON(i.condition_term)\n    \n                return ({\n                  ...i,\n                  term: term || null,\n                  condition_term: terms || [],\n                  sub_domain: source.sub_domain,\n                  checked: false,\n                  disabled: false,\n                })\n              })\n            })\n          } catch(error) {\n            console.error('Error fetching source conditions:', error)\n            return null\n          }\n        })\n      )\n\n      data.sourceConditions = (props.pricingSource?.length ?? 0) > 1\n        ? results.filter(Boolean)\n        : results.shift()?.condition || []\n    }\n    const setConditions = async (conditions, existing) => {\n      const rules = props.rules?.rules || []\n      const isMultipleSources = props?.pricingSource?.length > 1\n      const isPossibleSameRulesOneSource = !isMultipleSources && props.pricingSource?.length == 1\n\n      data.conditions = conditions?.map(condition => {\n        const { term, terms } = handleParsingJSON(condition.condition_term)\n\n        const rule = isMultipleSources && isPossibleSameRulesOneSource\n          ? rules.filter(item => item.member_condition_id == condition.id)\n          : rules.find(item => item.member_condition_id == condition.id)\n\n        const options = isMultipleSources\n          ? [...data.sourceConditions].map(i => ({\n              ...deepClone(i),\n              condition: i.condition.map(cond => {\n                const findingRule = rules.find(e => e.member_condition_id === condition.id && e.source_condition_id === cond.id && i.sub_domain === e.source)\n                const checked = !!findingRule ? true : false\n\n                return ({\n                  ...cond,\n                  member_id: findingRule?.member_condition_id || undefined,\n                  sub_domain: i.sub_domain,\n                  already_selected_other: false,\n                  ...(existing && { checked }),\n                  ...(existing && { disabled: false } )\n                })\n              })\n            }))\n          : undefined\n        const optionsConditions = options ? options.map(option => option.condition).flat() : undefined\n        const sourceConditionId = optionsConditions ? deepClone(optionsConditions).filter(option => \n          option.member_id === condition.id && deepClone(rules).find(i => i.source === option.sub_domain) && deepClone(rules).find(i => i.source_condition_id === option.id)\n        ) : undefined\n        const sources = sourceConditionId ? sourceConditionId.map(i => ({\n          id: i.id,\n          name: i.name,\n          sub_domain: i.sub_domain,\n          member_id: i.member_id\n        })) : null\n\n        return {\n          ...condition,\n          term: term || null,\n          condition_term: terms || [],\n          pricingRuleType: (!!existing && (Array.isArray(rule) ? rule[0]?.type : rule?.type)) || '3',\n          amountType: (!!existing && (Array.isArray(rule) ? rule[0]?.amount_type : rule?.amount_type)) || '1',\n          amountPrice: (!!existing && (Array.isArray(rule) ? rule[0]?.amount_price : rule?.amount_price)) || 0,\n          source_condition_id:\n          (\n            isMultipleSources\n              ? (existing ? sourceConditionId : null)\n              : null\n          ) || (existing ? Array.isArray(rule) ? rule[0].source_condition_id : rule?.source_condition_id : null),\n          ...({\n            showOption: false,\n\n            // Handle For Get Rule In Phase 3\n            source: isMultipleSources\n              ? existing\n                ? sources.filter(i => i.member_id === condition.id)\n                : []\n              : {},\n            // # Handle For Get Rule In Phase 3\n\n            ...(isMultipleSources && { options })\n          } || {\n            source: (!!existing && {\n              sub_domain: rule?.source,\n              name: rule?.source_name,\n              id: rule?.source_condition_id\n            }) || {} \n          })\n        }\n      })\n      if (existing && isPossibleSameRulesOneSource) handleUpdateConditions(data.conditions)\n\n      if (existing && isMultipleSources) updateConditions(data.conditions)\n    }\n    const handleSelectMethodAuto = async () => {\n      data.loading = true\n      const [ source ] = props.pricingSource\n      await _getConditions({\n        category_id: props.category.id,\n        sub_domain: source.sub_domain\n      }).then(res => {\n        data.conditions = res\n        data.loading = false\n      }).catch(() => {\n        data.conditions = []\n        data.loading = false\n      })\n    }\n    const handleGetRule = async (isExisting) => {\n      data.loading = true\n      await setSourceConditions(props?.rules?.sourcesConditions)\n\n      await setConditions(\n        props?.category?.conditions,\n        isExisting\n      )\n\n      data.loading = false\n    }\n    const handleSelectMethodManual = async () => {\n      data.conditionIDS = []\n      data.sourceConditions = []\n      const method = data.method === 1 ? 'auto' : 'manual'\n      const isSameMethod = props.rules?.mappingType === method\n      const isExisting = handleExisting(props?.pricingSource, props.rules?.rules)\n\n      if (\n        !!props.editing &&\n        !!props.rules?.selectedSources?.length &&\n        !!isExisting &&\n        !!isSameMethod\n      ) return await handleGetRule(isExisting)\n\n      data.loading = true\n      await setSourceConditions()\n      const conditions = await _getConditions({ category_id: props.category.id })\n      await setConditions(conditions, isSameMethod ? isExisting : false)\n      data.loading = false\n    }\n    const handleSelectMethod = async (type = undefined) => {\n      keyCondition.value = Date.now()\n      if (!props.pricingSource?.length) {\n        data.loading = false\n        return\n      }\n      if (type === 1 && props.category.is_child) return\n\n      data.method = type\n      ctx.emit('update:type', type || null)\n\n      if (!type) return\n\n      \n      return type === 1 ? handleSelectMethodAuto() : handleSelectMethodManual()\n    }\n    const setDuplicateRuleOneSource = (data) => {\n      try {\n        const raw = data\n        const countMap = raw.reduce((map, item) => {\n          if (item.source_condition_id !== null) {\n            map[item.source_condition_id] = (map[item.source_condition_id] || 0) + 1\n          }\n          return map\n        }, {})\n  \n        return raw.map(item => ({\n          ...item,\n          is_duplicate:\n            item.source_condition_id !== null &&\n            countMap[item.source_condition_id] > 1\n        })) ?? []\n      } catch (error) {\n        return data?.map(i => ({\n          ...i,\n          is_duplicate: false\n        })) ?? []\n      }\n    }\n    const handleUpdateConditions = (val) => {\n      if (data.method == 2 && props.pricingSource.length == 1) {\n        conditions.value = setDuplicateRuleOneSource(val)\n      } else conditions.value = val\n\n      const selected = deepClone(conditions.value)\n        .filter(i => i.source_condition_id && \n          (Array.isArray(i.source_condition_id)\n            ? i.source_condition_id.length > 0\n            : ![null, undefined, {}, ''].includes(i.source_condition_id))\n        ).map(i => ({ id: i.id, name: i.name, ...(i.is_duplicate && { is_duplicate: i.is_duplicate }) }));\n      ctx.emit('selectedCondition', {\n        selected,\n        ...(data.method == 2 && props.pricingSource.length == 1 && {\n          isAllDuplicate: selected.filter(i => i.is_duplicate)?.length === conditions.value?.length\n        })\n      })\n    }\n    const handleUpdateDifferent = (val) => ctx.emit('update:different', val)\n    const validationSelectMethod = debounce(async (val) => {\n      if (!!val) {\n        if (val > 1 || props?.category?.is_child || props?.companySource) {\n          await handleSelectMethod(2)\n        } else {\n          data.loading = false\n          // await handleSelectMethod(1)\n        }\n      } else {\n        data.loading = false\n        data.conditions = []\n        data.sourceConditions = []\n      }\n    }, 100)\n    const handleReset = () => {\n      data.method = null\n      data.loading = false\n      data.conditions = []\n      data.sourceConditions = []\n      data.conditionIDS = []\n    }\n    const onSubmit = async () => {\n      return formConditions.value?.onSubmit()\n    }\n    const isSameSourceList = (a, b) => {\n      if (!Array.isArray(a) || !Array.isArray(b)) return false\n      if (a.length !== b.length) return false\n\n      const sortBySub = (arr) => [...arr].map(i => i?.sub_domain ?? i).sort()\n      return JSON.stringify(sortBySub(a)) === JSON.stringify(sortBySub(b))\n    }\n\n    onMounted(async () => {\n      await actionConditionDeviceAvailability()\n  \n      const isSameSource = isSameSourceList(props.pricingSource, props.rules?.selectedSources)\n\n      if (props.editing && isSameSource) {\n        await handleSelectMethod(props.rules?.mappingType === 'manual' ? 2 : 1)\n      } else await validationSelectMethod(props?.pricingSource?.length)\n    })\n\n    watch(() => ({\n      source: props.pricingSource, editing: props.editing\n    }), async (val, oldVal) => {\n      data.loading = true\n      data.conditions = []\n      data.sourceConditions = []\n      await validationSelectMethod(val.source.length)\n\n      if (val.editing) {\n        props.category.condition_source = []\n        props.category.condition = []\n      }\n    }, {\n      deep: true\n    })\n\n    return {\n      me,\n      data,\n      selectCondtion,\n      conditions,\n      sourceConditions,\n      isAvailableDevice,\n      formConditions,\n      keyCondition,\n      handleSelectMethod,\n      handleAddConditionGroup,\n      handleUpdateConditions,\n      handleUpdateDifferent,\n      handleReset,\n      onSubmit\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\">\n.el-table__empty-block {\n  span {\n    display: block;\n  }\n  &::after {\n    content: '';\n  }\n}\n</style>\n","import { reactive, ref } from 'vue'\nimport store from 'store'\nimport { isFunction } from 'utils/is'\n\nexport default function Category () {\n  const form = reactive({\n    group_name: null,\n    categories: null\n  })\n  const devices = ref([])\n  const loading = ref(false)\n\n  const getDevices = async (locationId, callback = () => {}) => {\n    loading.value = true\n    devices.value = await store.dispatch(`setting/condition/devices`)\n    isFunction(callback) && callback()\n    loading.value = false\n  }\n\n  return {\n    form,\n    devices,\n    loading,\n    getDevices,\n  }\n}\n","import { ref } from 'vue'\nimport store from 'store'\nimport { isFunction } from 'utils/is'\n\nconst preset = () => {\n  const form = ref({\n    source: null,\n    conditions: [],\n    sources: [],\n    condition: []\n  })\n  const modal = ref(false)\n  const loading = ref(false)\n  const getSources = async (payload = {}, callback = () => {}) => {\n    if (payload.length !== 1) return\n\n    try {\n      loading.value = true\n      const response = await store.dispatch('setting/condition/showSourceCompanies', payload)\n      form.value.sources = response\n      isFunction(callback) && callback(response)\n    } catch (error) {\n      form.value.sources = []\n      isFunction(callback) && callback(error)\n    } finally {\n      loading.value = false\n    }\n  }\n  const getConditions = async (payload = {}, callback = () => {}) => {\n    try {\n      loading.value = true\n      const response = await store.dispatch('setting/condition/showSourceConditions', {\n        sub_domain: payload.sub_domain,\n        data: {\n          category_id: payload.category_id,\n          is_mac: payload.is_mac,\n          sub_domain: payload.sub_domain\n        }\n      })\n      form.value.conditions = response\n      isFunction(callback) && callback(response)\n    } catch (error) {\n      form.value.conditions = []\n      isFunction(callback) && callback(error)\n    } finally {\n      loading.value = false\n    }\n  }\n\n  return {\n    form,\n    modal,\n    loading,\n    isValidJSON,\n    getSources,\n    getConditions,\n  }\n}\n\nconst active = () => {\n  const form = ref({\n    conditions: []\n  })\n  const loading = ref(false)\n  const modal = ref({\n    delete: false,\n    condition: false,\n    preview: false\n  })\n\n  const addCondition = async (\n    payload = {\n      id: undefined,\n      term: undefined,\n      terms: undefined\n    },\n    callback = () => {}\n  ) => {\n    try {\n      loading.value = true\n      let terms = []\n      terms = [payload.term, ...payload.terms]\n      const response = await store.dispatch(`setting/condition/conditionCreate`, {\n        id: payload.id,\n        data: {\n          ...payload,\n          terms: JSON.stringify(terms)\n        }\n      })\n      isFunction(callback) && callback()\n      return response\n    } catch {\n      loading.value = false\n    } finally {\n      loading.value = false\n    }\n  }\n  const editCondition = async(\n    payload = {\n      id: undefined,\n      term: undefined,\n      terms: undefined\n    },\n    callback = () => {}\n  ) => {\n    try {\n      loading.value = true\n      let terms = []\n      terms = [payload.term, ...payload.terms]\n      await store.dispatch(`setting/condition/conditionUpdate`, {\n        id: payload.id,\n        data: {\n          terms: JSON.stringify(terms),\n          name: payload?.name\n        }\n      })\n      isFunction(callback) && callback()\n    } catch {\n      loading.value = false\n    } finally {\n      loading.value = false\n    }\n  }\n  const deleteCondition = async(id, callback = () => {}) => {\n    try {\n      loading.value = true\n      const response = await store.dispatch(`setting/condition/conditionDelete`, id)\n      isFunction(callback) && callback()\n      return response\n    } catch {\n      loading.value = false\n    } finally {\n      loading.value = false\n    }\n  }\n  const sortingCondition = async(payload, callback = () => {}) => {\n    try {\n      loading.value = true\n      const response = await store.dispatch(`setting/condition/sort`, {sorting: JSON.stringify(payload)})\n      isFunction(callback) && callback()\n      return response\n    } catch {\n      loading.value = false\n    } finally {\n      loading.value = false\n    }\n  }\n\n  return {\n    form,\n    modal,\n    loading,\n    addCondition,\n    editCondition,\n    deleteCondition,\n    sortingCondition\n  }\n}\n\nconst isValidJSON = (jsonString) => {\n  try {\n    JSON.parse(jsonString)\n    return true\n  } catch (e) {\n    return false\n  }\n}\n\nexport default function Condition() {\n  return {\n    preset: preset(),\n    active: active()\n  }\n}\n","import { ref, computed } from 'vue'\nimport store from 'store'\n\nimport Category from './category'\nimport Condition from './condition'\n\nimport { isFunction } from 'utils/is'\n\nconst useConditionFormNew = () => {\n  const loading = ref(false)\n  const formEdit = ref({\n    groupName: null,\n    conditions: [],\n    categories: []\n  })\n  const companyName = computed(() => store.state.setting.condition.price_sync_company_source)\n\n  const getDetail = async (payload, callback = () => {}) => {\n    try {\n      loading.value = true\n      const response = await store.dispatch(`setting/condition/show`, {\n        id: payload.id,\n        ...(payload.priceSync.uniqueId && payload.priceSync?.sync && {\n            params: {\n              unique_id: payload.priceSync.uniqueId,\n              is_price_sync: payload.priceSync?.sync\n            }\n          }\n        ),\n        ...(payload.priceSync.uniqueId && {\n          params: { unique_id: payload.priceSync.uniqueId }\n        })\n      })\n      formEdit.value.groupName = response.group_name\n      formEdit.value.conditions = response.conditions\n      formEdit.value.categories = response.categories\n\n      isFunction(callback) && callback(response)\n    } catch (error) {\n      isFunction(callback) && callback(error)\n    } finally {\n      loading.value = false\n    }\n  }\n\n  const action = {\n    add: async (payload) => await store.dispatch(`setting/condition/create`, {\n      group_name: payload.group_name,\n      categories: JSON.stringify(payload.categories),\n      conditions: JSON.stringify(\n        payload.conditions.map(item => ({\n            ...item,\n            terms: [...[item.term], ...item.terms]\n          })\n        )\n      )\n    }),\n    update: async (payload) => await store.dispatch(`setting/condition/update`, {\n      id: payload.id,\n      data: {\n        group_name: payload.group_name,\n        categories: JSON.stringify(payload.categories)\n      }\n    }),\n    delete: async (id) => await store.dispatch(`setting/condition/delete`, id)\n  }\n\n  return {\n    main: {\n      loading,\n      formEdit,\n      action,\n      companyName,\n      getDetail\n    },\n    category: Category(),\n    condition: Condition()\n  }\n}\n\nexport default useConditionFormNew\n","<template>\n  <div class=\"lg:w-2/5 space-y-4\">\n    <div>\n      <div class=\"flex items-center gap-x-1\">\n        <label for=\"CategoryName\">\n          Category Name\n        </label>\n        <Tooltip placement=\"top\">\n          <template #content>\n            <div class=\"w-64 text-sm\">\n              The category names are internal only and not customer-facing.\n            </div>\n          </template>\n          <template #default>\n            <i class=\"material-icons text-teal-04\">info</i>\n          </template>\n        </Tooltip>\n      </div>\n      <div class=\"flex gap-x-4 items-center\">\n        <div class=\"flex-1\">\n          <Input\n            v-model=\"form.group_name\"\n            name=\"CategoryName\"\n            type=\"text\"\n            placeholder=\"Category name\"\n            :view=\"(validation.group_name.$invalid && 'danger') || 'default'\"\n            class=\"w-full\"\n            :disabled=\"main?.synced\"\n          />\n          <span\n            v-for=\"n in validation.group_name.$errors.length\"\n            :key=\"n\"\n            class=\"text-red-base mt-2 block\">\n            Category name is required\n          </span>\n        </div>\n        <div v-if=\"!!main?.synced\" whitelabel=\"remove\">\n          <Tooltip placement=\"right\">\n            <template #content>\n              <div\n                class=\"xl:max-w-lg max-w-sm\"\n                style=\"word-wrap: break-word\">\n                <p>\n                  This product's category name is locked because you are\n                  using price sync\n                  <template v-if=\"!!main.companyName\">\n                    from\n                    <b>{{ main.companyName }}</b>\n                  </template>.\n                  <b>\n                    <a\n                      href=\"https://help.reusely.com/en/articles/9176424-how-price-sync-works\"\n                      target=\"_blank\"\n                      noreferrer\n                      noopener\n                      class=\"mx-2 text-white underline\">\n                      Read More\n                    </a>\n                  </b>\n                </p>\n              </div>\n            </template>\n            <template #default>\n              <i class=\"material-icons icon-md select-none\">lock</i>\n            </template>\n          </Tooltip>\n        </div>\n      </div>\n    </div>\n    <div>\n      <label>Assign Your Condition Item</label>\n      <div class=\"flex gap-x-4 items-center\">\n        <div class=\"flex-1\">\n          <MultiSelect\n            v-model=\"form.categories\"\n            placeholder=\"Search items\"\n            label=\"name\"\n            track-by=\"category_id\"\n            :options=\"devicesComputed\"\n            :multiple=\"true\"\n            :hide-selected=\"false\"\n            :show-labels=\"false\"\n            :show-no-results=\"true\"\n            :show-no-options=\"true\"\n            :class=\"multiSelectClass\"\n            :disabled=\"main?.synced || !!priceEditor || disabledUniqueAndMac\"\n            required>\n            <template #option=\"props\">\n              <p class=\"text-sm text-grey-03 mb-1\">\n                {{ props.option.brand }}\n              </p>\n              <p>{{ props.option.name }}</p>\n            </template>\n          </MultiSelect>\n          <span\n            v-for=\"o in validation.categories.$errors.length\"\n            :key=\"o\"\n            class=\"text-red-base mt-2 block\">\n            Item is required\n          </span>\n        </div>\n        <div v-if=\"!!main?.synced\" whitelabel=\"remove\">\n          <Tooltip placement=\"right\">\n            <template #content>\n              <div\n                class=\"xl:max-w-lg max-w-sm\"\n                style=\"word-wrap: break-word\">\n                <p>\n                  This product's category name is locked because you are\n                  using price sync\n                  <template v-if=\"!!main?.companyName\">\n                    from\n                    <b>{{ main?.companyName }}</b>\n                  </template>.\n                  <b>\n                    <a\n                      href=\"https://help.reusely.com/en/articles/9176424-how-price-sync-works\"\n                      target=\"_blank\"\n                      noreferrer\n                      noopener\n                      class=\"mx-2 text-white underline\">\n                      Read More\n                    </a>\n                  </b>\n                </p>\n              </div>\n            </template>\n            <template #default>\n              <i class=\"material-icons icon-md select-none\">lock</i>\n            </template>\n          </Tooltip>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useVuelidate } from '@vuelidate/core'\nimport { required } from '@/validations/index'\n\nimport Input from 'bbUi/components/input/input.vue'\nimport MultiSelect from 'vue-multiselect'\n\nexport default defineComponent({\n  name: 'ConditionCategory',\n  components: {\n    Input,\n    MultiSelect\n  },\n  props: {\n    mixin: {\n      type: Object,\n      default: undefined\n    },\n    main: {\n      type: Object,\n      default: undefined\n    },\n    priceEditor: {\n      type: Boolean,\n      default: false\n    },\n    priceEditorCategory: {\n      type: Object,\n      default: undefined\n    }\n  },\n  emits: ['update:modelValue'],\n  async setup(props, ctx) {    \n    const {\n      form,\n      loading,\n      devices,\n      getDevices\n    } = props.mixin\n    const rules = {\n      group_name: { required },\n      categories: { required }\n    }\n    const validation = useVuelidate(rules, form, {\n      $lazy: true\n    })\n    const multiSelectClass = computed(() => ({\n      'multiselect--invalid': validation.value.categories.$invalid\n    }))\n    const devicesComputed =computed(() => {\n      if (form?.categories?.length) {\n        const isMac = [...form.categories].findIndex(category => category.is_mac)\n        return isMac >= 0\n          ? [...devices.value].filter(device => device.is_mac === 1)\n          : [...devices.value].filter(device => device.is_mac === 0)\n      }\n      return devices.value\n    })\n    const route = useRoute()\n    const disabledUniqueAndMac = computed(() => {\n      if (!form?.categories?.length) return false\n\n      const isMac = [...form.categories].findIndex(category => category.is_mac)\n      return !!route?.query?.unique_id && isMac >= 0\n    })\n\n    if (!!props.main?.id) {\n      form.group_name = props.main.formEdit.groupName\n      form.categories = [...props.main?.formEdit?.categories].filter(category => !!category.is_checked)\n    }\n    await getDevices()\n\n    if (!!props.priceEditor) {\n      form.categories = [...devices.value].filter(device =>\n        (device.category_id == props.priceEditorCategory.id) &&\n        device.name?.toLowerCase() == props.priceEditorCategory?.name?.toLowerCase()\n      )\n    }\n\n    const submit = async () => {\n      await validation.value.$validate()\n\n      return validation.value.$error ? false : true\n    }\n\n    return {\n      form,\n      submit,\n      loading,\n      devices,\n      validation,\n      getDevices,\n      disabledUniqueAndMac,\n      devicesComputed,\n      multiSelectClass\n    }\n  }\n})\n</script>\n","<template>\n  <Modal\n    v-model=\"show\"\n    hide-header\n    hide-footer\n    size=\"xs\">\n    <div class=\"space-y-8 text-center my-8\">\n      <span\n        :style=\"{\n          fontSize: '8rem !important',\n          lineHeight: '1'\n        }\"\n        class=\"material-icons text-orange-03\">\n        error_outline\n      </span>\n      <div class=\"font-normal text-grey-03\">\n        <p>\n          You have conditions with the same title already in the active conditions. If you continue, it will replace the existing condition.\n        </p>\n        <p>\n          Are you sure you want to proceed?\n        </p>\n      </div>\n      <div class=\"flex items-center justify-center gap-x-4\">\n        <Button\n          color=\"grey\"\n          view=\"outlined\"\n          @click=\"handleCancel\">\n          Cancel\n        </Button>\n        <Button\n          color=\"teal\"\n          @click=\"handleConfirm\">\n          Continue\n        </Button>\n      </div>\n    </div>\n  </Modal>\n</template>\n<script>\nimport { computed, defineComponent } from 'vue'\n\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nexport default defineComponent({\n  name: 'ConditionModalCautionSource',\n  components: {\n    Modal,\n    Button\n  },\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['update:modelValue', 'cancel', 'continue'],\n  setup(props, ctx) {\n    const show = computed({\n      get: () => props.modelValue,\n      set: (val) => {\n        ctx.emit('update:modelValue', val)\n      }\n    })\n    const handleCancel = () => {\n      show.value = false\n      ctx.emit('cancel')\n    }\n    const handleConfirm = () => {\n      show.value = false\n      ctx.emit('continue')\n    }\n\n    return {\n      show,\n      handleCancel,\n      handleConfirm\n    }\n  }\n})\n</script>\n","<template>\n  <div class=\"flex flex-col gap-y-8 py-4 px-2\">\n    <div class=\"space-y-2\">\n      <div>\n        <div class=\"bg-green-04 rounded-full text-white inline-flex px-4 items-center justify-center gap-1 text-sm\">\n          <span class=\"material-icons\">\n            verified\n          </span>\n          Recomended\n        </div>\n      </div>\n      <p>\n        Save time by using these presets to define your conditions without having to start from scratch.\n      </p>\n      <Select\n        v-model=\"form.source\"\n        :items=\"form.sources\"\n        :style=\"{\n          width: '100%',\n          boxShadow: 'unset'\n        }\"\n        :disabled=\"disabledSource\"\n        :loading=\"loading\"\n        placeholder=\"Choose Preset Condition\"\n        max-height=\"200px\"\n        by=\"sub_domain\"\n        name=\"name\"\n        no-border\n        @update:modelValue=\"handleSelectSource\">\n        <template #item=\"{ item }\">\n          <div class=\"flex items-center gap-x-4\">\n            <div\n              :style=\"{backgroundImage: `url(${item.logo})`}\"\n              class=\"w-28 h-7 flex items-center justify-center bg-center bg-contain bg-no-repeat\"\n            />\n            <div class=\"flex-1 flex items-center gap-x-1\">\n              {{ item.name }}\n              <template v-if=\"form?.source\">\n                <i v-if=\"item?.sub_domain === form?.source?.sub_domain\" class=\"material-icons text-green-04\">check_circle</i>\n              </template>\n            </div>\n          </div>\n        </template>\n      </Select>\n    </div>\n\n    <template v-if=\"form.source\">\n      <div v-loading=\"loading\" class=\"space-y-6\">\n        <div\n          v-for=\"(condition, n) in form.conditions\"\n          :key=\"n\"\n          :class=\"[\n            'condition-source-outline',\n            !condition.added && !!condition.exist && 'condition-source-outline--warning',\n            !!condition.added && 'condition-source-outline--success'\n          ]\">\n          <div class=\"space-y-4\">\n            <div class=\"font-semibold title\">\n              {{ condition.name }}\n              <template v-if=\"!!condition.added || !!condition.exist\">\n                <Tooltip placement=\"top\">\n                  <template #content>\n                    <p class=\"w-80 text-sm\">\n                      A condition with this name is already exists. To use this condition please rename the existing one or delete it first.\n                    </p>\n                  </template>\n                  <template #default>\n                    <span class=\"material-icons\">\n                      {{ (!!condition.added && 'check_circle') || 'info' }}\n                    </span>\n                  </template>\n                </Tooltip>\n              </template>\n            </div>\n            <div>\n             <div v-html=\"condition.term\" />\n              <ul class=\"list-outside list-disc ml-6\">\n                <template\n                  v-for=\"(term, indexTerm) in (condition.terms || [])\"\n                  :key=\"indexTerm\">\n                  <li\n                    v-if=\"!!term && !!term?.length\"  \n                    class=\"text-grey-04\"\n                    v-html=\"sanitize(term)\"\n                  />\n                </template>\n              </ul>\n            </div>\n            <Button\n              v-if=\"!condition.added\"\n              view=\"outlined\"\n              :color=\"condition.exist? 'orange' : 'teal'\"\n              block\n              dense\n              @click=\"handleAddCondition(condition, n)\">\n              <div class=\"flex items-center justify-center gap-2\">\n                <span>Add to Active Conditions</span>\n                <span class=\"material-icons\">\n                  arrow_forward\n                </span>\n              </div>\n            </Button>\n          </div>\n        </div>\n  \n        <Button\n          v-if=\"!!form.conditions.length && form.conditions.length >= 2 && form.conditions.length !== form.condition.length\"\n          color=\"teal\"\n          block\n          dense\n          @click=\"handleAddAllCondition\">\n          <div class=\"flex items-center justify-center gap-2\">\n            <span>Add All To Active Conditions</span>\n            <span class=\"material-icons\">\n              arrow_forward\n            </span>\n          </div>\n        </Button>\n      </div>\n    </template>\n  </div>\n  <ConditionModalCautionSource\n    v-model=\"modal\"\n    @continue=\"handleContinueCaution\"\n    @cancel=\"handleCancelCaution\"\n  />\n</template>\n\n<script>\nimport { ref, defineComponent, computed, watch } from 'vue'\nimport { sanitize } from 'utils/dom'\n\nimport Select from 'components/Select.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport ConditionModalCautionSource from 'components/Condition/Modal/CautionSource.vue';\n\nexport default defineComponent({\n  name: 'ConditionMappingSource',\n  components: {\n    Select,\n    Button,\n    ConditionModalCautionSource\n  },\n  props: {\n    mixin: {\n      type: Object,\n      default: undefined\n    },\n    category: {\n      type: Object,\n      default: undefined\n    },\n    active: {\n      type: Object,\n      default: undefined\n    },\n    main: {\n      type: Object,\n      default: undefined\n    },\n    refList: {\n      type: Object,\n      default: undefined\n    },\n    priceEditor: {\n      type: Boolean,\n      default: false\n    },\n    priceEditorCategory: {\n      type: Object,\n      default: undefined\n    }\n  },\n  emits: ['update:modelValue', 'selectSource', 'selectCondition'],\n  async setup(props, ctx) {\n    const main = props.main\n    const { form, getConditions, getSources, loading, modal, isValidJSON } = props.mixin\n    const category = computed(() => props.category)\n    const { form: formActive } = props.active\n    const replacer = ref(null)\n    const isAddAll = ref(false)\n\n    const categoriesSelected = computed(() => {\n      if (!category.value?.form?.categories) return undefined;\n\n      if (!category.value?.form?.categories.length) return undefined;\n\n      return category.value?.form?.categories\n    })\n    const disabledSource = computed(() => {\n      if (!category.value.form.group_name) return true\n\n      if (!categoriesSelected.value) return true\n\n      if (categoriesSelected.value.length > 1) return true\n\n      if (loading.value) return true\n\n      if (main?.synced) return true\n\n      return false\n    })\n    const handleShowCondition = async () => {\n      const data = form.value.source\n      const category = (Array.isArray(categoriesSelected.value) && [...categoriesSelected.value].shift()) || []\n      if (!!data?.sub_domain && !!category) {\n        await getConditions({\n          sub_domain: data.sub_domain,\n          category_id: category.category_id,\n          is_mac: category.is_mac\n        })\n        handleInitCondition()\n      }\n    }\n    const handleSelectSource = async (subDomain) => {\n      if (Array.isArray(form.value.sources)) {\n        form.value.source = [...form.value.sources].find(source => source.sub_domain === subDomain)\n\n        return await handleShowCondition()\n      }\n\n      form.value.source = {}\n    }\n    const handleCheckExist = (condition) => {\n      if (!!formActive.value?.conditions?.length) {\n        const results = []\n        formActive.value?.conditions.map(item => {\n          const sourceName = condition.name?.split(' ').join('')\n          const activeName = item.name?.split(' ').join('')\n          activeName.toLowerCase() === sourceName.toLowerCase() && results.push(item.name)\n        })\n\n        return !!results.length ? true : false\n      }\n\n      return false\n    }\n    const handleAddCondition = (condition = undefined, index = -1) => {\n      if (!condition || index === -1) return\n\n      if (condition.exist) {\n        replacer.value = { ...condition, index }\n        modal.value = true\n\n        return\n      }\n\n      form.value.condition.push(condition)\n      form.value.conditions[index].added = true\n\n      props.refList.isEdit = false\n      const payload = { ...condition }\n      delete payload.id\n      if (main.id) {\n        props.refList.saveCondition(payload, true)\n      } else formActive.value.conditions.push(payload)\n      // formActive.value.conditions = (\n      //   Array.isArray(formActive.value.conditions) &&\n      //   formActive.value.conditions.length &&\n      //   [...new Set([...formActive.value.conditions, ...form.value.condition])]\n      // ) ||\n      //   [...new Set(form.value.condition)]\n    }\n    const handleAddAllCondition = () => {\n      const cautions = form.value?.conditions?.length && [...form.value?.conditions].filter(item => !!item.exist) || []\n\n      if (!!cautions.length) {\n        replacer.value = cautions\n        isAddAll.value = true\n        modal.value = true\n\n        return\n      }\n\n      form.value?.conditions?.forEach((item, key) => {\n        if (!item.added) handleAddCondition(item, key)\n      })\n    }\n    const handleReplaceCondition = () => {\n      const indexToReplace = [...formActive.value.conditions].findIndex((item) => {\n        const sourceName = replacer.value.name.split(' ').join('')\n        const activeName = item.name.split(' ').join('')\n        return sourceName.toLowerCase() === activeName.toLowerCase()\n      })\n\n      if (indexToReplace >= 0) {\n        const condition = form.value.conditions[replacer.value.index]\n        form.value.condition = [...new Set([...form.value.condition, ...[condition]])]\n        form.value.conditions[replacer.value.index].added = true\n      \n        formActive.value.conditions[indexToReplace] = { ...condition }\n      }\n\n      handleCancelCaution()\n    }\n    const handleReplaceAllCondition = () => {\n      form.value.conditions = form.value.conditions?.map(item => ({\n        ...item,\n        added: true\n      }))\n      form.value.condition = [...form.value.conditions]\n      form.value.condition?.forEach(async (item) => {\n        const indexToReplace = [...formActive.value.conditions].findIndex((active) => {\n          const sourceName = item.name.split(' ').join('')\n          const activeName = active.name.split(' ').join('')\n          return sourceName.toLowerCase() === activeName.toLowerCase()\n        })\n\n        if (indexToReplace >= 0) {\n          props.refList.isEdit = true\n          if (main.id && formActive.value.conditions[indexToReplace].id) {\n            await props.refList.saveCondition({\n              id: formActive.value.conditions[indexToReplace].id,\n              name: item.name,\n              term: item.term,\n              terms: item.terms\n            }, true)\n          } else {\n            formActive.value.conditions[indexToReplace] = {\n              ...formActive.value.conditions[indexToReplace],\n              ...item\n            }\n          }\n        } else {\n          props.refList.isEdit = false\n          if (!!main.id) {\n            await props.refList.saveCondition({ name: item.name, term: item.term, terms: item.terms }, true)\n          } else formActive.value.conditions.push(item)\n        }\n      })\n    }\n    const handleInitCondition = () => {\n      form.value.conditions = [...form.value.conditions].map(item => {\n        let terms = []\n        try {\n          if (isValidJSON(item.condition_term)) {\n            const parsedTerms = JSON.parse(item.condition_term)\n            terms = Array.isArray(parsedTerms) ? parsedTerms : []\n          }\n        } catch (error) {\n          console.error('Error parsing condition terms:', error)\n          terms = []\n        }\n\n        return {\n          ...item,\n          terms: !!terms ? terms.splice(1, terms.length - 1) : [''],\n          term: !!terms ? terms[0] : item.condition_term,\n          added: false,\n          exist: handleCheckExist(item) // false\n        }\n      })\n    }\n    const handleContinueCaution = () => {\n      if (!!isAddAll.value) return handleReplaceAllCondition()\n\n      return handleReplaceCondition()\n    }\n    const handleCancelCaution = () => {\n      modal.value = false\n      isAddAll.value = false\n      replacer.value = null\n    }\n    const handleRelabeling = () => {\n      form.value.conditions = form.value.conditions.map((item) => {\n        if (!!item.added) return {...item};\n\n        return {\n          ...item,\n          exist: handleCheckExist(item)\n        }\n      })\n    }\n    const deleteActiveCondtion = (condition) => {\n      const key = form.value.conditions.findIndex(item => {\n        const sourceName = item.name?.split(' ').join('')\n        const activeName = condition.name?.split(' ').join('')\n        return activeName.toLowerCase() === sourceName.toLowerCase()\n      })\n\n      if (!!form.value.conditions[key]) {\n        form.value.conditions[key].added = false\n        form.value.conditions[key].exist = false\n      }\n    }\n\n    watch(() => [\n      categoriesSelected.value,\n      main?.synced,\n      getSources\n    ],\n    () => {\n      if (!!categoriesSelected.value && !!getSources && !main?.synced) {\n        getSources(categoriesSelected.value)\n      } else {\n        form.value.source = null,\n        form.value.conditions = [],\n        form.value.sources = [],\n        form.value.condition = []\n      }\n    }, {\n      deep: true,\n      immediate: true\n    })\n\n    return {\n      form,\n      main,\n      formActive,\n      getConditions,\n      getSources,\n      loading,\n      modal,\n      sanitize,\n      categoriesSelected,\n      disabledSource,\n      replacer,\n      isAddAll,\n      deleteActiveCondtion,\n      handleRelabeling,\n      handleSelectSource,\n      handleAddCondition,\n      handleInitCondition,\n      handleCancelCaution,\n      handleContinueCaution,\n      handleAddAllCondition,\n      handleReplaceCondition\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.condition-source-outline {\n  @apply rounded-lg bg-teal-01 bg-opacity-25 p-4;\n\n  box-shadow: 0 0 2px 1px rgba(66, 66, 66, 0.20);\n\n  .title {\n    @apply text-teal-04 flex items-center gap-x-2;\n  }\n\n  &--warning,\n  &--success {\n    box-shadow: unset\n  }\n  &--warning {\n    @apply border border-orange-04;\n    \n    .title {\n      @apply text-orange-04;\n    }\n  }\n  &--success {\n    @apply border border-green-04;\n    \n    .title {\n      @apply text-green-04;\n    }\n  }\n}\n</style>\n","<template>\n  <div\n    class=\"select-none overflow-y-auto px-4\"\n    :style=\"{ maxHeight: '75vh' }\"\n    draggable=\"false\"\n  >\n    <div class=\"stepper\">\n      <div class=\"stepper-item --active\">\n        <div class=\"stepper-item__icon\">\n          <svg\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 126 126\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M83.5356 25.0537C87.7242 25.0537 89.3881 26.7136 89.3919 30.9397C89.3919 33.2184 89.3895 35.4972 89.3871 37.7762C89.3799 44.6141 89.3726 51.4534 89.4305 58.2901C89.4305 60.2168 88.9132 60.9349 86.9328 60.8878C82.815 60.7888 78.6947 60.8145 74.576 60.8402C73.6328 60.8461 72.6887 60.852 71.7458 60.8564C67.6073 60.8564 65.9551 62.5948 65.9358 66.7895C65.9358 68.0107 65.9317 69.229 65.9277 70.4457C65.9176 73.5292 65.9074 76.603 65.9628 79.6838C65.9898 81.3358 65.488 81.9872 63.77 81.9911C58.6936 81.9911 58.6935 82.0618 58.6897 87.2256V88.5953C58.6897 90.0878 58.6897 90.8224 59.0542 91.2346C59.4076 91.6341 60.1034 91.7308 61.4736 91.9213L61.4847 91.9228C63.1601 92.1583 64.214 93.1393 64.3568 94.8344C64.4997 96.5296 63.4844 97.6323 61.8823 98.06C61.1956 98.2141 60.4927 98.28 59.7899 98.2562H32.3034C31.5986 98.2683 30.8942 98.2131 30.1995 98.0914C28.4932 97.7421 27.4315 96.3884 27.5319 94.7952C27.6323 93.2021 28.856 91.9856 30.6203 91.9268C33.1798 91.8404 35.7508 91.813 38.3064 91.9268C39.9163 91.9935 40.4722 91.4049 40.3834 89.796C40.2772 87.8447 40.2772 85.8888 40.3834 83.9375C40.4683 82.3679 39.8352 81.9362 38.3644 81.948C30.8673 82.0029 23.3703 81.9755 15.8733 81.948C11.5534 81.9519 9.9668 80.3588 9.9668 75.9717V30.8456C9.9668 26.6861 11.5689 25.0537 15.6803 25.0537H83.5356Z\"\n              fill=\"white\"\n            />\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M89.3979 67.2003C89.3979 64.7949 88.927 64.269 86.6338 64.2494C83.3911 64.2259 80.1467 64.2337 76.9028 64.2416C75.281 64.2455 73.6587 64.2494 72.0374 64.2494C70.2964 64.2494 69.505 64.9283 69.5436 66.8197C69.608 70.0756 69.5959 73.3315 69.5839 76.5874C69.5786 78.0167 69.5733 79.4461 69.5745 80.8755C69.577 83.999 69.5762 87.1225 69.5753 90.246L69.5745 94.9313C69.5745 97.2621 69.8679 97.58 72.076 97.5918C77.0046 97.6127 81.9344 97.6127 86.8655 97.5918C89.0466 97.5918 89.3902 97.219 89.3941 94.9274C89.4095 85.6824 89.4108 76.44 89.3979 67.2003ZM79.4727 94.276C79.1764 94.276 78.8868 94.1867 78.6405 94.0194C78.3942 93.8521 78.2022 93.6143 78.0888 93.3361C77.9755 93.0579 77.9458 92.7518 78.0036 92.4564C78.0614 92.1611 78.2041 91.8898 78.4135 91.6769C78.623 91.4639 78.8899 91.3189 79.1805 91.2602C79.471 91.2014 79.7722 91.2316 80.0459 91.3468C80.3196 91.4621 80.5535 91.6572 80.7181 91.9076C80.8827 92.158 80.9705 92.4523 80.9705 92.7535C80.971 92.9537 80.9327 93.1521 80.8576 93.3373C80.7826 93.5225 80.6723 93.6908 80.5332 93.8326C80.3941 93.9744 80.2288 94.0869 80.0468 94.1636C79.8648 94.2404 79.6697 94.276 79.4727 94.276Z\"\n              fill=\"white\"\n            />\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M116.116 92.2043V50.7314L116.097 50.7236V30.2402C116.089 26.9401 114.255 25.0605 111.016 25.0605H99.4581C96.2501 25.0605 94.2812 27.0226 94.2812 30.303V92.1573C94.289 95.6104 96.2771 97.5724 99.6627 97.5724H110.823C114.159 97.5606 116.116 95.5711 116.116 92.2043ZM105.222 33.0734L105.214 33.0773C104.96 33.0759 104.706 33.077 104.453 33.0781C103.997 33.0801 103.544 33.0821 103.095 33.0695C102.276 33.0498 101.736 32.5319 101.724 31.8726C101.713 31.2134 102.28 30.6954 103.102 30.6954C104.502 30.6771 105.903 30.6771 107.303 30.6954C108.163 30.7033 108.696 31.2409 108.685 31.9197C108.673 32.5986 108.14 33.0459 107.291 33.0734H105.222ZM103.056 34.9608H105.245L105.237 34.9648C105.435 34.9648 105.632 34.9635 105.83 34.9622C106.323 34.959 106.815 34.9558 107.303 34.9726C108.144 34.9961 108.661 35.4631 108.673 36.1498C108.685 36.8365 108.16 37.3466 107.326 37.3466C105.917 37.3663 104.5 37.3663 103.079 37.3466C102.265 37.3349 101.72 36.7933 101.724 36.138C101.728 35.4827 102.284 34.9883 103.056 34.9608ZM104.335 87.1157C104.623 86.994 104.933 86.9337 105.245 86.9383L105.23 86.9422C105.533 86.9269 105.837 86.9739 106.123 87.0803C106.408 87.1866 106.67 87.3503 106.892 87.5615C107.114 87.7727 107.293 88.0272 107.416 88.3097C107.54 88.5923 107.606 88.8972 107.611 89.2064C107.625 89.5279 107.575 89.8489 107.463 90.1501C107.352 90.4513 107.182 90.7267 106.964 90.9597C106.745 91.1926 106.483 91.3784 106.192 91.506C105.902 91.6336 105.589 91.7002 105.272 91.7021C104.967 91.7057 104.665 91.6483 104.383 91.533C104.1 91.4178 103.842 91.2471 103.625 91.0306C103.407 90.8141 103.234 90.5561 103.114 90.2713C102.995 89.9866 102.932 89.6807 102.929 89.3712C102.914 89.0544 102.963 88.7378 103.073 88.441C103.183 88.1442 103.352 87.8735 103.569 87.6456C103.786 87.4177 104.047 87.2373 104.335 87.1157ZM103.056 39.5951H105.245L105.237 39.599C105.394 39.599 105.551 39.598 105.708 39.597C106.241 39.5935 106.772 39.5901 107.303 39.6265C108.144 39.65 108.661 40.1366 108.673 40.8037C108.685 41.4708 108.156 41.9809 107.326 41.9809C106.387 41.9966 105.442 41.9914 104.497 41.9861C104.024 41.9835 103.552 41.9809 103.079 41.9809C102.265 41.9495 101.724 41.4315 101.724 40.7723C101.724 40.1131 102.265 39.6186 103.056 39.5951Z\"\n              fill=\"white\"\n            />\n          </svg>\n        </div>\n      </div>\n      <div class=\"stepper-item\">\n        <div class=\"stepper-item__icon\">\n          <svg\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 126 126\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M109.186 34.7529L105.811 40.5736L109.183 46.3943C109.384 46.7412 109.515 47.1243 109.568 47.5217C109.621 47.919 109.595 48.3229 109.491 48.7102C109.387 49.0975 109.208 49.4606 108.964 49.7788C108.72 50.097 108.415 50.364 108.067 50.5646L102.227 53.9325V60.641C102.227 61.4501 101.905 62.226 101.332 62.7981C100.759 63.3703 99.981 63.6917 99.1701 63.6917H92.4471L89.0749 69.5185C88.6683 70.218 88.0004 70.7281 87.2174 70.9368C86.4345 71.1456 85.6006 71.0359 84.8986 70.632L79.0591 67.264L73.2258 70.632C72.7549 70.9035 72.226 71.0438 71.694 71.0438C71.158 71.0407 70.632 70.8985 70.1678 70.631C69.7035 70.3636 69.3171 69.9802 69.0464 69.5185L65.6711 63.6917H58.9451C58.1342 63.6917 57.3566 63.3703 56.7832 62.7981C56.2099 62.226 55.8877 61.4501 55.8877 60.641V53.9325L50.0483 50.5646C49.3488 50.1567 48.8392 49.4894 48.6308 48.7082C48.4223 47.927 48.5318 47.0953 48.9354 46.3943L52.3107 40.5736L48.9354 34.7529C48.7333 34.4062 48.6018 34.0231 48.5484 33.6256C48.4951 33.228 48.5211 32.8239 48.6248 32.4364C48.7285 32.0488 48.9079 31.6856 49.1527 31.3675C49.3975 31.0493 49.7029 30.7826 50.0513 30.5826L55.8908 27.2147V20.5062C55.8908 19.6972 56.2129 18.9212 56.7863 18.3491C57.3596 17.777 58.1373 17.4556 58.9481 17.4556H65.6711L69.0464 11.6288C69.4519 10.9281 70.1196 10.4169 70.9028 10.2075C71.686 9.99807 72.5205 10.1077 73.2227 10.5122L79.0622 13.8832L84.9016 10.5153C85.249 10.3137 85.6329 10.183 86.0312 10.1306C86.4296 10.0783 86.8344 10.1053 87.2221 10.2102C88.004 10.4222 88.6707 10.933 89.0779 11.6318L92.4501 17.4556H99.1732C99.984 17.4556 100.762 17.777 101.335 18.3491C101.908 18.9212 102.23 19.6972 102.23 20.5062V27.2177L108.07 30.5857C108.772 30.9908 109.283 31.6573 109.493 32.4388C109.702 33.2202 109.592 34.0526 109.186 34.7529ZM74.6592 26.6315C73.7992 25.7728 72.6325 25.2901 71.4158 25.2897C70.1992 25.2893 69.0321 25.7712 68.1715 26.6294C67.3109 27.4875 66.8272 28.6517 66.8268 29.8657C66.8264 31.0798 67.3093 32.2443 68.1694 33.103C69.0294 33.9617 70.1961 34.4444 71.4128 34.4448C72.6295 34.4452 73.7965 33.9633 74.6571 33.1052C75.5177 32.247 76.0014 31.0828 76.0018 29.8688C76.0022 28.6547 75.5193 27.4903 74.6592 26.6315ZM67.4413 50.9185L72.333 54.5762L90.6769 30.1708L85.7852 26.513L67.4413 50.9185ZM84.947 55.4475C85.5035 55.6777 86.1 55.7963 86.7024 55.7965C87.9191 55.7969 89.0861 55.315 89.9467 54.4569C90.8073 53.5987 91.291 52.4345 91.2914 51.2205C91.2918 50.0065 90.8089 48.842 89.9489 47.9832C89.0888 47.1245 87.9221 46.6418 86.7055 46.6414C86.103 46.6412 85.5064 46.7594 84.9498 46.9893C84.3931 47.2191 83.8873 47.5562 83.4612 47.9811C83.035 48.406 82.6969 48.9105 82.4662 49.4658C82.2355 50.0211 82.1166 50.6163 82.1164 51.2174C82.1162 51.8186 82.2347 52.4139 82.465 52.9693C82.6954 53.5248 83.0331 54.0295 83.459 54.4547C83.8848 54.8799 84.3904 55.2173 84.947 55.4475Z\"\n              fill=\"#a5a5a5\"\n            />\n            <path\n              d=\"M20.0155 73.8845C26.0747 70.0668 29.9985 68.1718 32.82 67.7011C37.323 66.9502 43.3475 68.1422 47.0058 70.508C47.9374 71.1105 50.0403 72.7056 51.6786 74.0526C53.317 75.3997 57.1082 77.8897 60.1037 79.5862C63.0992 81.2823 65.941 83.193 66.4191 83.8314C68.0634 86.0295 67.086 89.7339 64.7041 90.3305C64.0804 90.4868 60.8524 90.2346 57.5312 89.7702L51.4927 88.926L45.4966 84.6068C39.9315 80.5973 38.3249 79.8545 38.3249 81.2899C38.3249 82.1704 50.1673 90.7581 52.0872 91.2706C53.0188 91.5191 56.1041 92.032 58.943 92.411C62.9527 92.9456 64.428 92.9933 65.5502 92.6236C67.2211 92.0734 68.5664 90.7737 69.2042 89.0937L69.6513 87.9165L72.8929 89.7778L80.275 88.2469C109.687 82.1481 111.826 81.6316 113.515 82.2819C113.77 82.3798 114.014 82.5041 114.34 82.6399C115.966 83.318 117.508 85.489 117.508 87.1019C117.508 88.5634 116.09 90.7446 114.672 91.4637C112.84 92.3925 72.0511 105.258 68.6524 105.979C66.633 106.407 64.3094 106.552 61.615 106.418C57.7848 106.228 57.0357 106.013 45.967 101.942C39.5728 99.5895 33.7427 97.6653 33.0105 97.6653C31.9892 97.6653 29.4226 99.2 21.9808 104.261C11.4011 111.455 10.7469 111.841 9.76872 111.467C8.77275 111.085 8.77614 84.5624 9.77211 82.0783C10.517 80.2208 12.5851 78.5666 20.0155 73.8845Z\"\n              fill=\"#a5a5a5\"\n            />\n            <path\n              d=\"M85.2227 81.4209C93.3162 79.8566 100.128 78.5134 100.361 78.436C101.994 77.8931 105.029 78.7525 105.665 79.9373C105.893 80.3637 105.937 80.7925 105.762 80.8906C105.586 80.9886 98.3854 82.4544 89.7592 84.1475L74.076 87.2265L72.2916 86.1026C71.3104 85.4844 70.5076 84.8181 70.5076 84.6216C70.5076 84.4251 77.1292 82.9847 85.2227 81.4209Z\"\n              fill=\"#a5a5a5\"\n            />\n          </svg>\n        </div>\n      </div>\n      <div class=\"stepper-item\">\n        <div class=\"stepper-item__icon\">\n          <svg\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 126 126\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M82.5175 9.21365C85.2715 9.39705 87.0841 11.3277 87.0741 14.156C87.0795 14.4177 87.0492 14.679 86.984 14.933C86.4812 16.4517 85.9892 17.9738 85.4971 19.4958C84.2346 23.401 82.9723 27.3055 81.5311 31.1501C80.4997 33.8915 77.5254 35.1464 74.5211 34.2776C67.015 32.0563 58.9891 32.0647 51.488 34.3018C50.1198 34.7474 48.6246 34.6572 47.3247 34.0506C46.0247 33.4439 45.024 32.3694 44.5381 31.0584C42.5753 25.8071 40.7476 20.4546 39.2054 15.0537C38.2541 11.6703 40.8177 9.08816 44.483 9.19434C47.0617 9.27157 49.0445 10.5506 50.8321 12.1626C51.3419 12.6275 51.8312 13.1148 52.3202 13.602C52.9888 14.2679 53.6571 14.9335 54.3772 15.5412C55.8243 16.7623 56.9459 16.4003 57.5167 14.6386C57.5987 14.3878 57.6456 14.1246 57.6934 13.8561C57.7303 13.6493 57.7677 13.4393 57.8221 13.2293C58.5131 10.6954 60.7363 8.88545 63.1448 8.91441C65.4431 8.94336 67.6011 10.7002 68.2921 13.1135C68.3565 13.3328 68.4 13.5675 68.4439 13.8042C68.4889 14.0465 68.5342 14.2908 68.6026 14.5228C69.1784 16.4148 70.3201 16.7816 71.8573 15.4495C72.5932 14.8157 73.2823 14.1327 73.9713 13.4498C74.5574 12.8689 75.1433 12.2881 75.7578 11.7379C77.6405 10.039 79.8587 9.03507 82.5175 9.21365Z\"\n              fill=\"#a5a5a5\"\n            />\n            <path\n              d=\"M65.9869 92.7507V82.3544C68.0849 82.7647 69.6271 83.3632 70.4633 84.0872C71.2995 84.8111 71.7051 85.8537 71.7051 87.3016C71.7196 88.0389 71.5599 88.7697 71.238 89.4386C70.9162 90.1076 70.4407 90.6972 69.8474 91.1628C68.7611 92.063 67.4128 92.6176 65.9869 92.7507Z\"\n              fill=\"#a5a5a5\"\n            />\n            <path\n              d=\"M56.2305 72.3346C56.0627 71.9019 55.9951 71.439 56.0326 70.9784C56.0152 70.3546 56.1486 69.7355 56.4224 69.1701C56.6962 68.6046 57.1027 68.1083 57.6099 67.7205C58.5609 66.9698 59.7142 66.496 60.9346 66.3546V75.163C58.5863 74.5452 57.5047 73.9129 57.004 73.4834C56.6623 73.1594 56.3983 72.7673 56.2305 72.3346Z\"\n              fill=\"#a5a5a5\"\n            />\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M84.7538 47.8836C99.2446 59.5493 107.702 74.5838 110.07 92.7411C110.786 98.2674 110.11 103.475 106.825 108.118C103.856 112.322 99.3347 114.32 94.3976 115.541C89.1301 116.845 83.7474 117.1 78.3296 117.057C75.05 117.035 71.7704 117.042 68.07 117.049C66.053 117.053 63.9109 117.057 61.5756 117.057C59.0778 116.966 56.3776 117.004 53.5505 117.043C48.4603 117.115 42.9587 117.192 37.486 116.531C31.0468 115.759 24.8629 114.388 20.2863 109.397C18.6178 107.589 17.3538 105.468 16.5733 103.168C15.7927 100.868 15.5124 98.4372 15.7498 96.0279C17.5324 75.1195 26.7957 57.8841 44.6713 45.6634C57.4747 36.913 72.316 37.8783 84.7538 47.8836ZM71.615 96.332C73.5094 95.4953 75.1088 94.1431 76.2166 92.4418C77.3527 90.7482 77.9545 88.7731 77.949 86.7562C77.9885 84.718 77.3245 82.7249 76.0613 81.0899C75.1702 79.9032 74.0089 78.9291 72.6665 78.2423C71.4948 77.6776 69.5019 77.0839 66.5677 76.4324L65.9869 76.302V66.3353C68.6056 66.5766 69.582 67.6433 69.9926 68.4107C69.6824 68.6725 69.4329 68.9943 69.2603 69.3552C69.0878 69.7161 68.9961 70.108 68.9912 70.5054C68.9905 70.9463 69.0865 71.3823 69.2729 71.7849C69.4593 72.1875 69.7318 72.5475 70.0727 72.8414C70.7496 73.4548 71.6474 73.7906 72.5763 73.7778C73.1256 73.7888 73.6708 73.6844 74.1741 73.4718C74.6773 73.2593 75.1265 72.9437 75.4905 72.547C76.2448 71.7472 76.6502 70.6979 76.6221 69.6173C76.6221 67.2813 75.5206 65.2928 73.3424 63.7097C71.4748 62.3438 68.9712 61.4364 65.9669 61.0117V57.6669C65.9669 56.0935 65.0455 55.1282 63.4633 55.1282C61.881 55.1282 60.9346 56.0742 60.9346 57.6669V61.0455C59.2724 61.3184 57.6468 61.7684 56.0877 62.3872C54.2271 63.1794 52.6569 64.4928 51.5812 66.1567C50.4465 67.8226 49.8425 69.7723 49.8437 71.7651C49.777 73.5205 50.2774 75.2525 51.2758 76.7219C52.146 77.9119 53.3446 78.8432 54.7357 79.4103C56.737 80.1778 58.7896 80.8147 60.8796 81.3168H60.9547V92.7749C59.3226 92.7103 57.7328 92.2558 56.328 91.4524C55.3959 90.932 54.686 90.1092 54.3252 89.1309C55.0929 88.9939 55.783 88.593 56.2673 88.0028C56.7517 87.4125 56.9974 86.6729 56.9589 85.9212C56.9709 85.4347 56.8773 84.9511 56.6842 84.5015C56.4911 84.0519 56.2026 83.6461 55.8373 83.3101C55.4785 82.9749 55.0544 82.7115 54.5895 82.535C54.1246 82.3586 53.628 82.2726 53.1284 82.2821C52.4201 82.2627 51.7171 82.4058 51.0772 82.6995C50.4374 82.9932 49.8791 83.4291 49.4482 83.9713C48.5404 85.1407 48.0789 86.576 48.1413 88.0352C48.1383 89.9081 48.7714 91.7303 49.9439 93.2237C51.1778 94.801 52.8345 96.0241 54.7357 96.7615C56.7258 97.516 58.8222 97.9781 60.9547 98.1323V101.699C60.9547 103.133 61.9461 104.025 63.4833 104.025C65.0205 104.025 65.9869 103.147 65.9869 101.699V98.0357C67.9259 97.683 69.8149 97.1112 71.615 96.332Z\"\n              fill=\"#a5a5a5\"\n            />\n          </svg>\n        </div>\n      </div>\n    </div>\n    <div class=\"flex flex-wrap items-center my-8\">\n      <i class=\"material-icons icon-md\">arrow_back</i>\n      <h3 class=\"text-3xl mx-4 font-semibold\">Sell your</h3>\n      <div class=\"w-64 py-3 bg-grey-01\"></div>\n    </div>\n    <div class=\"flex flex-col\">\n      <div class=\"flex-auto flex px-4 py-5 bg-grey-lighten my-2\">\n        <div class=\"flex-auto\">\n          <div class=\"w-32 py-3 bg-grey-01\"></div>\n        </div>\n        <div class=\"flex-auto text-right\">\n          <i class=\"material-icons\">expand_more</i>\n        </div>\n      </div>\n      <div class=\"flex-auto flex px-4 py-5 bg-grey-lighten my-2\">\n        <div class=\"flex-auto\">\n          <div class=\"w-32 py-3 bg-grey-01\"></div>\n        </div>\n        <div class=\"flex-auto text-right\">\n          <i class=\"material-icons\">expand_more</i>\n        </div>\n      </div>\n      <div class=\"flex-auto flex px-4 py-5 my-2\">\n        <div class=\"flex-auto\">\n          <h3 class=\"text-xl font-semibold\">Conditions</h3>\n        </div>\n        <div class=\"flex-auto text-right\">\n          <i class=\"material-icons transform rotate-180\">expand_more</i>\n        </div>\n      </div>\n      <div\n        v-for=\"(condition, conditionIndex) of conditions\"\n        :key=\"condition.id\"\n        class=\"flex-auto px-4\"\n      >\n        <div\n          :class=\"[\n            'border',\n            conditionIndex === 0 ? 'border-blue-04' : 'border-blue-01',\n            'px-6',\n            'py-4',\n            'my-2',\n            'rounded-lg'\n          ]\"\n        >\n          <div class=\"text-center my-4\">\n            <h6 class=\"text-lg font-semibold\">{{ condition.name }}</h6>\n            <p class=\"text-blue-04\">$999.99</p>\n          </div>\n          <div\n            v-if=\"condition.condition_term && conditionIndex === 0\"\n            class=\"my-4\"\n          >\n            <div v-html=\"condition.condition_term[0]\"></div>\n            <ul class=\"my-4\">\n              <template\n                v-for=\"(term, termIndex) of condition.condition_term\"\n                :key=\"termIndex\"\n              >\n                <li v-if=\"termIndex !== 0\" class=\"flex my-2\">\n                  <i class=\"material-icons text-green-04\">check_circle</i>\n                  <div v-html=\"term\" class=\"mx-4\"></div>\n                </li>\n              </template>\n            </ul>\n          </div>\n          <div v-if=\"conditionIndex === 0\" class=\"flex justify-center my-4\">\n            <button\n              class=\"py-4 px-6 rounded-lg text-white font-semibold bg-blue-04\"\n              @click.prevent\n            >\n              Confirm Condition\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { defineComponent, computed } from 'vue'\nexport default defineComponent({\n  name: 'ConditionPreview',\n  props: {\n    conditions: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(props) {\n    const conditions = computed(() => {\n      try {\n        return props.conditions.map((condition) => ({\n          ...condition,\n          condition_term: JSON.parse(condition.condition_term)\n        }))\n      } catch (err) {\n        console.error(`Error parsing product condition: ${err}`)\n        return []\n      }\n    })\n    return {\n      conditions\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.stepper {\n  @apply flex;\n  .stepper-item {\n    @apply relative flex-auto flex justify-center items-center;\n    &:not(:first-child) {\n      &:before {\n        content: '';\n        @apply absolute bg-grey-01  w-1/2 h-1 top-1/2 transform -translate-y-1/2 left-0;\n      }\n    }\n    &:not(:last-child) {\n      &:after {\n        content: '';\n        @apply absolute bg-grey-01 w-1/2 h-1 top-1/2 transform -translate-y-1/2 right-0;\n      }\n    }\n    .stepper-item__icon {\n      @apply flex items-center justify-center bg-white border-2 border-grey-02 w-16 h-16 rounded-full;\n      z-index: 1;\n    }\n    &.--active {\n      .stepper-item__icon {\n        @apply border border-blue-04 bg-blue-04 text-white;\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <Modal\n    v-model=\"show\"\n    title=\"Preview Condition\"\n    size=\"md\"\n    hide-footer>\n    <PreviewCondition\n      :conditions=\"conditions\"\n      class=\"mb-4\"\n    />\n  </Modal>\n</template>\n<script>\nimport { computed, defineComponent } from 'vue'\n\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport PreviewCondition from '../Preview.vue'\n\nexport default defineComponent({\n  name: 'ConditionModalPreview',\n  components: {\n    Modal,\n    PreviewCondition\n  },\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: false\n    },\n    condition: {\n      type: Object,\n      default: undefined\n    }\n  },\n  emits: ['update:modelValue', 'update:conditions'],\n  setup(props, ctx) {\n    const show = computed({\n      get: () => props.modelValue,\n      set: (val) => {\n        ctx.emit('update:modelValue', val)\n      }\n    })\n    const conditions = computed(() => props.conditions || {})\n\n    return {\n      show,\n      conditions\n    }\n  }\n})\n</script>","<template>\n  <Modal\n    v-model=\"show\"\n    title=\"Delete Condition\"\n    @close=\"cancelCondition\">\n    <h6 class=\"font-normal mb-5 text-lg\">\n      Are you sure want to delete this condition?\n    </h6>\n    <template #footer>\n      <Button\n        color=\"red\"\n        :loading=\"loading.delete\"\n        @click=\"deleteCondition\">\n        Delete\n      </Button>\n    </template>\n  </Modal>\n</template>\n<script>\nimport { computed, defineComponent, ref } from 'vue'\n\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nexport default defineComponent({\n  name: 'ConditionModalDelete',\n  components: {\n    Modal,\n    Button\n  },\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['update:modelValue', 'delete', 'cancel'],\n  setup(props, ctx) {\n    const show = computed({\n      get: () => props.modelValue,\n      set: (val) => {\n        ctx.emit('update:modelValue', val)\n      }\n    })\n    const loading = ref(false)\n\n    const deleteCondition = () => ctx.emit('delete')\n    const cancelCondition = () => ctx.emit('cancel')\n\n    return {\n      show,\n      loading,\n      deleteCondition,\n      cancelCondition\n    }\n  }\n})\n</script>\n","<template>\n  <div class=\"h-full\">\n    <Fieldset class=\"h-full\">\n      <template #label>\n        <span class=\"text-grey-04\">Preview Condition</span>\n      </template>\n      <template #default>\n        <div class=\"mb-4 p-4\">\n          <div class=\"my-2\">\n            <h2 class=\"text-lg\">{{ conditionName }}</h2>\n            <div v-html=\"sanitizedConditionGuideline\" class=\"my-4\"></div>\n          </div>\n\n          <ul class=\"list\">\n            <template\n              v-for=\"(condition, conditionKey) of sanitizedConditionTerms\"\n              :key=\"conditionKey\"\n            >\n              <li v-if=\"condition\" v-html=\"condition\"></li>\n            </template>\n          </ul>\n        </div>\n      </template>\n    </Fieldset>\n  </div>\n</template>\n<script>\nimport { defineComponent, computed } from 'vue'\nimport { sanitize } from 'utils/dom'\nimport Fieldset from 'bbUi/components/fieldset/fieldset.vue'\n\nexport default defineComponent({\n  name: 'ConditionFormPreview',\n  components: {\n    Fieldset\n  },\n  props: {\n    conditionName: {\n      type: String,\n      default: ''\n    },\n    conditionGuideline: {\n      type: String,\n      default: ''\n    },\n    conditionTerms: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(props) {\n    const sanitizedConditionTerms = computed(() =>\n      props.conditionTerms.map((term) => {\n        return sanitize(term || '')\n      })\n    )\n    const sanitizedConditionGuideline = computed(() =>\n      sanitize(props.conditionGuideline || '')\n    )\n    return {\n      sanitizedConditionTerms,\n      sanitizedConditionGuideline\n    }\n  }\n})\n</script>\n","<template>\n  <Modal\n    v-model=\"show\"\n    size=\"lg\"\n    :title=\"!!Object.keys(form)?.length ? 'Edit Condition' : 'Add Condition'\"\n    @close=\"cancelCondition\">\n    <div>\n      <div v-if=\"errorExist\" class=\"mb-4 bg-red-01 rounded-lg px-6 py-4\">\n        Condition\n      </div>\n      <div class=\"grid md:grid-cols-5 grid-cols-1 gap-6\">\n        <div class=\"col-span-3 space-y-3\">\n          <div>\n            <Input\n              v-model=\"form.name\"\n              type=\"text\"\n              label=\"Condition Name\"\n              class=\"w-full\"\n              :view=\"(validation.name.$invalid && 'danger') || 'default'\"\n            />\n            <span class=\"text-xs text-grey-04 mt-2 block\">\n              ( Example: Broken, Normal, New, etc... )\n            </span>\n            <span\n              class=\"text-red-base mt-2 block\"\n              v-for=\"(error, n) of validation.name.$errors\"\n              :key=\"n\">\n              {{ error.$message }}.\n            </span>\n          </div>\n          <div>\n            <Input\n              v-model=\"form.term\"\n              :disabled=\"!form.name\"\n              type=\"text\"\n              label=\"Condition Guideline\"\n              class=\"w-full\"\n              :view=\"(validation.term.$invalid && 'danger') || 'default'\"\n            />\n            <span class=\"text-xs text-grey-04 mt-2 block\">\n              ( Examples: Choose if ALL of the following are true: )\n            </span>\n            <p\n              v-for=\"(error, n) of validation.term.$errors\"\n              :key=\"n\">\n              <span\n                v-if=\"error && error.$validator === 'minLength'\"\n                class=\"text-red-base mt-2 block\">\n                Title is required\n              </span>\n              <span\n                v-else\n                class=\"text-red-base mt-2 block\">\n                {{ error.$message }}\n              </span>\n            </p>\n          </div>\n          <div class=\"block\">\n            <label class=\"mb-2\">Terms</label>\n            <Draggable\n              :list=\"form.terms\"\n              handle=\".dragable__icon\">\n              <div\n                v-for=\"(term, index) in form.terms\"\n                :key=\"index\"\n                class=\"condition__draggable py-2\">\n                <div class=\"flex justify-between items-center -mx-2\">\n                  <div class=\"pb-2\">\n                    <span class=\"material-icons text-grey-04 text-2xl mr-3 cursor-move dragable__icon\">\n                      drag_handle\n                    </span>\n                  </div>\n                  <div class=\"px-2 flex-1 font-semibold\">\n                    <Input\n                      v-model=\"form.terms[index]\"\n                      :disabled=\"!form.name\"\n                      type=\"text\"\n                      class=\"mb-2\"\n                      block\n                      :view=\"(validation.terms.$model[index].length < 1 && submitting && 'danger') || 'default'\"\n                    />\n                    <div\n                      v-if=\"validation.terms.$model[index].length < 1 && submitting\">\n                      <span class=\"text-red-base text-xs mt-2 block\">\n                        It must be at least one characters in length\n                      </span>\n                    </div>\n                  </div>\n                  <div class=\"pb-2 flex items-center -mx-1\">\n                    <div class=\"px-1 mx-6\">\n                      <Button\n                        :disabled=\"form.terms.length === 1\"\n                        color=\"red\"\n                        dense\n                        @click=\"deleteTerm(index)\">\n                        <span class=\"material-icons text-sm\">delete</span>\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Draggable>\n            <span class=\"text-xs text-grey-04 block\">\n              ( Examples: Activation Locked, Item Power On, etc... )\n            </span>\n            <Button\n              class=\"mt-4\"\n              view=\"outlined\"\n              color=\"teal\"\n              dense\n              @click=\"createTerm\">\n              <span class=\"mx-2\">Add Terms</span>\n            </Button>\n          </div>\n        </div>\n        <div class=\"col-span-2\">\n          <FormPreview\n            :condition-name=\"form.name\"\n            :condition-guideline=\"form.term\"\n            :condition-terms=\"form.terms\"\n          />\n        </div>\n      </div>\n    </div>\n    <template #footer>\n      <Button\n        :loading=\"loading\"\n        :disabled=\"loading || form.terms?.length === 0\"\n        color=\"teal\"\n        @click=\"saveCondition\">\n        Save\n      </Button>\n    </template>\n  </Modal>\n</template>\n<script>\nimport { ref, computed, defineComponent, watch } from 'vue'\nimport { useVuelidate } from '@vuelidate/core'\nimport { required } from '@/validations/index'\nimport { minLength } from '@vuelidate/validators'\nimport { isEmpty } from 'utils/is.js'\nimport { ElMessage } from 'element-plus'\n\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport { VueDraggableNext as Draggable } from 'vue-draggable-next'\nimport FormPreview from '../FormPreview.vue'\n\nexport default defineComponent({\n  name: 'ConditionModalForm',\n  components: {\n    Modal,\n    Input,\n    Button,\n    Draggable,\n    FormPreview\n  },\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: false\n    },\n    conditions: {\n      type: Array,\n      default: undefined\n    },\n    condition: {\n      type: Object,\n      default: undefined\n    },\n    isEdit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\n    'update:modelValue',\n    'save',\n    'cancel'\n  ],\n  setup(props, ctx) {\n    const show = computed({\n      get: () => props.modelValue,\n      set: (val) => {\n        ctx.emit('update:modelValue', val)\n      }\n    })\n    const form = ref({})\n    const loading = ref(false)\n    const errorExist = ref(false)\n    const rules = {\n      name: { required },\n      term: { required },\n      terms: {\n        required,\n        minLength: minLength(1),\n        $each: {\n          required,\n          minLength: minLength(1)\n        }\n      }\n    }\n    const validation = useVuelidate(\n      rules,\n      form,\n      { $lazy: true }\n    )\n    const submitting = ref(false)\n\n    const createTerm = () => {\n      submitting.value = false\n      form.value.terms.push('')\n    }\n    const deleteTerm = (index) => {\n      submitting.value = false\n      form.value.terms.splice(index, 1)\n    }\n    const validateCondition = () => {\n      validation.value.$validate()\n      return !validation.value.$invalid\n    }\n    const checkTermsValue = () => {\n      const model = validation.value.terms.$model\n\n      if (model.length <= 0) {\n        return false\n      }\n\n      for (let i = 0; i < model.length; i++) {\n        if (isEmpty(model[i]) || model[i].length < 1) {\n          return false\n        }\n      }\n\n      return true\n    }\n    const saveCondition = () => {\n      submitting.value = true\n      if (validateCondition() && checkTermsValue()) {\n        const exists = !!props.conditions?.length ? [...props.conditions].filter(condition =>\n          (condition.name.split(' ').join('').toLowerCase() === form.value.name.split(' ').join('').toLowerCase())\n        ) : []\n\n        if (!!exists.length && !form.value.id) {\n          return ElMessage({\n            type: 'warning',\n            message: 'Condition name is already taken!'\n          })\n        }\n\n        errorExist.value = false\n        submitting.value = false\n        ctx.emit('save', form.value)\n      }\n    }\n    const cancelCondition = () => {\n      submitting.value = false\n      validation.value.$reset()\n      ctx.emit('cancel')\n    }\n\n    watch(() => [show.value, props.isEdit], () => {\n      if (!!show.value) {\n        submitting.value = false\n        validation.value.$reset()\n      }\n\n      if (!!show.value && !!props.isEdit) {\n        form.value = {...props.condition}\n      } else form.value = {\n        name: '',\n        term: '',\n        terms: ['']\n      }\n    })\n\n    return {\n      show,\n      form,\n      loading,\n      validation,\n      submitting,\n      errorExist,\n      createTerm,\n      deleteTerm,\n      saveCondition,\n      cancelCondition\n    }\n  }\n})\n</script>\n","<template>\n  <div>\n    <div v-loading=\"loading\">\n      <template v-if=\"form.conditions.length > 0\">\n        <Draggable\n          v-model=\"dataToDrag\"\n          handle=\".drag_indicator\"\n          :disabled=\"disabledUniqueAndMac\"\n          @change=\"sortingCondition\">\n          <div\n            v-for=\"(condition, indexCondition) in dataToDrag\"\n            :class=\"[\n              !main?.synced ? 'bg-opacity-10' : 'bg-opacity-50',\n              'border rounded-lg mb-4',\n              'border-grey-01 border-opacity-50 bg-grey-01',\n              'py-3 px-5',\n              'condition__draggable group',\n              'hover:border-opacity-80 transition-all ease-in-out duration-300'\n            ]\"\n            :key=\"indexCondition\">\n            <div v-if=\"condition\" class=\"flex w-full gap-4\">\n              <span\n                v-if=\"!main?.synced\"\n                :class=\"disabledUniqueAndMac && 'opacity-30 cursor-not-allowed'\"\n                class=\"material-icons text-grey-04 text-4xl cursor-move drag_indicator\">\n                drag_indicator\n              </span>\n              <div class=\"flex-1\">\n                <p class=\"font-semibold mb-2\">\n                  {{ condition.name }}\n                </p>\n                <div v-html=\"condition.term\" />\n                <ul class=\"list\">\n                  <template\n                    v-for=\"(term, indexTerm) in (condition.terms || [])\"\n                    :key=\"indexTerm\">\n                    <li\n                      v-if=\"!!term && !!term.length\"\n                      class=\"text-grey-04\"\n                      v-html=\"sanitize(term)\"\n                    />\n                  </template>\n                </ul>\n              </div>\n              <div v-if=\"!disabledUniqueAndMac\" class=\"lg:opacity-0 group-hover:opacity-100 transition-opacity\">\n                <div class=\"flex items-center justify-end\">\n                  <Button\n                    color=\"teal\"\n                    class=\"mr-3 text-sm\"\n                    dense\n                    icon\n                    @click=\"\n                      openModalUpdate(\n                        condition,\n                        indexCondition\n                      )\n                    \">\n                    <span class=\"material-icons text-sm\">edit</span>\n                  </Button>\n                  <Button\n                    v-if=\"!main?.synced\"\n                    color=\"red\"\n                    dense\n                    @click=\"openModalDelete(condition, indexCondition)\">\n                    <span class=\"material-icons text-sm\">\n                      delete\n                    </span>\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </Draggable>\n      </template>\n      <template v-else>\n        <div class=\"text-center border-2 border-grey-01 border-dashed px-6 py-8 rounded-lg\">\n          <p class=\"text-grey-02 max-w-lg mx-auto w-full text-sm\">\n            Use the \"Add New Condition\" button below to create your item conditions from scratch, or save time and use our Preset Conditions\n          </p>\n        </div>\n      </template>\n      <div\n        v-if=\"!main?.synced\"\n        class=\"my-4\">\n        <Button\n          class=\"block w-full\"\n          color=\"teal\"\n          :disabled=\"!formCategory.categories || !formCategory.categories.length || !formCategory.group_name || disabledUniqueAndMac\"\n          @click=\"openModalAdd\">\n          <span class=\"flex items-center justify-center\">\n            <i class=\"material-icons icon-xxs mr-2\">add</i> Add New Condition\n          </span>\n        </Button>\n      </div>\n    </div>\n    <ConditionModalForm\n      v-model=\"modal.condition\"\n      :condition=\"selected\"\n      :conditions=\"form.conditions\"\n      :is-edit=\"isEdit\"\n      @save=\"saveCondition\"\n      @cancel=\"closeModal\"\n    />\n    <ConditionModalPreview\n      v-model=\"modal.preview\"\n      :condition=\"selected\"\n    />\n    <ConditionModalDelete\n      v-model=\"modal.delete\"\n      @cancel=\"closeModal\"\n      @delete=\"deleteCondition\"\n    />\n  </div>\n  <div\n    v-for=\"n in validation.conditions.$errors.length\"\n    :key=\"n\"\n    class=\"bg-red-lighten rounded-lg py-4 px-6 my-6\">\n    <span class=\"text-red-base block\">\n      Please add at least 1 condition\n    </span>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, computed, ref } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { sanitize } from 'utils/dom'\nimport { useVuelidate } from '@vuelidate/core'\nimport { required } from '@/validations/index'\n\nimport Button from 'bbUi/components/button/button.vue'\nimport { VueDraggableNext as Draggable } from 'vue-draggable-next'\nimport ConditionModalPreview from '../Modal/Preview.vue'\nimport ConditionModalDelete from '../Modal/Delete.vue'\nimport ConditionModalForm from '../Modal/Condition.vue'\nimport { minLength } from '@vuelidate/validators'\n\nexport default defineComponent({\n  name: 'ConditionMappingList',\n  components: {\n    ConditionModalPreview,\n    ConditionModalDelete,\n    ConditionModalForm,\n    Draggable,\n    Button\n  },\n  props: {\n    mixin: {\n      type: Object,\n      default: undefined\n    },\n    preset: {\n      type: Object,\n      default: undefined\n    },\n    category: {\n      type: Object,\n      default: undefined\n    },\n    main: {\n      type: Object,\n      default: undefined\n    },\n    refSource: {\n      type: Object,\n      default: undefined\n    },\n    priceEditor: {\n      type: Boolean,\n      default: false\n    },\n    priceEditorCategory: {\n      type: Object,\n      default: undefined\n    }\n  },\n  emits: [\n    'update:modelValue',\n    'update:modal',\n    'update:condition',\n    'openModal',\n    'setCondition',\n    'sortingCondition',\n    'confirmSave',\n    'confirmDelete'\n  ],\n  setup(props, ctx) {\n    const main = props.main\n    const {\n      form,\n      loading,\n      modal,\n      addCondition,\n      editCondition,\n      deleteCondition: _deleteCondition,\n      sortingCondition: _sortingCondition\n    } = props.mixin\n    const { form: formPreset, isValidJSON } = props.preset\n    const { form: formCategory } = props.category\n    const dataToDrag = computed({\n      get: () => [...form.value.conditions],\n      set: (value) => {\n        form.value.conditions = [...value]\n      }\n    })\n    const isEdit = ref(false)\n    const selected = ref(null)\n    const rules = {\n      conditions: { required, minLength: minLength(1) }\n    }\n    const route = useRoute()\n    const disabledUniqueAndMac = computed(() => {\n      const isMac = [...formCategory.categories].findIndex(category => category.is_mac)\n      return !!route?.query?.unique_id && isMac >= 0\n    })\n\n    const validation = useVuelidate(rules, form, {\n      $lazy: true\n    })\n\n    const submit = async () => {\n      await validation.value.conditions.$validate()\n\n      return validation.value.conditions.$error ? false : true\n    }\n\n    const openModalAdd = () => {\n      isEdit.value = false\n      selected.value = null\n      modal.value.condition = true\n    }\n    const openModalUpdate = (item, index) => {\n      isEdit.value = true\n      selected.value = { ...item, index }\n      modal.value.condition = true\n    }\n    const openModaPreview = (item, index) => {\n      selected.value = { ...item, index }\n      modal.preview = true\n    }\n    const openModalDelete = (item, index) => {\n      isEdit.value = true\n      selected.value = { ...item, index }\n      modal.value.delete = true\n    }\n    const closeModal = () => {\n      isEdit.value = false\n      selected.value = null\n      Object.keys(modal.value).forEach(item => {\n        modal.value[item] = false\n      })\n    }\n    const saveCondition = async (value, source = false) => {\n      modal.value.condition = false\n      if (!!isEdit.value) {\n        if (!!main.id && !!value.id) {\n          await editCondition({ id: value.id, ...value })\n          await main.getDetail({\n            id: main.id,\n            priceSync: {\n              uniqueId: main.uniqueId,\n              sync: main.sync\n            }\n          })\n          handleInitEdit()\n        } else form.value.conditions[value.index] = {...form.value.conditions[value.index], ...value}\n      } else {\n        if (!!main.id) {\n          await addCondition({ id: main.id, ...value })\n          await main.getDetail({\n            id: main.id,\n            priceSync: {\n              uniqueId: main.uniqueId,\n              sync: main.sync\n            }\n          })\n          handleInitEdit()\n        } else form.value.conditions.push(value)\n      }\n      if (!source) {\n        props.refSource.handleRelabeling()\n        // refresh source list here\n      }\n      closeModal()\n    }\n    const deleteCondition = async () => {\n      modal.value.delete = false\n      props.refSource.loading = true\n      props.refSource.deleteActiveCondtion(selected.value)\n      if (!!main.id) {\n        await _deleteCondition(selected.value.id)\n        await main.getDetail({\n          id: main.id,\n          priceSync: {\n            uniqueId: main.uniqueId,\n            sync: main.sync\n          }\n        })\n        handleInitEdit()\n      } else {\n        form.value.conditions.splice(selected.value.index, 1)\n      }\n\n      props.refSource.loading = false\n      closeModal()\n    }\n    const sortingCondition = async (value) => {\n      const idMoved = value.moved?.element?.id\n      const sorted = [...form.value?.conditions].map((item, index) => ({\n        id: item.id,\n        sort: index\n      }))\n\n      if (!!main.id) await _sortingCondition(sorted)\n    }\n    const previewCondition = () => {\n\n    }\n    const handleInitEdit = () => {\n      form.value.conditions = [...main.formEdit.conditions].map(item => {\n        let terms = []\n        try {\n          if (isValidJSON(item.condition_term)) {\n            const parsedTerms = JSON.parse(item.condition_term)\n            terms = Array.isArray(parsedTerms) ? parsedTerms : []\n          }\n        } catch (error) {\n          console.error('Error parsing condition terms:', error)\n          terms = []\n        }\n\n        return ({\n          ...item,\n          terms: !!terms ? terms.splice(1, terms.length - 1) : [''],\n          term: !!terms ? terms[0] : item.condition_term\n        })\n      })\n    }\n\n    if (!!main.id) {\n      handleInitEdit()\n    }\n\n    return {\n      main,\n      form,\n      modal,\n      isEdit,\n      loading,\n      formPreset,\n      dataToDrag,\n      formCategory,\n      sanitize,\n      selected,\n      validation,\n      submit,\n      openModalAdd,\n      openModalUpdate,\n      openModaPreview,\n      openModalDelete,\n      closeModal,\n      saveCondition,\n      deleteCondition,\n      sortingCondition,\n      previewCondition,\n      disabledUniqueAndMac\n    }\n  }\n})\n</script>\n","<template>\n  <div class=\"flex flex-col lg:flex-row gap-4\">\n    <div class=\"lg:w-1/4\">\n      <Fieldset class=\"rounded-lg\">\n        <template #label>Preset Condition</template>\n        <ConditionMappingSource\n          ref=\"mappingSource\"\n          :mixin=\"preset\"\n          :category=\"category\"\n          :active=\"active\"\n          :main=\"main\"\n          :refList=\"mappingList\"\n          :price-editor=\"priceEditor\"\n          :price-editor-category=\"priceEditorCategory\"\n        />\n      </Fieldset>\n    </div>\n    <div class=\"flex-1\">\n      <Fieldset class=\"rounded-lg\">\n        <template #label>Active Conditions</template>\n        <ConditionMappingList\n          ref=\"mappingList\"\n          :mixin=\"active\"\n          :preset=\"preset\"\n          :category=\"category\"\n          :main=\"main\"\n          :refSource=\"mappingSource\"\n          :price-editor=\"priceEditor\"\n          :price-editor-category=\"priceEditorCategory\"\n        />\n      </Fieldset>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent, ref } from 'vue'\n\nimport Fieldset from 'bbUi/components/fieldset/fieldset.vue'\nimport ConditionMappingSource from './Source.vue'\nimport ConditionMappingList from './List.vue'\n\nexport default defineComponent({\n  name: 'ConditionMapping',\n  components: {\n    ConditionMappingSource,\n    ConditionMappingList,\n    Fieldset\n  },\n  props: {\n    mixin: {\n      type: Object,\n      default: undefined\n    },\n    category: {\n      type: Object,\n      default: undefined\n    },\n    main: {\n      type: Object,\n      default: undefined\n    },\n    priceEditor: {\n      type: Boolean,\n      default: false\n    },\n    priceEditorCategory: {\n      type: Object,\n      default: undefined\n    }\n  },\n  setup(props, ctx) {\n    const { preset, active } = props.mixin\n    const category = props.category\n    const main = props.main\n    const mappingList = ref()\n    const mappingSource = ref()\n    const isMac = computed(() => !!category?.form?.categories?.filter(category => !!Number(category.is_mac))?.length)\n\n    return {\n      main,\n      isMac,\n      preset,\n      active,\n      category,\n      mappingList,\n      mappingSource\n    }\n  }\n})\n</script>\n","<template>\n  <div v-loading=\"main.loading\">\n    <div class=\"flex flex-col gap-6\">\n      <div class=\"space-y-4\">\n        <div class=\"flex items-center gap-6\">\n          <div class=\"flex items-center justify-center bg-teal-04 rounded-full text-white font-semibold w-8 h-8\">\n            <span>1</span>\n          </div>\n          <h6 class=\"text-lg text-teal-04\">Set Category</h6>\n        </div>\n        <div class=\"lg:ml-14\">\n          <div class=\"flex items-center text-left border-l-4 border-orange-02 px-4 py-2 gap-2 mb-2 info-warning\">\n            <i class=\"material-icons\">info_outline</i>\n            <p>To assign a Preset Condition to more than one item in a group, first select one item, apply a preset, and then add more items as needed.</p>\n          </div>\n          <ConditionCategory\n            ref=\"refCategory\"\n            :mixin=\"category\"\n            :main=\"{\n              ...main,\n              id\n            }\"\n            :price-editor=\"priceEditor\"\n            :price-editor-category=\"priceEditorCategory\"\n          />\n        </div>\n      </div>\n      <div class=\"space-y-4\">\n        <div class=\"flex items-center gap-6\">\n          <div class=\"flex items-center justify-center bg-teal-04 rounded-full text-white font-semibold w-8 h-8\">\n            <span>2</span>\n          </div>\n          <h6 class=\"text-lg text-teal-04\">Set Condition</h6>\n        </div>\n        <div class=\"lg:ml-14\">\n          <ConditionMapping\n            ref=\"refMapping\"\n            :mixin=\"condition\"\n            :category=\"category\"\n            :main=\"{\n              ...main,\n              id\n            }\"\n            :price-editor=\"priceEditor\"\n            :price-editor-category=\"priceEditorCategory\"\n          />\n        </div>\n      </div>\n    </div>\n    <div\n      v-if=\"!main?.synced && !priceEditor\"\n      :class=\"[\n        !!id || !noSave ? 'border-t' : ''\n      ]\"\n      class=\"mt-10 -mx-6 -mb-6 px-10 py-6 border-grey-01\">\n      <div\n        :class=\"[\n          'flex items-center',\n          !!id && !noSave ? 'justify-between' : 'justify-end'\n        ]\">\n        <a\n          v-if=\"!!id\"\n          v-loading=\"main.loading\"\n          href=\"#\"\n          class=\"text-red-04 hover:text-red-02 focus:text-red-02\"\n          @click.prevent=\"modalDelete = true\">\n          Delete\n        </a>\n        <Button\n          v-if=\"!noSave\"\n          color=\"teal\"\n          :loading=\"main.loading\"\n          @click=\"saveCondition\">\n          Save\n        </Button>\n      </div>\n    </div>\n    <template v-if=\"!!id && !main.synced\">\n      <Modal\n        v-model=\"modalDelete\"\n        title=\"Delete Category\"\n        size=\"xs\">\n        <h6 class=\"text-lg font-normal mb-5\">\n          Are you sure want to delete this category?\n        </h6>\n        <template #footer>\n          <Button\n            view=\"outlined\"\n            color=\"teal\"\n            class=\"mr-5\"\n            :disabled=\"main.loading\"\n            @click=\"modalDelete = false\">\n            Cancel\n          </Button>\n          <Button\n            view=\"smooth\"\n            color=\"red\"\n            :loading=\"main.loading\"\n            @click=\"deleteCondition\">\n            Delete\n          </Button>\n        </template>\n      </Modal>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref, computed } from 'vue'\nimport useConditionFormNew from 'composable/setting/conditions'\nimport { useRouter, useRoute } from 'vue-router'\n\nimport Button from 'bbUi/components/button/button.vue'\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport ConditionCategory from './Category/index.vue'\nimport ConditionMapping from './Mapping/index.vue'\nimport { numeric } from '@vuelidate/validators'\n\nexport default defineComponent({\n  components: {\n    Button,\n    Modal,\n    ConditionCategory,\n    ConditionMapping\n  },\n  props: {\n    id: {\n      type: [Number, String],\n      default: undefined\n    },\n    isPriceSync: {\n      type: Boolean,\n      default: false\n    },\n    companySource: {\n      type: String,\n      default: ''\n    },\n    priceEditor: {\n      type: Boolean,\n      default: false\n    },\n    priceEditorCategory: {\n      type: Object,\n      default: undefined\n    },\n    noSave: {\n      type: Boolean,\n      default: false\n    }\n  },\n  async setup(props, { emit }) {\n    const {\n      main: _main,\n      category,\n      condition\n    } = useConditionFormNew()\n    const route = useRoute()\n    const router = useRouter()\n    const { unique_id, price_sync } = route.query\n    const sync = computed(() => price_sync)\n    const synced = computed(() => unique_id && price_sync == 1)\n    const uniqueId = computed(() => unique_id ? unique_id : null)\n    const main = ref({\n      ..._main,\n      sync,\n      synced,\n      uniqueId\n    })\n    const refMapping = ref()\n    const refCategory = ref()\n    const modalDelete = ref(false)\n\n    const resetData = () => {\n      main.value.loading = false\n      modalDelete.value = false\n    }\n    const saveCondition = async () => {\n      const validCategory = await refCategory.value.submit()\n      const validCondition = await refMapping.value.mappingList.submit()\n\n      if (!validCategory || !validCondition) return\n\n      main.value.loading = true\n      if (!!props.id) {\n        await main.value.action.update({\n          id: props.id,\n          group_name: refCategory.value.form.group_name,\n          categories: refCategory.value.form.categories,\n        }).then(() => {\n          resetData()\n          if (!props.priceEditor) router.push({ name: 'settingCondition' })\n        }).catch(() => {\n          resetData()\n        })\n      } else {\n        await main.value.action.add({\n          group_name: refCategory.value.form.group_name,\n          categories: refCategory.value.form.categories,\n          conditions: refMapping.value.mappingList.form.conditions\n        }).then(() => {\n          resetData()\n          if (!props.priceEditor) router.push({ name: 'settingCondition' })\n        }).catch(() => {\n          resetData()\n        })\n      }\n    }\n    const deleteCondition = async () => {\n      if (!props.id) return\n      modalDelete.value = false\n\n      main.value.loading = true\n      await main.value.action.delete(props.id).then(() => {\n        resetData()\n        router.push({ name: 'settingCondition' })\n      }).catch(() => {\n        resetData()\n      })\n    }\n\n    if (!!props.id) await main.value.getDetail({\n      id: props.id,\n      priceSync: {\n        sync: sync.value,\n        uniqueId: uniqueId.value\n      }\n    })\n\n    return {\n      main,\n      category,\n      condition,\n      refCategory,\n      refMapping,\n      resetData,\n      modalDelete,\n      saveCondition,\n      deleteCondition,\n\t\t\trouter,\n\t\t\troute\n    }\n  }\n})\n</script>\n\n<style scoped>\n  .info-warning {\n    background: #fef9c2;\n    color: #b07929\n  }\n</style>","<template>\n  <Modal v-model=\"modal\" size=\"xl\" hide-header>\n    <div class=\"border-b border-grey-01 px-10 pb-5 mb-5 -mx-12\">\n      <div class=\"flex items-center\">\n        <h6 class=\"font-semibold\">Add Manual Condition</h6>\n        <Tooltip placement=\"top\">\n          <i class=\"material-icons mx-2 cursor-pointer\">help</i>\n          <template #content>\n            <div class=\"w-80 text-sm\">Price Sync is a tool that allows you to sync buyback pricing with a specific data source in real-time automatically. You can set rules to match, markup, or markdown the buyback price based on a percentage or fixed amount.</div>\n          </template>\n        </Tooltip>\n      </div>\n    </div>\n    <div v-loading=\"loading\">\n      <ConditionForm\n        ref=\"conditionForm\"\n        :price-editor-category=\"category\"\n        price-editor\n      />\n    </div>\n    <template #footer>\n      <div class=\"flex items-center justify-between\">\n        <a\n          href=\"#\"\n          v-loading=\"loading\"\n          @click.prevent=\"handleBack\">\n          Go Back\n        </a>\n        <Button\n          color=\"teal\"\n          :loading=\"loading\"\n          @click=\"handleSave\">\n          Save\n        </Button>\n      </div>\n    </template>\n  </Modal>\n</template>\n\n<script>\nimport { defineComponent, ref, computed } from 'vue'\n\nimport Button from 'bbUi/components/button/button.vue'\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport ConditionForm from 'components/Condition/Form.vue'\n\nexport default defineComponent({\n  name: \"BulkPriceEditorMappingCondition\",\n  components: {\n    Modal,\n    Button,\n    ConditionForm\n  },\n  emits: ['back', 'save'],\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: false\n    },\n    pricingSource: {\n      type: Object,\n      default: undefined\n    },\n    main: {\n      type: Object,\n      default: undefined\n    },\n    category: {\n      type: Object,\n      default: undefined\n    },\n  },\n  emits: ['update:modelValue', 'back', 'save'],\n  async setup(props, ctx) {\n    const conditionForm = ref()\n    const loading = ref(false)\n    const modal = computed({\n      get: () => props.modelValue,\n      set: (val) => ctx.emit('update:modelValue', val)\n    })\n    const categoryId = computed(() => props?.category)\n\n    const handleSave = async () => {\n      loading.value = true\n      await conditionForm.value.saveCondition()\n      loading.value = false\n      modal.value = false\n      ctx.emit('save')\n    }\n    const handleBack = () => {\n      modal.value = false\n      ctx.emit('back')\n    }\n\n    return {\n      app,\n      loading,\n      modal,\n      categoryId,\n      conditionForm,\n      handleSave,\n      handleBack\n    }\n  }\n})\n</script>","<template>\n  <div :class=\"isOverlays ? 'hidden' : 'block'\">\n    <Modal\n      v-model=\"modal\"\n      size=\"xl\"\n      hide-header>\n      <div class=\"border-b border-grey-01 px-10 pb-5 mb-5 -mx-12\">\n        <div\n          v-if=\"nameTitle\"\n          class=\"flex items-center gap-x-2\">\n          <h6 class=\"font-semibold\">\n            Price Sync - {{ nameTitle }} Category\n          </h6>\n          <Tooltip placement=\"top\">\n            <template #content>\n              <div class=\"max-w-sm text-sm\">\n                Price Sync is a tool that allows you to automatically price your items using one or more of the data sources below. You can create rules to match, mark up, or mark down buyback prices based on a set percentage or fixed amount.\n              </div>\n            </template>\n            <i class=\"material-icons cursor-default\">info</i>\n          </Tooltip>\n        </div>\n        <h6 v-else class=\"font-semibold\">Price Sync</h6>\n      </div>\n      <div\n        v-if=\"messageCase && itemSelected?.children?.length > 0\"\n        class=\"bg-blue-01 text-blue-04 bg-opacity-50 rounded-md px-4 py-1.5 flex gap-x-4\"\n        :class=\"editing && noRules ? 'mb-4' : 'mb-10'\"\n        >\n        <span class=\"material-icons\">info</span>\n        <p>{{ messageCase }}</p>\n      </div>\n      <div class=\"space-y-10\">\n        <div\n          v-if=\"editing && noRules\"\n          v-loading=\"loading?.check || loading?.all || loadingPricing?.all\"\n          class=\"bg-teal-01 bg-opacity-50 rounded-md px-4 py-1.5 flex items-center gap-x-4\">\n          <span class=\"material-icons\">info</span>\n          <p>Price sync has been edited for some items in this category.</p>\n        </div>\n        <!-- Step 1 -->\n        <div\n          v-loading=\"loading?.check || loading?.all || loadingPricing?.all\"\n          class=\"space-y-6\">\n          <div class=\"flex items-center gap-x-4\">\n            <div class=\"bg-teal-04 w-6 h-6 rounded-full flex items-center justify-center text-white\">1</div>\n            <span class=\"font-medium text-lg\">Select your data source</span>\n          </div>\n          <div class=\"space-y-4\">\n            <div class=\"space-y-6\">\n              <div class=\"flex flex-wrap gap-x-4 gap-y-2\">\n                <div class=\"text-green-04 flex items-center gap-x-1 text-sm bg-green-01 bg-opacity-80 rounded-full px-4\">\n                  <span class=\"material-icons\">check_circle</span>\n                  <p class=\"whitespace-pre-wrap\">Support all countries</p>\n                </div>\n                <div class=\"text-green-04 flex items-center gap-x-1 text-sm bg-green-01 bg-opacity-80 rounded-full px-4\">\n                  <span class=\"material-icons\">check_circle</span>\n                  <p class=\"whitespace-pre-wrap\">Automatically converts the currency</p>\n                </div>\n                <div\n                  whitelabel=\"remove\"\n                  class=\"text-green-04 flex items-center gap-x-1 text-sm bg-green-01 bg-opacity-80 rounded-full px-4\">\n                  <span class=\"material-icons\">check_circle</span>\n                  <p class=\"whitespace-pre-wrap\">Supports using up to 5 data sources at the same time</p>\n                </div>\n              </div>\n              <div class=\"flex justify-end gap-x-4\">\n                <Tooltip placement=\"top\">\n                  <template #content>\n                    <div class=\"max-w-xs text-sm\">\n                      If there are no sources available for your region, you can use sources from other regions, as the currency will automatically convert to your local currency, and you can adjust the pricing rules accordingly.\n                    </div>\n                  </template>\n                  <div>\n                      <div class=\"w-64\">\n                        <SelectCountry\n                          :selected=\"selectedCountryFilter\"\n                          :countries=\"countryOptions\"\n                          placeholder=\"Select Region\"\n                          rounded\n                          noBorder\n                          @change=\"handleCountryFilterChange\"\n                        />\n                      </div>\n                  </div>\n                </Tooltip>\n                <Tooltip placement=\"top\">\n                  <template #content>\n                    <div class=\"max-w-xs text-sm\">\n                      If there are no sources available for your region, you can use sources from other regions, as the currency will automatically convert to your local currency, and you can adjust the pricing rules accordingly.\n                    </div>\n                  </template>\n                  <div class=\"w-64\">\n                    <SelectCurrency\n                      :selected=\"selectedCurrencyFilter\"\n                      :currencies=\"currencyOptions\"\n                      placeholder=\"Select Currency\"\n                      rounded\n                      @change=\"handleCurrencyFilterChange\"                    />\n                  </div>\n                </Tooltip>\n              </div>\n              <div class=\"border border-grey-01 rounded-md relative\">\n                <span class=\"bg-white text-sm absolute rounded-full px-2 py-1 -top-4 left-3 text-grey-03\" style=\"z-index: 1;\">Data Source</span>\n                <div class=\"max-h-80 overflow-y-auto overflow-x-hidden py-6 px-4\">\n                  <Tooltip\n                    v-for=\"(source, n) in filteredSources\"\n                    :key=\"n\"\n                    placement=\"top-start\"\n                    :disabled=\"!source.disabled\">\n                    <template #content>\n                      <p class=\"max-w-xl text-sm font-normal\">As a price source on the platform, you cannot use another price source that is also using the platform; you are only permitted to use scraping sources like BuybackBoss, BuybackWorld, ItsWorthMore, and Atlas.</p>\n                    </template>\n                    <template #default>\n                      <div\n                        :class=\"source.disabled ? 'opacity-50' : ''\"\n                        class=\"hover:bg-grey-01 hover:bg-opacity-50 group flex flex-wrap md:flex-nowrap items-center justify-between px-4 md:py-0 py-4 md:h-16 gap-x-4 gap-y-2 md:gap-y-0\">\n                        <div class=\"flex gap-x-4\">\n                          <Checkbox\n                            v-model=\"source.checked\"\n                            :value=\"true\"\n                            :value-off=\"false\"\n                            :disabled=\"(sourceSelected?.length >= 5 && !source.checked) || source.disabled\"\n                            :class=\"[\n                              'font-medium',\n                              !source.checked && !source.disabled && sourceSelected?.length < 5 && 'checkbox-blink'\n                            ]\"\n                            color=\"teal\"\n                            view=\"smooth\"\n                            type=\"checkbox\"\n                            block\n                            @change=\"handleChangeSource\">\n                            <span class=\"lowercase\">{{ source.name }}</span>\n                          </Checkbox>\n                        </div>\n                        <div class=\"flex flex-wrap md:flex-nowrap justify-end items-center gap-x-2 md:gap-y-0 gap-y-2\">\n                          <div\n                            v-if=\"source.is_support_sell_instantly\"\n                            class=\"bg-green-01 text-green-04 text-sm rounded-full px-4 py-1 flex items-center\">\n                            <span class=\"material-icons\">flash_on</span>\n                            Support Sell Instantly\n                          </div>\n                          <div class=\"group-hover:bg-white bg-grey-01 bg-opacity-20 px-3 py-1 rounded-full\">\n                            Data Refresh Frequency:\n                            <span class=\"font-semibold\">{{ source.refresh_frequency }}</span>\n                          </div>\n                          <div\n                            class=\"group-hover:bg-white bg-grey-01 bg-opacity-20 px-3 py-1 rounded-full\">\n                            Item Coverage:\n                            <span\n                              v-if=\"!source.loading\"\n                              class=\"font-semibold\">\n                              {{ `${source.price_coverage}%` }}\n                            </span>\n                            <span\n                              v-else\n                              v-loading=\"source.loading\"\n                              class=\"font-semibold\">\n                              {{ `...%` }}\n                            </span>\n                          </div>\n                          <div class=\"flex items-center gap-4 mx-2 text-sm text-grey-03\">\n                            <tooltip placement=\"top\">\n                              <template #content>\n                                {{ source.country_name }}\n                              </template>\n                              <img\n                                :src=\"`/flag/${source.country_code?.toLowerCase()}.svg`\"\n                                width=\"20\"\n                                :alt=\"source.country_name\"\n                                class=\"rounded\"\n                              />\n                            </tooltip placement=\"top\">\n                            <div>\n                              <span class=\"text-xl font-medium\">{{ source.currency_symbol }}</span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </template>\n                  </Tooltip>\n                </div>\n              </div>\n            </div>\n            <!-- hide intercom panel trigger -->\n            <div\n              v-if=\"!!connectData\"\n              class=\"flex items-center justify-between\">\n              <span class=\"text-sm\">Custom ({{ 'Connect Any Data'/* connectData.name */ }})</span>\n              <button\n                class=\"rounded-full bg-teal-04 px-6 py-0.5 text-white flex items-center justify-center gap-x-4 text-sm\"\n                @click=\"handleIntercomeMessage\">\n                Learn More\n                <i class=\"material-icons\">chevron_right</i>\n              </button>\n            </div>\n            <!-- hide intercom panel trigger -->\n          </div>\n        </div>\n        <!-- Step 1 -->\n\n        <!-- Step 2 -->\n        <div\n          :class=\"!!sourceSelected?.length ? 'opacity-100' : 'opacity-30'\"\n          class=\"space-y-6\">\n          <div class=\"flex items-center gap-x-4\">\n            <div class=\"bg-teal-04 w-6 h-6 rounded-full flex items-center justify-center text-white\">2</div>\n            <span class=\"font-medium text-lg\">Map The Condition</span>\n          </div>\n          <div>\n            <BulkPriceEditorMappingMethod\n              :key=\"keyForm\"\n              ref=\"refMappingMethod\"\n              v-model:type=\"mappingType\"\n              :category=\"itemSelected\"\n              :pricing-source=\"sourceSelected\"\n              :editing=\"editing\"\n              :rules=\"rules\"\n              :different-rules=\"isDifferentRules\"\n              :company-source=\"priceSharing\"\n              @update:type=\"handleSelectedMethod\"\n              @manual-mapping=\"handleManualMapping\"\n              @update:different=\"(e) => isDifferentRules = e\"\n              @selectedCondition=\"handleValidateSelected\"\n            />\n          </div>\n        </div>\n        <!-- Step 2 -->\n\n        <!-- Step 3 -->\n        <div\n          v-if=\"!isDifferentRules && !priceSharing && !isRemoveStepThree\"\n          :class=\"[\n            !!sourceSelected?.length && !!mappingType ? 'opacity-100' : 'opacity-30',\n            'space-y-2'\n          ]\">\n          <div class=\"flex items-center gap-x-4 mb-5\">\n            <div class=\"bg-teal-04 w-6 h-6 rounded-full flex items-center justify-center text-white\">3</div>\n            <span class=\"font-medium text-lg\">Set your pricing rules</span>\n          </div>\n          <div\n            class=\"max-w-lg\">\n            <RadioGroup\n              v-model=\"type\"\n              class=\"radio--full\"\n              :disabled=\"!sourceSelected?.length || !mappingType\"\n              @change=\"handleChangeType\">\n              <RadioButton label=\"3\">Match</RadioButton>\n              <RadioButton label=\"2\">Markup</RadioButton>\n              <RadioButton label=\"1\">Markdown</RadioButton>\n            </RadioGroup>\n          </div>\n          <div\n            v-if=\"type != 3\"\n            class=\"grid grid-cols-2 max-w-lg gap-2\">\n            <RadioGroup\n              v-model=\"amountType\"\n              class=\"radio--full mb-4\"\n              @change=\"handleChangeType\">\n              <RadioButton label=\"1\">\n                % Percentage\n              </RadioButton>\n              <RadioButton label=\"0\">\n                {{ me.currency_symbol }} Fixed\n              </RadioButton>\n            </RadioGroup>\n            <Tooltip\n              v-model=\"showTooltip\"\n              placement=\"top\"\n              manual>\n              <template #content>\n                <p class=\"max-w-xs text-sm\">Items priced at {{ me.currency_prefix == 1 ? `${me.currency_symbol}0` : `0${me.currency_symbol}` }} are not subject to pricing rules.</p>\n              </template>\n              <Input\n                v-model=\"amountPrice\"\n                :right=\"amountPrice == '0' ? false : true\"\n                :min=\"0\"\n                :max=\"amountType == 1 ? (type == 2 ? undefined : 100) : 'auto'\"\n                type=\"number\"\n                class=\"w-full\"\n                icon-block\n                icon\n                @focus-in=\"showTooltip = true\"\n                @focus-out=\"showTooltip = false\">\n                <template #icon>\n                  <span\n                    v-if=\"amountType == '0'\"\n                    class=\"text-grey-03\">\n                    {{ me.currency_symbol }}\n                  </span>\n                  <span\n                    v-else\n                    class=\"text-grey-03\">\n                    %\n                  </span>\n                </template>\n              </Input>\n            </Tooltip>\n          </div>\n        </div>\n        <!-- step 3 -->\n      </div>\n\n      <template #footer>\n        <div class=\"flex justify-between items-center\">\n          <Button\n            :loading=\"loadingRule || loading.check || loadingPricing.all\"\n            view=\"outlined\"\n            color=\"red\"\n            @click=\"handleCancel\">\n            Cancel\n          </Button>\n          <Button\n            :loading=\"loadingRule || loading.check || loadingPricing.all\"\n            :disabled=\"editing ? false : isUnavailable || editing || !sourceSelected?.length || sourceSelected?.length > 5\"\n            color=\"teal\"\n            class=\"ml-auto small\"\n            @click=\"handleApply\">\n            Apply\n          </Button>\n        </div>\n      </template>\n    </Modal>\n  </div>\n  <BulkPriceEditorMappingCondition\n    v-model=\"modalFormCondition\"\n    :category=\"itemSelected\"\n    :pricing-source=\"sourceSelected\"\n    @back=\"handleBackMappingCondition\"\n    @save=\"handleSaveMappingCondition\"\n  />\n</template>\n\n<script>\nimport { defineComponent, computed, watch, ref } from 'vue'\nimport { useCompanyPricingSources, useCategories, useDevice } from 'composable/pricing'\nimport { useFeatureFlag } from 'composable/whitelabel'\nimport { useUser } from 'composable/user'\nimport { deepClone } from 'utils/deep-clone'\nimport SelectCountry from '../../SelectCountry.vue'\nimport SelectCurrency from '../../SelectCurrency.vue'\n// import { ElMessage } from 'element-plus'\n\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\nimport BulkPriceEditorMappingMethod from 'components/BulkPriceEditor/Mapping/FormMethod/index.vue'\nimport BulkPriceEditorMappingCondition from 'components/BulkPriceEditor/Mapping/FormCondition.vue'\nimport { Tooltip } from 'chart.js'\n\nexport default defineComponent({\n  name: 'BulkPriceEditorSources',\n  components: {\n    Modal,\n    Input,\n    Button,\n    Checkbox,\n    SelectCountry,\n    SelectCurrency,\n    BulkPriceEditorMappingMethod,\n    BulkPriceEditorMappingCondition\n  },\n  props: {\n    modal: {\n      type: Boolean,\n      default: false\n    },\n    editing: {\n      type: Boolean,\n      default: false\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    item: {\n      type: Object,\n      default: undefined\n    },\n    overlayModals: {\n      type: [Boolean, Array],\n      default: false\n    },\n    priceSharing: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['update:modal', 'update:editing', 'update:item', 'cancel', 'apply'],\n  setup(props, ctx) {\n    const showTooltip = ref(false)\n    const refMappingMethod = ref()\n    const type = ref('3')\n    const amountType = ref('1')\n    const amountPrice = ref(0)\n    const keyForm = ref('')\n    \n    // Filter states\n    const selectedCountryFilter = ref('')\n    const selectedCurrencyFilter = ref('')\n    \n    const sourceSelected = computed(() => [...filteredSources.value].filter(item => item.checked))\n    const typeSelectedSource = ref()\n    const modal = computed({\n      get: () => props.modal,\n      set: (val) => ctx.emit('update:modal', val)\n    })\n    const editing = computed({\n      get: () => props.editing,\n      set: (val) => ctx.emit('update:editing', val)\n    })\n    const itemSelected = computed({\n      get: () => props.item,\n      set: (val) => ctx.emit('update:item', val)\n    })\n    const nameTitle = computed(() => {\n      const names = props?.item?.level_names?.length ? [...props.item.level_names] : []\n      return names?.length ? names?.shift() : ''\n    })\n    const mappingType = ref(null)\n    const rules = ref({})\n    const modalFormCondition = ref(false)\n    const isOverlays = computed(() => {\n      if (!!modalFormCondition?.value) return true\n\n      if (Array.isArray(props.overlayModals)) {\n        return props.overlayModals.includes(true)\n      }\n\n      return props.overlayModals\n    })\n    const loadingRule = computed(() => props.loading)\n\n    const { me } = useUser()\n    const {\n      state,\n      action,\n      loading,\n      actionCoverage,\n      actionCheckDevicePricingSource\n    } = useCompanyPricingSources()\n    const { features } = useFeatureFlag()\n    const {\n      loading: loadingPricing,\n      actionAll: fetchPricing,\n      actionConditionUpdate,\n      getRule\n    } = useCategories()\n    const { actionSetLevel } = useDevice()\n    const sources = ref([])\n    const connectData = ref(undefined)\n    const noRules = ref(false)\n    const flagDefault = computed(() => {\n      const flag = me.value.currency.split('')\n      flag.pop()\n \n     return flag.join('').toLowerCase()\n    })\n    const isUnavailable = ref(true)\n    const isDifferentRules = ref(false)\n    const isRemoveStepThree = ref(false)\n    \n    const countryOptions = computed(() => {\n      const uniqueCountries = []\n      const countryMap = new Map()\n      \n      sources.value.forEach(source => {\n        if (source.country_code && source.country_name && !countryMap.has(source.country_code)) {\n          countryMap.set(source.country_code, {\n            country_code: source.country_code,\n            nicename: source.country_name,\n            iso3: source.country_code\n          })\n        }\n      })\n      \n      return Array.from(countryMap.values()).sort((a, b) => a.nicename.localeCompare(b.nicename))\n    })\n    \n    const currencyOptions = computed(() => {\n      const uniqueCurrencies = []\n      const currencyMap = new Map()\n      \n      sources.value.forEach(source => {\n        if (source.currency && !currencyMap.has(source.currency)) {\n          currencyMap.set(source.currency, {\n            currency_code: source.currency,\n            country_code: source.country_code,\n            name: source.currency\n          })\n        }\n      })\n      \n      return Array.from(currencyMap.values()).sort((a, b) => a.currency_code.localeCompare(b.currency_code))\n    })\n    \n    const filteredSources = computed(() => {\n      let filtered = [...sources.value]\n      \n      if (selectedCountryFilter.value) {\n        filtered = filtered.filter(source => \n          source.country_code?.toLowerCase() === selectedCountryFilter.value.toLowerCase()\n        )\n      }\n      \n      if (selectedCurrencyFilter.value) {\n        filtered = filtered.filter(source => \n          source.currency?.toLowerCase() === selectedCurrencyFilter.value.toLowerCase()\n        )\n      }\n      \n      return filtered\n    })\n    \n    const handleCountryFilterChange = (country) => {\n      const selectedCode = country ? country.country_code?.toLowerCase() : ''\n      const currentCode = selectedCountryFilter.value?.toLowerCase()\n      if (currentCode && selectedCode === currentCode) {\n        selectedCountryFilter.value = ''\n      } else {\n        selectedCountryFilter.value = selectedCode\n      }\n    }\n    let currencyProcessing = false\n\n    const handleCurrencyFilterChange = (currency) => {\n      if (currencyProcessing) return\n      currencyProcessing = true\n      const selectedCode = currency ? currency.currency_code?.toLowerCase() : ''\n      const currentCode = selectedCurrencyFilter.value?.toLowerCase()\n      if (currentCode && selectedCode === currentCode) {\n        selectedCurrencyFilter.value = ''\n      } else {\n        selectedCurrencyFilter.value = selectedCode\n      }\n      setTimeout(() => {\n        currencyProcessing = false\n      }, 50)\n    }\n    \n    const clearFilters = () => {\n      selectedCountryFilter.value = ''\n      selectedCurrencyFilter.value = ''\n    }\n    \n    const handleManualMapping = () => {\n      modalFormCondition.value = true\n    }\n    const handleValidateSelected = (e) => {\n      isRemoveStepThree.value = e?.isAllDuplicate || false\n\n      if (!!e.selected.length) isUnavailable.value = false\n        else isUnavailable.value = true\n    }\n    const handleReset = () => {\n      type.value = '3'\n      amountType.value = '1'\n      amountPrice.value = 0\n      mappingType.value = null\n      sources.value = []\n      clearFilters()\n      modal.value = false\n      isRemoveStepThree.value = false\n    }\n    const handleCancel = () => {\n      if (loadingRule.value || loading.check || loadingPricing.all) return\n      handleReset()\n      ctx.emit('cancel')\n    }\n    const handleSetLevel = () => actionSetLevel(itemSelected.value)\n    const handleGetRule = async () => {\n      loadingPricing.all = true\n      noRules.value = false\n      try {\n        const response = await getRule({\n          category_id: itemSelected.value?.id,\n          level: handleSetLevel()\n        })\n\n        const {\n          rules: _rules,\n          selected_sources,\n          sources_conditions: sourcesConditions,\n          device_mapping_type: mappingType\n        } = response\n\n        if (selected_sources){\n          typeSelectedSource.value = selected_sources?.length > 1 ? 'multiple' : 'single'\n        }\n\n        const selectedSources = _rules ? selected_sources : null\n\n        if (\n          !selectedSources?.length ||\n          !Object.keys(sourcesConditions).length ||\n          !_rules?.length\n        ) {\n          noRules.value = true\n          // return ElMessage({\n          //   message: 'The rules data is incomplete!',\n          //   type: 'warning'\n          // })\n        }\n\n        rules.value = {\n          rules: _rules,\n          selectedSources,\n          sourcesConditions,\n          mappingType\n        }\n\n        if (rules.value?.selectedSources?.length) {\n          rules.value.selectedSources.forEach(source => {\n            const key = sources.value.findIndex(item => item.sub_domain === source)\n            if (sources.value[key]) sources.value[key] = {\n              ...sources.value[key],\n              checked: true\n            }\n          })\n        }\n\n        if (mappingType === 'auto' || rules?.value?.selectedSources?.length < 2) {\n          const mapRule = [...rules.value.rules].shift()\n          type.value = mapRule.type\n          amountType.value = mapRule.amount_type,\n          amountPrice.value = mapRule.amount_price\n        }\n      } catch (error) {\n        console.error('Error fetching rule:', error)\n        noRules.value = true\n      } finally {\n        loadingPricing.all = false\n      }\n    }\n    const validateNewRules = (newRules = [], existingRules = []) => {\n      const compareKeys = [\n        \"source_condition_id\",\n        \"member_condition_id\",\n        \"source\",\n        \"type\",\n        \"amount_type\",\n        \"amount_price\"\n      ]\n\n      if (newRules.length !== existingRules.length) return true\n\n      // 1. Normoalize: take key wiil be comapares\n      const normalize = (arr) => {\n        return arr.map(item => {\n          const normalized = {}\n          for (let key of compareKeys) {\n            normalized[key] = item[key] ?? null\n          }\n          return normalized\n        }).sort((a, b) => {\n          // 2. Sort by all keys to ensure position-based comparison\n          return compareKeys.map(k => {\n            if (a[k] < b[k]) return -1\n            if (a[k] > b[k]) return 1\n            return 0\n          }).find(res => res !== 0) || 0\n        })\n      }\n\n      const normNew = normalize(newRules)\n      const normExist = normalize(existingRules)\n\n      // 3. Compare item per item\n      for (let i = 0; i < normNew.length; i++) {\n        for (let key of compareKeys) {\n          if (normNew[i][key] != normExist[i][key]) {\n            return true // different\n          }\n        }\n      }\n\n      return false // no diff\n    }\n    const handleApply = async () => {\n      const isValid = await refMappingMethod?.value?.onSubmit()\n      if (!isValid) return undefined\n      const mappingType = refMappingMethod?.value?.data?.method === 1 ? 'auto' : 'manual'\n\n      const conditions = Array.isArray(refMappingMethod?.value?.data?.conditions) \n        ? [...refMappingMethod.value.data.conditions] \n        : []\n\n      const mapping = conditions.map(item => {\n        if (!(mappingType === 'manual' ? !!item.source_condition_id : !!item.id)) return null\n\n        const sourceConditionId = mappingType === 'manual' \n          ? Array.isArray(item?.source_condition_id) \n            ? item.source_condition_id \n            : [item.source_condition_id] \n          : [item.id]\n        \n        const sources = sourceSelected.value?.length > 1\n          ? Array.isArray(item?.source) \n            ? item.source \n            : [item?.source?.sub_domain] \n          : [deepClone(sourceSelected.value)?.shift()?.sub_domain]\n\n        const result = sourceConditionId.map((conditionId, index) => ({\n          source_condition_id: conditionId?.id || conditionId,\n          member_condition_id: mappingType === 'manual' ? item.id : null,\n          source: sources[index]?.sub_domain || sources[0],\n          type: sourceSelected.value?.length > 1 || props.priceSharing || item?.is_duplicate ? Number(item.pricingRuleType) : Number(type.value),\n          amount_type: sourceSelected.value?.length > 1 || props.priceSharing || item?.is_duplicate ? item.amountType : amountType.value,\n          amount_price: sourceSelected.value?.length > 1 || props.priceSharing || item?.is_duplicate ? item.amountPrice : amountPrice.value\n        }))\n\n        return result\n      }).flat().filter(Boolean)\n\n      const data = {\n        category_id: itemSelected.value.id,\n        mapping_type: mappingType,\n        level: handleSetLevel(),\n        mapping,\n      }\n\n      const isNewRules = props?.editing \n        ? validateNewRules(data.mapping, rules?.value?.rules) \n          : true\n\n      await Promise.all([\n        ctx.emit('apply', {\n          data,\n          isNew: isNewRules\n        }, handleReset)\n      ])\n    }\n    const handleBackMappingCondition = () => {}\n    const handleSaveMappingCondition = () => {\n      refMappingMethod.value.handleSelectMethod(2)\n    }\n    const handleIntercomeMessage = () => {\n      window.CustomerSupport.use('showNewMessage', 'Hi, I would like to learn more about your custom data services')\n    }\n    const handleInitValue = async () => {\n      sources.value = [...state.value].map(item => ({\n        ...item,\n        loading: true,\n        checked: false,\n        disabled: props.priceSharing && !item.is_scraper\n      }))\n      await Promise.all([\n        sources.value.forEach(async (item) => {\n          item = await actionCoverage({\n            category_id: itemSelected?.value.id,\n            level: handleSetLevel(),\n            source: item.sub_domain\n          }, item, (res) => {\n            item.price_coverage = parseFloat((res?.price_coverage || 0).toFixed(2))\n          })\n        })\n      ])\n    }\n    const handleSelectedMethod = (e) => {\n      if (e === 1) isUnavailable.value = false\n        else isUnavailable.value = true\n    }\n    const handleChangeSource = () => {\n      mappingType.value = null\n      refMappingMethod.value?.handleReset()\n    }\n\n    const messageCase = computed(() => {\n      // Case 1: One Source, Same Rules\n      if (typeSelectedSource.value === 'single' && (editing.value && !noRules.value)) {\n        return `You're using the same data source and pricing rules for all your items. To use different data sources for different items, start by selecting more than one data source from the list below, map the conditions, set pricing rules, and click Apply. Then, click the arrow next to the brand name on the left to expand the list. Hover over an item with active price sync to reveal the Edit button, and click it to select your\n          preferred data source for that item.`\n      }\n      // Case 2: Multiple Source, Same Rules\n      if (typeSelectedSource.value === 'multiple' && (editing.value && !noRules.value)) {\n        return \"You're using multiple data sources for various items. To view them, click 'Cancel,' then click the arrow next to the brand name on the left to expand the list. Next, hover over an item with an active price sync to reveal the edit button, then click it to view its data source and pricing rule. If you want to change the data source and pricing rule for all items at once, use the menu below.\"\n      } \n      // Case 3: One Source, Different Rules\n      if (typeSelectedSource.value === 'single' && (editing.value && noRules.value)) {\n        const level = handleSetLevel()\n        if (level === 'device') {\n          return \"You're using multiple data sources and different pricing rules for various items. To view them, click 'Cancel,' then click the arrow next to the brand name on the left to expand the list. Next, hover over an item with an active price sync to reveal the edit button, then click it to view its data source and pricing rule. If you want to change the data source and pricing rule for all items at once, use the menu below.\"\n        } else {\n          return \"You're using different pricing rules for this item. To view it, click 'Cancel, then click the arrow next to the brand name on the left to expand the list. Next, hover over the item to reveal the edit button, then click it to view its data source and pricing rule. If you want to change the data source and pricing rule for all item variants at once, use the menu below.\"\n        }\n      }\n      // Case 4: Multiple Source, Different Rules\n      if (typeSelectedSource.value === 'multiple' && (editing.value && noRules.value)) {\n        const level = handleSetLevel()\n        if (level === 'device') {\n          return \"You're using multiple data sources and different pricing rules for various items. To view them, click 'Cancel', then click the arrow next to the brand name on the left to expand the list. Next, hover over an item with an active price sync to reveal the edit button, then click it to view its data source and pricing rule. If you want to change the data source and pricing rule for all items at once, use the menu below.\"\n        } else {\n          return \"You're using different pricing rules for this item. To view it, click 'Cancel, then click the arrow next to the brand name on the left to expand the list. Next, hover over the item to reveal the edit button, then click it to view its data source and pricing rule. If you want to change the data source and pricing rule for all item variants at once, use the menu below.\"\n        }\n      }\n    })\n    const handleChangeType = (e) => {\n      // Always reset amountPrice to 0 when type is Match (3)\n      if (type.value == 3) {\n        amountPrice.value = 0\n        return // No need to proceed with other validations\n      }\n\n      // Markdown + Percentage → limit to 100\n      if (type.value == 1 && amountType.value == 1 && amountPrice.value > 100) {\n        amountPrice.value = 100\n      }\n\n      // Switching from Fixed to Percentage (Markdown only), normalize large value to 100\n      if (amountType.value == 1 && type.value == 1 && amountPrice.value > 100) {\n        amountPrice.value = 100\n      }\n    }\n\n    watch(() => modal.value, async () => {\n      if (!!modal.value) {\n        isUnavailable.value = true\n        await action({\n          category_id: itemSelected.value?.id\n        })\n        handleInitValue()\n        if (!!editing.value) {\n          isUnavailable.value = false\n          await handleGetRule()\n        }\n      }\n    })\n\n    watch(sourceSelected, (newVal) => {\n      const newKey = newVal.map(i => i.sub_domain).join('-')\n      keyForm.value = newKey\n    }, { immediate: true })\n\n    return {\n      me,\n      type,\n      rules,\n      modal,\n      state,\n      action,\n      editing,\n      loading,\n      sources,\n      noRules,\n      nameTitle,\n      showTooltip,\n      modalFormCondition,\n      mappingType,\n      connectData,\n      loadingRule,\n      amountType,\n      isOverlays,\n      flagDefault,\n      amountPrice,\n      itemSelected,\n      sourceSelected,\n      isUnavailable,\n      handleCancel,\n      handleApply,\n      loadingPricing,\n      refMappingMethod,\n      isDifferentRules,\n      handleInitValue,\n      handleManualMapping,\n      handleValidateSelected,\n      handleIntercomeMessage,\n      handleSelectedMethod,\n      handleBackMappingCondition,\n      handleSaveMappingCondition,\n      messageCase,\n      isRemoveStepThree,\n      typeSelectedSource,\n      handleChangeSource,\n      handleCountryFilterChange,\n      handleCurrencyFilterChange,\n      currencyOptions,\n      countryOptions,\n      selectedCountryFilter,\n      selectedCurrencyFilter,\n      filteredSources,\n      countryOptions,\n      currencyOptions,\n      clearFilters,\n      handleChangeType,\n      keyForm\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\">\n.checkbox.checkbox-default.checkbox-blink input:not(:checked) ~ .checkbox__mark {\n  animation: checkboxBlink;\n  animation-duration: 1s;\n  animation-iteration-count: infinite;\n  animation-timing-function: ease-in-out;\n}\n@keyframes checkboxBlink {\n  from {\n    box-shadow:  0px 0px 0px 3px rgba(221, 221, 221, 0.015);\n  }\n  to {\n    box-shadow:  0px 0px 0px 0px;\n  }\n}\n.price-coverage {\n  animation: loadingCoverage;\n  animation-duration: 1s;\n  animation-delay: .5s;\n  animation-iteration-count: infinite;\n  animation-timing-function: ease-in-out;\n}\n@keyframes loadingCoverage {\n  from {\n    opacity: 0.4;\n  }\n  to {\n    opacity: 0.8;\n  }\n}\n</style>","<template>\n  <div class=\"space-y-6\">\n    <ExpandablePanel\n      v-for=\"(item, n) in items\"\n      v-model=\"item.collapse\"\n      :key=\"`${item.parent_id}_${item.id}`\"\n      :ref=\"setItemRefs(n)\">\n      <template #header=\"{ toggle }\">\n        <div class=\"grid grid-cols-2 action-child\">\n          <div\n            class=\"flex items-center gap-x-2 cursor-pointer\"\n            @click=\"handleExpandItem(item, toggle)\">\n            <div\n              :class=\"{\n                'el-table__expand-icon el-table__expand-icon--expanded': item.collapse,\n                'el-table__expand-icon': !item.collapse\n              }\">\n              <i v-loading=\"item.loading\" class=\"el-icon-arrow-right\" />\n            </div>\n            <div class=\"flex items-center gap-2\">\n              <p class=\"mb-0\">{{item.name}}</p>\n              <Tooltip\n                v-if=\"item?.missing_price_flags\"\n                placement=\"top\">\n                <span class=\"text-red-04 material-icons leading-4\" style=\"font-size: 1.25rem !important;\">flag</span>\n                <template #content>\n                  <div class=\"max-w-sm\">\n                    This item is flagged due to unavailable prices for certain conditions. Expand the submenu to manually price them.\n                  </div>\n                </template>\n              </Tooltip>\n            </div>\n            <div\n              v-if=\"!!item?.child\"\n              class=\"ml-auto flex z-10\"\n              :class=\"{ 'hidden': !item.collapse }\"\n              tabindex=\"0\">\n            </div>\n          </div>\n          <div\n            v-if=\"sycnablePrice == 1 && !priceScraper\"\n            :class=\"[\n              'flex items-center gap-x-2',\n              item.is_price_sync != 0 && sycnablePrice ? 'ml-11' : 'ml-12'\n            ]\">\n            <SyncPricing\n              v-if=\"sycnablePrice\"\n              v-model=\"item.is_price_sync\"\n              :is-syncable=\"sycnablePrice\"\n              :loading=\"item.loading\"\n              :item=\"item\"\n              :disabled-action=\"disabledAction\"\n              @loaded-price=\"handleLoadedPrice\"\n              @update:modelValue=\"changeAutomatedPricing(item, n, { toggle, isExpanded })\"\n            />\n            <SyncPricing\n              v-else\n              v-model=\"item.is_price_sync\"\n              :item=\"item\"\n              :disabled-action=\"disabledAction\"\n            />\n            <div class=\"action-btn-child\">\n              <Button\n                v-if=\"item.is_price_sync != 0 && sycnablePrice\"\n                :loading=\"item.loading\"\n                color=\"teal\"\n                dense\n                :disabled=\"disabledAction.priceUploadByProgress\"\n                @click=\"editAutomate(item, n)\">\n                <span class=\"material-icons text-sm\">edit</span>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </template>\n      <template #default>\n        <div>\n          <div v-show=\"item.collapse\">\n            <template v-if=\"Array.isArray(item.devices?.data)\">\n              <div class=\"space-y-8\">\n                <div\n                  :id=\"`device-list-${item.id}`\"\n                  class=\"grid grid-cols-8\">\n                  <div class=\"col-span-8\">\n                    <Input\n                      v-if=\"item.devices.filters\"\n                      :value=\"item.devices.filters.search\"\n                      @update:modelValue=\"val => handleFetchDevice(item, val, 'search')\"\n                      placeholder=\"Search product\"\n                      block\n                      icon>\n                      <template #icon>\n                        <span class=\"material-icons\">search</span>\n                      </template>\n                    </Input>\n                    <Alert v-if=\"item?.missing_price_flags\" color=\"red\" view=\"smooth\" class=\"mt-4\" dense>\n                      <div class=\"flex items-center\">\n                        <i class=\"material-icons mr-2\">info</i> <p>Conditions priced at $0 must be manually priced to visible to your customers.</p>\n                      </div>\n                    </Alert>\n                    <div\n                      v-if=\"item.is_price_sync && !disabledAction.priceUploadByProgress\"\n                      class=\"flex justify-end mt-4\">\n                      <Button\n                        dense\n                        :loading=\"loadingCustomPrice.resetBulk.has(item.id) || item.loading || isLoading\"\n                        color=\"teal\"\n                        @click=\"handleResetPriceSyncCustomPriceBulk(item)\">\n                        <span class=\"text-sm mx-2\">\n                          <i class=\"material-icons mr-2\">history</i>\n                          Reset Manually Priced Products\n                        </span>\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  v-if=\"!item?.conditions?.length && !disabledAction.priceUploadByProgress\"\n                  class=\"text-center mb-8\">\n                  <span class=\"text-grey-04\">\n                    Please setup your\n                    <router-link\n                      :to=\"{\n                        name: 'settingCondition'\n                      }\">\n                      conditions\n                    </router-link>\n                    first\n                  </span>\n                </div>\n                <Table\n                  v-else\n                  class=\"w-full\"\n                  :data=\"item?.devices?.data || []\" v-loading=\"item.loading || isLoading\">\n                  <TableColumn\n                    v-if=\"route?.params?.tab === 'mac'\"\n                    label=\"MPN\"\n                    min-width=\"120\">\n                    <template #default=\"scope\">\n                      <span v-if=\"scope.row.mpn\">\n                        <span v-for=\"(item, index) in scope.row.mpn.split(',')\" :key=\"index\">\n                          {{ item }}<span v-if=\"index < scope.row.mpn.split(',')?.length - 1\">,</span><br />\n                        </span>\n                      </span>\n                      <span v-else>\n                        -\n                      </span>\n                    </template>\n                  </TableColumn>\n                  <TableColumn\n                    prop=\"product_name\"\n                    label=\"Item\"\n                    :min-width=\"route?.params?.tab === 'mac' ? '350' : '150'\"\n                  />\n                  <template\n                    v-for=\"(condition, nCondition) in item.conditions_sources\"\n                    :key=\"`${nCondition}_${condition.id}`\">\n                    <TableColumn\n                      :label=\"condition.name\"\n                      :min-width=\"route?.params?.tab === 'mac' && item.is_price_sync ? '220' : (route?.params?.tab === 'mac' ? '150' : '230')\"\n                      >\n                      <template #header>\n                        <div class=\"flex flex-col\">\n                          <div class=\"flex justify-start items-center gap-x-2\">\n                            <div class=\"flex flex-col gap-0\">\n                              <div>{{ condition.name }}</div>\n                            </div>\n                            <Popover\n                              :width=\"250\"\n                              placement=\"bottom-start\"\n                              trigger=\"hover\">\n                              <h6 class=\"font-semibold text-base text-black mb-3\">\n                                Condition: {{ condition.name }}\n                              </h6>\n                              <p\n                                v-html=\"condition.title_rule\"\n                                class=\"text-dark mb-2\"\n                              />\n                              <ul class=\"list w-full\">\n                                <template\n                                  v-for=\"(rule, n) in condition.rules\"\n                                  :key=\"n\">\n                                  <li class=\"break-normal\">\n                                    {{ rule }}\n                                  </li>\n                                </template>\n                              </ul>\n                              <template #reference>\n                                <div class=\"text-teal-04 text-xs\">\n                                  <span class=\"material-icons text-lg\">info</span>\n                                </div>\n                              </template>\n                            </Popover>\n                          </div>\n                          <span\n                            v-if=\"condition.is_mapping && condition.source && !priceSharing && !hasMultipleSources\"\n                            class=\"text-xs text-grey-02 capitalize\">\n                            {{ condition.source_name }}\n                          </span>\n                        </div>\n                      </template>\n                      <template #default=\"scope\">\n                        <div v-if=\"!!scope.row?.price?.length\">\n                          <DeviceInput\n                            :data=\"{\n                              condition,\n                              row:\n                              scope.row,\n                              items,\n                              index: nCondition\n                            }\"\n                            :is-automated-price=\"item.is_price_sync\"\n                            :has-pricing-source=\"!!item.pricing_source\"\n                            :disabled=\"disabledAction.priceUploadByProgress || (\n                              ((!!item.is_price_sync &&\n                              !scope.row.price[nCondition].is_custom_price) || (\n                                !item.is_price_sync &&\n                                !!scope.row.price[nCondition].is_subcondition\n                              )) &&\n                              !scope.row.price[nCondition].is_editable_custom_price\n                            )\"\n                            @focus-out=\"handleDeviceUpdate\"\n                            @set-custom-price=\"handleSetPriceSyncCustomPrice(scope.row, nCondition)\"\n                            @unset-custom-price=\"handleUnsetPriceSyncCustomPrice(scope.row, nCondition)\"\n                            @reset-custom-price=\"handleResetCustomPrice(scope.row, nCondition, item)\"\n                            @set-original-price=\"handleSetOriginalPrice(scope.row, nCondition)\"\n                            @save-custom-price=\"handleSaveCustomPrice(scope.row, nCondition, item, actionUpdate)\"\n                          />\n                          <div\n                            v-if=\"!item.is_price_sync\"\n                            class=\"text-right\">\n                            <small class=\"text-right\">\n                              {{\n                                scope.row.price[nCondition].last_update ?\n                                  scope.row.price[nCondition].last_update\n                                  : '-'\n                              }}\n                            </small>\n                          </div>\n                        </div>\n                        <div v-else>\n                          <DeviceInput />\n                        </div>\n                      </template>\n                    </TableColumn>\n                  </template>\n                </Table>\n                <Pagination\n                  v-if=\"item.devices.filters\"\n                  :data=\"item.devices.filters\"\n                  :page=\"item.devices.filters.page\"\n                  :limit=\"item.devices.filters.limit\"\n                  @update:page=\"val => handleFetchDevice(item, val, 'page')\"\n                  @update:limit=\"val => handleFetchDevice(item, val, 'limit')\"\n                />\n              </div>\n            </template>\n            <template v-else>\n              <div v-if=\"loading.all\" v-loading=\"true\" class=\"p-8\"></div>\n              <div v-if=\"!loading.all && item?.children?.length == 0\" class=\"p-8\">\n                <span>No data to show</span>\n              </div>\n            </template>\n          </div>\n          <BulkPriceEditorList\n            v-if=\"item.children && item.children?.length > 0\"\n            :id=\"id\"\n            :items=\"item\"\n            :automated-price=\"item.is_price_sync\"\n            :level-names=\"item.level_names\"\n            :round-up=\"item.rounde_up\"\n            :sycnable-price=\"sycnablePrice\"\n            :price-sharing=\"priceSharing\"\n            :price-scraper=\"priceScraper\"\n            :search=\"search\"\n            :disabled-action=\"disabledAction\"\n            :refetch=\"refetch\"\n            @refetch-device=\"refetchDevice\"\n            @update:refetch=\"handleSetRefetch\"\n          />\n        </div>\n      </template>\n    </ExpandablePanel>\n\n    <!-- v-if=\"sycnablePrice == 1\" -->\n    <BulkPriceEditorSources\n      v-model:modal=\"sources.modal\"\n      v-model:item=\"sources.item\"\n      v-model:editing=\"sources.isEdit\"\n      v-model:priceSharing=\"priceSharing\"\n      :loading=\"loading?.rule\"\n      @cancel=\"cancelAutomatedPricing\"\n      @apply=\"applyRule\"\n    />\n  </div>\n</template>\n<script>\nimport { defineComponent, watch, ref, computed, nextTick } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useDevice, usePriceSyncCustomPrice } from 'composable/pricing'\n\nimport debounce from 'utils/debounce'\n\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport ExpandablePanel from 'bbUi/components/expandable-panel/expandable-panel.vue'\nimport DeviceInput from 'components/BulkPriceEditor/Device/Input.vue'\nimport SyncPricing from 'components/BulkPriceEditor/SyncPricing.vue'\nimport Pagination from 'components/Pagination.vue'\nimport BulkPriceEditorSources from 'components/BulkPriceEditor/Device/Sources.vue'\nimport { useCategories } from 'composable/pricing'\nimport Alert from 'bbUi/components/alert/alert.vue'\nimport { ElMessage } from 'element-plus'\n\nexport default defineComponent({\n  name: 'BulkPriceEditorList',\n  components: {\n    Input,\n    Button,\n    ExpandablePanel,\n    DeviceInput,\n    SyncPricing,\n    Pagination,\n    BulkPriceEditorSources,\n    Alert\n  },\n  props: {\n    id: {\n      type: [String, Number],\n      default: undefined\n    },\n    refetch: {\n      type: Boolean,\n      default: false\n    },\n    items: {\n      type: Object,\n      default: () => ({})\n    },\n    automatedPrice: {\n      type: [Boolean, Number, String],\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    roundUp: {\n      type: [String, Number],\n      default: undefined\n    },\n    priceSharing: {\n      type: Boolean,\n      default: false\n    },\n    priceScraper: {\n      type: Boolean,\n      default: false\n    },\n    availablePrice: {\n      type: [String, Number],\n      default: undefined\n    },\n    sycnablePrice: {\n      type: [String, Number],\n      default: undefined\n    },\n    search: {\n      type: String,\n      default: null\n    },\n    disabledAction: {\n      type: Object,\n      default: undefined\n    }\n  },\n  emits: ['refetch-device', 'pricing-flag-updated', 'show-prices', 'update:refetch'],\n  setup(props, ctx) {\n    const route = useRoute()\n    const {\n      loading,\n      actionAll,\n      actionUpdate,\n      actionSetRule,\n      actionUnsetRule,\n      actionSetLevel\n    } = useDevice(route.params.tab)\n    const {\n      items,\n      sources,\n      loading: loadingCustomPrice,\n      resetBulkCustomPriceV2,\n      handleTimeOut,\n      handleSetPriceSyncCustomPrice,\n      handleUnsetPriceSyncCustomPrice,\n      handleResetPriceSyncCustomPrice,\n      handleSavePriceSyncCustomPrice,\n      handleSetItems,\n      handleSetDevices\n    } = usePriceSyncCustomPrice()\n    const { getRule, mergeChildrenPreserveInPlaceChunked } = useCategories()\n\n    const sourceList = ref([])\n    const timerScroll = ref()\n\n    const hasMultipleSources = computed(() => sourceList.value?.length > 1)\n\n    const setItemRefs = (index) => {\n      return (el) => {\n        items.value[index].refDom = el?.$el ?? el\n      }\n    }\n    const updateItemDevices = (res, item) => {\n      if (!res || !res.data) {\n        // Init empty but safe, without refetch\n        item.devices = {\n          data: [],\n          filters: {\n            page: 1,\n            limit: 50,\n            search: '',\n          },\n          isFetched: true\n        }\n        return\n      }\n\n      const conditions = handleSetDevices(res) || {}\n      item.conditions_sources = conditions?.data[0]?.price || []\n      const {\n        current_page,\n        first_page_url,\n        from,\n        last_page,\n        last_page_url,\n        next_page_url,\n        path,\n        per_page,\n        prev_page_url,\n        to,\n        total\n      } = res\n\n      const { filters } = item?.devices || {}\n      item.devices = {\n        filters: {\n          page: res?.current_page || 1,\n          limit: res?.per_page || 50,\n          search: filters?.search || item?.search || '',\n          current_page,\n          first_page_url,\n          from,\n          last_page,\n          last_page_url,\n          next_page_url,\n          path,\n          per_page,\n          prev_page_url,\n          to,\n          total\n        },\n        ...conditions,\n        isFetched: true\n      }\n    }\n    const scrollIntoRefDom = (item) => {\n      if (!item.children?.length) {\n        clearTimeout(timerScroll.value)\n        timerScroll.value = setTimeout(() => {\n          item?.refDom?.scrollIntoView({\n            behavior: 'smooth',\n            block: 'start',\n          })\n        }, 300)\n      }\n      // if (item.refDom) {\n      // }\n    }\n    const handleGetDevice = async (item, refetch = false) => {\n      const isAlreadyFetched = item.devices?.isFetched || item.children?.length > 0\n\n      item.loading = true\n\n      if (isAlreadyFetched && !refetch) {\n        return true\n      }\n\n      try {\n        const payload = { id: item.id }\n        const filters = item.devices?.filters || {}\n\n        const promises = []\n\n        if (item.is_price_sync) {\n          const rulePromise = getRule({\n            category_id: item.id,\n            level: handleSetLevel(item)\n          }).then(response => {\n            sourceList.value = response.selected_sources\n            return response\n          })\n          promises.push(rulePromise)\n        }\n\n        const devicesPromise = actionAll(payload, { ...filters }, response => {\n          updateItemDevices(response, item)\n        })\n        promises.push(devicesPromise)\n\n        await Promise.all(promises)\n        // scrollIntoRefDom(item)\n\n        return true\n      } catch (error) {\n        console.log('Fetching device Error', error)\n        return false\n      } finally {\n        item.loading = false\n      }\n    }\n    const handleExpandItem = async (item, callback = () => {}) => {\n      const isAlreadyFetched = item.devices?.isFetched || item.children?.length > 0\n\n      if (isAlreadyFetched) {\n        callback()\n        return\n      }\n\n      if (item.collapse) {\n        if (props.search) {\n          if (!!item?.devices?.filters) {\n            item.devices.filters.search = props.search\n          } else {\n            item.devices = { filters: { search: props.search } }\n          }\n        }\n      }\n\n      const isSucceed = await handleGetDevice(item)\n      if (isSucceed) {\n        callback()\n        ctx.emit('show-prices', item)\n        await nextTick()\n        scrollIntoRefDom(item)\n      }\n    }\n    const handleResetPriceSyncCustomPriceBulk = async (item) => {\n      const payload = { last_child_id: item.id }\n\n      try {\n        const response = await resetBulkCustomPriceV2(payload);\n        \n        if (response && response.pricing_status) {\n          const level = handleSetLevel(item)\n          \n          item.missing_price_flags = level == \"model\" ? response.pricing_status.model_id_has_no_price : response.pricing_status.last_child_id_has_no_price\n          \n          const itemIndex = items.value.findIndex(valueItem => valueItem.id === item.id)\n          if (itemIndex !== -1) {\n            items.value[itemIndex].missing_price_flags = level == \"model\" ? response.pricing_status.model_id_has_no_price : response.pricing_status.last_child_id_has_no_price\n          }\n\n          ctx.emit('pricing-flag-updated', {\n            itemId: level == \"model\" ? item.parent_id : item.top_category_id,\n            deviceIdHasNoPrice: response.pricing_status.device_id_has_no_price,\n          })\n        }\n        \n        await handleGetDevice(item, true);\n      } catch (error) {\n        console.error('Error resetting price:', error);\n      }\n    }\n    const handleDeviceUpdate = async (event) => {\n      let { row, index, item, isSync } = event;\n      const payload = {\n        product_id: row.id,\n        condition_id: row.price[index].id,\n        price: row.price[index].price,\n        is_sync: isSync ? 1 : 0\n      }\n      await actionUpdate(payload, (err, response) => {\n        if (err) return\n\n        row = handleTimeOut(row, index, 1000)\n        response.data.pricing.forEach((itemPrice, indexPricing) => {\n          if (\n            row.price[indexPricing].is_subcondition == 1 ||\n            indexPricing === index\n          ) {\n            row.price[indexPricing].price = itemPrice.price\n            row.price[indexPricing].last_update = itemPrice.last_update\n            row.price[indexPricing].original_price = itemPrice.price\n          }\n        })\n      })\n      return row\n    }\n    const handleSetOriginalPrice = (item, index) => {\n      item.price[index].original_price = item.price[index].price\n\n      return item\n    }\n    const handleFetchDevice = debounce(async (item, val, type) => {\n      // // type values is ['search', 'page', 'limit']\n      if (!item?.devices?.filters || !Object.keys(item?.devices?.filters).includes(type)) return undefined\n\n      item.devices.filters[type] = val\n\n      if (type === 'limit') item.devices.filters.page = 1\n\n      await handleGetDevice(item, true)\n    }, 500)\n    const handleSetLevel = (item) => actionSetLevel(item)\n    const changeAutomatedPricing = async (item, key, { toggle, isExpanded }) => {\n      const updateLoading = (isLoading) => {\n        item.loading = isLoading\n      }\n\n      try {\n        if (item.is_price_sync) {\n          updateLoading(true)\n          editAutomate(item, key, false)\n        } else {\n          updateLoading(true)\n          await actionUnsetRule({\n            category_id: item.id,\n            level: handleSetLevel(item)\n          })\n          ctx.emit('refetch-device')\n        }\n      } catch (error) {\n        console.error('Error changing automated pricing:', error)\n      } finally {\n        updateLoading(false)\n      }\n    }\n    const editAutomate = async (item, key, edit = true) => {\n      sources.value = {\n        modal: true,\n        item,\n        isEdit: edit,\n        key\n      }\n    }\n    const cancelAutomatedPricing = () => {\n      items.value[sources.value.key].loading = false\n\n      if (!sources.value.isEdit) {\n        items.value[sources.value.key].is_price_sync = 0\n      }\n\n      sources.value = {\n        modal: false,\n        item: undefined,\n        isEdit: false,\n        key: undefined\n      }\n    }\n    const validateData = ({ mapping_type, mapping }) => {\n      return mapping.map((item, index) => {\n        let errors = []\n\n        // Validation by mapping_type\n        if (mapping_type === \"manual\" && item.member_condition_id == null) {\n          const msg = 'Member condition required'\n          if (!errors.includes(msg)) errors.push(msg)\n        }\n        if (!item.source_condition_id) {\n          const msg = 'Source condition required'\n          if (!errors.includes(msg)) errors.push(msg)\n        }\n\n        // validation by type\n        if (item.type !== 3 && (!item.amount_price || item.amount_price.trim() === \"\")) {\n          const msg = 'Amount price required'\n          if (!errors.includes(msg)) errors.push(msg)\n        }\n\n        return errors.length ? { index, errors } : null\n      }).filter(Boolean)\n    }\n    const applyRule = async (payload, callback = () => {}) => {\n      const item = items.value[sources.value.key]\n\n      if (!item || !payload.isNew) return callback()\n\n      loading.rule = true\n\n      const result = validateData({\n        mapping_type: payload.data.mapping_type,\n        mapping: payload.data.mapping\n      })\n\n      if (result.length) {\n        loading.rule = false\n        return ElMessage({\n          message: 'Please fill in the required information before proceeding',\n          type: 'warning'\n        })\n      }\n\n      const response = await actionSetRule(payload.data)\n\n      if (response) {\n        const callBackFetch = async () => {\n          callback()\n          sources.value = {\n            modal: false,\n            item: undefined,\n            isEdit: false,\n            key: undefined\n          }\n          loading.rule = false\n        }\n\n        await handleGetDevice(item, true)\n        ctx.emit('refetch-device', {\n          item,\n          callback: callBackFetch\n        })\n        return item\n      } else loading.rule = false\n    }\n    const refetchDevice = (e) => {\n      const { item, callback } = e\n      ctx.emit('refetch-device', {\n        item,\n        callback\n      })\n    }\n    /* Remove This If API give parameter if prices exist or more than Zero */\n    const handleLoadedPrice = (res, item) => {\n      if (item?.children?.length) {\n        for (const child of item.children) {\n          handleLoadedPrice(res, child)\n        }\n      } else {\n        updateItemDevices(res, item)\n      }\n    }\n    /* End Of Remove This If API give parameter if prices exist or more than Zero */\n\n    const handleSaveCustomPrice = async (row, nCondition, item, actionUpdate) => {\n      const response = await handleSavePriceSyncCustomPrice(row, nCondition, item, actionUpdate)\n      \n      if (response && response.pricing_status) {\n        const level = handleSetLevel(item)\n        \n        const newMissingPriceFlag = level == \"model\" ? \n          response.pricing_status.model_id_has_no_price : \n          response.pricing_status.last_child_id_has_no_price\n        \n        const itemIndex = items.value?.findIndex(valueItem => valueItem.id === item.id) ?? -1\n        if (itemIndex !== -1) {\n          items.value[itemIndex] = {\n            ...items.value[itemIndex],\n            missing_price_flags: newMissingPriceFlag\n          }\n        }\n        \n        Object.assign(item, { missing_price_flags: newMissingPriceFlag })\n\n        const itemsWithCollapseReset = items.value.map(item => ({\n          ...item,\n          collapse: false\n        }))\n\n        ctx.emit('pricing-flag-updated', {\n          itemId: level == \"model\" ? item.parent_id : item.top_category_id,\n          deviceIdHasNoPrice: response.pricing_status.device_id_has_no_price,\n          children: itemsWithCollapseReset\n        })\n      }\n    }\n\n    const handleResetCustomPrice = async (row, nCondition, item) => {\n      const response = await handleResetPriceSyncCustomPrice(row, nCondition, item)\n      \n      if (response && response.data.pricing_status) {\n        const level = handleSetLevel(item)\n        \n        item.missing_price_flags = level == \"model\" ? response.data.pricing_status.model_id_has_no_price : response.data.pricing_status.last_child_id_has_no_price\n        \n        const itemIndex = items.value.findIndex(valueItem => valueItem.id === item.id)\n        if (itemIndex !== -1) {\n          items.value[itemIndex].missing_price_flags = level == \"model\" ? response.data.pricing_status.model_id_has_no_price : response.data.pricing_status.last_child_id_has_no_price\n        }\n        \n        ctx.emit('pricing-flag-updated', {\n          itemId: level == \"model\" ? item.parent_id : item.top_category_id,\n          deviceIdHasNoPrice: response.data.pricing_status.device_id_has_no_price,\n        })\n      }\n    }\n    const handleRefetchFromParent = async (existingChildren, newChildren) => {\n      return mergeChildrenPreserveInPlaceChunked(existingChildren, newChildren)\n    }\n    const handleSetRefetch = (val) => {\n      ctx.emit('update:refetch', val)\n    }\n\n    watch(\n      () => ({\n        items: props.items,\n        roundUp: props.roundUp\n      }),\n      (val, oldVal) => {\n        if (JSON.stringify(val?.items) !== JSON.stringify(oldVal?.items)) {\n          handleSetItems(val.items, val.roundUp)\n        }\n      },\n      { immediate: true, deep: true }\n    )\n\n    watch(() => props.refetch, (val) => {\n      if (val) {\n        handleRefetchFromParent(items.value, props.items?.children).finally(() => {\n          ctx.emit('update:refetch', false)\n        })\n      }\n    })\n\n    return {\n      items,\n      route,\n      loading,\n      sources,\n      setItemRefs,\n      handleGetDevice,\n      handleExpandItem,\n      handleFetchDevice,\n      loadingCustomPrice,\n      changeAutomatedPricing,\n      handleDeviceUpdate,\n      handleLoadedPrice,\n      handleSetOriginalPrice,\n      handleSetPriceSyncCustomPrice,\n      handleSavePriceSyncCustomPrice,\n      handleUnsetPriceSyncCustomPrice,\n      handleResetPriceSyncCustomPrice,\n      handleResetPriceSyncCustomPriceBulk,\n      cancelAutomatedPricing,\n      applyRule,\n      editAutomate,\n      handleSetLevel,\n      refetchDevice,\n      actionUpdate,\n      sourceList,\n      hasMultipleSources,\n      handleSaveCustomPrice,\n      handleResetCustomPrice,\n      handleSetRefetch\n    }\n  },\n})\n</script>\n","<template>\n  <div\n    class=\"border border-grey-02 border-opacity-70 rounded-md relative\">\n    <Tooltip\n      placement=\"top\">\n      <span class=\"absolute -top-3.5 left-4 px-2 bg-white font-semibold\">\n        Pricing Rules for Manually Priced Items\n      </span>\n      <template #content>\n        <p>This does not apply to items with active Price Sync.</p>\n      </template>\n    </Tooltip>\n    <div class=\"px-4 pb-4 pt-8\">\n      <div class=\"overflow-x-auto\">\n        <table class=\"table-price-manual\">\n          <thead>\n            <tr>\n              <th\n                v-for=\"(column, nCol) in columns\"\n                :key=\"nCol\"\n                :class=\"column.class\">\n                {{ column.name }}\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              v-for=\"(row, nRow) in rows\"\n              :key=\"nRow\">\n              <td>{{ row.name }}</td>\n              <td>\n                <Select\n                  v-model=\"row.parent_id\"\n                  by=\"id\"\n                  name=\"name\"\n                  class=\"w-full\"\n                  :items=\"filterFecthOption(options, row)\"\n                  :loading=\"row.parent_id == null && row.loading\"\n                  :disabled=\"row.disabled_select || disabledFromPrice\"\n                  dense\n                  @input=\"handleChangeCondition(row)\"\n                />\n              </td>\n              <td>\n                <RadioGroup\n                  v-if=\"row.parent_id !== null\"\n                  v-model=\"row.set_percentage\"\n                  size=\"mini\"\n                  :disabled=\"disabledFromPrice\"\n                  @change=\"handleChangePercentage(row)\">\n                  <RadioButton label=\"min\">- %</RadioButton>\n                  <RadioButton label=\"plus\">+ %</RadioButton>\n                </RadioGroup>\n              </td>\n              <td>\n                <Tooltip\n                  v-model=\"row.show_tooltip\"\n                  placement=\"top\"\n                  manual>\n                  <template #content>\n                    <p class=\"max-w-xs text-sm\">Items priced at {{ me.currency_prefix == 1 ? `${me.currency_symbol}0` : `0${me.currency_symbol}` }} are not subject to pricing rules.</p>\n                  </template>\n                  <div>\n                    <Input\n                      v-if=\"row.parent_id !== null\"\n                      v-model=\"row.condition_sub_value\"\n                      type=\"number\"\n                      icon\n                      right\n                      dense\n                      :disabled=\"disabledFromPrice\"\n                      @focus-in=\"handleShowTooltip(row, true)\"\n                      @focus-out=\"handleShowTooltip(row, false)\"\n                      @input=\"handleCheckValue(row)\">\n                      <template #icon>\n                        <span class=\"text-base\">%</span>\n                      </template>\n                    </Input>\n                  </div>\n                </Tooltip>\n              </td>\n              <td>\n                <Button\n                  v-if=\"row.parent_id !== null\"\n                  :loading=\"row.loading\"\n                  :disabled=\"row.loading || disabledFromPrice\"\n                  color=\"teal\"\n                  dense\n                  @click=\"handleApply(row)\">\n                  Apply\n                </Button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport debounce from 'utils/debounce'\nimport { useUser } from 'composable/user'\n\nimport Select from 'bbUi/components/select/select.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Input from 'bbUi/components/input/input.vue'\n\nexport default defineComponent({\n  name: 'BulkPriceEditorPricingManual',\n  components: {\n    Select,\n    Button,\n    Input\n  },\n  props: {\n    conditions: {\n      type: Array,\n      default: () => []\n    },\n    options: {\n      type: Array,\n      default: () => []\n    },\n    disabled: {\n      type: Array,\n      default: () => []\n    },\n    item: {\n      type: Object,\n      default: () => ({})\n    },\n    keyComponent: {\n      type: [String, Number],\n      default: undefined\n    },\n    disabledFromPrice: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\n    'update:conditions',\n    'update:disabled',\n    'update:options',\n    'change:condition',\n    'applyPricing'\n  ],\n  setup(props, ctx) {    \n    const columns = ref([\n      { class: 'md:w-44', name: 'Condition' },\n      { class: 'md:w-56', name: 'Choose Pricing From' },\n      { class: 'md:w-40', name: 'Set Percentage' },\n      { class: 'md:w-36', name: 'Set Value' },\n      { class: '', name: '' }\n    ])\n    const rows = computed({\n      get: () => props.conditions.map(condition => ({\n        ...condition,\n        disabled_select: disabled.value.findIndex(item =>\n          item.parent_id == condition.id\n        ) != -1\n          ? true\n          : false,\n        show_tooltip: condition?.show_tooltip !== undefined ? condition.show_tooltip : false\n      })),\n      set: (val) => {\n        ctx.emit('update:conditions', val)\n      }\n    })\n    const options = computed({\n      get: () => props.options,\n      set: (val) => ctx.emit('update:options', val)\n    })\n    const disabled = computed({\n     get: () => props.disabled,\n     set: (val) => ctx.emit('update:disabled', val)\n    })\n    const { me } = useUser()\n\n    const filterFecthOption = (conditions, item) => {\n      if (!!conditions && !!conditions.length) {\n        return [...conditions].filter(condition =>\n          condition.name !== item?.name && condition.id !== item?.id && !condition.parent_id\n        )\n      }\n      return conditions\n    }\n    const filterDisabledOption = (id) => {\n      const index = (!!disabled?.value?.length && disabled?.value.findIndex(item =>\n        Number(item.parent_id) === Number(id)\n      )) || -1\n      console.log(index)\n\n      return index !== -1 ? true : false\n    }\n    const handleChangeCondition = (row) => {\n      const newRows = rows.value\n      const index = rows.value.findIndex(item => item.id == row.id)\n      newRows[index].parent_id = row.parent_id\n      rows.value = newRows\n      ctx.emit('change:condition', {\n        row,\n        item: props.item\n      })\n    }\n    const handleChangePercentage = (row) => {\n      const newRows = rows.value\n      const index = rows.value.findIndex(item => item.id == row.id)\n      row.set_percentage == 'plus' && index != -1\n        ? newRows[index].condition_sub_value = Math.abs(Number(newRows[index].condition_sub_value))\n        : newRows[index].condition_sub_value = -Math.abs(Number(newRows[index].condition_sub_value))\n\n      rows.value = newRows\n    }\n    const handleCheckValue = debounce((row) => {\n      const newRows = rows.value\n      const index = rows.value.findIndex(item => item.id == row.id)\n      \n      if (newRows[index].set_percentage == 'min' && Number(newRows[index].condition_sub_value) > 0) {\n        newRows[index].condition_sub_value = -Math.abs(Number(newRows[index].condition_sub_value))\n      }\n      rows.value = newRows\n\n      return rows.value\n    }, 300)\n    const handleApply  = (row) => {\n      const index = rows.value.findIndex(item => item.id == row.id)\n\n      ctx.emit('applyPricing', {\n        conditionIndex: index,\n        condition: row,\n        item: props.item,\n        index: props.keyComponent\n      })\n    }\n    const handleShowTooltip = (row, value = false) => {\n      const newRows = rows.value\n      const index = rows.value.findIndex(item => item.id == row.id)\n      \n      if (newRows[index]?.show_tooltip !== undefined) {\n        newRows[index].show_tooltip = value\n      }\n      rows.value = newRows\n\n      return rows.value\n    }\n\n    return {\n      me,\n      rows,\n      columns,\n      options,\n      disabled,\n      handleApply,\n      handleShowTooltip,\n      handleCheckValue,\n      filterFecthOption,\n      filterDisabledOption,\n      handleChangeCondition,\n      handleChangePercentage,\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.table-price-manual {\n  border-spacing: 0;\n  @apply w-full border-b border-grey-01 border-opacity-80;\n\n  thead {\n    @apply bg-grey-01 bg-opacity-50;\n\n    tr th {\n      @apply py-4 px-3 text-left whitespace-nowrap;\n    }\n  }\n\n  tbody {\n    tr td {\n      @apply py-4 px-3 text-left border-b border-grey-01;\n    }\n  }\n}\n</style>","<template>\n  <div class=\"bulk-price-editor overflow-x-auto\">\n    <table\n      v-loading=\"loadingTable || loadingPricing?.all\"\n      class=\"table-price-editor w-full table-fixed overflow-x-auto\">\n      <tr class=\"table-price-editor__row\">\n        <th class=\"table-price-editor__colhead\"></th>\n        <th class=\"table-price-editor__colhead md:w-96\">Brand</th>\n        <th class=\"table-price-editor__colhead md:w-96\">Category</th>\n        <th class=\"table-price-editor__colhead w-40\">Price Sync</th>\n        <th v-if=\"!priceScraper && !disabledAction.availabilityCondition\" class=\"table-price-editor__colhead w-40\">\n          Pricing Status\n        </th>\n      </tr>\n      <template v-for=\"(item, n) in items\" :key=\"n\">\n        <tr\n          :id=\"`row_${n}`\"\n          class=\"table-price-editor__row\">\n          <td class=\"table-price-editor__col\">\n            <div\n              v-if=\"!disabledAction.priceUploadByProgress && !disabledAction.availabilityCondition\"\n              :class=\"{\n                'el-table__expand-icon el-table__expand-icon--expanded': item.collapse,\n                'el-table__expand-icon': !item.collapse\n              }\"\n              @click=\"onCollapse(item)\">\n              <i v-loading=\"item.loading\" class=\"el-icon-arrow-right\" />\n            </div>\n          </td>\n          <td class=\"table-price-editor__col\">\n            <div class=\"flex items-center gap-x-2\">\n            {{ item.brand }}\n            <Tooltip\n              v-if=\"!item.is_price_sync && (item.conditions && !item.conditions.length)\"\n              placement=\"top\">\n              <span class=\"text-orange-04 material-icons leading-4\" style=\"font-size: 1.25rem !important;\">warning</span>\n              <template #content>\n                <div class=\"w-72\">\n                  To manage the pricing for this item, you can either set up manual conditions using the \"Setup Condition\" or enable price sync for automatic pricing.\n                </div>\n              </template>\n            </Tooltip>\n            <Tooltip\n              v-if=\"item?.missing_price_flags\"\n              placement=\"right\">\n              <span class=\"text-red-04 material-icons leading-4\" style=\"font-size: 1.25rem !important;\">flag</span>\n              <template #content>\n                <div class=\"max-w-lg\">\n                  One or more items are flagged due to unavailable prices for certain conditions. Expand the submenu to view the flagged items and manually price them.\n                </div>\n              </template>\n            </Tooltip>\n            </div>\n          </td>\n          <td class=\"table-price-editor__col\">{{ item.name }}</td>\n          <td class=\"table-price-editor__col\">\n            <div\n              v-if=\"!priceScraper\"\n              class=\"flex items-center gap-x-4\">\n              <div>\n                <SyncPricing\n                  v-if=\"subDomainLinked || item.is_syncable\"\n                  v-model=\"item.is_price_sync\"\n                  :is-syncable=\"item.is_syncable\"\n                  :loading=\"loading.rules.includes(item.id)\"\n                  tooltip\n                  :item=\"item\"\n                  :disabled-action=\"disabledAction\"\n                  @update:modelValue=\"changeAutomatedPricing(item)\"\n                />\n                <SyncPricing\n                  v-else\n                  v-model=\"item.is_price_sync\"\n                  :item=\"item\"\n                  :disabled-action=\"disabledAction\"\n                />\n              </div>\n              <div class=\"action\">\n                <Button\n                  v-if=\"item.is_price_sync == 0 && (item?.conditions && !item.conditions?.length)\"\n                  :loading=\"item.loading\"\n                  color=\"teal\"\n                  dense\n                  class=\"action-btn\"\n                  @click=\"$router.push({\n                    name: 'settingCondition',\n                  })\">\n                  <div class=\"flex items-center justify-center\">\n                    Set item conditions\n                    <span class=\"material-icons text-sm\">chevron_right</span>\n                  </div>\n                </Button>\n                <Button\n                  v-if=\"item.is_price_sync != 0 && item.is_syncable\"\n                  :loading=\"item.loading\"\n                  color=\"teal\"\n                  dense\n                  class=\"action-btn\"\n                  :disabled=\"disabledAction.priceUploadByProgress\"\n                  @click=\"editAutomate(item)\">\n                  <span class=\"material-icons text-sm\">edit</span>\n                </Button>\n              </div>\n            </div>\n            <div v-if=\"priceScraper\" class=\"flex items-center gap-x-4\">\n              <div>\n                <SyncPricing\n                  :item=\"item\"\n                  :price-scraper=\"priceScraper\"\n                  :disabled-action=\"disabledAction\"\n                />\n              </div>\n            </div>\n          </td>\n          <td v-if=\"!priceScraper && !disabledAction.availabilityCondition\" class=\"table-price-editor__col\">\n            <p v-if=\"item.total_device_manual && !item.total_device_sync\">\n              All Items Manually Priced\n            </p>\n            <p v-else-if=\"!item.total_device_manual && item.total_device_sync\">\n              {{ item.mapping_type === 'manual' ? 'All Items Prices Synced' : 'All Items Prices Synced (Auto Mapped)' }}\n            </p>\n            <p v-else-if=\"item.total_device_manual && item.total_device_sync\">\n              {{ item.total_device_sync }}\n              {{ item.total_device_sync > 1 ? 'Items' : 'Item' }} price synced,\n              {{ item.total_device_manual }}\n              {{ item.total_device_manual > 1 ? 'Items' : 'Item' }} manually priced\n            </p>\n          </td>\n        </tr>\n        <tr\n          v-if=\"item.collapse\"\n          class=\"table-price-editor__row expanded\">\n          <td class=\"table-price-editor__col\"></td>\n          <td\n            :colspan=\"!priceScraper && !disabledAction.availabilityCondition ? 4 : 3\"\n            class=\"table-price-editor__col\">\n            <div class=\"py-6 md:pr-16\">\n              <div\n                v-if=\"item.is_price_sync == 0\"\n                class=\"condition-group\">\n                <transition name=\"fade\">\n                  <div\n                    v-if=\"item.alert && !disabledAction.priceUploadByProgress\"\n                    class=\"condition-group__container\"\n                    style=\"z-index: 10; background-color: rgba(235,0,27,0.5)\">\n                    <div class=\"condition-group__modal-container\">\n                      <div class=\"condition-group__modal-content text-red-base\">\n                        <div class=\"flex\">\n                          <i class=\"material-icons mr-4\">error</i>\n                          <div class=\"w-full\">\n                            <p>\n                              <span class=\"font-semibold\">Warning!</span>\n                              Changing the pricing rules on this window <br/>\n                              will affect all of the following device:\n                            </p>\n                            <BulkPriceEditorConditionGroupList\n                              v-if=\"item?.conditions_group?.length\"\n                              :conditions=\"item.conditions_group\"\n                            />\n                            <div class=\"flex flex-wrap\">\n                              <Button\n                                color=\"teal\"\n                                view=\"outlined\"\n                                class=\"mr-4 my-2\"\n                                @click=\"$router.push({\n                                  name: 'settingConditionEdit',\n                                  params: {\n                                    conditionId: item.conditions_group_id || 0\n                                  }\n                                })\">\n                                Go to Conditions\n                              </Button>\n                              <Button\n                                color=\"teal\"\n                                view=\"outlined\"\n                                class=\"my-2\"\n                                @click=\"item.alert = false\">\n                                Continue Pricing\n                              </Button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </transition>\n                <Alert\n                  v-if=\"item?.conditions_group?.length !== 0 && item.alert == 0 && !disabledAction.priceUploadByProgress\"\n                  color=\"red\"\n                  view=\"smooth\"\n                  class=\"mb-5\"\n                  dense>\n                  <div class=\"flex space-x-4\">\n                    <div>\n                      <i class=\"material-icons\">error</i>\n                    </div>\n                    <div>\n                      Warning! Changing the pricing rules on this window will affect all of the following devices:\n                      <BulkPriceEditorConditionGroupList\n                        v-if=\"item.conditions_group?.length\"\n                        :conditions=\"item.conditions_group\"\n                      />\n                      <Button\n                        color=\"teal\"\n                        view=\"outlined\"\n                        @click=\"$router.push({\n                          name: 'settingConditionEdit',\n                          params: {\n                            conditionId: item.conditions_group_id || 0\n                          }\n                        })\">\n                        Go to Conditions\n                      </Button>\n                    </div>\n                  </div>\n                </Alert>\n                <BulkPriceEditorPricingManual\n                  v-if=\"item?.conditions?.length\"\n                  v-loading=\"listLoading\"\n                  v-model:conditions=\"item.conditions\"\n                  v-model:options=\"item.condition_options\"\n                  v-model:disabled=\"item.disabled\"\n                  :item=\"item\"\n                  :key-component=\"n\"\n                  :disabled-action=\"disabledAction\"\n                  @change:condition=\"changeCondition\"\n                  @apply-pricing=\"updateCategoryCondition\"\n                />\n              </div>\n              <BulkPriceEditorList\n                :key=\"`${item.id}-${item.renderKey || 0}`\"\n                :id=\"item.id\"\n                :items=\"item\"\n                :round-up=\"roundUp\"\n                :sycnable-price=\"\n                  item.is_syncable &&\n                  item.mapping_type !== 'auto'\n                    ? 1\n                    : 0\n                \"\n                :price-scraper=\"priceScraper\"\n                :price-sharing=\"priceSharing\"\n                :search=\"search\"\n                :disabled-action=\"disabledAction\"\n                :refetch=\"refetch\"\n                @update:refetch=\"handleSetRefetch\"\n                @show-prices=\"onShowPrices\"\n                @refetch-device=\"refetchDevice\"\n                @pricing-flag-updated=\"handlePricingFlagUpdate\"\n              />\n            </div>\n          </td>\n        </tr>\n      </template>\n    </table>\n    <BulkPriceEditorSources\n      v-model:modal=\"modal\"\n      v-model:item=\"selected\"\n      v-model:editing=\"isEditAutomate\"\n      v-model:priceSharing=\"priceSharing\"\n      :loading=\"loading?.rule\"\n      @cancel=\"cancelAutomatedPricing\"\n      @apply=\"applyRule\"\n    />\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref, watch, computed, onBeforeMount, onUnmounted, nextTick } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useDevice, useCategories } from 'composable/pricing'\nimport Button from 'bbUi/components/button/button.vue'\nimport Alert from 'bbUi/components/alert/alert.vue'\nimport SyncPricing from 'components/BulkPriceEditor/SyncPricing.vue'\nimport BulkPriceEditorList from 'components/BulkPriceEditor/Device/List.vue'\nimport BulkPriceEditorSources from 'components/BulkPriceEditor/Device/Sources.vue'\nimport BulkPriceEditorPricingManual from 'components/BulkPriceEditor/Device/Pricing.vue'\nimport BulkPriceEditorConditionGroupList from 'components/BulkPriceEditor/Device/ConditionGroupList.vue'\nimport { ElMessage } from 'element-plus'\n\nexport default defineComponent({\n  name: 'BulkPriceEditor',\n  components: {\n    Button,\n    Alert,\n    SyncPricing,\n    BulkPriceEditorList,\n    BulkPriceEditorSources,\n    BulkPriceEditorPricingManual,\n    BulkPriceEditorConditionGroupList\n  },\n  props: {\n    items: {\n      type: Array,\n      default: () => ([])\n    },\n    conditions: {\n      type: Array,\n      default: () => ([])\n     },\n    pathId: {\n      type: String,\n      default: null\n    },\n    loadingTable: {\n      type: Boolean\n    },\n    priceSharing: {\n      type: Boolean,\n      default: false\n    },\n    priceScraper: {\n      type: Boolean,\n      default: false\n    },\n    roundUp: {\n      type: [String, Number],\n      default: undefined\n    },\n    disallowSync: {\n      type: Boolean,\n      default: false,\n    },\n    subDomainLinked: {\n      type: Boolean,\n      default: false\n    },\n    search: {\n      type: String,\n      default: null\n    },\n    disabledAction: {\n      type: Object,\n      default: undefined\n    }\n  },\n  emits: ['refetch-pricing', 'pricing-flag-updated'],\n  setup(props, ctx) {\n    const keyList = ref()\n    const isEditAutomate = ref(false)\n    const isProcessing = ref(false)\n    const modal = ref(false)\n    const route = useRoute()\n    const { loading, actionAll, actionUpdate, actionSetRule, actionUnsetRule, actionSetLevel, actionGetChildren } = useDevice(route.params.tab)\n    const {\n      loading: loadingPricing,\n      actionSpecificV2: fetchSpecificV2,\n      actionConditionUpdate\n    } = useCategories()\n    const selected = ref(null)\n    const items = ref(props.items)\n    const tableElement = ref(null)\n    const listLoading = ref(false)\n    const refetch = ref(false)\n\n    const expands = computed(() => {\n      const filtered = []\n      if (route.query.ref === 'true') {\n        items.value.map(item => {\n          if (item.brand === route.params.manufacturer) {\n            filtered.push(item.id)\n          }\n        })\n      }\n      items.value.forEach((item) => {\n        if (item.expand) {\n          filtered.push(item.id)\n          return\n        }\n        if (route.query.ref === 'true') {\n          if (item.brand === route.params.manufacturer) filtered.push(item.id)\n        }\n      })\n      return filtered\n    })\n\n    if (route.query.model && route.query.ref === 'true') {\n      items.value.map(item => {\n        const idx = [...item.child].findIndex(childItem => childItem.name === route.query.model)\n        if (idx >= 0) {\n          item.child[idx].collapse = true\n          item.child[idx].loading = true\n        }\n        return item\n      })\n    }\n\n    const deviceAll = async (item) => {\n      if(item.children.length === 0 && (!item.devices)) {\n        await actionAll(item.id, response => {\n          item.devices = response.devices.devices\n          item.child_conditions = response.conditions\n        })\n      }\n    }\n\n    const handlePricingFlagUpdate = (pricingStatusData) => {\n      const itemIndex = items.value.findIndex(item => item.id === pricingStatusData.itemId)\n      if (itemIndex !== -1) {\n        items.value[itemIndex].missing_price_flags = pricingStatusData.deviceIdHasNoPrice\n        \n        if (pricingStatusData.children) {\n          items.value[itemIndex].children = pricingStatusData.children\n        }\n      }\n\n      ctx.emit('pricing-flag-updated', pricingStatusData)\n    }\n\n    const deviceUpdate = async (item, index) => {\n      actionUpdate({\n        pricing: JSON.stringify([{\n          product_id: item.id,\n          pricing: [\n            {\n              condition_id: item.price[index].id,\n              price: item.price[index].price\n            }\n          ]\n        }])\n      })\n    }\n\n    const updateCategoryCondition = async(data) => {\n      const { condition, item } = data\n      const indexItem = items.value.findIndex(i => i.id === item.id)\n      const conditionIndex = items.value[indexItem].conditions.findIndex(i => i.id === condition.id)\n      items.value[indexItem].conditions[conditionIndex].loading = true\n      const { id, parent_id, condition_sub_value } = items.value[indexItem]?.conditions[conditionIndex] ?? condition\n      try {\n        await actionConditionUpdate({\n          route: route.params,\n          data: {\n            id: id,\n            data: {\n              parent_id: parent_id,\n              sub_value: condition_sub_value\n            }\n          }\n        })\n        items.value[indexItem].children = resetChildren(items.value[indexItem].children, true)\n        items.value[indexItem].renderKey = Date.now()\n        // ctx.emit('refetch-pricing', callback)\n      } finally {\n        items.value[indexItem].conditions[conditionIndex].loading = false\n      }\n    }\n\n    const validateData = ({ mapping_type, mapping }) => {\n      return mapping.map((item, index) => {\n        let errors = []\n\n        // Validation by mapping_type\n        if (mapping_type === \"manual\" && item.member_condition_id == null) {\n          const msg = 'Member condition required'\n          if (!errors.includes(msg)) errors.push(msg)\n        }\n        if (!item.source_condition_id) {\n          const msg = 'Source condition required'\n          if (!errors.includes(msg)) errors.push(msg)\n        }\n\n        // validation by type\n        if (item.type !== 3 && (!item.amount_price || item.amount_price.trim() === \"\")) {\n          const msg = 'Amount price required'\n          if (!errors.includes(msg)) errors.push(msg)\n        }\n\n        return errors.length ? { index, errors } : null\n      }).filter(Boolean)\n    }\n\n    const applyRule = async(payload, callback = () => {}) => {\n      if (!payload.isNew) {\n        callback()\n        return resetModal()\n      }\n\n      loading.rule = true\n\n      const result = validateData({\n        mapping_type: payload.data.mapping_type,\n        mapping: payload.data.mapping\n      })\n      if (result.length) {\n        loading.rule = false\n        return ElMessage({\n          message: 'Please fill in the required information before proceeding',\n          type: 'warning'\n        })\n      }\n\n      await actionSetRule(payload.data, (res) => {\n        if (!!res) {\n          const callBackRefetch = () => {\n            callback()\n            resetModal()\n            loading.rule = false\n          }\n    \n          ctx.emit('refetch-pricing', callBackRefetch)\n        }\n      })\n    }\n\n    const resetChildren = (children = [], resetDevices = false) => {\n      return children.map(child => ({\n        ...child,\n        collapse: false,\n        ...(resetDevices && { devices: {} }),\n        children: resetChildren(child.children || [])\n      }))\n    }\n    const onCollapse = async (row) => {\n      if (row.loading) return\n      if (row?.children?.length && (row.collapse || !row.collapse)) {\n        row.collapse = !row.collapse\n        return\n      }\n\n      row.loading = true\n      await actionGetChildren({ id: row.id }, (res) => {\n        row.children = res?.children ?? []\n        row.conditions = res?.conditions ?? []\n        row.conditions_group = res?.conditions_group ?? []\n        row.conditions_group_id = res?.conditions_group_id ?? null\n        row.condition_options = res?.condition_options ?? []\n        row.alert = res?.alert ?? false\n        row.disabled = res?.disabled ?? []\n      })\n      row.collapse = !row.collapse\n      row.loading = false\n      row.renderKey = Date.now()\n\n      return row\n    }\n    const onShowPrices = (item) => {\n      const originIndex = items.value.findIndex(i => i.id === item.top_id)\n      if (originIndex === -1) return\n\n      const originItem = items.value[originIndex]\n      if (!originItem?.collapse) return\n\n      const childIndex = originItem.children?.findIndex(i => i.id === item.id) ?? -1\n      if (childIndex === -1) return\n\n      const updatedChild = {\n        ...originItem.children[childIndex],\n        ...item\n      }\n\n      originItem.children[childIndex] = updatedChild\n      originItem.renderKey = Date.now()\n      item = updatedChild\n\n      return item // opsional\n    }\n\n    const resetCollapse = (row, childOnly = false) => {\n      keyList.value = Date.now()\n    }\n    const resetChildItems = (childItems, parentItem) => childItems.map(childItem => \n      ({\n        ...childItem,\n        children: childItem.child ? resetChildItems(childItem.child, parentItem) : [],\n        collapse: false,\n        devices: null\n      })\n    )\n    const resetAllCollapsedExpandable = () => {\n      items.value = items.value.map(item => ({\n        ...item,\n        ...(item.children && { children: resetChildItems(item.children, item) })\n      }))\n    }\n\n    const changeAutomatedPricing = async (item) => {\n      isProcessing.value = true\n      loading.rules.push(item.id)\n      listLoading.value = true\n      if (item.is_price_sync == 1) {\n        modal.value = true, selected.value = item\n      } else {\n        await actionUnsetRule({\n          category_id: item.id,\n          level: actionSetLevel(item)\n        })\n        ctx.emit('refetch-pricing')\n      }\n      resetAllCollapsedExpandable()\n      listLoading.value = false\n      const matchedIndex = loading.rules.findIndex(loadingItem => loadingItem === item.id)\n      if(matchedIndex > -1) loading.rules.splice(matchedIndex, 1)\n      isProcessing.value = false\n    }\n\n    const cancelAutomatedPricing = () => {\n      let indexItem = items.value.findIndex(item => Number(item.id) === Number(selected.value.id))\n      if (indexItem !== -1) items.value[indexItem].loading = false  \n\n      if (!isEditAutomate.value) {\n        items.value[indexItem].is_price_sync = 0\n        resetAllCollapsedExpandable()\n      }\n      resetModal()\n    }\n\n    const changeCondition = async ({ row, item }) => {\n      if(row.parent_id == null){\n        row.condition_sub_value = 0\n        await updateCategoryCondition({condition: row, item: item})\n      }\n      if(row.id != row.parent_id){\n        item.disabled.push(row)\n        item.disabled.forEach(selected => {\n          let existingIndex = item.conditions.findIndex(condition => selected.parent_id == condition.parent_id)\n          let selectedIndex = item.conditions.findIndex(condition => selected.parent_id == condition.id)\n          if(existingIndex == -1) {\n            let result = item.disabled.filter(value => value.parent_id != item.conditions[selectedIndex].id)\n            item.disabled = result\n          }\n        })\n      }\n    }\n\n    const resetModal = (data) => {\n      isEditAutomate.value = false\n      modal.value = false\n      resetCollapse(selected.value)\n    }\n\n    const editAutomate = async (item) => {\n      item.loading = true\n      isEditAutomate.value = true\n      modal.value = true\n      selected.value = item\n    }\n    const handleSetRefetch = (val) => {\n      refetch.value = val\n    }\n\n    watch(() => props.items, newValue => {\n      items.value = newValue?.length ? [...newValue] : []\n    }, {deep: true})\n\n    const filterFecthOption = (conditions, item) => {\n      if (!!conditions && !!conditions.length) {\n        return [...conditions].filter(condition =>\n          condition.name !== item?.name && condition.id !== item?.id\n        )\n      }\n      return conditions\n    }\n\n    onBeforeMount(() => {\n      window.addEventListener('beforeunload', (ev) => {\n        if(!isProcessing.value) return\n        ev.preventDefault()\n        ev.returnValue = ''\n      })\n    })\n\n    onUnmounted(() => {\n      window.removeEventListener('beforeunload', ()=>{})\n    })\n    const refetchDevice = async (e = {\n      item: undefined,\n      callback: () => {}\n    }) => {\n      const { item, callback } = e\n      await fetchSpecificV2({\n        manufacturer: item.brand,\n        categories: route?.params?.tab\n      }, items.value, (succeed) => {\n        if (succeed) {\n          callback()\n          refetch.value = true\n        }\n      })\n    }\n\n    return {\n      keyList,\n      items,\n      modal,\n      isEditAutomate,\n      deviceAll,\n      listLoading,\n      deviceUpdate,\n      route,\n      changeAutomatedPricing,\n      cancelAutomatedPricing,\n      selected,\n      loading,\n      applyRule,\n      tableElement,\n      updateCategoryCondition,\n      changeCondition,\n      editAutomate,\n      filterFecthOption,\n      loadingPricing,\n      expands,\n      refetchDevice,\n      handlePricingFlagUpdate,\n      onCollapse,\n      onShowPrices,\n      refetch,\n      handleSetRefetch\n    }\n  }\n})\n</script>\n","\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nconst props = defineProps({\n  conditions: {\n    type: Array,\n    required: true\n  },\n  limit: {\n    type: Number,\n    default: 50\n  }\n})\n\nconst page = ref(1)\n\nwatch(() => props.conditions, () => {\n  page.value = 1\n})\n\nconst paginatedConditions = computed(() => {\n  return props.conditions.slice(0, page.value * props.limit)\n})\n\nconst loadMore = () => {\n  page.value++\n}\n</script>\n\n<template>\n  <div v-if=\"conditions?.length\" class=\"py-6\">\n    <ul class=\"list-disc ml-5\">\n      <li\n        v-for=\"(condition, index) in paginatedConditions\"\n        :key=\"`condition-${index}`\"\n        class=\"font-semibold\">\n        {{ condition }}\n      </li>\n      <li class=\"list-none\">\n        <div v-if=\"paginatedConditions.length < conditions.length\">\n          <Button\n            size=\"sm\"\n            color=\"red\"\n            view=\"outlined\"\n            dense\n            @click=\"loadMore\">\n            Show More + {{ (conditions.length - paginatedConditions.length) }}\n          </Button>\n        </div>\n      </li>\n    </ul>\n\n  </div>\n</template>\n","<template>\n    <div>\n        <div class=\"mb-8\">\n            <p class=\"font-semibold mb-4 text-dark\">Set Condition Pricing</p>\n            <Table :data=\"item.devices ? item.devices.condition_price : []\" v-loading=\"loading\">\n                <TableColumn prop=\"name\" label=\"Condition Name\" width=\"150\" />\n                <TableColumn label=\"Set Percentage from Base Price\" width=\"250\">\n                    <template #default=\"scope\">\n                        <Input v-model=\"scope.row.percentage\" type=\"number\" :disabled=\"disableInput\" @focus-out=\"deviceUpdate(item, 'condition', scope.$index)\" icon right block dense>\n                            <template #icon>\n                                <span class=\"text-base\">%</span>\n                            </template>\n                        </Input>\n                    </template>\n                </TableColumn>\n                <TableColumn prop=\"last_update\" label=\"Last Update\">\n                    <template #default=\"scope\">\n                        <span>{{scope.row.last_update ? scope.row.last_update : '-'}}</span>\n                    </template>\n                </TableColumn>\n            </Table>\n        </div>\n        <p class=\"font-semibold mb-4 text-dark\">Price Preview</p>\n        <Table :data=\"item.devices ? item.devices.specs : []\" v-loading=\"loading\">\n            <TableColumn prop=\"name\" label=\"Spec Category\" width=\"150\"/>\n            <TableColumn prop=\"name\" label=\"Spec name\" width=\"150\">\n                <template #default=\"scope\">\n                    {{ scope.row.spec.spec_name }}\n                </template>\n            </TableColumn>\n          <TableColumn prop=\"name\" label=\"Spec (%)\" width=\"100\">\n            <template #default=\"scope\">\n                <Input v-model=\"scope.row.spec.price\" v-loading=\"loadingUpdate.specs.includes(`${item.id}-${scope.row.spec.id}`)\" type=\"number\" :disabled=\"disableInput || item.devices?.condition_price?.length === 0\" @focus-out=\"deviceUpdate(item, 'spec', scope.$index)\" icon right block dense>\n                    <template #icon>\n                        <span class=\"text-base\">%</span>\n                    </template>\n                </Input>\n            </template>\n          </TableColumn>\n            <template v-if=\"item.devices\">\n                <template v-for=\"(condition, index) in item.devices.condition_price\" :key=\"index\">\n                    <TableColumn min-width=\"170\">\n                        <template #header>\n                            <div class=\"flex justify-start items-center\">\n                                <div>{{ condition.name }}</div>\n                                <div class=\"ml-2\">\n                                    <Popover :width=\"250\" placement=\"bottom-start\" trigger=\"hover\">\n                                        <h6 class=\"font-semibold text-base text-black mb-3\">\n                                            Condition: {{ condition.name }}\n                                        </h6>\n                                        <div v-if=\"condition?.terms\">\n                                            <p class=\"text-dark mb-2\" v-html=\"JSON.parse(condition.terms)?.length > 1 ? sanitize(JSON.parse(condition.terms)[0]) : ''\" />\n                                            <ul class=\"list w-full\">\n                                                <template v-for=\"(rule, n) in JSON.parse(condition.terms)\" :key=\"n\">\n                                                <li v-if=\"n !== 0\" class=\"break-normal\">{{ sanitize(rule) }}</li>\n                                                </template>\n                                            </ul>\n                                        </div>\n                                        <template #reference>\n                                            <div class=\"text-teal-04 text-xs\">\n                                            <span class=\"material-icons text-lg\">info</span>\n                                            </div>\n                                        </template>\n                                    </Popover>\n                                </div>\n                            </div>\n                        </template>\n                        <template #default=\"scope\">\n                            <Currency :value=\"scope.row.spec.conditions[index].condition_value\" />\n                        </template>\n                    </TableColumn>\n                </template>\n            </template>\n        </Table>\n    </div>\n</template>\n<script>\nimport { defineComponent, ref, getCurrentInstance, reactive, watch, computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useDevice } from 'composable/pricing'\nimport { sanitize } from 'utils/dom'\nimport Input from 'bbUi/components/input/input.vue'\nimport Currency from 'components/Currency.vue'\nexport default defineComponent ({\n    components: {\n        Input,\n        Currency\n    },\n    props: {\n        productParent: {\n            type: Object\n        },\n        item: {\n            type: Object\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        loading: {\n            type: Boolean,\n        },\n        basePrice: {\n            type: [String, Number],\n            default: 0\n        }\n    },\n    setup(props) {\n        const {emit} = getCurrentInstance()\n        const route = useRoute()\n        const item = ref(props.item)\n        const disableInput = computed(() => props.disabled)\n        const { actionUpdate } = useDevice(route.params.tab)\n        const loadingUpdate = reactive({\n            specs: []\n        })\n\n        const deviceUpdate = async (selectedItem, type, index) => {\n            const specsData = selectedItem.devices.specs.map(item => ({spec_id: item.spec.id, percentage: item.spec.price}))\n            const pricingData = selectedItem.devices.condition_price.map(item => ({condition_id: item.condition_id, percentage: item.percentage}))\n            const pricing = {\n                product_id: selectedItem.id,\n                category_id: selectedItem.devices.mac_category_id,\n                base_price: props.basePrice,\n                pricing: pricingData,\n                specs: specsData,\n            }\n            if(type === 'spec'){\n                const loadingId = `${selectedItem.id}-${selectedItem.devices.specs[index].spec.id}`\n                loadingUpdate.specs.push(loadingId)\n                await actionUpdate({\n                    pricing: JSON.stringify([pricing]),\n                    products: props.productParent\n                }, (response) => {\n                    item.value.devices.specs[index].spec.price = response.data[index].price\n                    item.value.devices.specs[index].spec.conditions = response.data[index].conditions\n                })\n                const loadingIndex = loadingUpdate.specs.findIndex(id => id === loadingId)\n                if(loadingIndex > -1) loadingUpdate.specs.splice(loadingIndex, 1)\n            }   \n            else{\n                await actionUpdate({\n                    pricing: JSON.stringify([pricing]),\n                    products: props.productParent\n                })\n                emit('getDevice', selectedItem)\n            }\n            \n        }\n\n        watch(() => props.item, (newValue) => {\n            item.value = newValue\n        })\n        \n        return {\n            item,\n            loadingUpdate,\n            deviceUpdate,\n            disableInput,\n            sanitize\n        }\n    },\n})\n</script>","<template>\n  <div>\n    <Table ref=\"tableElement\" row-key=\"id\" :expand-row-keys=\"expands\" :data=\"items\" class=\"mb-4\" v-loading=\"loadingTable\">\n      <TableColumn type=\"expand\">\n        <template #default=\"scope\">\n          <div v-if=\"scope.row.conditions_group\">\n            <Alert v-if=\"scope.row.conditions_group.length !== 0\" color=\"orange\" view=\"smooth\" class=\"mb-5\" dense>\n              <div class=\"flex space-x-4\">\n                <div>\n                  <i class=\"material-icons\">error</i>\n                </div>\n                <div>\n                  Warning! Changing the pricing rules on this window will affect all of the following items:\n                  <ul class=\"list-disc ml-5\">\n                    <li v-for=\"condition in scope.row.conditions_group\" class=\"font-semibold\" :key=\"condition\">\n                      {{ condition }}\n                    </li>\n                  </ul>\n                  <router-link :to=\"{ name: 'settingConditionEdit', params: { conditionId: scope.row.conditions_group_id } }\">\n                    Conditions\n                  </router-link>\n                </div>\n              </div>\n            </Alert>\n          </div>\n          <template v-for=\"(item, index) in scope.row.child\" :key=\"index\">\n            <ExpandablePanel v-model=\"item.collapse\" class=\"mb-4\" @click-header=\"deviceAll(item)\">\n              <div class=\"px-5\">\n                <div v-if=\"item.devices?.condition_price && item.devices?.condition_price?.length === 0\" class=\"text-center my-4\">\n                  <span class=\"text-grey-04\">Please setup your <router-link :to=\"{name: 'settingCondition'}\">conditions</router-link> first</span>\n                </div>\n                <div class=\"flex items-center mb-8\">\n                  <div v-if=\"item?.devices\" class=\"flex items-center mr-5\">\n                      <p v-if=\"scope.row.is_automated_price == 1\" class=\"mr-4\"><span class=\"font-semibold\">Source of Pricing:</span> {{item.pricing_source.source || '-'}}</p>\n                      <label class=\"font-semibold mr-4 ml-0 text-dark\">Base Price: </label>\n                      <Input v-model=\"item.devices.base_price\" type=\"number\" :disabled=\"scope.row.is_automated_price == 1 || item.devices.condition_price.length === 0 || item.loading || listLoading || !scope.row.is_condition_exist\" min=\"0\" @focus-out=\"deviceUpdate(item)\" @click.stop icon icon-block>\n                        <template #icon>\n                          <span class=\"text-dark text-lg\">{{ me.currency_symbol }}</span>\n                        </template>\n                      </Input>\n                  </div>\n                  <div v-if=\"item?.pricing_source && scope.row.is_automated_price == 1\">\n                    <img v-if=\"item.pricing_source.source_logo\" :src=\"item.pricing_source.source_logo\" alt=\"company-logo\" class=\"h-10\">\n                  </div>\n                </div>\n                <ComputerTable :product-parent=\"{ priceSync: scope.row.is_automated_price, brand: scope.row.brand, category: scope.row.name}\" :base-price=\"item?.devices?.base_price\" :item=\"item\" :disabled=\"scope.row.is_automated_price == 1\" :loading=\"item.loading || listLoading\" @getDevice=\"getDevice\" />\n              </div>\n              <template #header=\"{toggle, isExpanded}\">\n                <div class=\"flex items-center justify-between\">\n                  <div @click=\"toggle\" class=\"flex items-center cursor-pointer py-2\">\n                      <span class=\"material-icons mr-2 text-2xl transform transition-all\" :class=\"{ 'rotate-90': item.collapse }\">chevron_right</span>\n                      <p class=\"mb-0\">{{item.name}}</p>\n                      <span class=\"mx-10\">EMC {{ Array.isArray(item.emc_number) ?  item.emc_number.map(item => `#${item}`).join(', ') : '' }}</span>\n                  </div>\n                  <div v-if=\"!isExpanded\">\n                    <label class=\"font-semibold mr-4 ml-0 text-dark\">Base Price: </label>\n                    <Input v-model=\"item.base_price\" type=\"number\" min=\"0\" @focus-out=\"handleSetBasePrice(item)\" @click.stop icon icon-block :disabled=\"loading.set_base_price.has(item.id) || scope.row.is_automated_price == 1 || !scope.row.is_condition_exist\">\n                      <template #icon>\n                        <span class=\"text-dark text-lg\">{{ me.currency_symbol }}</span>\n                      </template>\n                    </Input>\n                  </div>\n                </div>\n              </template>\n            </ExpandablePanel>\n          </template>\n        </template>\n      </TableColumn>\n      <TableColumn prop=\"brand\" label=\"Brand\" />\n      <TableColumn prop=\"name\" label=\"Category\" />\n      <TableColumn>\n        <template #header>\n          <span>Price Sync</span>\n          <!-- <div class=\"flex items-center\">\n            <a href=\"https://help.reusely.com/en/articles/9176424-how-price-sync-works\" target=\"_blank\" noreferrer noopener class=\"material-icons mx-2\" whitelabel=\"remove\">help</a>\n          </div> -->\n        </template>\n        <template #default=\"scope\">\n          <div class=\"py-1\">\n             <Popover trigger=\"hover\" :disabled=\"!priceSharing\" width=\"400\">\n              <span class=\"font-semibold\">When price sharing is enabled, prices must be manually entered.</span>\n              <template #reference>\n                <Checkbox v-if=\"scope.row.is_syncable\" v-model=\"scope.row.is_automated_price\" type=\"toggle\" color=\"teal\" :disabled=\"priceSharing\" :loading=\"loading.rules.includes(scope.row.id)\" value=\"1\" value-off=\"0\" @input=\"changeAutomatedPricing(scope.row)\"/>\n                <Tooltip v-else placement=\"top\">\n                  <Checkbox class=\"py-3\" type=\"toggle\" color=\"teal\" value=\"1\" value-off=\"0\" disabled :loading=\"loading.rules.includes(scope.row.id)\" />\n                  <template #content>\n                    <div class=\"w-60 text-xs\">There are currently no pricing sources available for this item. You can price it manually by using the dropdown menu or contact support to add a custom data source.</div>\n                  </template>\n                </Tooltip>\n              </template>\n            </Popover>\n          </div>\n        </template>\n      </TableColumn>\n      <TableColumn>\n        <template #default=\"scope\">\n            <Button\n              color=\"teal\"\n              dense\n              class=\"lg:opacity-0 group-hover:opacity-100 transition-all\"\n              v-if=\"scope.row.is_automated_price != 0\"\n              :loading=\"scope.row.loading\"\n              @click=\"editAutomate(scope.row)\"\n            >\n              <span class=\"material-icons text-sm\">edit</span>\n            </Button>\n        </template>\n      </TableColumn>\n    </Table>\n    <Modal class=\"modal\" size=\"lg\" v-model=\"modal\" hide-header>\n      <div class=\"border-b border-grey-01 px-10 pb-5 mb-5 -mx-12\">\n        <h6 class=\"font-semibold\">Price Sync</h6>\n        <!-- <div class=\"flex items-center\">\n          <a href=\"https://help.reusely.com/en/articles/9176424-how-price-sync-works\" target=\"_blank\" noreferrer noopener whitelabel=\"remove\" class=\"material-icons mx-2\">help</a>\n        </div> -->\n      </div>\n      <div class=\"space-y-10\">\n        <!--\n          <Alert color=\"blue\" view=\"smooth\" class=\"mb-5\" dense>\n            <div class=\"flex items-center h-full\">\n              <span>\n                Price sync is a tool that allows you to sync buyback pricing\n                with a specific data source in real-time automatically. You can\n                set rules to match, markup, or markdown the buyback price based\n                on a percentage or fixed amount. Price sync will also\n                automatically convert the price into your local currency.\n              </span>\n            </div>\n            <template #left>\n              <span class=\"material-icons text-2xl my-auto\">info</span>\n            </template>\n          </Alert>\n        -->\n        <div v-loading=\"loadingPricingSource.check\" class=\"space-y-8\">\n          <div class=\"flex items-center gap-x-4\">\n            <div class=\"bg-teal-04 w-6 h-6 rounded-full flex items-center justify-center text-white\">1</div>\n            <span class=\"font-semibold text-sm\">Select your data source</span>\n          </div>\n          <div class=\"grid lg:grid-cols-4 md:grid-cols-2 grid-cols-1 gap-4\">\n            <div\n              v-for=\"(source, n) in pricingSources\"\n              :key=\"n\"\n              v-bind=\"{\n                ...(n === (pricingSources.length - 1) && { whiteLabel: 'remove' })\n              }\"\n              :class=\"[\n                'border',\n                source.sub_domain\n                  ? 'hover:border-teal-04 cursor-pointer'\n                  : '',\n                source.sub_domain === pricing_source.name\n                  ? 'border-teal-04'\n                  : 'border-grey-01',\n                !pricingSources.length || pricingSources.length === 1 && source.sub_domain\n                  ? 'opacity-50 cursor-not-allowed'\n                  : 'opacity-100',\n                'rounded-lg p-4'\n              ]\"\n              @click=\"handleUpdatePricingSource(source.sub_domain)\">\n              <template v-if=\"source.sub_domain\">\n                <div class=\"flex flex-col items-center justify-center gap-6 h-full\">\n                  <img :src=\"source.logo\" class=\"pricing-source-logo\" />\n                  <div class=\"flex justify-center items-center gap-x-2 max-w-max\">\n                    <i v-if=\"pricing_source.name === source.sub_domain\" class=\"material-icons text-teal-04\">check_circle</i>\n                    <span class=\"text-sm font-semibold inline-block w-full text-center break-words\">{{ source.name }}</span>\n                  </div>\n                  <div v-if=\"me\" class=\"bg-grey-01 bg-opacity-50 p-2 px-4 rounded-md flex items-center justify-start gap-x-4\">\n                    <template v-if=\"me.currency !== source.currency\">\n                      <div class=\"flex items-center gap-x-2\">\n                        <img v-if=\"source.country_code\" :src=\"`/flag/${source.country_code.toLowerCase()}.svg`\" width=\"28\" height=\"24\" />\n                        <span class=\"text-sm\">{{ source.currency }}</span>\n                      </div>\n                      <span class=\"bg-teal-04 rounded-full w-6 h-6 flex justify-center items-center text-white text-lg\">\n                        <i class=\"material-icons\">arrow_right_alt</i>\n                      </span>\n                      <div class=\"flex items-center gap-x-2\">\n                        <img :src=\"`/flag/${currencyFlagDefault}.svg`\" width=\"28\" height=\"24\" />\n                        <span class=\"text-sm\">{{ me.currency }}</span>\n                      </div>\n                    </template>\n                    <div v-else class=\"flex items-center gap-x-2\">\n                      <img :src=\"`/flag/${source.country_code.toLowerCase()}.svg`\" width=\"28\" height=\"24\" />\n                      <span class=\"text-sm\">{{ source.currency }}</span>\n                    </div>\n                  </div>\n                  <div v-if=\"source.is_support_sell_instantly\">\n                    <Tooltip placement=\"top\">\n                      <button class=\"text-orange-04 bg-orange-01 px-2 py-1 rounded-full flex justify-center items-center\">\n                        <svg width=\"17\" height=\"16\" viewBox=\"0 0 17 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                          <path d=\"M6.25 3V8.5H7.75V13L11.25 7H9.25L11.25 3H6.25Z\" fill=\"currentColor\"/>\n                        </svg>\n                        <span class=\"text-xs\">Supports Sell Instantly</span>\n                      </button>\n                      <template #content>\n                        <div class=\"w-60 text-xs\">\n                          You can sell excess inventory directly from the inventory page to this pricing source.\n                        </div>\n                      </template>\n                    </Tooltip>\n                  </div>\n                </div>\n              </template>\n              <template v-else>\n                <div class=\"flex flex-col items-center justify-center gap-6 h-full\">\n                  <img src=\"/icon/settings/pricing-source-custom.svg\" alt=\"custom\" class=\"w-48 mx-auto\" />\n                  <span class=\"text-sm font-semibold\">Connect Any Data</span>\n                  <button class=\"bg-teal-04 text-white px-4 py-2 rounded-lg hover:text-white text-sm\" @click=\"handleIntercomeMessage\">Learn More</button>\n                </div>\n              </template>\n            </div>\n          </div>\n        </div>\n        <div class=\"space-y-2\">\n          <div class=\"flex items-center gap-x-4 mb-5\">\n            <div class=\"bg-teal-04 w-6 h-6 rounded-full flex items-center justify-center text-white\">2</div>\n            <span class=\"font-semibold text-sm\">Set your pricing rules</span>\n          </div>\n          <div v-if=\"!!pricing_source.name && !isPricingSourceUnavailable && !loadingPricingSource.check\" class=\"max-w-lg\">\n            <RadioGroup v-model=\"dataModal.type\" class=\"radio--full\">\n              <RadioButton label=\"3\">Match</RadioButton>\n              <RadioButton label=\"2\">Markup</RadioButton>\n              <RadioButton label=\"1\">Markdown</RadioButton>\n            </RadioGroup>\n          </div>\n          <div v-if=\"dataModal.type != 3\" class=\"grid grid-cols-2 max-w-lg gap-2\">\n            <RadioGroup v-model=\"dataModal.amount_type\" class=\"radio--full\">\n              <RadioButton label=\"1\">Percentage</RadioButton>\n              <RadioButton label=\"0\">Fixed</RadioButton>\n            </RadioGroup>\n            <Input v-model=\"dataModal.amount_price\" icon icon-block :currency=\"true\" :min=\"0\" :right=\"dataModal.amount_type == '0' ? false : true\" type=\"number\" class=\"w-full\">\n              <template #icon>\n                <span class=\"text-grey-03\" v-if=\"dataModal.amount_type == '0'\">{{ me.currency_symbol }}</span>\n                <span class=\"text-grey-03\" v-else>%</span>\n              </template>\n            </Input>\n          </div>  \n        </div>\n        <div v-if=\"!!pricing_source.name && !isPricingSourceUnavailable && !loadingPricingSource.check\">\n          <div class=\"flex items-center gap-x-4 mb-5\">\n            <div class=\"bg-teal-04 w-6 h-6 rounded-full flex items-center justify-center text-white\">3</div>\n            <span class=\"font-semibold text-sm\">Preview Price from Model</span>\n          </div>\n          <Select v-model=\"dataModal.selected_model\" placeholder=\"Please Select\" name=\"name\" class=\"w-full max-w-lg\" :items=\"selected?.child\" @input=\"selectModel\" />\n        </div>\n      </div>\n      <div v-if=\"dataModal.selected_model\" class=\"border border-grey-02 rounded-md p-5 mt-8\" >\n        <div class=\"flex items-center mb-5\">\n          <p class=\"text-dark font-semibold mr-8\">Source of Pricing: <span class=\"font-normal ml-4\">{{selectedCompanyPricingSourceName}}</span></p>\n          <div class=\"flex items-center mr-8\">\n              <label class=\"font-semibold mr-4\">Base Price: </label>\n              <Input :modelValue=\"dataModal.selected_model.devices?.base_price\" type=\"number\" :disabled=\"true\" icon dense>\n                <template #icon>\n                  {{ me.currency_symbol }}\n                </template>\n              </Input>\n          </div>\n          <img v-if=\"!!pricing_source.logo\" v-loading=\"loadingPricingSource.check\" :src=\"pricing_source.logo\" alt=\"company-logo\" class=\"h-12 mx-4\">\n        </div>\n        <ComputerTable :item=\"dataModal.selected_model\" disabled :loading=\"dataModal.selected_model.loading\" />\n      </div>\n      <template #footer>\n        <div class=\"flex justify-end\">\n          <a href=\"javascript:void(0)\" class=\"text-red-04 hover:text-red-02 mr-8\" @click=\"cancelAutomatedPricing\">Cancel</a>\n          <Button class=\"ml-auto small\" color=\"teal\" :loading=\"loading.rule || loadingPricingSource.check || loadingPricing.all\" :disabled=\"isPricingSourceUnavailable || !pricing_source.name\" @click=\"applyRule\">Apply</Button>\n        </div>\n      </template>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref, watch, reactive, computed, onBeforeMount, onUnmounted } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useUser } from 'composable/user'\nimport { useDevice, useCategories, useCompanyPricingSources } from 'composable/pricing'\nimport { useFeatureFlag } from 'composable/whitelabel'\n\nimport Button from 'bbUi/components/button/button.vue'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Select from 'bbUi/components/select/select.vue'\nimport ExpandablePanel from 'bbUi/components/expandable-panel/expandable-panel.vue'\nimport ComputerTable from 'components/BulkPriceEditor/Computer/Table.vue'\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport Alert from 'bbUi/components/alert/alert.vue'\n\nexport default defineComponent({\n  name: 'Device',\n  components: {\n    Button,\n    Checkbox,\n    Input,\n    Select,\n    ExpandablePanel,\n    ComputerTable,\n    Modal,\n    Alert\n  },\n  props: {\n    items: {\n      type: Array,\n      default: () => ([])\n    },\n    pathId: {\n      type: String,\n      default: null\n    },\n    loadingTable: {\n      type: Boolean\n    },\n    priceSharing: {\n      type: Boolean,\n      default: false\n    },\n    pricingSources: {\n      type: Array,\n      default: () => ([])\n    }\n  },\n  setup(props) {\n    const isEditAutomate = ref(false)\n    const dataModal = reactive({\n      type: '3',\n      amount_type: '1',\n      amount_price: 0,\n      selected_model: null,\n    })\n    const { me } = useUser()\n    const modal = ref(false)\n    const selected = ref(null)\n    const route = useRoute()\n    const tableElement = ref(null)\n    const { loading, actionAll, actionUpdate, actionUnsetRule, actionSetRule, actionPreview, actionSetBasePrice } = useDevice(route.params.tab)\n    const { loading: loadingPricing, actionAll: fetchPricing, getRule} = useCategories()\n    const { actionCheckDevicePricingSource, loading: loadingPricingSource, action: actionPricingSources } = useCompanyPricingSources()\n    const { features } = useFeatureFlag()\n\n    const items = ref(props.items)\n    const pricing_source = reactive({\n      name: null,\n      logo: null,\n      status: null\n    })\n    const listLoading = ref(false)\n    const isProcessing = ref(false)\n\n    const pricingSources = computed(() => props.pricingSources.filter((pricingSource) => {\n      if(pricingSource.id === null && !features.value.priceEditor.customRequest) return false\n      return true\n    }))\n    const isPricingSourceUnavailable = computed(() => pricing_source.status === 'not available')\n    const selectedCompanyPricingSourceName = computed(() => !!pricing_source.name ? props.pricingSources.find(item => item.sub_domain === pricing_source.name)?.name : '')\n    const expands = computed(() => {\n      const filtered = []\n      if (route.query.ref === 'true' && route.query.model) {\n        items.value.map(item => {\n          if (item.brand === route.params.manufacturer && item.name === route.query.model) {\n            filtered.push(item.id)\n          }\n        })\n      }\n      return filtered\n    })\n    const currencyFlagDefault = computed(() => {\n      const flag = me.value.currency.split('')\n      flag.pop()\n \n     return flag.join('').toLowerCase()\n    })\n\n    const deviceAll = async (item, load = false, modal = false) => {\n      if(!item.devices || load) {\n        item.loading = true\n        let response\n        if(modal){\n          response = await actionPreview({\n            product_id: dataModal.selected_model.id,\n            amount_price: dataModal.amount_price,\n            amount_type: dataModal.amount_type,\n            source: pricing_source.name,\n            type: dataModal.type\n          })\n        }else{\n          response = await actionAll(item.id)\n        }\n        response.devices.product.specs = Object.entries(response.devices.product.specs).reduce((acc, curr) => {\n          if(curr[1].length > 0) curr[1].forEach(item => {\n            acc.push({\n              name: curr[0],\n              spec: item\n            })\n          })\n          return acc\n        }, [])\n        item.pricing_source = {\n          source: response.source,\n          source_logo: response.source_logo\n        }\n        item.base_price = response.devices.product.base_price\n        modal ? dataModal.selected_model.devices = response.devices.product : item.devices = response.devices.product\n        item.loading = false\n      }\n    }\n    const deviceUpdate = async (item, index = null) => {\n      const specsData = item.devices.specs.map(item => ({spec_id: item.spec.id, percentage: item.spec.price}))\n      const pricingData = item.devices.condition_price.map(item => ({condition_id: item.condition_id, percentage: item.percentage}))\n\n      const pricing = {\n        product_id: item.id,\n        category_id: item.devices.mac_category_id,\n        base_price: item.devices.base_price,\n        pricing: pricingData,\n        specs: specsData\n      }\n      if(index !== null) {\n        pricing.pricing.push({\n          condition_id: item.devices.condition_price[index].condition_id,\n          percentage: item.devices.condition_price[index].percentage\n        })\n      }\n      await actionUpdate({\n        pricing: JSON.stringify([pricing])\n      })\n      deviceAll(item, true)\n    }\n\n    const getDevice = (item) => {\n      deviceAll(item, true)\n    }\n\n    const changeAutomatedPricing = async(item) => {\n      isProcessing.value = true\n      loading.rules.push(item.id)\n      listLoading.value = true\n      if(item.is_automated_price === '1') {\n        await actionPricingSources({\n          syncable: 1,\n          is_mac: route.params.tab == 'mac' ? 1 : 0,\n          category_id: item.id\n        }, () => {\n          modal.value = true\n          selected.value = {...item, devices: null}\n        })\n      } else await actionUnsetRule({category_id: item.id, is_computer: 1})\n      listLoading.value = false\n      const matchedIndex = loading.rules.findIndex(loadingItem => loadingItem === item.id)\n      if(matchedIndex > -1) loading.rules.splice(matchedIndex, 1)\n      handleResetDeviceInfo()\n      isProcessing.value = false\n\n      if(Array.isArray(props.pricingSources)){\n        if(props.pricingSources.length === 1) handleUpdatePricingSource(props.pricingSources[0]?.sub_domain || null)\n      }\n    }\n\n    const cancelAutomatedPricing = () => {\n      if(selected.value){\n        if(!isEditAutomate.value){\n          let indexItem = items.value.findIndex(item => item.id === selected.value.id)\n          items.value[indexItem].is_automated_price = 0\n        }\n        resetModal()\n        modal.value = false\n      }\n    }\n\n    const applyRule = async() => {\n      loading.rule = true\n      const response = await actionSetRule({\n        category_id: selected.value.id,\n        type: Number(dataModal.type),\n        source: pricing_source.name,\n        amount_type: dataModal.amount_type,\n        amount_price: dataModal.amount_price,\n        is_computer: 1\n      })\n\n      if (response ) {\n        await fetchPricing(route.params)\n        resetCollapse(selected.value)\n        loading.rule = false\n        modal.value = false\n        selected.value = null\n        resetModal()\n      }\n    }\n\n    const resetModal = () => {\n      dataModal.type = '3'\n      dataModal.amount_type = '1'\n      dataModal.amount_price =  0\n      dataModal.selected_model = null\n      pricing_source.name = null\n      pricing_source.logo = null\n      pricing_source.status = null\n    }\n\n    const resetCollapse = (row) => {\n      let index = items.value.findIndex(item => item.id == row.id)\n      items.value[index].child.forEach(child => {\n        child.collapse = false\n        child.devices = null\n      })\n      tableElement.value.toggleRowExpansion(items.value[index], false)\n    }\n\n    const selectModel = async() => {\n      deviceAll(dataModal.selected_model, true, true)\n    }\n\n    const editAutomate = async (item) => {\n      item.loading = true\n      await actionPricingSources({\n        syncable: 1,\n        is_mac: route.params.tab == 'mac' ? 1 : 0,\n        category_id: item.id\n      })\n      await getRule({category_id: item.id, is_computer: true})\n      .then(response => {\n        isEditAutomate.value = true\n        let index = items.value.findIndex(item => item.id == response.category_id)\n        selected.value = {\n          ...response,\n          id: response.category_id,\n          child: items.value[index].child,\n          devices: null\n        }\n        dataModal.amount_type = response.amount_type,\n        dataModal.amount_price = response.amount_price\n        dataModal.type = response.type\n        pricing_source.name = response.source\n        modal.value = true\n        item.loading = false\n      })\n    }\n\n    const handlePricingSourceChange = async (source) => {\n      if(!source) return\n      const data = {\n        category_id: selected.value.id,\n        is_mac: 1,\n        sub_domain: source\n      }\n      await actionCheckDevicePricingSource(data, (response) => {\n        pricing_source.logo = response.logo\n        pricing_source.status = response.status\n      })\n    }\n\n    const handleResetDeviceInfo = () => {\n      items.value = items.value.map(item => ({...item, child: item.child.map(childItem => ({...childItem, collapse: false, devices: null}))}))\n    }\n    const handleSetBasePrice = async (item) => {\n      await actionSetBasePrice(item, async (err, result) => {\n        if(err) return\n        item.base_price = result.base_price\n        if(item.devices){\n          item.devices.base_price = result.base_price\n        }\n        await deviceAll(item, true)\n      })\n    }\n    const handleUpdatePricingSource = (source=null) => {\n      if (!source) return\n      pricing_source.name = source\n    }\n    const handleIntercomeMessage = () => {\n      if (!isWhiteLabel.value) return window.open(\n        'https://forms.clickup.com/8427959/f/816dq-50256/3ZVVXIRACGV7NVG7QD',\n        '_blank'\n      )\n\n      window.CustomerSupport.use('showNewMessage', 'Hi, I would like to learn more about your custom data services')\n    }\n\n    watch(() => props.items, newValue => {\n      items.value = newValue\n    })\n\n    watch(() => dataModal.type, newValue => {\n      if(newValue == 3){\n        dataModal.amount_type = 0\n        dataModal.amount_price = 0\n      }\n      dataModal.selected_model = null\n    })\n    watch(() => pricing_source.name, handlePricingSourceChange)\n\n    onBeforeMount(() => {\n      window.addEventListener('beforeunload', (ev) => {\n        if(!isProcessing.value) return\n        ev.preventDefault()\n        ev.returnValue = ''\n      })\n    })\n\n    onUnmounted(() => {\n      window.removeEventListener('beforeunload', ()=>{})\n    })\n\n    return {\n      items,\n      deviceAll,\n      deviceUpdate,\n      me,\n      tableElement,\n      changeAutomatedPricing,\n      listLoading,\n      cancelAutomatedPricing,\n      applyRule,\n      modal,\n      dataModal,\n      loading,\n      selected,\n      selectModel,\n      editAutomate,\n      getDevice,\n      pricing_source,\n      loadingPricingSource,\n      loadingPricing,\n      currencyFlagDefault,\n      isPricingSourceUnavailable,\n      pricingSources,\n      features,\n      handlePricingSourceChange,\n      selectedCompanyPricingSourceName,\n      handleIntercomeMessage,\n      handleResetDeviceInfo,\n      handleSetBasePrice,\n      handleUpdatePricingSource,\n      expands\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.price-sync-section{\n  @apply col-span-6;\n  &.--wide{\n    @apply col-span-4;\n  }\n}\n.pricing-source-logo {\n  max-width: 12.5rem;\n  width: 100%;\n}\n</style>","<template>\n  <div v-outside=\"closeDropdown\" class=\"mass-price\">\n    <div class=\"relative\">\n      <div class=\"trigger\">\n        <div class=\"icon\">\n          <span class=\"material-icons\">search</span>\n        </div>\n        <div class=\"input\">\n          <template v-if=\"selectedItemsModel.length\">\n            <div\n              v-for=\"(item, n) in selectedItemsModel\"\n              :key=\"n\"\n              class=\"bg-grey-01 px-4 py-0.5 rounded-full text-sm text-grey-03 bg-opacity-30 flex flex-nowrap items-center gap-x-2\">\n              <span class=\"whitespace-normal\">{{ item?.name || item?.product_name }}</span>\n              <span\n                class=\"cursor-pointer hover:opacity-50 material-icons\"\n                @click.stop=\"handleRemoveItem(n)\">\n                close\n              </span>\n            </div>\n          </template>\n          <input\n            v-if=\"selectedItemsModel?.length < 5\"\n            v-model=\"searchQuery\"\n            :placeholder=\"placeholder\"\n            @input=\"handleSearch($event, isExpanded)\"\n          />\n        </div>\n      </div>\n      <div\n        v-if=\"showDropdown\"\n        class=\"z-10 absolute top-full max-h-80 overflow-y-auto left-0 right-0 transform translate-y-2 border border-grey-01 border-opacity-20 bg-white rounded-md shadow\">\n        <template v-if=\"\n          itemOptions?.length > 0 ||\n          modelOptions?.length > 0\">\n          <div class=\"space-y-2 py-4\">\n            <div\n              v-if=\"itemOptions?.length > 0\"\n              class=\"space-y-3\">\n              <span\n                class=\"px-4 py-2 font-semibold text-sm text-grey-03\">\n                Items\n              </span>\n              <div>\n                <a\n                  v-for=\"(item, n) in itemOptions\"\n                  :key=\"`${item.device_id}_${n}`\"\n                  tabindex=\"1\"\n                  class=\"p-4 flex items-center gap-x-4 hover:bg-grey-01 text-teal-04 hover:text-teal-04\"\n                  @click.prevent=\"handleSelectItem(item)\">\n                  <div\n                    :style=\"{\n                      width: '30px',\n                      height: '30px',\n                      backgroundImage: `url(${item.image})`,\n                      backgroundSize: 'contain',\n                      backgroundPosition: 'center',\n                      backgroundRepeat: 'no-repeat'\n                    }\"\n                  />\n                  {{ item.name }}\n                </a>\n              </div>\n            </div>\n            <div\n              v-if=\"modelOptions?.length > 0\"\n              class=\"space-y-3\">\n              <span\n                class=\"px-4 py-2 font-semibold text-sm text-grey-03\">\n                Models\n              </span>\n              <div>\n                <a\n                  v-for=\"(model, m) in modelOptions\"\n                  :key=\"`${model.device_id}_${model.category_id}_${m}`\"\n                  tabindex=\"1\"\n                  class=\"p-4 flex items-center gap-x-4 hover:bg-grey-01 text-teal-04 hover:text-teal-04\"\n                  @click.prevent=\"handleSelectItem(model)\">\n                  <div\n                    :style=\"{\n                      width: '30px',\n                      height: '30px',\n                      backgroundImage: `url(${model.image})`,\n                      backgroundSize: 'contain',\n                      backgroundPosition: 'center',\n                      backgroundRepeat: 'no-repeat'\n                    }\"\n                  />\n                  {{ model?.product_name || model?.name || '-' }}\n                </a>\n              </div>\n            </div>\n          </div>\n        </template>\n        <template v-else-if=\"\n          searchQuery?.length >= 3 &&\n          modelOptions?.length < 1 &&\n          itemOptions?.length < 1\">\n          <div class=\"my-8\">\n            <p class=\"text-center text-grey-03\">\n              {{ loading ? 'Please wait...' : 'No data to show' }}\n            </p>\n          </div>\n        </template>\n        <template v-else>\n          <div class=\"my-4\">\n            <div class=\"flex justify-center items-center py-4\">\n              <p class=\"text-left text-grey-03\">Search for item or model</p>\n            </div>\n          </div>\n        </template>\n      </div>\n    </div>    \n  </div>\n</template>\n<script>\nimport { computed, defineComponent, ref } from 'vue'\nimport debounce from 'utils/debounce'\nimport { deepClone } from 'utils/deep-clone'\n\nimport Input from 'bbUi/components/input/input.vue'\n\nexport default defineComponent({\n  name: 'BulkPriceEditorMassPricingSearch',\n  components: {\n    Input\n  },\n  props: {\n    showSearch: {\n      type: Boolean,\n      default: false\n    },\n    search: {\n      type: String,\n      default: undefined\n    },\n    selected: {\n      type: Array,\n      default: () => []\n    },\n    items: {\n      type: Object,\n      default: () => ({})\n    },\n    placeholder: {\n      type: String,\n      default: 'Search item or model'\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    searchCallBack: {\n      type: Function,\n      default: () => undefined\n    }\n  },\n  emits: ['update:selected', 'update:search', 'update:loading', 'update:showSearch'],\n  setup(props, ctx) {\n    const showDropdown = computed({\n      get: () => props.showSearch,\n      set: (val) => ctx.emit('update:showSearch', val)\n    })\n    const searchQuery = computed({\n      get: () => props.search,\n      set: (val) => ctx.emit('update:search', val)\n    })\n\n    const selectedItemsModel = computed({\n      get: () => Array.isArray(props.selected) ? props.selected : [],\n      set: (val) => ctx.emit('update:selected', val)\n    })\n    const itemOptions = computed(() => {\n      const keys = Object.keys(props.items).filter(key => key !== 'model')\n      const results = []\n      keys.forEach(key => {\n        props.items[key].forEach(item => {\n          results.push({\n            name_parent: key,\n            ...item\n          })\n        })\n      })\n\n      return results\n    })\n    const modelOptions = computed(() => {\n      return deepClone(props.items['model'] || [])?.map(model => ({\n        ...model\n      })) || []\n    })\n\n    const handleSearch = debounce(async (_, expanded) => {\n      if (searchQuery.value?.length >= 3 && !showDropdown?.value) {\n        showDropdown.value = true\n      }\n\n      await props.searchCallBack(searchQuery.value)\n    }, 300)\n    const handleSelectItem = (e, callback = () => {}) => {\n      let result = deepClone(selectedItemsModel.value)\n      let index = result.findIndex(val => val.device_id === e.device_id);\n      \n      if (index >= 0) {\n        // If it already exists, check if the category_id is also the same.\n        let categoryMatch = result.find(val => val.device_id === e.device_id && val.category_id === e.category_id)\n\n        // If there is an exact match (device_id & category_id), it does not need to be added\n        if (categoryMatch) return\n\n        // If there is the same device_id but without a category_id, replace it\n        if (!result[index].category_id) result[index] = e\n          // If the device_id is the same but the category_id is different, add it\n          else result.push(e)\n        // If there is no matching device_id, add it directly\n      } else result.push(e)\n\n      selectedItemsModel.value = result;\n      showDropdown.value = false;\n      // callback();\n    }\n    const handleRemoveItem = (i) => {\n      selectedItemsModel.value.splice(i, 1)\n      ctx.emit('update:selected', selectedItemsModel.value)\n    }\n    const closeDropdown = () => showDropdown.value = false\n\n    return {\n      searchQuery,\n      itemOptions,\n      modelOptions,\n      selectedItemsModel,\n      handleSearch,\n      handleSelectItem,\n      handleRemoveItem,\n      showDropdown,\n      closeDropdown\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.mass-price {\n  @apply relative;\n  .trigger {\n    @apply relative;\n\n    .icon {\n      @apply absolute left-4 top-1/2 transform -translate-y-1/2 text-lg text-grey-01;\n    }\n    .input {\n      @apply border rounded-lg px-11 py-3 border-grey-01 focus:border-teal-04 relative z-10 flex flex-wrap gap-x-1.5 gap-y-1.5;\n\n      input {\n        @apply flex-1;\n\n        min-width: 128px;\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"max-w-lg\">\n    <RadioGroup\n      v-model=\"form.type\"\n      class=\"radio--full\"\n      :disabled=\"form?.selectedConditions?.length <= 0\"\n      @change=\"handleChangeType\">\n      <RadioButton label=\"2\">Markup</RadioButton>\n      <RadioButton label=\"1\">Markdown</RadioButton>\n    </RadioGroup>\n  </div>\n  <div\n    v-if=\"['1', '2'].includes(form?.type)\"\n    class=\"grid grid-cols-2 max-w-lg gap-2\">\n    <RadioGroup\n      v-model=\"form.amountType\"\n      class=\"radio--full mb-4\"\n      @change=\"handleChangeType\">\n      <RadioButton label=\"1\">\n        % Percentage\n      </RadioButton>\n      <RadioButton label=\"0\">\n        {{ currencySymbol }} Fixed\n      </RadioButton>\n    </RadioGroup>\n    <Tooltip\n      v-model=\"showTooltip\"\n      placement=\"top\"\n      manual>\n      <template #content>\n        <p class=\"max-w-xs text-sm\">Items priced at {{ currencyPrefix == 1 ? `${currencySymbol}0` : `0${currencySymbol}` }} are not subject to pricing rules.</p>\n      </template>\n      <Input\n        v-model=\"form.amountPrice\"\n        :right=\"form.amountType == '0' ? false : true\"\n        :min=\"0\"\n        :max=\"form.amountType == 1 ? (form.type == 2 ? undefined : 100) : 'auto'\"\n        type=\"number\"\n        class=\"w-full\"\n        icon-block\n        icon\n        @focus-in=\"showTooltip = true\"\n        @focus-out=\"showTooltip = false\">\n        <template #icon>\n          <span\n            v-if=\"form.amountType == '0'\"\n            class=\"text-grey-03\">\n            {{ currencySymbol }}\n          </span>\n          <span\n            v-else\n            class=\"text-grey-03\">\n            %\n          </span>\n        </template>\n      </Input>\n    </Tooltip>\n  </div>\n</template>\n<script>\nimport { defineComponent, computed, ref } from 'vue'\n\nimport Input from 'bbUi/components/input/input.vue'\n\nexport default defineComponent({\n  name: 'BulkPriceEditorMassPricingRules',\n  components: {\n    Input\n  },\n  props: {\n    currencySymbol: {\n      type: String,\n      default: () => '-'\n    },\n    currencyPrefix: {\n      type: [String, Number],\n      default: () => 1\n    },\n    modelValue: {\n      type: Object,\n      default: () => ({\n        type: null,\n        amountType: null,\n        amountPrice: null,\n        conditions: []\n      })\n    }\n  },\n  emits: ['update:modelValue'],\n  setup(props, ctx) {\n    const showTooltip = ref(false)\n    const form = computed({\n      get: () => props.modelValue,\n      set: (val) => {\n        ctx.emit('update:modelValue', val)\n      }\n    })\n\n    const handleChangeType = (e) => {\n      // Markdown + Percentage → limit to 100\n      if (form.value.type == 1 && form.value.amountType == 1 && form.value.amountPrice > 100) {\n        form.value.amountPrice = 100\n      }\n\n      // Switching from Fixed to Percentage (Markdown only), normalize large value to 100\n      if (form.value.amountType == 1 && form.value.type == 1 && form.value.amountPrice > 100) {\n        form.value.amountPrice = 100\n      }\n    }\n\n    return {\n      form,\n      showTooltip,\n      handleChangeType\n    }\n  }\n})\n</script>\n","<template>\n  <BDropdown block>\n    <template #default=\"{ isExpanded }\">\n      <button class=\"border rounded-lg block w-full px-5 py-2.5 border-grey-01\">\n        <div class=\"flex items-center justify-between\">\n          <p\n            v-if=\"!selectedOptions.length\"\n            class=\"text-base text-grey-02\">\n            Select Condition\n          </p>\n          <template v-if=\"selectedOptions.length && selectedOptions.length === optionsFlat?.length && !hasEmptyConditions\">\n            <div>All Condition</div>\n          </template>\n          <template v-else-if=\"selectedOptions.length > 0\">\n            <div>{{ selectedOptions.length }} Condition Selected</div>\n          </template>\n          <span\n            :class=\"[\n              'transform material-icons',\n              'text-grey-03',\n              isExpanded && 'rotate-180'\n            ]\">\n            arrow_drop_down\n          </span>\n        </div>\n      </button>\n    </template>\n    <template #dropdown>\n      <div class=\"max-h-72 py-4\">\n        <template v-if=\"multipleItems\">\n          <ul\n            v-for=\"(option, index) in options\"\n            :key=\"index\"\n            class=\"space-y-2\">\n            <li class=\"space-y-2\">\n              <span class=\"font-semibold px-4\">{{ option[groupLabel] }}</span>\n              <ul>\n                <template v-if=\"option[childKey]?.length > 0\">\n                  <li\n                    v-for=\"(childOption, childIndex) in option[childKey]\"\n                    :key=\"`${index}_${childIndex}`\"\n                    class=\"hover:bg-teal-01 hover:bg-opacity-30 px-4 py-3\">\n                    <Checkbox\n                      v-model=\"selectedOptions\"\n                      :value=\"childOption\"\n                      :id=\"childIndex\">\n                      <span class=\"font-normal\">\n                        {{ childOption[label] }}\n                      </span>\n                    </Checkbox>\n                  </li>\n                </template>\n                <template v-else>\n                  <li class=\"px-4 py-3\">\n                    <p class=\"text-grey-03 text-sm\">\n                      {{ option[groupLabel] || 'The item or model' }}  do not have a condition yet.\n                    </p>\n                  </li>\n                </template>\n              </ul>\n            </li>\n          </ul>\n        </template>\n        <template v-else>\n          <ul>\n            <template v-if=\"singleOptions?.length > 0\">\n              <li\n                v-for=\"(option, index) in singleOptions\"\n                :key=\"index\"\n                class=\"hover:bg-teal-01 hover:bg-opacity-30 px-4 py-3\">\n                <Checkbox\n                  v-model=\"selectedOptions\"\n                  :value=\"option\"\n                  :id=\"index\">\n                  <span class=\"font-normal\">\n                    {{ option[label] }}\n                  </span>\n                </Checkbox>\n              </li>\n            </template>\n            <template v-else>\n              <li class=\"px-4 py-3\">\n                <p class=\"text-grey-03 text-sm text-center\">\n                  {{ options[0]?.name || 'The item or model' }} do not have a condition yet.\n                </p>\n              </li>\n            </template>\n          </ul>\n        </template>\n      </div>\n    </template>\n  </BDropdown>\n</template>\n\n<script>\nimport { defineComponent, computed, onMounted, watch } from 'vue'\n\nimport BDropdown from 'components/BDropdown/BDropdown.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\n\nexport default defineComponent({\n  name: 'BulkPriceEditorMassPricingCondition',\n  components: {\n    BDropdown,\n    Checkbox,\n    Input\n  },\n  props: {\n    modelValue: {\n      type: Array,\n      default: () => []\n    },\n    label: {\n      type: String,\n      default: 'label'\n    },\n    groupLabel: {\n      type: String,\n      default: 'name'\n    },\n    childKey: {\n      type: String,\n      default: 'conditions'\n    },\n    value: {\n      type: String,\n      default: undefined\n    },\n    products: {\n      type: Array,\n      default: () => []\n    },\n    conditions: {\n      type: Array,\n      default: () => []\n    }\n  },\n  emits: ['update-conditions', 'update:modelValue'],\n  setup(props, ctx) {\n    const selectedOptions = computed({\n      get: () => props.modelValue,\n      set: (val) => ctx.emit('update:modelValue', val)\n    })\n    const options = computed(() => props.conditions)\n    const optionsFlat = computed(() => props.conditions.map(i => i.conditions)?.flat())\n    const hasEmptyConditions = computed(() => props.conditions.some(item => item.conditions.length === 0))\n    const multipleItems = computed(() => props?.products?.length > 1)\n    const singleOptions = computed(() => {\n      if (!multipleItems.value) {\n        return options.value[0]?.conditions || []\n      }\n      return []\n    })\n\n    onMounted(() => {\n      selectedOptions.value = optionsFlat.value || []\n\n      watch(() => optionsFlat?.value, () => {\n        selectedOptions.value = optionsFlat.value || []\n      }, { deep: true })\n    })\n\n    return {\n      selectedOptions,\n      multipleItems,\n      options,\n      singleOptions,\n      optionsFlat,\n      hasEmptyConditions\n    }\n  }\n})\n</script>\n","<template>\n  <div class=\"inline-block\">\n    <Tooltip\n      trigger=\"hover\"\n      placement=\"top-end\"\n      :disabled=\"disabled\">\n      <template #content>\n        <div class=\"max-w-xs text-sm\">Items priced at {{ me.currency_prefix ? `${me.currency_symbol}0` : `0${me.currency_symbol}` }} are not subject to pricing rules.</div>\n      </template>\n      <Button\n        v-if=\"!$slots.trigger\"\n        :disabled=\"disabled\"\n        color=\"white\"\n        @click=\"triggerClick\">\n        <div\n          :class=\"[\n            'transition-all duration-300 ease-in-out',\n            'text-grey-03 hover:text-grey-04 flex items-center gap-x-3'\n          ]\">\n          <span class=\"text-xl\">{{ me.currency_symbol }}</span>\n          <span>Mass Pricing</span>\n        </div>\n      </Button>\n      <slot\n        v-if=\"$slots.trigger\"\n        name=\"trigger\"\n        v-bind=\"{\n          click: triggerClick\n        }\">\n      </slot>\n    </Tooltip>\n  </div>\n\n  <Modal\n    v-model=\"modal\"\n    size=\"sm\"\n    :hide-header=\"loading.all\"\n    :body-scroll=\"!showSearch\"\n    @close=\"handleClose\">\n    <template #header>\n      <span class=\"font-medium\">\n        Category Mass Price Adjustments\n      </span>\n    </template>\n    <template #default>\n      <div v-if=\"modal\" class=\"space-y-8\">\n        <div class=\"flex gap-x-2\">\n          <i class=\"material-icons\">info</i>\n          <div class=\"text-sm space-y-4\">\n            <p>\n              Mass pricing adjustments apply only to manually priced items and allow you to adjust prices for up to five items or models at a time. You can increase or decrease prices by a set amount or percentage for selected items, models, or specific conditions within those categories.\n            </p>\n            <p>\n              For example, you can raise all iPhone prices by $1 in one click, applying the change to every model and condition, or you can set rules for specific conditions or specific models.\n            </p>\n          </div>\n        </div>\n        <div\n          v-loading=\"loading.all\"\n          class=\"flex flex-col gap-y-8\">\n          <div>\n            <Search\n              v-model:selected=\"data.selectedProducts\"\n              v-model:search=\"data.search\"\n              v-model:loading=\"loading.search\"\n              v-model:showSearch=\"showSearch\"\n              :items=\"data.products\"\n              :searchCallBack=\"getModelItems\"\n              @update:selected=\"selectingProducts\"\n            />\n          </div>\n          <template v-if=\"data?.selectedProducts?.length > 0\">\n            <div v-loading=\"loading.conditions\" class=\"space-y-2\">\n              <span class=\"font-medium\">Condtion</span>\n              <Conditions\n                v-model=\"data.selectedConditions\"\n                :products=\"data.selectedProducts\"\n                :conditions=\"data.conditions\"\n                label=\"name\"\n                value=\"id\"\n                group-label=\"name\"\n                child-key=\"conditions\"\n              />\n            </div>\n            <div\n              v-loading=\"loading.conditions\"\n              :class=\"[\n                'space-y-2',\n                data?.selectedConditions?.length <= 0 && 'opacity-30'\n              ]\">\n              <span class=\"font-medium\">Adjustment Rules</span>\n              <Rules\n                v-model=\"data\"\n                :currency-symbol=\"me.currency_symbol\"\n                :currency-prefix=\"me.currency_prefix\"\n              />\n            </div>\n          </template>\n        </div>\n      </div>\n    </template>\n    <template #footer>\n      <Button\n        color=\"teal\"\n        :loading=\"loading.all\"\n        :disabled=\"readyToSave\"\n        @click=\"handleSubmit\">\n        Save Changes\n      </Button>\n    </template>\n  </Modal>\n</template>\n<script>\nimport { defineComponent, ref } from 'vue'\nimport { useUser } from 'composable/user'\nimport { useMassPricing } from 'composable/pricing'\n\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Search from './Search.vue'\nimport Rules from './Rules.vue'\nimport Conditions from './Conditions.vue'\n\nexport default defineComponent({\n  name: 'BulkPriceEditorMassPricing',\n  components: {\n    Modal,\n    Button,\n    Search,\n    Rules,\n    Conditions\n  },\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['submit'],\n  setup(props, ctx) {\n    const { me } = useUser()\n    const {\n      data,\n      modal,\n      loading,\n      getConditions,\n      getModelItems,\n      canceling,\n      readyToSave,\n      selectingProducts,\n      setRules\n    } = useMassPricing()\n    const showSearch = ref(false)\n    \n    const triggerClick = async () => {\n      if (props.disabled) return\n      modal.value = !modal.value\n      if (modal.value) {\n        await getConditions()\n      }\n    }\n    const handleSubmit = async () => {\n      await setRules((res) => {\n        if (res.response === 200 || res === 'success') {\n          modal.value = false\n          handleClose()\n          ctx.emit('submit')\n        }\n      })\n    }\n    const handleClose = () => {\n      canceling()\n      showSearch.value = false\n    }\n\n    return {\n      me,\n      data,\n      modal,\n      loading,\n      readyToSave,\n      triggerClick,\n      canceling,\n      showSearch,\n      selectingProducts,\n      getModelItems,\n      getConditions,\n      handleSubmit,\n      handleClose\n    }\n  }\n})\n</script>\n","<template>\n  <div class=\"space-y-4\">\n    <div class=\"p-4 pb-6 rounded-xl space-y-6 border border-grey-01\">\n      <div class=\"border border-grey-01 rounded-lg\">\n        <div\n          class=\"flex items-center justify-between p-4 cursor-pointer\"\n          @click=\"showInstructions = !showInstructions\">\n          <p class=\"text-sm font-semibold\">Ensure no price cells are left blank. Price upload won’t work with items under Price Sync.</p>\n          <div class=\"flex items-center justify-between gap-x-1\">\n            <p class=\"text-sm text-grey-03\">\n              Show {{ !showInstructions ? 'More' : 'Less' }}\n            </p>\n            <span\n              :class=\"[\n                'material-icons',\n                'transform transition-all',\n                'ease-out duration-300',\n                showInstructions && '-rotate-180'\n              ]\"\n              class=\"material-icons\">expand_more</span>\n          </div>\n        </div>\n        <Transition name=\"slide-fade\">\n          <div v-if=\"showInstructions\" class=\"px-4 pb-4 space-y-4 text-sm text-grey-03\">\n            <p>In the template, items or conditions priced at $0 won't appear in the Widget after upload, and any blank price cells will trigger a validation error. Your upload will continue, and you will see a validation report with a list of errors, if any, once it is complete.</p>\n            <p>Price upload won't work for items under price sync; it only applies to manually priced items. During price uploads, you won't be able to make changes to prices, the catalog, item conditions, or the price editor, and the settings for these will not be accessible. Also, do not alter anything other than prices in the template, as modifying or deleting any other data will cause the affected items to not appear on your Widget.</p>\n          </div>\n        </Transition>\n      </div>\n      <ul class=\"list-disc text-sm mx-4 text-grey-04\">\n        <li>$0 items or conditions won’t appear in the Widget.</li>\n        <li>Blank price cells will cause a validation error.</li>\n        <li>Price upload works only for manually priced items, not those under price sync.</li>\n        <li>During price uploads, edits and settings for prices, the catalog, and conditions will be inaccessible.</li>\n        <li>Only edit prices; changing other data may remove items from the Widget.</li>\n      </ul>\n      <div class=\"bg-blue-01 bg-opacity-50 rounded-md flex gap-4 p-4 text-blue-03\">\n        <span class=\"material-icons\">tips_and_updates</span>\n        <p class=\"text-sm\">Pro Tip: If you don’t want to buy an item or a condition in the template, set its price to $0, then upload it, and it won’t be visible to your customers.</p>\n      </div>\n      <div class=\"space-y-2\">\n        <div class=\"flex flex-wrap gap-4\">\n          <Tooltip\n            v-for=\"templateFormat in templates\"\n            placement=\"top\"\n            :key=\"templateFormat.id\">\n            <Button\n              :disabled=\"disabled || loadingDownload\"\n              color=\"teal\"\n              :view=\"disabled || loadingDownload ? '' : 'outlined'\"\n              dense\n              @click=\"handleDownload(templateFormat.id)\">\n              <div class=\"flex items-center gap-x-2\">\n                <span class=\"material-icons\">download</span>\n                {{ templateFormat.name }}\n              </div>\n            </Button>\n            <template #content>\n              <p class=\"w-80 text-sm\">{{ templateFormat.tooltip }}</p>\n            </template>\n          </Tooltip>\n        </div>\n        <Transition name=\"fade\">\n          <div v-if=\"loadingDownload\">\n            <p class=\"text-left text-xs text-grey-03\">Downloading {{ templateSelected }} template...</p>\n            <div class=\"w-full bg-grey-01 bg-opacity-80 rounded-full h-1\">\n              <div\n                class=\"bg-teal-04 h-1 rounded-full transition-all ease-out duration-300\"\n                :style=\"{ width: `${state?.downloadProgress || 0}%` }\">\n              </div>\n            </div>\n          </div>\n        </Transition>\n      </div>\n    </div>\n  </div>\n  <div v-if=\"loadingDownload\">\n    <Modal\n      v-model=\"modalCancel\"\n      size=\"xs\"\n      hide-header\n      hide-footer>\n      <template #default>\n        <div class=\"py-10 space-y-8\">\n          <div class=\"space-y-4\">\n            <div class=\"flex items-center justify-center flex-col gap-y-4\">\n              <img\n                src=\"@/assets/icon/warning.svg\"\n                alt=\"Warning icon\"\n              />\n              <h6>Download in Progress</h6>\n              <p class=\"text-center text-grey-02\">A template file is currently downloading {{ templateSelected || 'CSV/XLSX' }}. If you close this window, your download will be interrupted.</p>\n            </div>\n          </div>\n          <div>\n            <p class=\"text-left text-sm\">Downloading Progress</p>\n            <div class=\"w-full bg-grey-01 bg-opacity-80 rounded-full h-1\">\n              <div\n                class=\"bg-teal-04 h-1 rounded-full transition-all ease-out duration-300\"\n                :style=\"{ width: `${state?.downloadProgress}%` }\">\n              </div>\n            </div>\n          </div>\n          <div class=\"flex items-center justify-center gap-x-6\">\n            <a href=\"#\" @click.prevent=\"handleContinue\">Continue Download</a>\n            <Button color=\"orange\" @click=\"handleAbort\">Close Anyway</Button>\n          </div>\n        </div>\n      </template>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent, nextTick, ref } from 'vue'\nimport { usePriceUploadDownloadTemplate } from 'composable/pricing'\n\nimport Button from 'bbUi/components/button/button.vue'\nimport Modal from 'bbUi/components/modal/modal.vue'\n\nexport default defineComponent({\n  name: 'PriceUploadDownloadTemplate',\n  components: {\n    Button,\n    Modal\n  },\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    modalCancel: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['download', 'continueDownload', 'confirmClose'],\n  setup(props, ctx) {\n    const pricingState = computed(() => state.pricing?.processing)\n    const  {\n      state,\n      progress,\n      templates,\n      templateSelected,\n      showInstructions,\n      action,\n      cancelDownload,\n      saveStateDownload\n    } = usePriceUploadDownloadTemplate()\n\n    const loadingDownload = computed(() => {\n      const temp = [...templates.value].find(i => i.loading)\n      \n      return temp?.loading || state.value?.downloadProgress > 0 || false\n    })\n\n    const handleDownload = async (e) => {\n      ctx.emit('download', true)\n      await action(e)\n      ctx.emit('download', false)\n    }\n    const handleContinue = () => ctx.emit('continueDownload')\n    const handleAbort = async () => {\n      saveStateDownload()\n      await nextTick()\n      cancelDownload()\n      await nextTick()\n      ctx.emit('confirmClose')\n    }\n\n    if (state.pricing?.processing?.downloadProgress > 0) {\n      templateSelected.value = state.value?.typeDownload\n      progress.value = state.value?.downloadProgress\n    }\n\n    return {\n      state,\n      progress,\n      templates,\n      pricingState,\n      loadingDownload,\n      showInstructions,\n      templateSelected,\n      handleDownload,\n      handleContinue,\n      handleAbort\n    }\n  }\n})\n</script>","<template>\n  <div class=\"space-y-4\">\n    <div class=\"relative\">\n      <FileUpload\n        :accept=\"computedAccept\"\n        :config=\"fileUploadConfig\"\n        :files=\"files\"\n        :single-upload=\"computedAccept.length <= 1 && computedAccept.includes('xlsx')\"\n        offline\n        @completed=\"handleCompleteUpload\"\n        @error=\"handleErrorUpload\"\n        @uploading=\"handleUploading\"\n        @remove=\"handleRemovedFile\">\n        <template #default=\"{ openDialog, acceptedFileTypes: accepteds }\">\n          <div class=\"bg-grey-01 bg-opacity-10 rounded-md p-8 flex flex-col items-center gap-4\">\n            <div\n              class=\"flex items-center gap-1 flex-col text-grey-03\"\n              @click=\"openDialog\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 24 24\" height=\"32px\" viewBox=\"0 0 24 24\" width=\"32px\" fill=\"currentColor\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><path d=\"M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M7,9l1.41,1.41L11,7.83V16h2V7.83l2.59,2.58L17,9l-5-5L7,9z\"/></g></svg>\n              <p class=\"text-grey-04 font-medium text-xl\">Choose files or drag them here</p>\n              <p v-if=\"!files?.length\" class=\"text-xs\">Upload multiple {{ accepteds }}</p>\n              <p v-else class=\"text-xs\">Upload {{ accepteds }}</p>\n            </div>\n            <Button\n              color=\"teal\"\n              view=\"outlined\"\n              @click=\"openDialog\">\n              Browse Files\n            </Button>\n          </div>\n        </template>\n        <template #types=\"{ acceptedFileTypes }\">\n          <small class=\"block mt-4\">\n            <span class=\"font-semibold\">File:</span> {{ acceptedFileTypes }}\n          </small>\n        </template>\n        <template #file-list=\"{ files: fileList, removeFile, isEmptyFiles }\">\n          <div class=\"rounded-b-md bg-grey-01 bg-opacity-10\">\n            <div v-if=\"isEmptyFiles && files?.length > 0\">\n              <div class=\"px-7 text-grey-01\">\n                <hr />\n              </div>\n              <p class=\"text-sm font-medium\">\n                {{ files?.length }}\n                {{ files?.length > 1 ? 'files' : 'file' }}\n                selected\n              </p>\n              <div\n                v-for=\"file in files\"\n                :key=\"file.name\"\n                :class=\"['file-list__item']\"\n              >\n                <div class=\"file-list__file-icon pr-6\">\n                  <i class=\"material-icons\">insert_drive_file</i>\n                </div>\n                <div class=\"relative w-full\">\n                  <div class=\"flex items-center\">\n                    <div class=\"file-list__file-name text-sm\">{{ file.name }}</div>\n                    <div class=\"file-list__file-size text-sm\">\n                      {{ fileSizeFormat(file.size) }}\n                    </div>\n                  </div>\n                </div>\n                <div class=\"file-list__file-remove pl-6\">\n                  <a @click.prevent=\"handleRemovedFile(null)\"\n                    ><i class=\"material-icons\">cancel</i></a\n                  >\n                </div>\n              </div>\n            </div>\n            <div v-else-if=\"!isEmptyFiles\" class=\"px-4 pt-4 pb-6\">\n              <div class=\"px-2 text-grey-01 mb-8\">\n                <hr />\n              </div>\n              <p class=\"text-sm font-medium\">\n                {{ fileList?.length }}\n                {{ fileList?.length > 1 ? 'files' : 'file' }}\n                selected\n              </p>\n              <div\n                v-for=\"file in fileList\"\n                :key=\"file.name\"\n                :class=\"[\n                  'file-list__item',\n                  'bg-opacity-50 rounded-lg',\n                  !file.status.error ? 'bg-grey-01' : 'file-list__item--error',,\n                  file.status.progress < 100 ? 'file-list__item--onprogress' : ''\n                ]\"\n                :style=\"{\n                  padding: file.status.progress < 100 ? `0.5rem 1.5rem 0.725rem 1.5rem` : `0.5rem 1.5rem`,\n                }\"\n              >\n                <div class=\"file-list__file-icon pr-2\">\n                  <i class=\"material-icons\" style=\"font-size: 1.725rem !important;\">insert_drive_file</i>\n                </div>\n                <div class=\"relative w-full\">\n                  <div class=\"flex items-center\">\n                    <div>\n                      <div class=\"file-list__file-name text-sm\">{{ file.name }}</div>\n                    </div>\n                    <div class=\"file-list__file-size text-sm text-grey-02\">{{ file.size }}</div>\n                  </div>\n                  <transition name=\"fade\">\n                    <div\n                      v-if=\"file.status.progress < 100\"\n                      class=\"file-list__progress-bar\"\n                      :style=\"{ width: `${file.status.progress}%` }\"\n                    ></div\n                  ></transition>\n                </div>\n                <div class=\"file-list__file-remove pl-6\">\n                  <a @click.prevent=\"removeFile(file.id)\"\n                    ><i :class=\"!file.status.error && 'text-grey-04'\" class=\"material-icons\">cancel</i></a\n                  >\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </FileUpload>\n      <div v-if=\"loading\" class=\"absolute top-0 left-0 right-0 bottom-0 bg-white opacity-50 cursor-not-allowed\" />\n    </div>\n    <div class=\"border border-grey-01 rounded-lg\">\n      <div\n        class=\"p-4 flex items-center justify-between gap-4 cursor-pointer\"\n        @click=\"handlCollapse('alternates')\">\n        <span class=\"font-medium\">Alternates</span>\n        <span class=\"material-icons\">expand_more</span>\n      </div>\n      <Transition name=\"slide-fade\">\n        <div v-if=\"collapses.alternates\" class=\"p-4 space-y-4\">\n          <div class=\"bg-blue-01 bg-opacity-50 rounded-md flex gap-4 p-3 py-2 text-blue-03\">\n            <p class=\"text-sm\">\n              Update prices for items in your active catalog through\n              <a\n                href=\"https://docs.reusely.com/reference/reusely-api-overview\"\n                class=\"text-blue-03 hover:text-blue-03 underline\"\n                target=\"_blank\">\n                our API\n              </a>\n              <span\n                class=\"ml-1 material-icons\"\n                style=\"line-height: 1;\">\n                open_in_new\n              </span>\n            </p>\n          </div>\n          <p>This is an example of how to integrate the API</p>\n          <div\n            v-for=\"(alternateTutorial, n) in alternateTutorials\"\n            :key=\"n\"\n            :class=\"[\n              'bg-grey-01',\n              'rounded-lg',\n              !alternateTutorial.collapse ? 'bg-opacity-50' : 'bg-opacity-20',\n            ]\">\n           <div\n              :class=\"[\n                'p-4 flex items-center',\n                'justify-between gap-4',\n                !alternateTutorial.collapse && 'cursor-pointer'\n              ]\"\n              @click=\"alternateTutorial.collapse = !alternateTutorial.collapse\">\n              <span class=\"font-medium\">{{ alternateTutorial?.title }}</span>\n              <span class=\"material-icons\">expand_more</span>\n            </div>\n            <Transition name=\"slide-fade\">\n              <div\n                v-if=\"alternateTutorial.collapse\"\n                class=\"px-4 pb-4\">\n                <div>\n                  <ol class=\"space-y-4\">\n                    <li\n                      v-for=\"(howTo, o) in alternateTutorial?.howTo\"\n                      :key=\"`${n}_${o}`\"\n                      class=\"flex items-start gap-x-4\">\n                      <span class=\"bg-teal-04 w-8 h-8 flex items-center justify-center rounded-full text-white\">{{ o + 1 }}</span>\n                      <div class=\"flex-1 space-y-4\">\n                        <div v-if=\"howTo?.codes\" v-html=\"howTo?.codes\" />\n                        <p v-if=\"howTo?.text\" class=\"mt-0.5\" v-html=\"howTo.text\" />\n                        <div v-if=\"howTo?.images?.length\" class=\"flex\">\n                          <div class=\"flex-1 flex gap-4 items-start\">\n                            <img\n                              v-for=\"image in howTo?.images\"\n                              :key=\"image\"\n                              :src=\"`/images/price-external-source/${image}`\"\n                              :alt=\"image\"\n                              class=\"w-auto h-auto\"\n                              style=\"max-width: 45%;\"\n                            >\n                          </div>\n                        </div>\n                      </div>\n                    </li>\n                  </ol>\n                </div>\n              </div>\n            </Transition>\n          </div>\n        </div>\n      </Transition>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent, reactive, ref } from 'vue'\nimport { PriceUploadTutorials } from 'constants/setting'\n\nimport FileUpload from 'components/FileUpload.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nexport default defineComponent({\n  name: 'PriceUploadImportData',\n  components: {\n    FileUpload,\n    Button\n  },\n  props: {\n    files: {\n      type: Array,\n      default: () => []\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['completed', 'error', 'remove', 'uploading'],\n  setup(props, ctx) {\n    const fileUploadConfig = reactive({\n      url: '/v1/pos/pricing/upload-pricing',\n      method: 'post',\n      field: 'file'\n    })\n    const computedAccept = computed(() => {\n      if (!!props.files.length) {\n        const typeFile = props.files[0].name.split('.').pop()\n\n        return [typeFile]\n      }\n      return ['csv', 'xlsx']\n    })\n    const collapses = ref({\n      alternates: false\n    })\n    const alternateTutorials = ref(PriceUploadTutorials)\n    const handleCompleteUpload = (files = []) => {\n      ctx.emit('completed', files)\n    }\n    const handleErrorUpload = (errors = []) => {\n      ctx.emit('error', errors)\n    }\n    const handleRemovedFile = (file = null) => {\n      ctx.emit('remove', file)\n    }\n    const handleUploading = (e) => {\n      ctx.emit('uploading', e)\n    }\n    const handlCollapse = (e) => {\n      collapses.value[e] = !collapses.value[e]\n    }\n\n    return {\n      computedAccept,\n      fileUploadConfig,\n      collapses,\n      alternateTutorials,\n      handlCollapse,\n      handleUploading,\n      handleCompleteUpload,\n      handleErrorUpload,\n      handleRemovedFile\n    }\n  }\n})\n</script>\n","<template>\n  <div class=\"space-y-4 border border-grey-01 p-2 rounded-lg\">\n    <div class=\"flex items-center\">\n      <div class=\"mr-2\">\n        <svg\n          width=\"80\"\n          height=\"80\"\n          viewBox=\"-18.5 -18.5 185 185\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          style=\"transform: rotate(-90deg)\"\n        >\n          {{ calculatedOffset }}\n          <circle\n            r=\"64\"\n            cx=\"74\"\n            cy=\"74\"\n            fill=\"transparent\"\n            stroke=\"#e0e0e0\"\n            stroke-width=\"12\"\n            :stroke-dasharray=\"`${baseOffset}px`\"\n            stroke-dashoffset=\"0\"\n          ></circle>\n          <circle\n            r=\"64\"\n            cx=\"74\"\n            cy=\"74\"\n            stroke=\"#3b82f6\"\n            stroke-width=\"12\"\n            stroke-linecap=\"round\"\n            :stroke-dashoffset=\"`${calculatedOffset}px`\"\n            fill=\"transparent\"\n            :stroke-dasharray=\"`${baseOffset}px`\"\n          ></circle>\n          <text\n            :x=\"\n              progressPercentage < 100\n                ? progressPercentage < 25\n                  ? '50px'\n                  : '42px'\n                : '40px'\n            \"\n            y=\"87px\"\n            fill=\"#262626\"\n            font-size=\"32px\"\n            font-weight=\"bold\"\n            style=\"\n              transform: rotate(90deg) translate(0, -144px);\n              text-align: center;\n            \"\n          >\n            {{ progressPercentage || 0 }}%\n          </text>\n        </svg>\n      </div>\n      <div class=\"mr-4\">\n        <p>Status: Updating</p>\n        <h3 class=\"text-xl font-medium\">Price Editor</h3>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref, computed } from 'vue'\n\nimport Button from 'bbUi/components/button/button.vue'\n\nexport default defineComponent({\n  name: 'PriceUploadInProgress',\n  components: {\n    Button\n  },\n  setup(props, ctx) {\n    // const { processingStatus } = useISBN()\n    const baseOffset = ref(401.92)\n    const progressPercentage = computed(\n      // processingStatus.value.progress\n      () => 80 || 0\n    )\n    const calculatedOffset = computed(\n      () =>\n        // baseOffset.value - (baseOffset.value * progressPercentage.value) / 100\n        baseOffset.value - (baseOffset.value * progressPercentage.value) / 100\n    )\n    return {\n      progressPercentage,\n      baseOffset,\n      calculatedOffset\n    }\n  }\n})\n</script>\n","<template>\n  <div class=\"inline-block\">\n    <Button\n      v-if=\"!$slots.trigger\"\n      :disabled=\"disabled\"\n      color=\"white\"\n      @click=\"handleShowValidation\">\n      <div\n        :class=\"[\n          'transition-all duration-300 ease-in-out',\n          'text-grey-03 hover:text-grey-04 flex items-center gap-x-3'\n        ]\">\n        <span class=\"material-icons\">table_view</span>\n        <span>Price Upload</span>\n      </div>\n    </Button>\n    <slot\n      v-if=\"$slots.trigger\"\n      name=\"trigger\"\n      v-bind=\"{\n        click: handleShowValidation,\n        disabled\n      }\">\n    </slot>\n  </div>\n  <Modal\n    v-model=\"modal\"\n    size=\"md\"\n    no-close>\n    <template #header>\n      <div>\n        <span class=\"font-medium\">\n          Price Upload\n        </span>\n        <a v-if=\"!loading\" href=\"#\" class=\"modal__content-header-close top-0 right-0\" @click.prevent=\"handleClose\">✕</a>\n      </div>\n    </template>\n    <template #default>\n      <div v-loading=\"loading\">\n        <div v-if=\"!state?.inProgress\" class=\"space-y-8\">\n          <div class=\"space-y-4\">\n            <div class=\"flex items-center gap-4\">\n              <div\n                :class=\"[\n                  'bg-teal-04 w-7 h-7',\n                  'rounded-full flex',\n                  'items-center justify-center',\n                  'text-white'\n                ]\">\n                1\n              </div>\n              <span class=\"font-medium text-base\">Download Template</span>\n            </div>\n            <div class=\"pl-11\">\n              <PriceUploadDownloadTemplate\n                :modal-cancel=\"modalCancelDownload\"\n                :disabled=\"!!state.latestUploadedFile?.length\"\n                @download=\"handleDownload\"\n                @continue-download=\"handleCloseWarning\"\n                @confirm-close=\"handleConfirmClose\"\n              />\n            </div>\n          </div>\n          <div class=\"space-y-4\">\n            <div class=\"flex items-center gap-4\">\n              <div\n                :class=\"[\n                  'bg-teal-04 w-7 h-7',\n                  'rounded-full flex',\n                  'items-center justify-center',\n                  'text-white'\n                ]\">\n                2\n              </div>\n              <span class=\"font-medium text-base\">Import Data</span>\n            </div>\n            <div class=\"pl-11\">\n              <PriceUploadImportData\n                :files=\"state.latestUploadedFile\"\n                :loading=\"loading || loadingDownload || storeState?.downloadProgress > 0\"\n                @completed=\"handleUploadCompleted\"\n                @error=\"handleUploadError\"\n                @uploading=\"handleUploading\"\n                @remove=\"handleRemovedFile\"\n              />\n              <!-- <div v-if=\"loadingDownload || storeState?.downloadProgress > 0\" class=\"absolute top-0 left-0 right-0 bottom-0 bg-white opacity-50 cursor-not-allowed\" /> -->\n            </div>\n          </div>\n        </div>\n        <div v-else>\n          <PriceUploadInProgress />\n        </div>\n      </div>\n    </template>\n    <template #footer>\n      <div>\n        <Button\n          :disabled=\"loading || !state?.latestUploadedFile?.length || state?.inProgress\"\n          color=\"teal\"\n          @click=\"handleSubmit\">\n          <div class=\"flex items-center justify-center gap-x-2\">\n            <span>Update Pricing</span>\n          </div>\n        </Button>\n      </div>\n    </template>\n  </Modal>\n</template>\n\n<script>\nimport { defineComponent, ref } from 'vue'\nimport { usePriceUpload } from 'composable/pricing'\nimport { usePaywall } from 'composable/paywall'\n\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nimport PriceUploadDownloadTemplate from './PriceUploadDownloadTemplate.vue'\nimport PriceUploadImportData from './PriceUploadImportData.vue'\nimport PriceUploadInProgress from './PriceUploadInProgress.vue'\n\nexport default defineComponent({\n  name: 'PriceUpload',\n  components: {\n    Modal,\n    Button,\n    PriceUploadDownloadTemplate,\n    PriceUploadImportData,\n    PriceUploadInProgress\n  },\n  props: {\n    disabled: {\n      default: false,\n      type: Boolean\n    },\n    pro: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: ['submit'],\n  setup(props, ctx) {\n    const {\n      modal,\n      loading,\n      loadingDownload,\n      state,\n      _state: storeState,\n      modalCancelDownload,\n      handleModalShow,\n      handleUploadCompleted,\n      handleUploadError,\n      handleUploading,\n      handleRemovedFile,\n      handleClose,\n      handleCloseWarning,\n      handleUpdatePricing\n    } = usePriceUpload()\n    const { open: openPaywall } = usePaywall()\n\n    const handleSubmit = async () => {\n      if (!props.pro) {\n        return openPaywall({\n          title: 'Update Pricing via Price Sheet',\n          description: 'To make manual bulk pricing updates easier, you can edit your prices offline using our XLSX or CSV templates—all the data is already there. Just update the prices, upload the file, and boom, you’re done! Enjoy quick and efficient price adjustments across multiple products.',\n          image_url: '/images/paywall/paywall-price-upload.svg'\n        })\n      }\n\n      let typeFile = undefined\n      const files = state.value.latestUploadedFile.map(i => i.file)\n      if (!!files?.length) {\n        typeFile = files[0].name.split('.').pop()\n        const formData = new FormData()\n\n        files.forEach((el, i) => {\n          formData.append(`files[]`, el)\n        })\n\n        formData.append('type', typeFile === 'xlsx' ? 'excel' : 'csv')\n        \n        await handleUpdatePricing(\n          formData,\n          ctx.emit\n        )\n      }\n    }\n    const handleDownload = (e) => {\n      loadingDownload.value = e\n      modalCancelDownload.value = false\n    }\n    const handleShowValidation = () => {\n      if (props.disabled) return\n      handleModalShow()\n    }\n    const handleConfirmClose = () => {\n      modal.value = false\n      loadingDownload.value = false\n      modalCancelDownload.value = false\n    }\n\n    return {\n      modal,\n      state,\n      storeState,\n      loading,\n      loadingDownload,\n      modalCancelDownload,\n      handleShowValidation,\n      handleClose,\n      handleUploadCompleted,\n      handleUploadError,\n      handleUploading,\n      handleRemovedFile,\n      handleUpdatePricing,\n      handleSubmit,\n      handleDownload,\n      handleCloseWarning,\n      handleConfirmClose\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\nol {\n  background-color: red;\n  list-style-type: decimal;\n  // padding-left: 40px;\n  counter-reset: list-item;\n\n  li {\n    content: '';\n    position: relative;\n    padding-left: 1rem;\n  }\n  li::before {\n    content: counter(list-item); /* Display the decimal number followed by a dot */\n    // counter-increment: list-item; /* Increment the counter for each list item */\n    position: absolute;\n    left: -30px; /* Position the number outside the list */\n    top: 0;\n    background-color: #ffcc00; /* Background color for the number */\n    color: white; /* Text color for the number */\n    width: 30px; /* Width of the number's background */\n    height: 30px; /* Height of the number's background */\n    text-align: center;\n    line-height: 30px; /* Vertically center the number */\n    border-radius: 50%; /* Make the background a circle */\n    font-weight: bold;\n    margin-right: 10px;\n  }\n}\n</style>\n","<template>\n  <div>\n    <div class=\"md:flex items-center justify-between gap-x-8 md:space-y-0 space-y-4 mt-6 mb-5\">\n      <Input\n        icon\n        v-model=\"data.search\"\n        :disabled=\"disableActions.priceUploadByProgress\"\n        placeholder=\"Search\"\n        class=\"w-full md:w-2/5\"\n        @input=\"actionSearch\">\n        <template #icon>\n          <span class=\"material-icons\">search</span>\n        </template>\n      </Input>\n      <div v-loading=\"loading.all\" class=\"flex items-center justify-end gap-3\">\n        <Tooltip\n          trigger=\"hover\"\n          placement=\"top-end\"\n          :disabled=\"!disableActions.priceUpload\">\n          <template #content>\n            <p class=\"max-w-xs whitespace-normal text-sm\" style=\"word-break: keep-all;\">\n              You must have at least one active item with one or more conditions applied in order to download the template.\n            </p>\n          </template>\n          <template #default>\n            <div>\n              <BulkPriceEditorPriceUpload\n                :pro=\"typeOfPackage == 17\"\n                :disabled=\"disableActions.priceUpload\"\n                @submit=\"handleSubmitPriceUpload\">\n                <template #trigger=\"{ click: clickTriggerUpload }\">\n                  <Button\n                    :disabled=\"disableActions.priceUpload\"\n                    color=\"white\"\n                    @click=\"clickTriggerUpload\">\n                    <div\n                      :class=\"[\n                        'transition-all duration-300 ease-in-out',\n                        'text-grey-03 hover:text-grey-04 flex items-center gap-x-2'\n                      ]\">\n                      <span class=\"material-icons\">table_view</span>\n                      <span>Price Upload</span>\n                      <span\n                        v-if=\"disableActions.priceUpload\"\n                        class=\"material-icons text-orange-04\">\n                        warning\n                      </span>\n                    </div>\n                  </Button>\n                </template>\n              </BulkPriceEditorPriceUpload>\n            </div>\n          </template>\n        </Tooltip>\n        <Tooltip\n          v-if=\"disableActions.massPricing\"\n          trigger=\"hover\"\n          placement=\"top-end\">\n          <template #content>\n            <p class=\"max-w-sm whitespace-normal text-sm\" style=\"word-break: keep-all;\">\n              You must have at least one active item with one or more conditions applied in order to update mass pricing.\n            </p>\n          </template>\n          <template #default>\n            <div>\n              <Button disabled color=\"white\">\n                <div\n                  :class=\"[\n                    'transition-all duration-300 ease-in-out',\n                    'text-grey-03 hover:text-grey-04 flex items-center gap-x-2'\n                  ]\">\n                  <span>{{ me.currency_symbol }}</span>\n                  <span>Mass Pricing</span>\n                  <span\n                    v-if=\"disableActions.massPricing\"\n                    class=\"material-icons text-orange-04\">\n                    warning\n                  </span>\n                </div>\n              </Button>\n            </div>\n          </template>\n        </Tooltip>\n        <BulkPriceEditorMassPricing v-else @submit=\"refetchPricing\" />\n      </div>\n    </div>\n    <div class=\"mb-5\">\n      <Checkbox type=\"toggle\" v-model=\"roundupPayload\" :disabled=\"disableActions.priceUpload\" color=\"teal\" value=\"1\" value-off=\"0\" @input=\"updateRoundup\" />\n      <span class=\"my-auto\">Round-up item pricing to the nearest dollar</span>\n    </div>\n    <Transition name=\"fade\">\n      <div v-if=\"processingUpload.invalid && !!showAlert\" class=\"mb-5\">\n        <div class=\"bg-green-02 bg-opacity-20 p-4 rounded-md\">\n          <div class=\"grid lg:grid-cols-2 gap-4 text-green-04\">\n            <div class=\"flex items-center gap-x-2\">\n              <span class=\"material-icons\">info</span>\n              <span>\n                {{`Total successfully uploaded and updated items: `}}\n                <b>{{ processingUpload.totalSuccess }}</b>\n              </span>\n            </div>\n            <div class=\"flex flex-wrap items-center justify-end gap-4\">\n              <span>Last Update: <b>{{ processingUpload.dateInvalid }}</b></span>\n              <div class=\"flex items-center justify-between gap-x-4\">\n                <BulkPriceEditorPriceUploadInvalid>\n                  <template #trigger=\"{ click: clickTrigger }\">\n                    <Button\n                      color=\"red\"\n                      dense\n                      @click=\"clickTrigger\">\n                      View Invalid Data\n                    </Button>\n                  </template>\n                </BulkPriceEditorPriceUploadInvalid>\n                <Button\n                  color=\"teal\"\n                  view=\"outlined\"\n                  dense\n                  @click=\"handleClearAlert\">\n                  <div class=\"flex items-center justify-center gap-x-2\">\n                    <span class=\"material-icons\">close</span>\n                    Clear Notification\n                  </div>\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Transition>\n    <BulkPriceEditor\n      :search=\"data.search\"\n      :items=\"state\"\n      :loadingTable=\"loading.all\"\n      :price-sharing=\"isPriceSharing\"\n      :price-scraper=\"isScraper\"\n      :round-up=\"roundupPayload\"\n      @refetch-pricing=\"refetchPricing\"\n      :disallowSync=\"disallowSync\"\n      :disabled-action=\"disableActions\"\n      :subDomainLinked=\"subDomainLinked\"\n    />\n    <div class=\"mt-4\">\n      <Pagination\n        v-model:page=\"data.page\"\n        v-model:limit=\"data.perPage\"\n        :data=\"data.pagination\"\n        @update:page=\"handleChangePage\"\n        @update:limit=\"handleChangeLimit\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent, watch, ref } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useCategories, globals, useRoundup, processing as processingUpload } from 'composable/pricing'\nimport { useNotification } from 'composable/notification'\nimport { useUser } from 'composable/user'\nimport { useDevice } from 'composable/dashboard'\nimport { useAlert } from 'composable/alerts'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport BulkPriceEditor from 'components/BulkPriceEditor/Device.vue'\nimport BulkPriceEditorComputer from 'components/BulkPriceEditor/Computer.vue'\nimport BulkPriceEditorMassPricing from 'components/BulkPriceEditor/MassPricing/index.vue'\nimport BulkPriceEditorPriceUpload from 'components/BulkPriceEditor/PriceUpload/index.vue'\nimport BulkPriceEditorPriceUploadInvalid from 'components/BulkPriceEditor/PriceUploadInvalid/index.vue'\nimport Pagination from 'components/Pagination.vue'\nimport debounce from 'utils/debounce'\nimport { ALERT_ID } from 'constants/alerts'\n\nexport default defineComponent({\n  components: {\n    Checkbox,\n    BulkPriceEditor,\n    BulkPriceEditorComputer,\n    BulkPriceEditorMassPricing,\n    BulkPriceEditorPriceUpload,\n    BulkPriceEditorPriceUploadInvalid,\n    Input,\n    Button,\n    Pagination\n  },\n  async setup() {\n    const route = useRoute()\n    const { isActive, dismiss } = useAlert('pricing')\n    const showAlert = computed(() => isActive(ALERT_ID.PRICING.INVALID_PRICE_UPLOAD)?.value)\n    const { data, actionAll, loading, state } = useCategories()\n    const {\n      state: stateRoundup,\n      actionGet: actionGetRoundup,\n      actionUpdate: actionUpdateRoundup\n    } = useRoundup()\n    const { me } = useUser()\n    const { state: stateNotifcation, openNotification } = useNotification()\n    const { data: dataDevice, actionConditionDeviceConditionAvailability } = useDevice()\n\n    const roundupPayload = ref(0)\n\n    const actionSearch = debounce(async() => {\n        await actionAll(route.params)\n    }, 500)\n\n    const updateRoundup = debounce(async () => {\n      await actionUpdateRoundup({\n        is_round_up_price_enable: roundupPayload.value\n      })\n      state.value = []\n      await Promise.all([\n\t\t\t\tactionAll(route.params),\n\t\t\t\tactionGetRoundup()\n\t\t\t])\n    }, 500)\n\n    watch(() => route.params, async () => {\n      data.search = ''\n      if(route.params.tab) {\n        await Promise.all([\n\t\t\t\t\t\tactionAll(route.params),\n          ]\n        )\n        roundupPayload.value = stateRoundup.value.status.is_round_up_price_enable\n      }\n    }, {\n      immediate: true\n    })\n\n    const isPriceSharing = computed(() => me.value.is_price_sharing == 1)\n    const isScraper = computed(() => data.isScraper == 1)\n    const disallowSync = computed(() => me.value.is_price_sharing == 3)\n    const subDomainLinked = computed(() => me.value.sub_domain_linked ? true : false)\n    const disableActions = computed(() => {\n      const isUploading = processingUpload.value.uploadProgress > 0 && processingUpload.value.uploadProgress < 100\n      const noAvailability = !dataDevice?.availabilityCondition\n\n      const priceUpload =\n        isUploading || noAvailability\n\n      const massPricing =\n        isUploading || noAvailability\n\n      return { priceUpload, priceUploadByProgress: isUploading, massPricing, availabilityCondition: noAvailability }\n    })\n    const typeOfPackage = computed(() => me.value.package_id)\n\n    const handleChangePage = async (e) => {\n      data.page = Number(data.page)\n      await actionAll(route.params)\n    }\n    const handleChangeLimit = async () => {\n      data.page = 1\n      data.perPage = Number(data.perPage)\n      await actionAll(route.params)\n    }\n    const refetchPricing = async (callback = () => {}) => {\n      try {\n        await actionAll(route.params)\n        typeof callback === 'function' && callback()\n      } catch (error) {\n        console.log('Failed To Set Rule')\n      }\n    }\n    const handleClearAlert = () => {\n      dismiss(ALERT_ID.PRICING.INVALID_PRICE_UPLOAD)\n    }\n    const handleSubmitPriceUpload = async () => {\n      await refetchPricing()\n      openNotification('NotificationPriceUpload')\n    }\n    await Promise.all([\n\t\t\tactionGetRoundup(),\n\t\t\tactionConditionDeviceConditionAvailability()\n\t\t])\n\n    return {\n      me,\n      globals,\n      stateRoundup,\n      processingUpload,\n      roundupPayload,\n      data,\n      state,\n      dataDevice,\n      showAlert,\n      actionSearch,\n      loading,\n      isPriceSharing,\n      isScraper,\n      disallowSync,\n      subDomainLinked,\n      updateRoundup,\n      disableActions,\n      stateNotifcation,\n      typeOfPackage,\n      refetchPricing,\n      handleChangePage,\n      handleChangeLimit,\n      handleClearAlert,\n      handleSubmitPriceUpload\n    }\n  }\n})\n</script>\n","import { computed } from 'vue'\nimport { useStore } from 'vuex'\n\nexport const useAlert = (moduleName) => {\n  const store = useStore();\n\n  const isActive = (id) =>\n    computed(() => store.getters['alert/isAlertActive'](moduleName, id))\n\n  const trigger = (id) => {\n    store.dispatch('alert/triggerAlert', { module: moduleName, id })\n  }\n\n  const dismiss = (id) => {\n    store.dispatch('alert/dismissAlert', { module: moduleName, id })\n  }\n\n  return {\n    isActive,\n    trigger,\n    dismiss\n  }\n}\n","import { defineComponent } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useSuspense } from 'composable/components'\nimport index from './index.vue'\n\nexport default defineComponent({\n  setup() {\n    const { genSuspense } = useSuspense()\n\n    return () => genSuspense(index)\n  }\n})"],"names":["props","__props","emit","__emit","route","useRoute","loading","loadingPrice","actionAll","actionSetLevel","actionManualPrice","useDevice","params","tab","wordings","ref","title","disable_category","disable_child","enable_category","enable_child","description","computedWording","computed","synced","value","desc","_a","item","is_child","_b","_c","_d","computedTooltip","tooltip","total_device_manual","total_device_sync","available","modelValue","isSyncable","me","useUser","disallowSync","is_price_sharing","subDomainLinked","sub_domain_linked","modal","isIndeterminateState","model_as_device","isLoading","all","manual_price","isNotSyncable","is_syncable","is_price_sync","handleChange","async","isManualExist","sync_with_multiple_source","category_id","id","err","res","_a2","is_price_exist","conditionSubValue","_e","conditions","length","_g","_f","filter","condition","isNaN","condition_sub_value","parseFloat","priceSharing","handleConfirm","handleCancel","Number","watch","val","_sfc_main","defineComponent","name","components","Input","Button","data","type","Object","default","disabled","Boolean","isAutomatedPrice","hasPricingSource","emits","[object Object]","tooltipShow","isVisible","reactive","isPriceSyncCustomPrice","index","Array","isArray","row","price","is_custom_price","onMounted","newData","original_price","assign","deviceUpdate","index2","isSync","currencies","key","_hoisted_2","class","_hoisted_11","_ctx","_openBlock","_createElementBlock","_hoisted_1","onUpdate:modelValue","_cache","$event","placement","content","_withCtx","_createVNode","_component_Input","tabindex","view","success","currency","onMouseenter","onMouseleave","onFocusOut","items","onFocusIn","icon","last_update","_hoisted_6","is_editable_custom_price","_hoisted_7","onClick","$emit","color","dense","_createElementVNode","_hoisted_8","_hoisted_9","_hoisted_10","trigger","String","sources","isChild","companySource","editing","ctx","method","get","set","options","extras","select","_hoisted_4","$props","$setup","$data","$options","_createCommentVNode","_hoisted_3","_Fragment","_renderList","option","n","_normalizeClass","_hoisted_5","_toDisplayString","setup","addConditionGroup","alt","_component_Button","_createTextVNode","link","Select","sourceConditions","category","differentRules","currencySymbol","currencyPrefix","showTooltip","list","map","__spreadProps","isDifferentRules","firstEl","othersEl","amountPrice","amountType","pricingRuleType","result","every","isSameRulesForOneSource","ids","source_condition_id","indexOf","showColumns","atLeastOneSelected","helpers","withMessage","some","rules","validation","useVuelidate","$lazy","handleChangeRuleType","nextTick","handleUpdateConditionIDS","e","source","sub_domain","head","item2","_b2","handleResetConditionIDS","callback","cond","checked","handleChangeRuleAmountType","handleChangeRuleAmountPrice","onSubmit","$validate","_hoisted_14","_hoisted_16","style","width","_hoisted_19","_hoisted_21","_hoisted_24","_hoisted_30","Methods","EmptyCondition","Conditions","_component_TableColumn","prop","label","condition_term","textTerm","min-width","header","font-size","_component_Select","_mergeProps","error","$error","by","placeholder","multiple","block","no-border","max-height","_createSlots","_hoisted_15","_c2","_d2","_hoisted_17","_hoisted_18","term","nTerm","$index","_a4","selectedOption","_a3","_hoisted_13","fn","childItem","childIndex","_component_Tooltip","_hoisted_20","_hoisted_22","_hoisted_23","nTermChild","hide","_j","_i","is_duplicate","_hoisted_28","_hoisted_29","_hoisted_31","_component_RadioGroup","_hoisted_32","right","max","min","icon-block","onChange","_hoisted_34","pricingSource","main","selectCondtion","formConditions","keyCondition","isAvailableDevice","actionConditionDeviceAvailability","useConditionAll","getConditions","_getConditions","handleExisting","handleWithLoading","handleParsingJSON","usePriceMappingMethod","setSourceConditions","results","Promise","conditionList","i","terms","console","shift","setConditions","conditions2","existing","isMultipleSources","isPossibleSameRulesOneSource","rule","member_condition_id","find","__spreadValues","deepClone","findingRule","member_id","already_selected_other","optionsConditions","flat","sourceConditionId","amount_type","amount_price","showOption","source_name","handleUpdateConditions","flatSelected","entry","isSelectedRow","updateConditions","handleSelectMethodManual","conditionIDS","isSameMethod","mappingType","isExisting","selectedSources","sourcesConditions","handleGetRule","handleSelectMethod","Date","now","then","catch","handleSelectMethodAuto","data2","raw","countMap","reduce","setDuplicateRuleOneSource","selected","includes","isAllDuplicate","validationSelectMethod","debounce","isSameSource","a","b","sortBySub","arr","sort","JSON","stringify","isSameSourceList","oldVal","condition_source","deep","handleAddConditionGroup","handleUpdateDifferent","handleReset","_component_Methods","is-child","company-source","_withDirectives","_normalizeStyle","_component_EmptyCondition","_createBlock","source-conditions","currency-symbol","currency_symbol","currency-prefix","currency_prefix","onUpdate:different","Category","form","group_name","categories","devices","getDevices","locationId","store","dispatch","isFunction","preset","isValidJSON","getSources","payload","response","is_mac","active","delete","preview","addCondition","editCondition","deleteCondition","sortingCondition","sorting","jsonString","parse","MultiSelect","mixin","priceEditor","priceEditorCategory","required","multiSelectClass","multiselect--invalid","$invalid","devicesComputed","findIndex","device","disabledUniqueAndMac","isMac","query","unique_id","formEdit","groupName","is_checked","toLowerCase","submit","for","$errors","href","target","noreferrer","noopener","_component_MultiSelect","track-by","hide-selected","show-labels","show-no-results","show-no-options","brand","o","Modal","show","ConditionModalCautionSource","_component_Modal","hide-header","hide-footer","lineHeight","refList","formActive","replacer","isAddAll","categoriesSelected","disabledSource","handleCheckExist","sourceName","split","join","push","handleAddCondition","exist","added","isEdit","saveCondition","handleReplaceCondition","indexToReplace","activeName","Set","handleCancelCaution","handleInitCondition","isValidJSON2","parsedTerms","splice","immediate","sanitize","deleteActiveCondtion","handleRelabeling","handleSelectSource","subDomain","category2","handleShowCondition","handleContinueCaution","forEach","active2","handleAddAllCondition","cautions","boxShadow","backgroundImage","logo","indexTerm","onContinue","maxHeight","PreviewCondition","_createStaticVNode","conditionIndex","termIndex","innerHTML","_withModifiers","size","cancelCondition","Fieldset","conditionName","conditionGuideline","conditionTerms","sanitizedConditionTerms","sanitizedConditionGuideline","Draggable","FormPreview","conditionKey","errorExist","minLength","$each","submitting","$reset","createTerm","deleteTerm","model","$model","isEmpty","checkTermsValue","ElMessage","message","ConditionModalPreview","ConditionModalDelete","ConditionModalForm","keys","_component_Draggable","_hoisted_12","_component_FormPreview","condition-name","condition-guideline","refSource","_deleteCondition","_sortingCondition","formPreset","formCategory","dataToDrag","closeModal","handleInitEdit","openModalAdd","openModalUpdate","openModaPreview","openModalDelete","getDetail","priceSync","uniqueId","sync","moved","element","sorted","previewCondition","ConditionMappingSource","ConditionMappingList","handle","indexCondition","_component_ConditionModalForm","is-edit","onSave","_component_ConditionModalPreview","_component_ConditionModalDelete","onCancel","preset2","mappingList","mappingSource","ConditionCategory","ConditionMapping","_component_ConditionMappingSource","price-editor","_component_ConditionMappingList","isPriceSync","noSave","_main","companyName","state","setting","price_sync_company_source","action","add","update","useConditionFormNew","router","useRouter","price_sync","refMapping","refCategory","modalDelete","resetData","validCategory","validCondition","ConditionForm","_component_ConditionCategory","_component_ConditionMapping","conditionForm","categoryId","app","handleSave","handleBack","Checkbox","SelectCountry","SelectCurrency","BulkPriceEditorMappingMethod","BulkPriceEditorMappingCondition","footer","_component_ConditionForm","price-editor-category","overlayModals","refMappingMethod","keyForm","selectedCountryFilter","selectedCurrencyFilter","sourceSelected","filteredSources","typeSelectedSource","itemSelected","nameTitle","names","level_names","modalFormCondition","isOverlays","loadingRule","actionCoverage","actionCheckDevicePricingSource","useCompanyPricingSources","useFeatureFlag","loadingPricing","fetchPricing","actionConditionUpdate","getRule","useCategories","connectData","noRules","flagDefault","flag","pop","isUnavailable","isRemoveStepThree","countryOptions","countryMap","Map","country_code","country_name","has","nicename","iso3","from","values","localeCompare","currencyOptions","currencyMap","currency_code","filtered","currencyProcessing","clearFilters","handleSetLevel","handleInitValue","is_scraper","level","price_coverage","toFixed","messageCase","_rules","selected_sources","sources_conditions","device_mapping_type","mappingType2","mapRule","newVal","newKey","check","handleApply","mapping","sources2","conditionId","_b3","_c3","_d3","mapping_type","isNewRules","newRules","existingRules","compareKeys","normalize","normalized","k","normNew","normExist","validateNewRules","isNew","handleManualMapping","handleValidateSelected","handleIntercomeMessage","window","CustomerSupport","use","handleSelectedMethod","handleBackMappingCondition","handleSaveMappingCondition","handleChangeSource","handleCountryFilterChange","country","selectedCode","currentCode","handleCurrencyFilterChange","setTimeout","handleChangeType","_hoisted_25","_hoisted_33","children","whitelabel","_component_SelectCountry","countries","rounded","noBorder","_component_SelectCurrency","z-index","_component_Checkbox","value-off","is_support_sell_instantly","src","_hoisted_27","_component_BulkPriceEditorMappingMethod","pricing-source","different-rules","onManualMapping","_k","onBack","ExpandablePanel","DeviceInput","SyncPricing","Pagination","BulkPriceEditorSources","Alert","refetch","automatedPrice","roundUp","priceScraper","availablePrice","sycnablePrice","search","disabledAction","actionUpdate","actionSetRule","actionUnsetRule","loadingCustomPrice","resetBulkCustomPriceV2","handleTimeOut","handleSetPriceSyncCustomPrice","handleUnsetPriceSyncCustomPrice","handleResetPriceSyncCustomPrice","handleSavePriceSyncCustomPrice","handleSetItems","handleSetDevices","usePriceSyncCustomPrice","mergeChildrenPreserveInPlaceChunked","sourceList","timerScroll","hasMultipleSources","updateItemDevices","filters","page","limit","isFetched","conditions_sources","current_page","first_page_url","last_page","last_page_url","next_page_url","path","per_page","prev_page_url","to","total","handleGetDevice","isAlreadyFetched","promises","rulePromise","devicesPromise","log","handleFetchDevice","editAutomate","edit","handleLoadedPrice","child","existingChildren","newChildren","handleRefetchFromParent","finally","setItemRefs","el","refDom","$el","handleExpandItem","collapse","clearTimeout","scrollIntoView","behavior","scrollIntoRefDom","changeAutomatedPricing","toggle","isExpanded","updateLoading","handleDeviceUpdate","event","product_id","condition_id","is_sync","pricing","itemPrice","indexPricing","is_subcondition","handleSetOriginalPrice","handleResetPriceSyncCustomPriceBulk","last_child_id","pricing_status","missing_price_flags","model_id_has_no_price","last_child_id_has_no_price","itemIndex","valueItem","itemId","parent_id","top_category_id","deviceIdHasNoPrice","device_id_has_no_price","cancelAutomatedPricing","applyRule","errors","msg","trim","validateData","callBackFetch","refetchDevice","handleSaveCustomPrice","nCondition","actionUpdate2","newMissingPriceFlag","itemsWithCollapseReset","handleResetCustomPrice","handleSetRefetch","_component_ExpandablePanel","ref_for","el-table__expand-icon el-table__expand-icon--expanded","hidden","is-syncable","disabled-action","priceUploadByProgress","resetBulk","scope","mpn","_component_Popover","title_rule","n2","is_mapping","_component_DeviceInput","is-automated-price","has-pricing-source","pricing_source","onSetCustomPrice","onUnsetCustomPrice","onResetCustomPrice","onSetOriginalPrice","_hoisted_26","onUpdate:page","automated-price","level-names","round-up","sycnable-price","price-sharing","price-scraper","onRefetchDevice","_component_BulkPriceEditorSources","onUpdate:modal","onUpdate:item","onUpdate:editing","onUpdate:priceSharing","keyComponent","disabledFromPrice","columns","rows","disabled_select","show_tooltip","handleCheckValue","newRows","set_percentage","Math","abs","handleShowTooltip","filterFecthOption","filterDisabledOption","handleChangeCondition","handleChangePercentage","BulkPriceEditorList","BulkPriceEditorPricingManual","column","nCol","nRow","BulkPriceEditorConditionGroupList","paginatedConditions","slice","loadMore","pathId","loadingTable","keyList","isEditAutomate","isProcessing","actionGetChildren","actionSpecificV2","fetchSpecificV2","tableElement","listLoading","expands","manufacturer","expand","idx","updateCategoryCondition","indexItem","sub_value","resetChildren","renderKey","resetDevices","resetChildItems","childItems","parentItem","resetAllCollapsedExpandable","resetModal","newValue","onBeforeMount","addEventListener","ev","preventDefault","returnValue","onUnmounted","removeEventListener","deviceAll","child_conditions","matchedIndex","loadingItem","callBackRefetch","changeCondition","selected2","existingIndex","selectedIndex","succeed","handlePricingFlagUpdate","pricingStatusData","onCollapse","conditions_group","conditions_group_id","condition_options","alert","onShowPrices","originIndex","top_id","originItem","updatedChild","availabilityCondition","_component_SyncPricing","colspan","onUpdate:conditions","onUpdate:options","onUpdate:disabled","key-component","onChange:condition","_component_BulkPriceEditorList","onUpdate:refetch","Currency","productParent","basePrice","getCurrentInstance","disableInput","loadingUpdate","specs","selectedItem","specsData","spec_id","spec","percentage","pricingData","condition_price","mac_category_id","base_price","loadingId","products","loadingIndex","ComputerTable","_component_Table","_component_Currency","pricingSources","dataModal","selected_model","actionPreview","actionSetBasePrice","loadingPricingSource","actionPricingSources","features","status","customRequest","isPricingSourceUnavailable","selectedCompanyPricingSourceName","currencyFlagDefault","load","modal2","product","entries","acc","curr","source_logo","resetCollapse","toggleRowExpansion","handlePricingSourceChange","handleResetDeviceInfo","handleUpdatePricingSource","is_automated_price","syncable","is_computer","selectModel","getDevice","isWhiteLabel","open","handleSetBasePrice","_hoisted_37","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_52","row-key","expand-row-keys","_component_router_link","rotate-90","is_condition_exist","_component_ComputerTable","product-parent","base-price","_hoisted_53","args","_hoisted_36","_hoisted_39","height","viewBox","fill","d","_hoisted_40","_imports_0","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_46","_hoisted_47","_hoisted_51","showSearch","searchCallBack","Function","showDropdown","searchQuery","selectedItemsModel","itemOptions","name_parent","modelOptions","handleSearch","_","expanded","handleSelectItem","device_id","handleRemoveItem","closeDropdown","product_name","m","selectedConditions","BDropdown","groupLabel","childKey","selectedOptions","optionsFlat","hasEmptyConditions","multipleItems","singleOptions","Search","Rules","_component_BDropdown","dropdown","childOption","getModelItems","canceling","readyToSave","selectingProducts","setRules","useMassPricing","handleClose","triggerClick","handleSubmit","$slots","_normalizeProps","body-scroll","_component_Search","onUpdate:selected","selectedProducts","onUpdate:search","onUpdate:loading","onUpdate:showSearch","_component_Conditions","group-label","modalCancel","pricingState","processing","progress","templates","templateSelected","showInstructions","cancelDownload","saveStateDownload","usePriceUploadDownloadTemplate","loadingDownload","temp","downloadProgress","typeDownload","handleDownload","handleContinue","handleAbort","templateFormat","FileUpload","files","fileUploadConfig","url","field","computedAccept","collapses","alternates","alternateTutorials","PriceUploadTutorials","handlCollapse","handleUploading","handleCompleteUpload","handleErrorUpload","handleRemovedFile","file","_component_FileUpload","accept","config","single-upload","offline","onCompleted","onError","onUploading","openDialog","acceptedFileTypes","accepteds","xmlns","enable-background","types","file-list","fileList","removeFile","isEmptyFiles","line-height","alternateTutorial","howTo","images","_hoisted_35","image","baseOffset","progressPercentage","calculatedOffset","version","PriceUploadDownloadTemplate","PriceUploadImportData","PriceUploadInProgress","r","cx","cy","stroke","stroke-width","stroke-dasharray","stroke-linecap","stroke-dashoffset","y","font-weight","transform","text-align","pro","_state","storeState","modalCancelDownload","handleModalShow","handleUploadCompleted","handleUploadError","handleCloseWarning","handleUpdatePricing","usePriceUpload","openPaywall","usePaywall","handleShowValidation","image_url","typeFile","latestUploadedFile","formData","FormData","append","handleConfirmClose","BulkPriceEditor","BulkPriceEditorComputer","BulkPriceEditorMassPricing","BulkPriceEditorPriceUpload","inProgress","_component_PriceUploadDownloadTemplate","modal-cancel","onDownload","onContinueDownload","_component_PriceUploadImportData","BulkPriceEditorPriceUploadInvalid","isActive","dismiss","moduleName","store2","useStore","getters","module","useAlert","showAlert","ALERT_ID","PRICING","INVALID_PRICE_UPLOAD","stateRoundup","actionGet","actionGetRoundup","actionUpdateRoundup","useRoundup","stateNotifcation","openNotification","useNotification","dataDevice","actionConditionDeviceConditionAvailability","roundupPayload","actionSearch","updateRoundup","is_round_up_price_enable","isPriceSharing","isScraper","disableActions","isUploading","processingUpload","uploadProgress","noAvailability","priceUpload","massPricing","typeOfPackage","package_id","refetchPricing","globals","handleChangePage","handleChangeLimit","perPage","handleClearAlert","handleSubmitPriceUpload","word-break","_component_BulkPriceEditorPriceUpload","click","clickTriggerUpload","invalid","_component_BulkPriceEditorPriceUploadInvalid","clickTrigger","_component_BulkPriceEditor","onRefetchPricing","_component_Pagination","onUpdate:limit","genSuspense","useSuspense"],"mappings":"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"}