{"version":3,"file":"index.9fc806fb.js","sources":["../../src/views/setting/payment-method/promo-code/create/index.vue"],"sourcesContent":["<template>\n  <Modal v-model=\"showModal\" size=\"xs\" @close=\"closeModal\">\n    <template #header>\n      <h5>Add Promo Code</h5>\n    </template>\n    <template #default>\n      <PromoCodeForm ref=\"refForm\" v-model:data=\"formData\" />\n    </template>\n    <template #footer>\n      <div class=\"flex items-center justify-between\">\n        <a\n          class=\"text-red-04 py-4 px-4 hover:text-red-02\"\n          @click.prevent=\"closeModal\">\n          Cancel\n        </a>\n        <Button\n          color=\"teal\"\n          @click=\"createCoupon\"\n          :loading=\"loading.create\">\n          Save\n        </Button>\n      </div>\n    </template>\n  </Modal>\n</template>\n\n<script>\nimport { defineComponent, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useCouponCodes } from 'composable/setting'\nimport Button from 'bbUi/components/button/button.vue'\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport PromoCodeForm from 'components/CouponCode/Form.vue'\nimport { ElMessage } from 'element-plus'\n\nexport default defineComponent({\n  components: {\n    Button,\n    PromoCodeForm,\n    Modal\n  },\n  setup(props, { emit }) {\n    const showModal = ref(true)\n    const { formData, loading, actionCreate } = useCouponCodes()\n    const refForm = ref(null)\n    const router = useRouter()\n    const closeModal = () => {\n      router.push({\n        name: 'settingPayoutsPromoCode'\n      })\n    }\n    const createCoupon = async () => {\n      const isValid = refForm.value?.validate && refForm.value.validate() || false\n      if(isValid) await actionCreate(() => {\n        router.push({\n          name: 'settingPayoutsPromoCode'\n        })\n        ElMessage({\n          type: 'success',\n          message: 'Promo Code created'\n        })\n      })\n    }\n    return {\n      refForm,\n      formData,\n      loading,\n      createCoupon,\n      showModal,\n      closeModal\n    }\n  }\n})\n</script>\n"],"names":["_sfc_main","defineComponent","components","Button","PromoCodeForm","Modal","[object Object]","props","emit","showModal","ref","formData","loading","actionCreate","useCouponCodes","refForm","router","useRouter","createCoupon","async","_a","value","validate","push","name","_u","type","message","closeModal","_createBlock","_component_Modal","onUpdate:modelValue","_cache","$event","_ctx","size","header","_withCtx","_createVNode","_component_PromoCodeForm","footer","_hoisted_1","_createElementVNode","class","_withModifiers","args","_component_Button","color","onClick"],"mappings":"8WAmCA,MAAKA,EAAaC,EAAa,CAC7BC,WAAY,CACVC,OAAAA,gBACAC,QACAC,GAEFC,MAAMC,GAAOC,KAAEA,IACb,MAAMC,EAAYC,GAAI,IAChBC,SAAEA,EAAUC,QAAAA,EAAAC,aAASA,GAAiBC,IACtCC,EAAUL,EAAI,MACdM,EAASC,IAkBR,MAAA,CACLF,QAAAA,EACAJ,SAAAA,EACAC,QAAAA,EACAM,aAhBmBC,kBACH,OAAQC,EAAAL,EAAAM,gBAAOC,WAAYP,EAAQM,MAAMC,aAAc,UACrDT,GAAa,KAC7BG,EAAOO,KAAK,CACVC,KAAM,4BAEEC,EAAA,CACRC,KAAM,UACNC,QAAS,2BASblB,UAAAA,EACAmB,WAvBiB,KACjBZ,EAAOO,KAAK,CACVC,KAAM,2LA/CaK,EAAAC,EAAA,wBAAEC,sBAASC,EAAA,OAAA,GAAAC,GAAAC,EAAAzB,UAAAwB,GAAEE,KAAA,2BACzB,CACTC,OAAAC,GAAA,aAAkB,GAAA,8CAGqCA,GAAA,IAAA,CAAxCC,EAAaC,EAAA,CAAS7B,gGAGrC8B,OAAAH,GAAA,OAKM,MAAAI,EAAA,CAHFC,EAA+C,IAAA,CAC9CC,MAAK,kDAERX,EAAA,KAAAA,EAAA,GAAAY,GAAA,IAAAC,IAAAX,EAAAN,YAAAM,EAAAN,cAAAiB,IAAA,CAAA,cAMS,YAJPP,EAAYQ,EAAA,CACXC,MAAK,OACLC,QAASd,EAAOhB,uDAEnBc,EAAA,OAAA,GAAA"}