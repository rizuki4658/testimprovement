{"version":3,"file":"onboarding.d97d344b.js","sources":["../../src/composable/onboarding.js"],"sourcesContent":["import { ref, reactive, computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport store from 'store'\nimport { isFunction } from 'utils/is'\nimport { useCookie } from 'utils/cookie'\nimport { required, email } from '@/validations/index'\nimport { helpers } from '@vuelidate/validators'\nimport { useRegister } from 'composable/user'\n\nconst cookie = useCookie()\n\nconst isIncompleteData = (data, options = {}) => {\n  const { excludedKeys } = options\n  return (\n    Object.entries(data).filter(([key, value]) => {\n      if (excludedKeys?.includes?.(key)) return false\n      return (\n        value === '' || value === null || value === undefined || value === false\n      )\n    }).length > 0\n  )\n}\n\nconst usePersonalInformation = () => {\n  const route = useRoute()\n  const loading = ref(false)\n  const isRegisteredReady = ref(false)\n  const isShowPassword = ref(false)\n  const data = reactive({\n    name: '',\n    email: '',\n    password: '',\n    package_id: 17\n  })\n  const validationRules = reactive({\n    name: {\n      required\n    },\n    email: {\n      required,\n      email\n    },\n    password: {\n      required,\n      passwordValidation: helpers.withMessage(\n        'At least 6 characters and include capital letters',\n        helpers.regex(/^(?=.*?[A-Z]).{6,}$/)\n      )\n    }\n  })\n  const action = async (callback = () => {}) => {\n    try {\n      loading.value = true\n      const response = await store.dispatch('onboarding/register', data)\n      isFunction(callback) && callback(response)\n    } finally {\n      loading.value = false\n    }\n  }\n  const isIncompleteForm = computed(() => isIncompleteData(data))\n  const isVerifyEmail = computed(() => !!route.query.token)\n  return {\n    loading,\n    isShowPassword,\n    isRegisteredReady,\n    data,\n    validationRules,\n    isIncompleteForm,\n    isVerifyEmail,\n    action\n  }\n}\n\nconst useEmailVerification = () => {\n  const route = useRoute()\n  const data = reactive({\n    code: '',\n    code_encrypted: '',\n    company_token: '',\n    is_validate_email_sender: false\n  })\n  const loading = ref(false)\n  const action = async (callback = () => {}) => {\n    try {\n      loading.value = true\n      const { company_token, ...restOfData } = data\n      const response = await store.dispatch('onboarding/verifyEmail', {\n        data: restOfData,\n        params: {\n          company_token\n        }\n      })\n      // Reset company-referrer cookie\n      cookie.remove('company-referrer', {\n        path: '/onboarding'\n      })\n      isFunction(callback) && callback(null, response)\n    } catch (err) {\n      isFunction(callback) && callback(err, null)\n    } finally {\n      loading.value = false\n    }\n  }\n  const isIncomplete = computed(() => data.code?.length < 6)\n  const decodedTokenPayload = computed(() => {\n    const token = route.query.token\n    if (!token)\n      return {\n        code_encrypted: null,\n        email: null,\n        company_token: null\n      }\n    try {\n      return JSON.parse(window.atob(token))\n    } catch (err) {\n      console.warn(`Error while decoding token: ${err.message}`)\n      return {\n        code_encrypted: null,\n        email: null\n      }\n    }\n  })\n  return {\n    data,\n    loading,\n    isIncomplete,\n    decodedTokenPayload,\n    action\n  }\n}\n\nconst usePurchasingMethod = () => {\n  const { actionCurrencies, actionCountries, countries, currencies } =\n    useRegister()\n  const data = reactive({\n    name: null,\n    legal_business_name: null,\n    country_code: null,\n    country_name: null,\n    currency: null,\n    currency_symbol: null,\n    address: null,\n    city: null,\n    zip: null,\n    state: null,\n    suite: null,\n    address_text: null,\n    lat: null,\n    lon: null,\n    valid: false,\n    location_type: null\n  })\n  const loading = ref(false)\n  const validationRules = reactive({\n    legal_business_name: {\n      required: helpers.withMessage('Legal business name is required', required)\n    },\n    name: {\n      required: helpers.withMessage('Doing business as (DBA) is required', required)\n    },\n    country_code: {\n      required: helpers.withMessage('Business country is required', required)\n    },\n    currency: {\n      required: helpers.withMessage('Business currency is required', required)\n    },\n    address_text: {\n      required: helpers.withMessage('Business address is required', required)\n    },\n    city: {\n      required: helpers.withMessage('City is required', required)\n    },\n    zip: {\n        required: helpers.withMessage(\n          'is required', \n          required\n        )\n    }\n  })\n  const isIncompleteForm = computed(() =>\n    isIncompleteData(data, {\n      excludedKeys: ['lat', 'lon', 'suite', 'address', 'city', 'zip', 'state']\n    })\n  )\n  const isShowForm = computed(() => data.location_type !== null)\n  const action = async (callback = () => {}, isAdd = false) => {\n    try {\n      loading.value = true\n      if (!isAdd) {\n        await store.dispatch('onboarding/registerUpdate', data)\n      } else await store.dispatch('onboarding/registerUpdateByToken', data)\n      isFunction(callback) && callback()\n    } finally {\n      loading.value = false\n    }\n  }\n  const actionSetCurrency = async (data) => {\n    await store.dispatch('onboarding/setCurrency', data)\n  }\n  return {\n    data,\n    loading,\n    validationRules,\n    actionCurrencies,\n    actionCountries,\n    countries,\n    currencies,\n    isIncompleteForm,\n    isShowForm,\n    action,\n    actionSetCurrency\n  }\n}\n\nconst useSyncableDevices = () => {\n  const state = computed(() => store.state.onboarding.syncable_devices)\n  const loading = ref(false)\n  const filters = reactive({\n    page: 1\n  })\n  const actionGetDevices = async (callback = () => {}) => {\n    try {\n      loading.value = true\n      await store.dispatch('onboarding/getSyncableDevices', filters)\n      isFunction(callback) && callback()\n    } finally {\n      loading.value = false\n    }\n  }\n  return {\n    state,\n    loading,\n    filters,\n    actionGetDevices\n  }\n}\n\nconst usePricingSourceCompanies = () => {\n  const data = reactive({\n    category_id: null,\n    is_mac: 0\n  })\n  const state = computed(() => store.state.onboarding.pricing_source_companies)\n  const loading = ref(false)\n  const actionGetCompanies = async (callback = () => {}) => {\n    try {\n      loading.value = true\n      await store.dispatch('onboarding/getPricingSourceCompanies', data)\n      isFunction(callback) && callback()\n    } finally {\n      loading.value = false\n    }\n  }\n  const unsetPricingSourceCompanies = () => {\n    Object.assign(data, {\n      category_id: null,\n      is_mac: 0\n    })\n    store.commit('onboarding/UNSET_PRICING_SOURCE_COMPANIES')\n  }\n  return {\n    data,\n    state,\n    loading,\n    actionGetCompanies,\n    unsetPricingSourceCompanies\n  }\n}\n\nconst useProductPriceSync = () => {\n  const state = computed(() => store.state.onboarding.price_sync.arr_devices)\n  const stateCompanySource = computed(\n    () => store.state.onboarding.company_pricing_source\n  )\n  const stateCurrentCurrencySymbol = computed(\n    () =>\n      store.state.onboarding.currency_symbol ||\n      store.state.user.me?.currency_symbol ||\n      ''\n  )\n  const stateCurrentCurrency = computed(\n    () => store.state.onboarding.currency || store.state.user.me?.currency || ''\n  )\n  const stateCurrentCountryCode = computed(() => {\n    const flag =\n        (stateCurrentCurrency.value && stateCurrentCurrency.value.split(''))\n      || ('USD').split('')\n\n    flag.pop()\n    \n    return flag.join('').toLowerCase()\n  })\n  const stateAvailableDevicesPriceSyncPreview = computed(\n    () => store.state.onboarding.price_sync_preview.available_devices\n  )\n  const stateSelectedDevicePriceSyncPreview = computed(\n    () => store.state.onboarding.price_sync_preview.selected_device\n  )\n  const stateDevicePriceSyncPreview = computed(\n    () => store.state.onboarding.price_sync_preview.price_preview\n  )\n\n  const data = reactive({\n    category_id: null,\n    type: 3,\n    source: null,\n    amount_type: 1,\n    amount_price: 0,\n    is_computer: null,\n    name: null,\n    image: null\n  })\n  const loading = reactive({\n    price_sync: false,\n    active_device: false,\n    eject_price_sync: false,\n    available_devices_sync_preview: false,\n    device_sync_preview: false\n  })\n  const modal = ref(false)\n  const priceSyncDevice = async () => {\n    try {\n      await store.commit('onboarding/SET_PRICE_SYNC_DEVICE', { ...data })\n    } finally {\n    }\n  }\n  const removePriceSyncDevice = (product) => {\n    store.commit('onboarding/REMOVE_PRICE_SYNC_DEVICE', product)\n  }\n  const unsetPriceSyncDevice = () => {\n    Object.assign(data, {\n      category_id: null,\n      type: 3,\n      source: null,\n      amount_type: 0,\n      amount_price: 0,\n      is_computer: null,\n      name: null,\n      image: null\n    })\n    store.commit('onboarding/UNSET_PRICE_SYNC_DEVICE')\n    store.commit('onboarding/UNSET_DEVICE_PRICE_SYNC_PREVIEW')\n  }\n  const selectDevicePriceSyncPreview = (selectedDevice = null) => {\n    if (!selectedDevice) return\n    store.commit(\n      'onboarding/SET_SELECTED_DEVICE_PRICE_SYNC_PREVIEW',\n      selectedDevice\n    )\n  }\n  const actionPriceSyncs = async (callback = () => {}) => {\n    try {\n      loading.price_sync = true\n      await store.dispatch('onboarding/priceSyncs')\n      isFunction(callback) && callback()\n    } finally {\n      loading.price_sync = false\n    }\n  }\n  const actionCheckActiveDevice = async (callback = () => {}) => {\n    try {\n      loading.active_device = true\n      const isValidData =\n        data.category_id !== null &&\n        data.is_computer !== null &&\n        data.source !== null\n      if (!isValidData) return\n      await store.dispatch('onboarding/activeDevice', {\n        category_id: data.category_id,\n        is_mac: data.is_computer,\n        sub_domain: data.source\n      })\n      isFunction(callback) && callback()\n    } finally {\n      loading.active_device = false\n    }\n  }\n  const actionEjectPriceSync = async (callback) => {\n    try {\n      loading.eject_price_sync = true\n      await store.dispatch('onboarding/ejectPriceSync')\n      isFunction(callback) && callback()\n    } finally {\n      loading.eject_price_sync = false\n    }\n  }\n  const actionAvailableDevicesPreview = async (callback = () => {}) => {\n    try {\n      loading.available_devices = true\n      await store.dispatch('onboarding/getAvailableDevicesPriceSyncPreview', {\n        categories: 'mac',\n        category_id: data.category_id,\n        is_onboarding: true\n      })\n      isFunction(callback) && callback()\n    } finally {\n      loading.available_devices = false\n    }\n  }\n  const actionDevicePriceSyncPreview = async (callback = () => {}) => {\n    try {\n      loading.device_sync_preview = true\n      await store.dispatch('onboarding/devicePriceSyncPreview', {\n        product_id: stateSelectedDevicePriceSyncPreview.value.id,\n        type: data.type,\n        source: data.source,\n        type: data.type,\n        amount_price: data.amount_price,\n        amount_type: data.amount_type\n      })\n      isFunction(callback) && callback()\n    } finally {\n      loading.device_sync_preview = false\n    }\n  }\n\n  const isIncompletePriceSyncDevice = computed(() => {\n    const excludedKeys = ['image']\n    const isSyncPricingTypeMatched = data.type == 3\n    const isAvailableCompanySourcePricing =\n      stateCompanySource.value.status === 'available'\n    const isFetchingCompanySource = loading.active_device == true\n    if (isSyncPricingTypeMatched && isAvailableCompanySourcePricing) {\n      excludedKeys.push('amount_type')\n      excludedKeys.push('amount_price')\n    }\n\n    return (\n      isIncompleteData(data, {\n        excludedKeys\n      }) || isFetchingCompanySource\n    )\n  })\n  const isIncompletePriceSyncs = computed(() => state.value.length < 1)\n\n  return {\n    state,\n    stateCompanySource,\n    stateCurrentCurrency,\n    stateCurrentCountryCode,\n    stateCurrentCurrencySymbol,\n    stateAvailableDevicesPriceSyncPreview,\n    stateSelectedDevicePriceSyncPreview,\n    stateDevicePriceSyncPreview,\n    data,\n    loading,\n    modal,\n    isIncompletePriceSyncDevice,\n    isIncompletePriceSyncs,\n    priceSyncDevice,\n    removePriceSyncDevice,\n    unsetPriceSyncDevice,\n    selectDevicePriceSyncPreview,\n    actionPriceSyncs,\n    actionCheckActiveDevice,\n    actionEjectPriceSync,\n    actionAvailableDevicesPreview,\n    actionDevicePriceSyncPreview\n  }\n}\n\nconst useShowPayoutMethods = () => {\n  const state = computed(() => store.state.onboarding.payout_methods)\n  const statePopular = computed(\n    () => store.state.onboarding.popular_payout_methods\n  )\n  const loading = ref(false)\n  const actionShow = async (callback = () => {}) => {\n    try {\n      loading.value = true\n      await store.dispatch('onboarding/showPayoutMethods')\n      isFunction(callback) && callback()\n    } finally {\n      loading.value = false\n    }\n  }\n  return {\n    state,\n    statePopular,\n    loading,\n    actionShow\n  }\n}\n\nconst usePayoutMethods = () => {\n  const state = computed(\n    () => store.state.onboarding.selected_payout_methods.arr_payment_methods\n  )\n  const loading = ref(false)\n  const setSelectedPayoutMethods = (payoutMethods) =>\n    store.commit('onboarding/SET_SELECTED_PAYOUT_METHODS', payoutMethods)\n  const actionUpdatePayout = async (callback = () => {}) => {\n    try {\n      loading.value = true\n      await store.dispatch('onboarding/updatePayoutMethods')\n      isFunction(callback) && callback()\n    } finally {\n      loading.value = false\n    }\n  }\n  const isIncompleteForm = computed(() => state.value.length < 1)\n  return {\n    state,\n    loading,\n    isIncompleteForm,\n    setSelectedPayoutMethods,\n    actionUpdatePayout\n  }\n}\n\nconst useWidget = () => {\n  const state = computed(() => store.state.onboarding.widget_code)\n  const modal = reactive({\n    widget_code_email: false\n  })\n  const loading = reactive({\n    get: false,\n    widget_code_email: false\n  })\n  const setWidgetCodeEmailRecepient = (emails) =>\n    store.commit('onboarding/SET_WIDGET_CODE_EMAIL_RECEPIENT', emails)\n  const unsetWidgetCodeEmailRecepient = () =>\n    store.commit('onboarding/UNSET_WIDGET_CODE_EMAIL_RECEPIENT')\n\n  const actionGetWidget = async (callback = () => {}) => {\n    try {\n      loading.get = true\n      await store.dispatch('onboarding/widget')\n      isFunction(callback) && callback()\n    } finally {\n      loading.get = false\n    }\n  }\n  const actionSendWidgetCode = async (callback = () => {}) => {\n    try {\n      loading.widget_code_email = true\n      await store.dispatch('onboarding/widgetCodeEmailSend')\n      isFunction(callback) && callback()\n    } finally {\n      loading.widget_code_email = false\n    }\n  }\n  const actionRefreshData = async () => {\n    await store.dispatch('user/me')\n  }\n\n  return {\n    state,\n    loading,\n    modal,\n    actionGetWidget,\n    actionRefreshData,\n    actionSendWidgetCode,\n    setWidgetCodeEmailRecepient,\n    unsetWidgetCodeEmailRecepient\n  }\n}\n\nconst useCurrentStep = () => {\n  const state = computed(() => store.state.onboarding.current_step)\n  const stepRoutes = computed(() => [\n    {\n      step: 1,\n      route: {\n        name: 'onboardingPersonalInformation',\n        query: {}\n      }\n    },\n    {\n      step: 2,\n      route: {\n        name: 'onboardingPersonalInformation',\n        query: {\n          token: window.btoa(\n            JSON.stringify({\n              email: store.state.user.me?.email || '',\n              code_encrypted: state.value.code_encrypted || null\n            })\n          )\n        }\n      }\n    },\n    {\n      step: 3,\n      route: {\n        name: 'onboardingPurchasingMethod',\n        query: {},\n        params: {\n          verified: true // this need to be set to true when navigating away from verify email section. See validation #86792nrh4\n        }\n      }\n    },\n    {\n      step: 4,\n      route: {\n        name: 'onboardingSyncProducts',\n        query: {}\n      }\n    },\n    {\n      step: 5,\n      route: {\n        name: 'onboardingPayoutMethods',\n        query: {}\n      }\n    },\n    {\n      step: 6,\n      route: {\n        name: 'onboardingDeployWidget',\n        query: {}\n      }\n    }\n  ])\n  const currentStepRoute = computed(\n    () =>\n      stepRoutes.value.find(\n        (route) => route.step === state.value.last_register_step\n      )?.route || stepRoutes.value[0]\n  )\n  const loading = ref(false)\n  const actionCurrentStep = async (callback = () => {}) => {\n    try {\n      loading.value = true\n      await store.dispatch('onboarding/currentStep')\n      isFunction(callback) && callback()\n    } catch (err) {\n    } finally {\n      loading.value = false\n    }\n  }\n  return {\n    state,\n    loading,\n    stepRoutes,\n    currentStepRoute,\n    actionCurrentStep\n  }\n}\n\nconst useCompanyReferrer = () => {\n  const companyReferrerToken =\n    cookie.get('company-referrer', {\n      path: '/onboarding'\n    }) || null\n\n  store.commit('onboarding/SET_COMPANY_REFERRER', companyReferrerToken)\n\n  const loading = reactive({\n    all: false\n  })\n  const companyReferrer = computed(\n    () => store.state.onboarding.company_referrer\n  )\n  const companyReferrerDetail = computed(\n    () => store.state.onboarding.company_referrer_detail\n  )\n  const hasCompanyReferrer = computed(\n    () => store.getters['onboarding/hasCompanyReferrer']\n  )\n  const getCompanyReferrerDetail = async () => {\n    try {\n      loading.all = true\n      await store.dispatch('onboarding/getCompanyReferrerDetail')\n    } finally {\n      loading.all = false\n    }\n  }\n\n  return {\n    loading,\n    companyReferrer,\n    companyReferrerDetail,\n    getCompanyReferrerDetail,\n    hasCompanyReferrer\n  }\n}\n\nexport {\n  usePersonalInformation,\n  useEmailVerification,\n  usePurchasingMethod,\n  useSyncableDevices,\n  usePricingSourceCompanies,\n  useProductPriceSync,\n  useShowPayoutMethods,\n  usePayoutMethods,\n  useWidget,\n  useCurrentStep,\n  useCompanyReferrer\n}\n"],"names":["cookie","useCookie","isIncompleteData","data","options","excludedKeys","Object","entries","filter","key","value","_a","includes","call","length","usePersonalInformation","route","useRoute","loading","ref","isRegisteredReady","isShowPassword","reactive","name","email","password","package_id","validationRules","required","passwordValidation","helpers","withMessage","regex","isIncompleteForm","computed","isVerifyEmail","query","token","action","async","callback","response","store","dispatch","isFunction","useEmailVerification","code","code_encrypted","company_token","is_validate_email_sender","isIncomplete","decodedTokenPayload","JSON","parse","window","atob","err","console","warn","message","restOfData","__objRest","params","remove","path","usePurchasingMethod","actionCurrencies","actionCountries","countries","currencies","useRegister","legal_business_name","country_code","country_name","currency","currency_symbol","address","city","zip","state","suite","address_text","lat","lon","valid","location_type","isShowForm","isAdd","actionSetCurrency","data2","useSyncableDevices","onboarding","syncable_devices","filters","page","actionGetDevices","usePricingSourceCompanies","category_id","is_mac","pricing_source_companies","actionGetCompanies","unsetPricingSourceCompanies","assign","commit","useProductPriceSync","price_sync","arr_devices","stateCompanySource","company_pricing_source","stateCurrentCurrencySymbol","user","me","stateCurrentCurrency","stateCurrentCountryCode","flag","split","pop","join","toLowerCase","stateAvailableDevicesPriceSyncPreview","price_sync_preview","available_devices","stateSelectedDevicePriceSyncPreview","selected_device","stateDevicePriceSyncPreview","price_preview","type","source","amount_type","amount_price","is_computer","image","active_device","eject_price_sync","available_devices_sync_preview","device_sync_preview","modal","isIncompletePriceSyncDevice","isSyncPricingTypeMatched","isAvailableCompanySourcePricing","status","isFetchingCompanySource","push","isIncompletePriceSyncs","priceSyncDevice","__spreadValues","removePriceSyncDevice","product","unsetPriceSyncDevice","selectDevicePriceSyncPreview","selectedDevice","actionPriceSyncs","actionCheckActiveDevice","sub_domain","actionEjectPriceSync","actionAvailableDevicesPreview","categories","is_onboarding","actionDevicePriceSyncPreview","product_id","id","useShowPayoutMethods","payout_methods","statePopular","popular_payout_methods","actionShow","usePayoutMethods","selected_payout_methods","arr_payment_methods","setSelectedPayoutMethods","payoutMethods","actionUpdatePayout","useCurrentStep","current_step","stepRoutes","step","btoa","stringify","verified","currentStepRoute","find","last_register_step","actionCurrentStep","useCompanyReferrer","companyReferrerToken","get","all","companyReferrer","company_referrer","companyReferrerDetail","company_referrer_detail","hasCompanyReferrer","getters","getCompanyReferrerDetail"],"mappings":"4aASA,MAAMA,EAASC,IAETC,EAAmB,CAACC,EAAMC,EAAU,MACxC,MAAMC,aAAEA,GAAiBD,EACzB,OACEE,OAAOC,QAAQJ,GAAMK,QAAO,EAAEC,EAAKC,YAC7B,QAAA,OAAAC,EAAA,MAAAN,OAAA,EAAAA,EAAcO,eAAW,EAAAD,EAAAE,KAAAR,EAAAI,MAEjB,KAAVC,GAAAA,MAAgBA,IAAmD,IAAVA,MAE1DI,OAAS,GAIVC,EAAyB,KAC7B,MAAMC,EAAQC,IACRC,EAAUC,GAAI,GACdC,EAAoBD,GAAI,GACxBE,EAAiBF,GAAI,GACrBhB,EAAOmB,EAAS,CACpBC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,WAAY,KAERC,EAAkBL,EAAS,CAC/BC,KAAM,CACJK,SAAAA,GAEFJ,MAAO,CACLI,SAAAA,EACAJ,MAAAA,GAEFC,SAAU,CACRG,SAAAA,EACAC,mBAAoBC,EAAQC,YAC1B,oDACAD,EAAQE,MAAM,2BAadC,EAAmBC,GAAS,IAAMhC,EAAiBC,KACnDgC,EAAgBD,GAAS,MAAQlB,EAAMoB,MAAMC,QAC5C,MAAA,CACLnB,QAAAA,EACAG,eAAAA,EACAD,kBAAAA,EACAjB,KAAAA,EACAwB,gBAAAA,EACAM,iBAAAA,EACAE,cAAAA,EACAG,OAnBaC,MAAOC,EAAW,YAC3B,IACFtB,EAAQR,OAAQ,EAChB,MAAM+B,QAAiBC,EAAMC,SAAS,sBAAuBxC,GAC7DyC,EAAWJ,IAAaA,EAASC,GACzB,QACRvB,EAAQR,OAAQ,MAiBhBmC,EAAuB,KAC3B,MAAM7B,EAAQC,IACRd,EAAOmB,EAAS,CACpBwB,KAAM,GACNC,eAAgB,GAChBC,cAAe,GACfC,0BAA0B,IAEtB/B,EAAUC,GAAI,GAsBd+B,EAAehB,GAAS,WAAW,OAAL,OAAKvB,EAAAR,EAAA2C,eAAMhC,QAAS,KAClDqC,EAAsBjB,GAAS,KAC7B,MAAAG,EAAQrB,EAAMoB,MAAMC,MAC1B,IAAKA,EACI,MAAA,CACLU,eAAgB,KAChBvB,MAAO,KACPwB,cAAe,MAEf,IACK,OAAAI,KAAKC,MAAMC,OAAOC,KAAKlB,IAAA,MACvBmB,GAEA,OADCC,QAAAC,KAAK,+BAA+BF,EAAIG,WACzC,CACLZ,eAAgB,KAChBvB,MAAO,UAIN,MAAA,CACLrB,KAAAA,EACAe,QAAAA,EACAgC,aAAAA,EACAC,oBAAAA,EACAb,OA7CaC,MAAOC,EAAW,YAC3B,IACFtB,EAAQR,OAAQ,EAChB,MAAyCC,EAAjCR,GAAA6C,cAAAA,GAAiCrC,EAAfiD,+JAAAC,CAAelD,EAAf,CAAlB,kBACF8B,QAAiBC,EAAMC,SAAS,yBAA0B,CAC9DxC,KAAMyD,EACNE,OAAQ,CACNd,cAAAA,KAIJhD,EAAO+D,OAAO,mBAAoB,CAChCC,KAAM,gBAEGpB,EAAAJ,IAAaA,EAAS,KAAMC,GAAA,MAChCe,GACIZ,EAAAJ,IAAaA,EAASgB,EAAK,MAC9B,QACRtC,EAAQR,OAAQ,MA+BhBuD,EAAsB,KAC1B,MAAMC,iBAAEA,EAAAC,gBAAkBA,EAAiBC,UAAAA,EAAAC,WAAWA,GACpDC,IACInE,EAAOmB,EAAS,CACpBC,KAAM,KACNgD,oBAAqB,KACrBC,aAAc,KACdC,aAAc,KACdC,SAAU,KACVC,gBAAiB,KACjBC,QAAS,KACTC,KAAM,KACNC,IAAK,KACLC,MAAO,KACPC,MAAO,KACPC,aAAc,KACdC,IAAK,KACLC,IAAK,KACLC,OAAO,EACPC,cAAe,OAEXnE,EAAUC,GAAI,GACdQ,EAAkBL,EAAS,CAC/BiD,oBAAqB,CACnB3C,SAAUE,EAAQC,YAAY,kCAAmCH,IAEnEL,KAAM,CACJK,SAAUE,EAAQC,YAAY,sCAAuCH,IAEvE4C,aAAc,CACZ5C,SAAUE,EAAQC,YAAY,+BAAgCH,IAEhE8C,SAAU,CACR9C,SAAUE,EAAQC,YAAY,gCAAiCH,IAEjEqD,aAAc,CACZrD,SAAUE,EAAQC,YAAY,+BAAgCH,IAEhEiD,KAAM,CACJjD,SAAUE,EAAQC,YAAY,mBAAoBH,IAEpDkD,IAAK,CACDlD,SAAUE,EAAQC,YAChB,cACAH,MAIFK,EAAmBC,GAAS,IAChChC,EAAiBC,EAAM,CACrBE,aAAc,CAAC,MAAO,MAAO,QAAS,UAAW,OAAQ,MAAO,aAG9DiF,EAAapD,GAAS,IAA6B,OAAvB/B,EAAKkF,gBAehC,MAAA,CACLlF,KAAAA,EACAe,QAAAA,EACAS,gBAAAA,EACAuC,iBAAAA,EACAC,gBAAAA,EACAC,UAAAA,EACAC,WAAAA,EACApC,iBAAAA,EACAqD,WAAAA,EACAhD,OAxBaC,MAAOC,EAAW,SAAU+C,GAAQ,KAC7C,IACFrE,EAAQR,OAAQ,EACX6E,QAEQ7C,EAAMC,SAAS,mCAAoCxC,SADxDuC,EAAMC,SAAS,4BAA6BxC,GAEpDyC,EAAWJ,IAAaA,IAChB,QACRtB,EAAQR,OAAQ,IAiBlB8E,kBAdwBjD,MAAOkD,UACzB/C,EAAMC,SAAS,yBAA0B8C,MAiB7CC,EAAqB,KACzB,MAAMX,EAAQ7C,GAAS,IAAMQ,EAAMqC,MAAMY,WAAWC,mBAC9C1E,EAAUC,GAAI,GACd0E,EAAUvE,EAAS,CACvBwE,KAAM,IAWD,MAAA,CACLf,MAAAA,EACA7D,QAAAA,EACA2E,QAAAA,EACAE,iBAbuBxD,MAAOC,EAAW,YACrC,IACFtB,EAAQR,OAAQ,QACVgC,EAAMC,SAAS,gCAAiCkD,GACtDjD,EAAWJ,IAAaA,IAChB,QACRtB,EAAQR,OAAQ,MAWhBsF,EAA4B,KAChC,MAAM7F,EAAOmB,EAAS,CACpB2E,YAAa,KACbC,OAAQ,IAEJnB,EAAQ7C,GAAS,IAAMQ,EAAMqC,MAAMY,WAAWQ,2BAC9CjF,EAAUC,GAAI,GAiBb,MAAA,CACLhB,KAAAA,EACA4E,MAAAA,EACA7D,QAAAA,EACAkF,mBApByB7D,MAAOC,EAAW,YACvC,IACFtB,EAAQR,OAAQ,QACVgC,EAAMC,SAAS,uCAAwCxC,GAC7DyC,EAAWJ,IAAaA,IAChB,QACRtB,EAAQR,OAAQ,IAelB2F,4BAZkC,KAClC/F,OAAOgG,OAAOnG,EAAM,CAClB8F,YAAa,KACbC,OAAQ,IAEVxD,EAAM6D,OAAO,gDAWXC,EAAsB,KAC1B,MAAMzB,EAAQ7C,GAAS,IAAMQ,EAAMqC,MAAMY,WAAWc,WAAWC,cACzDC,EAAqBzE,GACzB,IAAMQ,EAAMqC,MAAMY,WAAWiB,yBAEzBC,EAA6B3E,GACjC,WACQ,OAAAQ,EAAAqC,MAAMY,WAAWhB,kBACvB,OAAAhE,EAAA+B,EAAMqC,MAAM+B,KAAKC,aAAIpC,kBACrB,MAEEqC,EAAuB9E,GAC3B,WAAY,OAAAQ,EAAAqC,MAAMY,WAAWjB,WAAY,OAAA/D,EAAA+B,EAAMqC,MAAM+B,KAAKC,aAAIrC,WAAY,MAEtEuC,EAA0B/E,GAAS,KACjC,MAAAgF,EACDF,EAAqBtG,OAASsG,EAAqBtG,MAAMyG,MAAM,KAC9D,MAAOA,MAAM,IAIZ,OAFFD,EAAAE,MAEEF,EAAKG,KAAK,IAAIC,iBAEjBC,EAAwCrF,GAC5C,IAAMQ,EAAMqC,MAAMY,WAAW6B,mBAAmBC,oBAE5CC,EAAsCxF,GAC1C,IAAMQ,EAAMqC,MAAMY,WAAW6B,mBAAmBG,kBAE5CC,EAA8B1F,GAClC,IAAMQ,EAAMqC,MAAMY,WAAW6B,mBAAmBK,gBAG5C1H,EAAOmB,EAAS,CACpB2E,YAAa,KACb6B,KAAM,EACNC,OAAQ,KACRC,YAAa,EACbC,aAAc,EACdC,YAAa,KACb3G,KAAM,KACN4G,MAAO,OAEHjH,EAAUI,EAAS,CACvBmF,YAAY,EACZ2B,eAAe,EACfC,kBAAkB,EAClBC,gCAAgC,EAChCC,qBAAqB,IAEjBC,EAAQrH,GAAI,GAiGZsH,EAA8BvG,GAAS,KAC3C,MAAM7B,EAAe,CAAC,SAChBqI,EAAwC,GAAbvI,EAAK2H,KAChCa,EACgC,cAApChC,EAAmBjG,MAAMkI,OACrBC,EAAmD,GAAzB3H,EAAQkH,cAMxC,OALIM,GAA4BC,IAC9BtI,EAAayI,KAAK,eAClBzI,EAAayI,KAAK,iBAIlB5I,EAAiBC,EAAM,CACrBE,aAAAA,KACIwI,KAGJE,EAAyB7G,GAAS,IAAM6C,EAAMrE,MAAMI,OAAS,IAE5D,MAAA,CACLiE,MAAAA,EACA4B,mBAAAA,EACAK,qBAAAA,EACAC,wBAAAA,EACAJ,2BAAAA,EACAU,sCAAAA,EACAG,oCAAAA,EACAE,4BAAAA,EACAzH,KAAAA,EACAe,QAAAA,EACAsH,MAAAA,EACAC,4BAAAA,EACAM,uBAAAA,EACAC,gBAjIsBzG,UAClB,UACIG,EAAM6D,OAAO,sJAAoC0C,CAAK,GAAA9I,IACpD,WA+HV+I,sBA5H6BC,IAC7BzG,EAAM6D,OAAO,sCAAuC4C,IA4HpDC,qBA1H2B,KAC3B9I,OAAOgG,OAAOnG,EAAM,CAClB8F,YAAa,KACb6B,KAAM,EACNC,OAAQ,KACRC,YAAa,EACbC,aAAc,EACdC,YAAa,KACb3G,KAAM,KACN4G,MAAO,OAETzF,EAAM6D,OAAO,sCACb7D,EAAM6D,OAAO,+CA+Gb8C,6BA7GmC,CAACC,EAAiB,QAChDA,GACL5G,EAAM6D,OACJ,oDACA+C,IA0GFC,iBAvGuBhH,MAAOC,EAAW,YACrC,IACFtB,EAAQuF,YAAa,QACf/D,EAAMC,SAAS,yBACrBC,EAAWJ,IAAaA,IAChB,QACRtB,EAAQuF,YAAa,IAkGvB+C,wBA/F8BjH,MAAOC,EAAW,YAC5C,IACFtB,EAAQkH,eAAgB,EAKxB,KAHuB,OAArBjI,EAAK8F,aACgB,OAArB9F,EAAK+H,aACW,OAAhB/H,EAAK4H,QACW,aACZrF,EAAMC,SAAS,0BAA2B,CAC9CsD,YAAa9F,EAAK8F,YAClBC,OAAQ/F,EAAK+H,YACbuB,WAAYtJ,EAAK4H,SAEnBnF,EAAWJ,IAAaA,IAChB,QACRtB,EAAQkH,eAAgB,IAiF1BsB,qBA9E2BnH,MAAOC,IAC9B,IACFtB,EAAQmH,kBAAmB,QACrB3F,EAAMC,SAAS,6BACrBC,EAAWJ,IAAaA,IAChB,QACRtB,EAAQmH,kBAAmB,IAyE7BsB,8BAtEoCpH,MAAOC,EAAW,YAClD,IACFtB,EAAQuG,mBAAoB,QACtB/E,EAAMC,SAAS,iDAAkD,CACrEiH,WAAY,MACZ3D,YAAa9F,EAAK8F,YAClB4D,eAAe,IAEjBjH,EAAWJ,IAAaA,IAChB,QACRtB,EAAQuG,mBAAoB,IA6D9BqC,6BA1DmCvH,MAAOC,EAAW,YACjD,IACFtB,EAAQqH,qBAAsB,QACxB7F,EAAMC,SAAS,oCAAqC,CACxDoH,WAAYrC,EAAoChH,MAAMsJ,GACtDlC,KAAM3H,EAAK2H,KACXC,OAAQ5H,EAAK4H,OACbD,KAAM3H,EAAK2H,KACXG,aAAc9H,EAAK8H,aACnBD,YAAa7H,EAAK6H,cAEpBpF,EAAWJ,IAAaA,IAChB,QACRtB,EAAQqH,qBAAsB,MAiD9B0B,EAAuB,KAC3B,MAAMlF,EAAQ7C,GAAS,IAAMQ,EAAMqC,MAAMY,WAAWuE,iBAC9CC,EAAejI,GACnB,IAAMQ,EAAMqC,MAAMY,WAAWyE,yBAEzBlJ,EAAUC,GAAI,GAUb,MAAA,CACL4D,MAAAA,EACAoF,aAAAA,EACAjJ,QAAAA,EACAmJ,WAbiB9H,MAAOC,EAAW,YAC/B,IACFtB,EAAQR,OAAQ,QACVgC,EAAMC,SAAS,gCACrBC,EAAWJ,IAAaA,IAChB,QACRtB,EAAQR,OAAQ,MAWhB4J,EAAmB,KACvB,MAAMvF,EAAQ7C,GACZ,IAAMQ,EAAMqC,MAAMY,WAAW4E,wBAAwBC,sBAEjDtJ,EAAUC,GAAI,GAYdc,EAAmBC,GAAS,IAAM6C,EAAMrE,MAAMI,OAAS,IACtD,MAAA,CACLiE,MAAAA,EACA7D,QAAAA,EACAe,iBAAAA,EACAwI,yBAhBgCC,GAChChI,EAAM6D,OAAO,yCAA0CmE,GAgBvDC,mBAfyBpI,MAAOC,EAAW,YACvC,IACFtB,EAAQR,OAAQ,QACVgC,EAAMC,SAAS,kCACrBC,EAAWJ,IAAaA,IAChB,QACRtB,EAAQR,OAAQ,MA6DhBkK,EAAiB,KACrB,MAAM7F,EAAQ7C,GAAS,IAAMQ,EAAMqC,MAAMY,WAAWkF,eAC9CC,EAAa5I,GAAS,WAAM,MAAA,CAChC,CACE6I,KAAM,EACN/J,MAAO,CACLO,KAAM,gCACNa,MAAO,KAGX,CACE2I,KAAM,EACN/J,MAAO,CACLO,KAAM,gCACNa,MAAO,CACLC,MAAOiB,OAAO0H,KACZ5H,KAAK6H,UAAU,CACbzJ,OAAO,OAAMb,EAAA+B,EAAAqC,MAAM+B,KAAKC,aAAIvF,QAAS,GACrCuB,eAAgBgC,EAAMrE,MAAMqC,gBAAkB,WAMxD,CACEgI,KAAM,EACN/J,MAAO,CACLO,KAAM,6BACNa,MAAO,GACP0B,OAAQ,CACNoH,UAAU,KAIhB,CACEH,KAAM,EACN/J,MAAO,CACLO,KAAM,yBACNa,MAAO,KAGX,CACE2I,KAAM,EACN/J,MAAO,CACLO,KAAM,0BACNa,MAAO,KAGX,CACE2I,KAAM,EACN/J,MAAO,CACLO,KAAM,yBACNa,MAAO,SAIP+I,EAAmBjJ,GACvB,WACE,OAAA,OAAAvB,EAAAmK,EAAWpK,MAAM0K,MACdpK,GAAUA,EAAM+J,OAAShG,EAAMrE,MAAM2K,2BADxC,EAAA1K,EAEGK,QAAS8J,EAAWpK,MAAM,MAE3BQ,EAAUC,GAAI,GAWb,MAAA,CACL4D,MAAAA,EACA7D,QAAAA,EACA4J,WAAAA,EACAK,iBAAAA,EACAG,kBAfwB/I,MAAOC,EAAW,YACtC,IACFtB,EAAQR,OAAQ,QACVgC,EAAMC,SAAS,0BACrBC,EAAWJ,IAAaA,IAAA,MACjBgB,IACC,QACRtC,EAAQR,OAAQ,MAYhB6K,EAAqB,KACnB,MAAAC,EACJxL,EAAOyL,IAAI,mBAAoB,CAC7BzH,KAAM,iBACF,KAERtB,EAAM6D,OAAO,kCAAmCiF,GAEhD,MAAMtK,EAAUI,EAAS,CACvBoK,KAAK,IAEDC,EAAkBzJ,GACtB,IAAMQ,EAAMqC,MAAMY,WAAWiG,mBAEzBC,EAAwB3J,GAC5B,IAAMQ,EAAMqC,MAAMY,WAAWmG,0BAEzBC,EAAqB7J,GACzB,IAAMQ,EAAMsJ,QAAQ,mCAWf,MAAA,CACL9K,QAAAA,EACAyK,gBAAAA,EACAE,sBAAAA,EACAI,yBAb+B1J,UAC3B,IACFrB,EAAQwK,KAAM,QACRhJ,EAAMC,SAAS,uCACb,QACRzB,EAAQwK,KAAM,IAShBK,mBAAAA"}