{"version":3,"file":"index.dcf8c251.js","sources":["../../src/views/setting/plan/processing/index.vue","../../src/views/setting/plan/processing/index.js"],"sourcesContent":["<template>\n  <div class=\"w-full\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"margin: auto; background: transparent; display: block; shape-rendering: auto;\" width=\"200px\" height=\"200px\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\">\n      <path fill=\"none\" stroke=\"#818181\" stroke-width=\"8\" stroke-dasharray=\"42.76482137044271 42.76482137044271\" d=\"M24.3 30C11.4 30 5 43.3 5 50s6.4 20 19.3 20c19.3 0 32.1-40 51.4-40 C88.6 30 95 43.3 95 50s-6.4 20-19.3 20C56.4 70 43.6 30 24.3 30z\" stroke-linecap=\"round\" style=\"transform:scale(0.8);transform-origin:50px 50px\">\n        <animate attributeName=\"stroke-dashoffset\" repeatCount=\"indefinite\" dur=\"2.380952380952381s\" keyTimes=\"0;1\" values=\"0;256.58892822265625\"></animate>\n      </path>\n    </svg>\n    <div class=\"w-full flex\">\n      <span class=\"mx-auto font-bold text-2xl\">{{ text }}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref, watch } from \"vue\"\nimport { useRouter } from 'vue-router'\nimport { useBuybackPlan } from \"composable/setting\"\nimport { isEmpty, isObjectEmpty } from 'utils/is.js'\n\nexport default defineComponent({\n  async setup() {\n    const { actionUpgrade, stateUpgrade } = useBuybackPlan()\n    const router = useRouter()\n    const query = router.currentRoute.value.query\n    const text = ref('Payment in process')\n\n    if (isObjectEmpty(query)) {\n      text.value = 'Payment failed'\n\n      return {\n        text\n      }\n    }\n\n    await actionUpgrade(query)\n\n    watch(() => ({...stateUpgrade.value}), () => {\n      if (stateUpgrade.value == 'success') {\n        window.location.href = '/setting/plan'\n      } else {\n        text.value = 'Payment failed'\n        setTimeout(() => {\n          window.location.href = '/setting/plan'\n        }, 3000)\n      }\n    })\n\n    return {\n      text\n    }\n  }\n})\n</script>\n","import { defineComponent } from 'vue'\nimport { useSuspense } from 'composable/components'\nimport index from './index.vue'\n\nexport default defineComponent({\n  setup() {\n    const { genSuspense } = useSuspense()\n\n    return () => genSuspense(index)\n  }\n})"],"names":["_sfc_main","defineComponent","[object Object]","actionUpgrade","stateUpgrade","useBuybackPlan","query","useRouter","currentRoute","value","text","ref","isObjectEmpty","watch","__spreadValues","window","location","href","setTimeout","_hoisted_2","xmlns","xmlns:xlink","style","margin","background","display","shape-rendering","width","height","viewBox","_hoisted_3","class","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","fill","stroke","stroke-width","stroke-dasharray","d","stroke-linecap","attributeName","repeatCount","dur","keyTimes","index","genSuspense","useSuspense"],"mappings":"ufAmBA,MAAKA,EAAaC,EAAa,CAAAC,cAErB,MAAAC,cAAEA,eAAeC,GAAiBC,IAElCC,EADSC,IACMC,aAAaC,MAAMH,MAClCI,EAAOC,EAAI,sBAEjB,OAAIC,EAAcN,IAChBI,EAAKD,MAAQ,iBAEN,CACLC,KAAAA,WAIEP,EAAcG,GAEpBO,GAAM,uHAAOC,CAAA,GAAIV,EAAaK,SAAS,KACX,WAAtBL,EAAaK,MACfM,OAAOC,SAASC,KAAO,iBAEvBP,EAAKD,MAAQ,iBACbS,YAAW,KACTH,OAAOC,SAASC,KAAO,kBACtB,SAIA,CACLP,KAAAA,0BA9CGS,EAAkC,CAACC,MAAA,6BAA2CC,cAAqF,+BAACC,MAAM,CAAOC,OAAA,OAAAC,WAAA,cAAAC,QAAA,QAAAC,kBAAA,QAACC,cAAeC,eAAsBC,QAAA,8CAMpNC,EAAA,CAAAC,MAAM,2EAPhB,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EASMC,GARJC,OAAAA,IAAAC,QAIMC,EAAA,MADGD,EAAA,MAAApB,EAAAc,EAAA,OAAA,GAAA,CAFDQ,EAAW,OAAA,CAACC,KAAM,OAAWC,OAAA,UAAiBC,eAAA,IAAuDC,mBAAsI,sCAACC,EAAA,qIAAuBC,iBAAuD,uEAC1K,CAA3IN,EAAiC,UAAA,CAACO,cAAwB,oBAACC,YAAwB,aAACC,IAAA,qBAAeC,SAA6B,iDAIjF,MAAArB,EAAA,iCCJhEsB,EAAenD,EAAgB,CAC7BC,QACE,MAAMmD,YAAEA,GAAgBC,IAExB,MAAO,IAAMD,EAAYD"}