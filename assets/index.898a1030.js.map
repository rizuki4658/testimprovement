{"version":3,"file":"index.898a1030.js","sources":["../../src/views/setting/index.vue"],"sourcesContent":["<script setup>\nimport { onMounted } from 'vue'\nimport { useSetting } from 'store/pinia/setting'\nimport { tryCatchRequest } from '@/utils/request'\n\nimport Card from 'bbUi/components/card/card.vue'\nimport SettingCompanyLogo from 'components/Features/Setting/SettingCompanyLogo.vue'\nimport TextLimit from 'components/TextLimit.vue'\nimport Loading from 'bbUi/components/loading/loading.vue'\n\nconst store = useSetting()\n\nconst onClick = (child, e) => {\n  if (child.is_disabled == 1) {\n    e.preventDefault()\n    return\n  }\n}\n\nonMounted(async () => {\n  await store.$getSettingCompanyProfile()\n  await tryCatchRequest(store.timezone, () => store.$getSettingTimeZone())\n  await tryCatchRequest(store.distance, () => store.$getSettingDistance())\n})\n\n</script>\n\n<template>\n  <div class=\"space-y-6\">\n    <div class=\"lg:flex lg:divide-x lg:divide-grey-01 xl:mb-0 mb-4\">\n      <div class=\"flex lg:pr-4 lg:mb-0 mb-4\">\n        <h5 class=\"text-3xl font-medium\">Settings</h5>\n      </div>\n    </div>\n    <Card\n      v-for=\"(menu, n) in store.menu.setting\"\n      :key=\"n\">\n      <template\n        v-if=\"menu.name.toLowerCase() !== 'general'\"\n        #header>\n        <h6 class=\"font-medium\">\n          {{ menu.name }}\n        </h6>\n      </template>\n      <template #default>\n        <div>\n          <div\n            v-if=\"!!menu?.child?.length\"\n            class=\"grid grid-cols-auto-fill-cards items-center gap-x-6 gap-y-4\">\n            <div\n              v-for=\"(child, m) in menu.child\"\n              :key=\"`${n}_${m}`\"\n              :class=\"['settingCompanyProfile', 'settingCompanyLogo'].includes(child.slug) && 'col-span-2 md:col-span-1'\">\n              <template\n                v-if=\"['settingCompanyLogo', 'settingCompanyProfile'].includes(child.slug)\">\n                <div v-if=\"child.slug === 'settingCompanyLogo'\">\n                  <SettingCompanyLogo\n                    :current-logo=\"store.company.logo\"\n                    :disabled=\"child.status == 0\"\n                    disabled-tooltip=\"You do not have access to this setting, please contact your account admin.\"\n                  />\n                </div>\n                <div\n                  v-else-if=\"child.slug === 'settingCompanyProfile'\"\n                  :class=\"[\n                    'border border-grey-01 hover:border-opacity-80',\n                    'border-opacity-60 shadow-none hover:shadow w-full',\n                    'rounded-xl p-6 transition ease-in-out duration-300'\n                  ]\">\n                  <div class=\"space-y-4\">\n                    <div class=\"w-full overflow-hidden flex items-center justify-between gap-x-4\">\n                      <TextLimit\n                        :text=\"store.company.name || '-'\"\n                        tooltip-placement=\"top\">\n                        <template #default=\"{ text }\">\n                          <h5 class=\"font-medium text-teal-04\">\n                            {{ text }}\n                          </h5>\n                        </template>\n                      </TextLimit>\n                      <div>\n                        <Tooltip\n                          placement=\"top\">\n                          <template #content>\n                            <div :style=\"{ maxWidth: '250px' }\">\n                              <p v-if=\"child.status == 0\">\n                                You do not have access to this setting, please contact\n                                your account admin.\n                              </p>\n                              <p v-else>\n                                This includes the following settings: <br />\n                                Company Profile, Region, Currency, Timezone, Time Format, Date Format, and Distance Units.\n                              </p>\n                            </div>\n                          </template>\n                          <div>\n                            <router-link\n                              v-if=\"child.status != 0\"\n                              :to=\"{ name: child.slug }\"\n                              class=\"btn btn-teal btn-dense btn-outlined\">\n                              <i class=\"material-icons p-1\">settings</i>\n                            </router-link>\n                            <div\n                              v-else\n                              class=\"px-2 py-1 rounded-lg text-center bg-grey-01 bg-opacity-20 cursor-not-allowed\">\n                              <i class=\"material-icons opacity-50\">settings</i>\n                            </div>\n                          </div>\n                        </Tooltip>\n                      </div>\n                    </div>\n                    <div class=\"space-y-1\">\n                      <div class=\"flex items-center gap-x-2\">\n                        <i class=\"material-icons\">email</i>\n                        <TextLimit\n                          :text=\"store.company.email ?? '-'\"\n                          tooltip-placement=\"top\">\n                          <template #default=\"{ text }\">\n                            <p class=\"text-lg truncate w-full\">{{ text }}</p>\n                          </template>\n                        </TextLimit>\n                      </div>\n                      <div class=\"flex items-center gap-x-2\">\n                        <i class=\"material-icons\">location_on</i>\n                        <TextLimit\n                          :text=\"store.company.address ?? '-'\"\n                          tooltip-placement=\"top\">\n                          <template #default=\"{ text }\">\n                            <p class=\"text-lg truncate w-full\">{{ text }}</p>\n                          </template>\n                        </TextLimit>\n                      </div>\n                      <div class=\"flex items-center gap-x-2\">\n                        <i class=\"material-icons\">phone</i>\n                        <TextLimit\n                          :text=\"store.company.phone ?? '-'\"\n                          tooltip-placement=\"top\">\n                          <template #default=\"{ text }\">\n                            <p class=\"text-lg truncate w-full\">{{ text }}</p>\n                          </template>\n                        </TextLimit>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </template>\n              <template v-else>\n                <Tooltip\n                  placement=\"top\"\n                  :disabled=\"!child.is_disabled\">\n                  <template #content>\n                    <div class=\"w-80\">\n                      <p v-if=\"child.status && store.menu.disabledMessages[child.slug]\" class=\"leading-6\">\n                        {{ store.menu.disabledMessages[child.slug] }}\n                      </p>\n                      <p v-else class=\"leading-6\">\n                        You do not have access to this setting, please contact your\n                        account admin.\n                      </p>\n                    </div>\n                  </template>\n                  <Component\n                      :is=\"child.tag\"\n                      v-bind=\"{\n                        ...(child.is_disabled != 1 ? { to: { name: child.slug } } : {}),\n                        class: [\n                          'transition-all duration-300 ease-in-out',\n                          'rounded-lg p-6 border border-white block',\n                          child.slug === 'settingBilling' && store.billing.isLoading &&'relative',\n                          child.is_disabled\n                            ? 'cursor-not-allowed opacity-50'\n                            : 'hover:shadow cursor-pointer hover:border-teal-04',\n                          'group'\n                        ]\n                      }\"\n                      @click.prevent=\"onClick(child, $event)\"\n                    >\n                    <div\n                      v-if=\"child.slug === 'settingBilling' && store.billing.isLoading\"\n                      class=\"absolute top-8 right-8\">\n                      <Loading />\n                    </div>\n                    <div class=\"flex flex-col items-center justify-center gap-4\">\n                      <div\n                        :class=\"[\n                          'menu__icon group-hover:bg-teal-04'\n                        ]\"\n                        :style=\"`-webkit-mask-image: url('${child.icon}')`\"\n                      />\n                      <div class=\"menu__label flex items-center gap-x-2\">\n                        <i v-if=\"child.is_disabled\" class=\"material-icons text-orange-04 text-sm\">warning</i>\n                        <h3 class=\"text-lg font-normal\">{{ child.name }}</h3>\n                      </div>\n                    </div>\n                  </Component>\n                </Tooltip>\n              </template>\n            </div>\n          </div>\n        </div>\n      </template>\n    </Card>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.menu__icon {\n  @apply transition duration-300 w-20 h-20 bg-grey-03;\n  -webkit-mask-size: contain;\n  -webkit-mask-position: center;\n  -webkit-mask-repeat: no-repeat;\n}\n</style>\n"],"names":["store","useSetting","onMounted","async","$getSettingCompanyProfile","tryCatchRequest","timezone","$getSettingTimeZone","distance","$getSettingDistance","child","e","is_disabled","preventDefault"],"mappings":"28DAUA,MAAMA,EAAQC,WASdC,GAAUC,gBACFH,EAAMI,kCACNC,EAAgBL,EAAMM,UAAU,IAAMN,EAAMO,8BAC5CF,EAAgBL,EAAMQ,UAAU,IAAMR,EAAMS,8mGAVpC,EAACC,EAAOC,KACG,GAArBD,EAAME,aACND,EAAAE"}