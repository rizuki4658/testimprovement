import{k as e,f as r,g as l,y as c,m as a,$ as n,o as s,t as o,K as u,U as t,q as d,A as i,B as y,D as v,a1 as C,a2 as p,L as f}from"./vendor.9695fe57.js";import{f as g,_ as m}from"./index.73ae30fa.js";const h=e({components:{Input:g},props:{selectedCurrency:{type:String,default:""},countryCodeKey:{type:String,default:"country_code"},currencyCodeKey:{type:String,default:"currency_code"},currencyNameKey:{type:String,default:"name"},currencies:{type:Array,default:()=>[],required:!0},disabled:{type:Boolean,default:!1},label:{type:String,default:""},selected:{type:String,default:""},placeholder:{type:String,default:"Please select a currency"}},emits:["change"],setup(e,{emit:a}){const n=r(""),s=r(null),o=l((()=>{let r=e.currencies;return!!n.value&&(r=r.filter((r=>{var l,c,a,s,o,u,t,d,i;return(null==(a=null==(l=r[e.countryCodeKey])?void 0:l.toLowerCase())?void 0:a.indexOf(null==(c=n.value)?void 0:c.toLowerCase()))>-1||(null==(u=null==(s=r[e.currencyCodeKey])?void 0:s.toLowerCase())?void 0:u.indexOf(null==(o=n.value)?void 0:o.toLowerCase()))>-1||(null==(i=null==(t=r[e.currencyNameKey])?void 0:t.toLowerCase())?void 0:i.indexOf(null==(d=n.value)?void 0:d.toLowerCase()))>-1}))),r})),u=r(!1);return c((()=>e.selected),(r=>{if(!r)return void(null!==s.value&&(s.value=null,a("change",null)));const l=e.currencies.filter((l=>{var c;return(null==(c=l[e.currencyCodeKey])?void 0:c.toLowerCase())===(null==r?void 0:r.toLowerCase())}));1===l.length&&s.value!==l[0]&&(s.value=l[0],a("change",s.value))}),{immediate:!0}),{searchQuery:n,currencies:o,selectedCurrency:s,isCollapse:u,handleOutsideClick:()=>u.value=!1,handleToggleCollapse:()=>u.value=!e.disabled&&!u.value,handleSelectCurrency:e=>{s.value=e,a("change",s.value),u.value=!1}}}}),b={key:0,for:"select-currency",class:"mb-1"},w={key:1},_={class:"select-currency wrapper"},K={class:"flex items-center"},k={key:0},x={class:"mr-4"},L=["src"],S={class:"select-currency__sheet p-4 bg-white border border-grey-01 absolute w-full mt-2 rounded z-50"},$={class:"max-h-96 overflow-y-auto"},O=["onClick"],j={class:"mr-4 flex items-center"},I={key:0,class:"material-icons mr-4 text-teal-04"},Q=["src"];var T=m(h,[["render",function(e,r,l,c,g,m){const h=a("Input"),T=n("outside");return s(),o("div",null,[e.label?(s(),o("label",b,u(e.label||"Currency"),1)):t("",!0),e.$slots.label?(s(),o("label",w,[d(e.$slots,"label",{},void 0,!0)])):t("",!0),i((s(),o("div",_,[y("div",{onFocus:r[0]||(r[0]=(...r)=>e.handleToggleCollapse&&e.handleToggleCollapse(...r)),tabindex:"0",id:"select-currency",class:"select-currency__value flex w-full justify-between items-center bg-white rounded-lg border border-grey-01 cursor-pointer select-none focus:border-teal-04"},[y("div",K,[null===e.selectedCurrency?(s(),o("p",k,u(e.placeholder),1)):d(e.$slots,"selected",{key:1,data:e.selectedCurrency},(()=>{var r;return[y("div",x,[y("img",{src:`/flag/${null==(r=e.selectedCurrency[e.countryCodeKey||"country_code"])?void 0:r.toLowerCase()}.svg`,width:"16"},null,8,L)]),y("div",null,u(e.selectedCurrency[e.currencyCodeKey||"currency_code"]),1)]}),!0)]),r[2]||(r[2]=y("div",{class:"arrow"},[y("i",{class:"material-icons"},"arrow_drop_down")],-1))],32),i(y("div",S,[v(h,{modelValue:e.searchQuery,"onUpdate:modelValue":r[1]||(r[1]=r=>e.searchQuery=r),class:"mb-4",block:"",placeholder:"Search currency",disabled:e.disabled},null,8,["modelValue","disabled"]),y("div",$,[(s(!0),o(C,null,p(e.currencies,((r,l)=>(s(),o("div",{key:l,onClick:l=>e.handleSelectCurrency(r),class:"flex items-center p-3 hover:bg-darken cursor-pointer"},[d(e.$slots,"option",{data:{currency:r,selected:!(!r||!e.selectedCurrency)&&r[e.currencyCodeKey||"currency_code"]===e.selectedCurrency[e.currencyCodeKey||"currency_code"]}},(()=>[y("div",j,[r&&e.selectedCurrency&&r[e.currencyCodeKey||"currency_code"]===e.selectedCurrency[e.currencyCodeKey||"currency_code"]?(s(),o("i",I,"check_circle")):t("",!0),y("img",{src:`/flag/${r[e.countryCodeKey||"currency_code"].toLowerCase()}.svg`,width:"18"},null,8,Q)]),y("div",null,u(r[e.currencyCodeKey||"currency_code"]),1)]),!0)],8,O)))),128))])],512),[[f,e.isCollapse]])])),[[T,e.handleOutsideClick]])])}],["__scopeId","data-v-04c2c171"]]);export{T as S};
