{"version":3,"file":"index.1ccea67f.js","sources":["../../src/views/report/check-register/index.vue","../../../../../../../icon/check-register/calculator.svg","../../src/views/report/check-register/index.js"],"sourcesContent":["<template>\n  <div class=\"flex xl:flex-row flex-col justify-between mb-8\">\n    <!-- <div class=\"lg:flex lg:divide-x lg:divide-grey-01 xl:mb-0 mb-4\">\n      <div class=\"flex items-center lg:pr-4 lg:mb-0 mb-4\">\n        <router-link :to=\"{ name: 'report' }\" class=\"text-dark mr-4\"><span class=\"material-icons\">chevron_left</span></router-link>\n        <h5>Check Register</h5>\n      </div>\n      <div class=\"lg:pl-4 flex items-center\">\n        <Breadcrumb :items=\"breadcrumb\">\n          <span class=\"material-icons\">chevron_right</span>\n        </Breadcrumb>\n      </div>\n    </div> -->\n    <Breadcrumb pageTitle=\"Check Register\" :backTo=\"{ name: 'report' }\" :items=\"breadcrumb\" />\n  </div>\n  <Card>\n    <Alert color=\"blue\" view=\"smooth\" class=\"my-6\">\n      <div class=\"flex items-center py-4 px-10\">\n        <img src=\"/icon/check-register/calculator.svg\" alt=\"Calculator icon\" class=\"mr-10\">\n        <span class=\"text-xl\">Total Spent: <b><Currency :value=\"state.show.total_spent\" /></b></span>\n      </div>\n    </Alert>\n    <div class=\"flex justify-end items-center mb-6\">\n      <Button view=\"smooth\" color=\"grey\">{{ data.buyback_type === '2' ? `Local - ${state.show.local_account_number}` : `Online - ${state.show.online_account_number}` }}</Button>\n    </div>\n    <div class=\"flex flex-col md:flex-row mb-6\">\n      <div class=\"flex-grow md:mr-3 md:mb-0 mb-3\">\n        <Input placeholder=\"Search everything\" class=\"w-full\" icon v-model=\"data.search\">\n          <template #icon>\n            <span class=\"material-icons\">search</span>\n          </template>\n        </Input>\n      </div>\n      <div class=\"flex-grow-0\">\n        <GroupContainer>\n          <Button view=\"outlined\" color=\"white\" @click=\"download\">\n            <span class=\"material-icons\">get_app</span> CSV\n          </Button>\n          <Button view=\"outlined\" color=\"white\" @click=\"filterDateFocus\" @blur=\"filterDateFocus\">\n            <DatePicker v-model=\"data.date\" v-bind=\"filterDateOptions\" type=\"daterange\" ref=\"filterDateRef\" class=\"hide-picker\" /> Select Date\n          </Button>\n<!--          <Dropdown v-if=\"state.show.online_account_number && me.package_id > 2\" trigger=\"click\" size=\"medium\" :hide-on-click=\"false\">-->\n<!--            <Button color=\"white\" view=\"outlined\" class=\"flex-auto dropdown dropdown-arrow\" >Buyback Type</Button>-->\n<!--            <template #dropdown>-->\n<!--              <DropdownMenu>-->\n<!--                <DropdownItem>-->\n<!--                  <Radio v-model=\"data.buyback_type\" value=\"2\">In-Store</Radio>-->\n<!--                </DropdownItem>-->\n<!--                <DropdownItem>-->\n<!--                  <Radio v-model=\"data.buyback_type\" value=\"1\">Mail-In</Radio>-->\n<!--                </DropdownItem>-->\n<!--              </DropdownMenu>-->\n<!--            </template>-->\n<!--          </Dropdown>-->\n        </GroupContainer>\n      </div>\n      <div v-if=\"me.package_id > 2\" class=\"flex-grow-0 self-center ml-4\">\n        <Checkbox v-model=\"data.buyback_type\" type=\"toggle\" color=\"teal\" value=\"1\" value-off=\"2\">Mail-in</Checkbox>\n      </div>\n    </div>\n    <div class=\"flex items-center flex-row mb-6\">\n      <div class=\"inline-block\" v-for=\"(filter, filterKey) of filterList\" :key=\"filterKey\">\n        <Button v-if=\"filter.value\" color=\"grey\" view=\"smooth\" dense class=\"mx-1\">\n          <b>{{filter.name}}:</b> {{ filter.value }}<i class=\"material-icons text-sm ml-2\" @click=\"clearFilter(filter)\">close</i>\n        </Button>\n      </div>\n      <div class=\"inline-block ml-3\">\n        <Button v-if=\"isFiltered\" @click=\"clearAllFilter\" color=\"teal\" view=\"smooth\" dense>\n          <i class=\"material-icons text-sm mr-1\">close</i>Clear all\n        </Button>\n      </div>\n    </div>\n    <div class=\"flex flex-col mt-6\">\n      <Table class=\"mb-6\" v-model:data=\"state.show.table.data\" v-loading=\"loading.show\">\n        <TableColumn prop=\"box_id\" label=\"Buyback ID\">\n          <template #default=\"scope\">\n            <router-link tag=\"a\" class=\"font-bold\" :to=\"{ name: data.buyback_type === '2' ? 'buybackLocalDetail' : 'buybackOnlineDetail', params: { buybackId: scope.row.box_id } }\">{{ scope.row.box_id }}</router-link>\n          </template>\n        </TableColumn>\n        <TableColumn label=\"Customer Name\">\n          <template #default=\"scope\">\n            <TextLimit :text=\"scope.row.customer || scope.row.customer_name || ''\" />\n          </template>\n        </TableColumn>\n        <TableColumn prop=\"order_status.short_name\" label=\"Status\">\n          <template #default=\"scope\">\n            <Badge :color=\"color(scope.row.order_status.short_name)\">{{ scope.row.order_status.short_name }}</Badge>\n          </template>\n        </TableColumn>\n        <TableColumn prop=\"check_date\" label=\"Check Date\">\n          <template #default=\"scope\">\n            {{ scope.row.check_date ? format(scope.row.check_date) : '-' }}\n          </template>\n        </TableColumn>\n        <TableColumn prop=\"check_number\" label=\"Check Number\" />\n        <TableColumn prop=\"sub_total\" label=\"Total Check Amount\">\n          <template #default=\"scope\">\n            <Currency :value=\"scope.row.sub_total\" />\n          </template>\n        </TableColumn>\n        <TableColumn prop=\"action\">\n          <template #default=\"scope\">\n            <div class=\"lg:opacity-0 group-hover:opacity-100 transition-opacity\">\n              <Button dense color=\"teal\" view=\"smooth\" :loading=\"loading.print[scope.row.box_id] || false\" @click=\"printCheck(scope.row.box_id)\"><i class=\"material-icons text-lg\">print</i></Button>\n            </div>\n          </template>\n        </TableColumn>\n      </Table>\n      <Pagination v-model:page=\"data.page\" v-model:limit=\"data.limit\" :data=\"state.show.table\" />\n    </div>\n  </Card>\n</template>\n\n<script>\nimport { defineComponent, watch } from 'vue'\nimport Card from 'bbUi/components/card/card.vue'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Alert from 'bbUi/components/alert/alert.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Pagination from 'components/Pagination.vue'\nimport Badge from 'bbUi/components/badge/badge.vue'\nimport Breadcrumb from 'components/Breadcrumb.vue'\nimport Radio from 'bbUi/components/radio/radio.vue'\nimport GroupContainer from 'bbUi/components/group-container/group-container.vue'\nimport { useCheckRegister } from 'composable/report'\nimport { useUser } from 'composable/user'\nimport { color } from 'utils/status'\nimport { format } from 'utils/date'\nimport debounce from 'utils/debounce'\nimport Currency from 'components/Currency.vue'\nimport TextLimit from 'components/TextLimit.vue'\n\nexport default defineComponent({\n  components: {\n    Card,\n    Checkbox,\n    Input,\n    Alert,\n    Button,\n    Badge,\n    Breadcrumb,\n    Radio,\n    GroupContainer,\n    Pagination,\n    Currency,\n    TextLimit\n  },\n  async setup(props, { emit }) {\n    const { me } = useUser()\n    const { state, data, loading, downloadCSV, filterList, clearFilter, clearAllFilter, isFiltered, filterDateRef, filterDateOptions, filterDateFocus, actionShow, actionPrintCheck } = useCheckRegister()\n    await actionShow()\n\n    const printCheck = async (buybackId) => {\n      await actionPrintCheck(buybackId)\n    }\n    const download = async () => {\n      await downloadCSV()\n    }\n    const breadcrumb = [{\n      text: 'Report',\n      to: {\n        name: 'report'\n      }\n    }, {\n      text: 'Check Register'\n    }]\n\n    watch(() => ({\n      limit: data.limit,\n      search: data.search,\n      date: data.date\n    }), () => {\n      data.page = 1\n    }, {\n      deep: true\n    })\n    watch(() => ({\n      ...data\n    }), debounce(async () => {\n      await actionShow()\n    }, 500), {\n      deep: true\n    })\n\n    return {\n      state,\n      data,\n      breadcrumb,\n      color,\n      me,\n      loading,\n      filterList,\n      isFiltered,\n      download,\n      clearFilter,\n      clearAllFilter,\n      filterDateOptions,\n      filterDateRef,\n      filterDateFocus,\n      format,\n      printCheck\n    }\n  }\n})\n</script>","export default \"/icon/check-register/calculator.svg\"","import { defineComponent } from 'vue'\nimport { useSuspense } from 'composable/components'\nimport index from './index.vue'\n\nexport default defineComponent({\n  setup() {\n    const { genSuspense } = useSuspense()\n\n    return () => genSuspense(index)\n  }\n})"],"names":["_sfc_main","defineComponent","components","Card","Checkbox","Input","Alert","Button","Badge","Breadcrumb","Radio","GroupContainer","Pagination","Currency","TextLimit","[object Object]","props","emit","me","useUser","state","data","loading","downloadCSV","filterList","clearFilter","clearAllFilter","isFiltered","filterDateRef","filterDateOptions","filterDateFocus","actionShow","actionPrintCheck","useCheckRegister","watch","limit","search","date","page","deep","__spreadValues","debounce","async","breadcrumb","text","to","name","color","download","format","printCheck","buybackId","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","key","_hoisted_10","_hoisted_11","_hoisted_12","_openBlock","_createElementBlock","_Fragment","_createVNode","_component_Breadcrumb","pageTitle","backTo","_withCtx","_component_Alert","view","default","_cache","_createElementVNode","src","alt","_createTextVNode","_component_Currency","_component_Button","_component_Input","placeholder","icon","modelValue","_ctx","_hoisted_7","onClick","_component_DatePicker","_mergeProps","$event","type","ref","package_id","_hoisted_8","_component_Checkbox","buyback_type","onUpdate:modelValue","value","_hoisted_9","_renderList","filter","filterKey","dense","_toDisplayString","_withDirectives","_createBlock","_component_Table","show","table","_component_TableColumn","prop","scope","_component_router_link","tag","label","_component_TextLimit","_hoisted_13","print","row","_component_Pagination","onUpdate:page","onUpdate:limit","index","genSuspense","useSuspense"],"mappings":"ggCAqIA,MAAKA,EAAaC,EAAa,CAC7BC,WAAY,CACVC,KAAAA,EACAC,SAAAA,QACAC,QACAC,EACAC,OAAAA,QACAC,EACAC,WAAAA,QACAC,EACAC,eAAAA,EACAC,WAAAA,EACAC,SAAAA,EACAC,UAAAA,GAEIC,YAAMC,GAAOC,KAAEA,IACnB,MAAMC,GAAEA,GAAOC,KACTC,MAAEA,EAAAC,KAAOA,EAAMC,QAAAA,EAAAC,YAASA,EAAaC,WAAAA,EAAAC,YAAYA,EAAaC,eAAAA,EAAAC,WAAgBA,EAAYC,cAAAA,EAAAC,kBAAeA,EAAmBC,gBAAAA,EAAAC,WAAiBA,mBAAYC,GAAqBC,UAC9KF,IAkCC,OAjBPG,GAAM,KAAO,CACXC,MAAOd,EAAKc,MACZC,OAAQf,EAAKe,OACbC,KAAMhB,EAAKgB,SACT,KACFhB,EAAKiB,KAAO,IACX,CACDC,MAAM,IAERL,GAAM,uHAAOM,CAAA,GACRnB,IACDoB,GAASC,gBACLX,MACL,KAAM,CACPQ,MAAM,IAGD,CACLnB,MAAAA,EACAC,KAAAA,EACAsB,WA7BiB,CAAC,CAClBC,KAAM,SACNC,GAAI,CACFC,KAAM,WAEP,CACDF,KAAM,mBAwBNG,MAAAA,EACA7B,GAAAA,EACAI,QAAAA,EACAE,WAAAA,EACAG,WAAAA,EACAqB,SAtCeN,gBACTnB,KAsCNE,YAAAA,EACAC,eAAAA,EACAG,kBAAAA,EACAD,cAAAA,EACAE,gBAAAA,EACAmB,OAAAA,EACAC,WAhDiBR,MAAOS,UAClBnB,EAAiBmB,QAzIlBC,EAAA,CAAAC,MAAM,kDAEHC,EAAA,CAAAD,MAAM,gCAGXE,EAAA,CAAAF,MAAM,WAGNG,EAAA,CAAAH,MAAM,sCACJI,EAAA,CAAAJ,MAAM,kCAONK,EAAA,CAAAL,MAAM,6DAuBmBM,IAAK,oFAU9BC,EAAA,CAAA,WAMFC,EAAA,CAAAR,MAAM,qBA8BES,EAAA,CAAAT,MAAM,6YArGrBU,OAAAA,IAaMC,EAAAC,EAAA,KAAA,GADsF,MAAAb,EAAA,CAA9Ec,EAAUC,EAAgB,CAAEC,UAA0B,iBAAGC,OAAiB,CAAAvB,KAAA,sDAQ9E,KAAA,SAAAwB,GAAA,IAAA,CALDJ,EAAYK,EAAA,CAACxB,MAAa,OAACyB,6BAChCC,QAAAH,GAAA,eACqF,CAA9EI,EAAA,KAAyCA,EAAA,GAAAC,EAAA,MAAA,CAACC,IClBxC,sCDkB8DC,IAAK,iCAC1E,MAAA,gBAAmCH,EAAmD,KAAAA,EAAA,GAAAI,EAAA,oBAAJ,IAAA,KAAA,CAAjCZ,EAAOa,EAAsB,oEAI2F,MAAAvB,EAAA,CAAnKU,EAAac,EAAA,CAACR,6BAAgBC,QAAAH,GAAA,IAAA,8IAGtCK,EAAA,QAMM,GADI,MAAAjB,EAAA,CAJDQ,EAAWe,EAAoB,CAACC,YAAc,oBAAC7B,MAAI,SAAU8B,KAAA,GAAAC,WAAAC,EAAAhE,KAAAe,8DACvD,CACT+C,KAAAb,GAAA,IAAAI,EAAM,OAAM,GAAA,+EAyBC,MAAAY,EAAA,KAjBN,KAAA,SAAAhB,GAAA,IAAA,CAFDJ,EAAec,EAAA,CAACR,gBAAezB,MAAK,6BAC1C0B,QAAAH,GAAA,IAAMI,EAAA,OAAM,GAAA,GACd,OAAA,CAAArB,MAAA,kBAAA,WAAA,uBAGS,EAAA,CAAA,YAFDa,EAAec,EAAA,CAACR,gBAAezB,MAAK,QAAoBwC,QAAqBF,EAAAvD,2CACnF2C,QAAAH,QAAqBJ,EAAAsB,EAASC,EAAA,CAATL,WAAAC,EAAAhE,KAAAgB,2BAAoCqC,EAAA,KAAAA,EAAA,GAAAgB,GAAAL,EAAAhE,KAAAgB,KAAAqD,IAAEL,EAAKxD,kBAAW,CAAC8D,KAAmB,YAACC,IAAK,2IAiB3GP,EAAAnE,GAAA2E,WAAA,GAC6G7B,IAAAA,EAAA,MAAA8B,EAAA,CAAxF5B,EAAA6B,EAAiB,CAAjBX,WAAAC,EAAAhE,KAAA2E,aAAmBC,sBAAavB,EAAA,KAAAA,EAAA,GAAAgB,GAAAL,EAAAhE,KAAA2E,aAAAN,GAACC,cAAa5C,MAAM,OAAImD,MAAA,qCAAqBxB,EAAA,QAAA,IAAA,uDAIlGC,EAAA,MAAAwB,EAAA,UAIMlC,EAAA,KAAAmC,EAAAf,EAAA7D,YAAA,CAAA6E,EAAAC,SAJmBtC,EAAA,MAAA,CAA4CX,MAAc,sBACnE,mBAAcM,IAAK,EAAQZ,MAAa,OAACyB,cAAM+B,MAAM,kBACjE9B,QAAAH,GAAA,IAAK,GAAmB,IAAA,KAAAkC,EAAeH,EAAAvD,MAAA,IAAA,GAAGgC,EAA6E,IAAA0B,EAAAH,EAAAH,OAAA,GAA1EvB,EAAmC,IAAA,CAAEtB,MAAK,sCAA4BqC,GAAAL,EAAA5D,YAAA4E,8CAGvH,QAC0B,MAAAxC,EAAA,wBAAGF,IAAA,EAAuB4B,QAAYF,EAAA3D,eAACqB,MAAa,OAACyB,yBAC3EC,QAAAH,GAAA,IAAGI,EAAA,QAAM,IAAA,GACX,IAAA,CAAArB,MAAA,+BAAA,SAAA,mEAsCM,CAlCDoD,GAAYC,IAAAA,EAAAC,EAAA,CAAStD,MAAW,OAALhC,KAAAgE,EAAAjE,MAAAwF,KAAAC,MAAAxF,yEAKlBiD,GAAA,IAAA,CAJDJ,EAAa4C,EAAA,CAACC,kCACP,SAC6LzC,GAAA0C,GAAA,CAAhM9C,EAAO+C,EAAA,CAACC,IAAK,IAAc7D,MAAE,kMAI1ByD,EAAO,CAAAK,MAAA,iBAAA,SACkD7C,GAAA0C,GAAA,GAAlDI,EAAsB,yEAGpClD,EAA8B4C,EAAA,CAACC,+CACxB,SACwFzC,GAAA0C,GAAA,KAA7D,gDAAiBvC,QAAAH,GAAA,IAAA,wEAGnDJ,EAAiB4C,EAAA,CAACC,sCACX,iFAIP7C,EAAmB4C,EAAA,CAACC,2CACpB7C,EAAgB4C,EAAA,CAACC,6CACV,SACyBzC,GAAA0C,GAAA,CAA9B9C,EAAOa,EAAmB,qDAIrB+B,EAAO,CAAAC,KAAA,UAAA,CACvBtC,QAAAH,GAAA0C,GAAA,GACyL,MAAAK,GAAA,CAA/KnD,EAAKc,EAAA,CAACuB,MAAM,GAAOxD,MAAa,OAAEyB,KAAO,SAA6ClD,kBAAiBgG,MAAAN,EAAAO,cAAiB,0CAAG9C,QAAAH,GAAA,IAAGI,EAAA,QAAM,IAAA,4GA9BhF,EAAA,CAAA,UAAA,wBAmCtC8C,EAAK,CAATlF,KAAA+C,EAAAhE,KAAAiB,KAAmBmF,gBAAY/C,EAAK,KAAAA,EAAA,GAAAgB,GAAAL,EAAAhE,KAAAiB,KAAAoD,GAAVvD,MAAAkD,EAAAhE,KAAAc,MAAauF,iBAAYhD,EAAU,KAAAA,EAAA,GAAAgB,GAAAL,EAAAhE,KAAAc,MAAAuD,gFExG7FiC,GAAe1H,EAAgB,CAC7Bc,QACE,MAAM6G,YAAEA,GAAgBC,IAExB,MAAO,IAAMD,EAAYD"}