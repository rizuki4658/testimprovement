{"version":3,"file":"index.bf7beb5b.js","sources":["../../src/views/integration/publicapi/modal/index.vue"],"sourcesContent":["<template>\n  <Modal v-model=\"visible\" hide-header hide-footer size=\"xs\" noClose>\n    <template #default>\n      <div class=\"p-4\">\n        <div class=\"flex flex-col justify-center items-center gap-4\">\n          <img src=\"@/assets/icon/attention.svg\" />\n          <p class=\"text-3xl font-semibold text-center\">\n            Are you sure you want to generate a new API key?\n          </p>\n          <p class=\"text-center\">\n            Generating a new API key will update your widget code credentials.\n            Your currently hosted widget code will no longer work on your website,\n            so you'll need to copy and replace it with the new code from the Widget Code settings.\n          </p>\n          <div class=\"mt-4 space-x-5\">\n            <Button\n              color=\"red\"\n              @click=\"confirmGenerateApiKey\"\n              :loading=\"loading.public_api\"\n            >\n              Proceed\n            </Button>\n            <button class=\"px-4 py-2\" @click=\"cancel\">\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    </template>\n  </Modal>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useShowAll } from 'composable/integration'\nimport { ElMessage } from 'element-plus'\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nconst router = useRouter()\nconst route = useRoute()\nconst visible = ref(false)\n\nconst {\n  actionGeneratePublicApiKey,\n  loading\n} = useShowAll()\n\nonMounted(() => {\n  visible.value = true\n})\n\nconst confirmGenerateApiKey = async () => {\n  await actionGeneratePublicApiKey()\n\n  ElMessage({\n    type: 'success',\n    message: 'New API key has been generated.'\n  })\n\n  router.replace({ name: 'integrationPublicAPI' })\n}\n \nconst cancel = () => {\n  router.replace({ name: 'integrationPublicAPI' })\n}\n</script>"],"names":["router","useRouter","useRoute","visible","ref","actionGeneratePublicApiKey","loading","useShowAll","onMounted","value","confirmGenerateApiKey","async","_u","type","message","replace","name","cancel"],"mappings":"yYAwCA,MAAMA,EAASC,IACDC,IACd,MAAMC,EAAUC,GAAI,IAEdC,2BACJA,EAAAC,QACAA,GACEC,IAEJC,GAAU,KACRL,EAAQM,OAAQ,KAGlB,MAAMC,EAAwBC,gBACtBN,IAEIO,EAAA,CACRC,KAAM,UACNC,QAAS,oCAGJd,EAAAe,QAAQ,CAAEC,KAAM,0BAGnBC,EAAS,KACNjB,EAAAe,QAAQ,CAAEC,KAAM"}