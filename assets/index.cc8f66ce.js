import{k as s,a5 as a,O as o,f as e,r,y as t,m as i,o as l,t as d,n,w as c,B as m,D as w,I as p,S as u,K as f,a1 as y,a2 as b,U as g}from"./vendor.9695fe57.js";import{_ as h,f as v,b as x,M as k}from"./index.dcc9fc55.js";import{C as _}from"./card.323f324c.js";import{c as P}from"./index.6b6f6369.js";import{r as C}from"./index.54844a74.js";import{u as j}from"./index.f40e4a9e.js";import{_ as $}from"./check.c89ee74b.js";import{_ as V}from"./logo.95f55a2b.js";const S=s({name:"ResetPassword",components:{Card:_,Input:v,Button:x},setup(){const{data:s,loading:i,action:l}=k(),d=a(),n=o(),c=e(!1),m=e(!1),w=e(!1);d.query.key?s.key=d.query.key:n.push({name:"login"});const p=r({show:!1,message:null}),u={password:{required:C,passwordValidation:P.withMessage("At least 6 characters and include capital letters",P.regex(/^(?=.*?[A-Z]).{6,}$/))},confirm_password:{required:C}},f=j(u,s,{$lazy:!0});return t(s,(()=>{s.confirm_password!=s.password&&s.confirm_password?(p.show=!0,p.message="Your confirmation password does not match"):(p.show=!1,p.message=null)})),{submit:async()=>{f.value.$validate(),f.value.$invalid||await l((()=>{c.value=!0}))},isSuccess:c,data:s,loading:i,showPassword:m,showConfirmPassword:w,error:p,validation:f}}}),q={class:"flex items-start justify-center h-screen w-screen overflow-y-auto"},B={class:"my-5"},I={class:"mb-6 form"},M={class:"block my-5"},U={class:"text-red-base mt-2 block"},Y={class:"block my-5"},A={class:"text-red-base mt-2 block"},R={key:0,class:"text-red-base mt-2 block"},z={class:"block my-4"};var D=h(S,[["render",function(s,a,o,e,r,t){const h=i("Button"),v=i("Card"),x=i("Input");return l(),d("div",q,[s.isSuccess?(l(),n(v,{key:0,class:"lg:py-8 py-1 lg:px-20 px-1 box-content my-auto text-center shadow-2xl",style:{width:"450px"}},{default:c((()=>[m("div",B,[a[6]||(a[6]=m("img",{class:"mb-16 mx-auto",src:$,alt:"Success Icon"},null,-1)),a[7]||(a[7]=m("h5",{class:"text-black mb-2"},"Successful!",-1)),a[8]||(a[8]=m("p",{class:"text-grey-02 my-8"},"Your password has been reset. You can now use your new password to log in to your account",-1)),w(h,{color:"teal",link:!0,to:{name:"login"}},{default:c((()=>a[5]||(a[5]=[p("Continue")]))),_:1})])])),_:1})):(l(),n(v,{key:1,class:"lg:py-8 py-1 lg:px-20 px-1 box-content my-auto shadow-2xl",style:{width:"450px"}},{default:c((()=>[a[10]||(a[10]=m("div",{class:"flex justify-center items-center flex-col mb-12"},[m("img",{src:V,alt:"Brand logo",whitelabel:"image-replace","data-image-type":"logo",class:"mb-4",width:"180"}),m("p",{class:"text-dark"},"Create new password")],-1)),m("div",I,[m("form",{onSubmit:a[4]||(a[4]=u(((...a)=>s.submit&&s.submit(...a)),["prevent"]))},[m("div",M,[w(x,{placeholder:"Password",modelValue:s.data.password,"onUpdate:modelValue":a[1]||(a[1]=a=>s.data.password=a),type:s.showPassword?"text":"password",id:"password",view:s.validation.password.$invalid?"danger":"default",block:"",icon:"",right:""},{icon:c((()=>[m("span",{class:"material-icons block cursor-pointer text-grey-03",onClick:a[0]||(a[0]=a=>s.showPassword=!s.showPassword)},f(s.showPassword?"visibility_off":"visibility"),1)])),_:1},8,["modelValue","type","view"]),(l(!0),d(y,null,b(s.validation.password.$errors,(s=>(l(),d("span",U,f(s.$message)+". ",1)))),256))]),m("div",Y,[w(x,{placeholder:"Confirm Password",modelValue:s.data.confirm_password,"onUpdate:modelValue":a[3]||(a[3]=a=>s.data.confirm_password=a),type:s.showConfirmPassword?"text":"password",id:"confirmPassword",view:s.validation.confirm_password.$invalid?"danger":"default",block:"",icon:"",right:""},{icon:c((()=>[m("span",{class:"material-icons block cursor-pointer text-grey-03",onClick:a[2]||(a[2]=a=>s.showConfirmPassword=!s.showConfirmPassword)},f(s.showConfirmPassword?"visibility_off":"visibility"),1)])),_:1},8,["modelValue","type","view"]),(l(!0),d(y,null,b(s.validation.confirm_password.$errors,(s=>(l(),d("span",A,f(s.$message)+". ",1)))),256)),s.error.show?(l(),d("span",R,f(s.error.message),1)):g("",!0)]),m("div",z,[w(h,{color:"teal",type:"submit",block:"",loading:s.loading,disabled:s.error.show},{default:c((()=>a[9]||(a[9]=[p("Reset My Password")]))),_:1},8,["loading","disabled"])])],32)])])),_:1}))])}]]);export{D as default};
