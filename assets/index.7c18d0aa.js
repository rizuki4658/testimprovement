var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,n=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&s(e,t,a[t]);if(l)for(var t of l(a))i.call(a,t)&&s(e,t,a[t]);return e},d=(e,l)=>a(e,t(l));import{k as r,a5 as c,m as u,o as m,n as p,w as h,B as b,K as g,D as v,g as y,t as _,U as f,a2 as k,a3 as w,I as C,A as S,L as x,f as I,y as B,S as P,F as M,O as V,_ as Q,a0 as U,r as O,s as T,a6 as D,a4 as q,aU as j,a1 as A,T as N,ar as R,W as L,x as E}from"./vendor.f1efedad.js";import{v as $,c as z,e as F,d as G,f as K,g as H,h as W,j as Y,k as J,w as X,l as Z,x as ee,b as ae,y as te,z as le,A as oe,B as ie,C as se,D as ne}from"./buyback.362c230f.js";import{u as de,a as re,b as ce,c as ue}from"./bulkquote.f2b8aab4.js";import{B as me,_ as pe,u as he,a as be,S as ge,b as ve,c as ye,d as _e}from"./data-match-icon.f1ebc3d2.js";import{d as fe,b as ke,_ as we,f as Ce,e as Se,j as xe,u as Ie,a4 as Be,G as Pe,i as Me,a8 as Ve,a9 as Qe,a7 as Ue,aa as Oe,T as Te,a5 as De,g as qe,B as je}from"./index.e231b017.js";import{_ as Ae}from"./badge.3a8a2c41.js";import{C as Ne}from"./Currency.3768e3b3.js";import{u as Re}from"./notes.a1013ac0.js";import{c as Le,s as Ee}from"./status.6f59bf91.js";import{C as $e}from"./card.de1f0319.js";import{_ as ze,a as Fe}from"./timeline-item.10e8fc8f.js";import{_ as Ge}from"./tab.9f764545.js";import{u as Ke}from"./index.32689823.js";import{c as He,d as We}from"./index.1c09f422.js";import{I as Ye}from"./ItemTable.20c5842c.js";import{_ as Je}from"./BuybackNotesWarning.bdbf8010.js";import{_ as Xe}from"./fieldset.32ceb9ab.js";import{_ as Ze}from"./changelog.c96fc65d.js";import{B as ea}from"./Breadcrumb.e5dd1515.js";import{b as aa}from"./customer.a2559fd1.js";import{p as ta,l as la}from"./dymo.5603a15d.js";import{c as oa}from"./copy.ef53d68d.js";import{P as ia}from"./PaymentMethod.10916ac1.js";import{T as sa}from"./TextLimit.43017255.js";import{r as na}from"./index.2fb3814c.js";import{S as da}from"./select.04e4ee62.js";import{A as ra,D as ca,a as ua}from"./DetailCustomerPortalLink.950fb29e.js";import{A as ma}from"./index.0dabe17d.js";import{_ as pa}from"./ExpeditedIcon.db9b60c4.js";import{L as ha}from"./LoadingCard.9892fd7a.js";import{u as ba}from"./integration.19f1b956.js";import{b as ga}from"./device.153e721f.js";import{u as va}from"./golf.1b742650.js";import{D as ya,a as _a}from"./Form.7a132e01.js";import{P as fa}from"./Info.8c3330bf.js";import{P as ka}from"./PrintLabel.2242c58e.js";import{B as wa}from"./BBTable.ed269e36.js";import{B as Ca}from"./ChooseCondition.43587654.js";import{B as Sa,a as xa}from"./Input.89a82cd5.js";import{G as Ia}from"./DeviceGolfSpecBadge.1e94addc.js";import Ba from"./BuybackImages.e9a9fe09.js";import Pa from"./BuybackNotes.1159864d.js";import{B as Ma,a as Va,b as Qa}from"./BulkQuoteItemSearch.f0fa1fb8.js";import{B as Ua}from"./BSelect.221faeb2.js";import{D as Oa}from"./DeviceSearch.34393d74.js";import{_ as Ta}from"./attention-warning.f7b3f9bc.js";import"./date.f86face7.js";import"./BTable.e686e826.js";import"./InputPhone.f8d9b657.js";import"./SelectCountry.75182cc2.js";import"./setting.86482221.js";import"./breadcrumb.e60df23d.js";import"./format.f845777a.js";import"./Custom.9820d20d.js";import"./payment.20cfce93.js";import"./TremendousCard.12fd5823.js";import"./auto-complete.e1e9f5d6.js";import"./Accordion.d79a8173.js";import"./DeviceGolfSpec.d24334a7.js";import"./BDropdown.58f98060.js";import"./MultipleInputFile.34c66527.js";const Da=r({components:{Modal:fe,Button:ke,Currency:Ne},setup(e){const{state:a,loading:t,modal:l,openModal:o,action:i}=$(),s=c();return{stateOriginalQuote:a,loading:t,modal:l,openModal:o,showOriginalQuote:async()=>{await i(s.params.buybackId),o()}}}}),qa={class:"ml-auto font-normal text-base"},ja={class:"w-full mb-10"},Aa={class:"align-top"},Na={class:"text-right"},Ra={class:"w-full"},La={class:"text-2xl font-semibold"},Ea={class:"overflow-y-auto custom-max-h"};var $a=we(Da,[["render",function(e,a,t,l,o,i){const s=u("Currency"),n=u("TableColumn"),d=u("Table"),r=u("Modal");return m(),p(r,{modelValue:e.modal,"onUpdate:modelValue":a[0]||(a[0]=a=>e.modal=a),"hide-footer":""},{header:h((()=>a[1]||(a[1]=[b("div",{class:"w-full flex"}," Original Quote ",-1)]))),default:h((()=>{var t,l,o,i,r,c,u,m,p;return[b("div",qa,[b("table",ja,[b("tr",null,[b("td",Aa," Total Number of Items: "+g(null==(o=null==(l=null==(t=e.stateOriginalQuote)?void 0:t.data)?void 0:l.items)?void 0:o.length),1),b("td",Na,[b("table",Ra,[b("tr",null,[a[2]||(a[2]=b("td",null,"Subtotal :",-1)),b("td",null,[v(s,{value:null==(r=null==(i=e.stateOriginalQuote)?void 0:i.data)?void 0:r.sub_total},null,8,["value"])])]),b("tr",null,[a[3]||(a[3]=b("td",{class:"font-semibold"},"Total :",-1)),b("td",La,[v(s,{value:null==(u=null==(c=e.stateOriginalQuote)?void 0:c.data)?void 0:u.total},null,8,["value"])])])])])])])]),b("div",Ea,[v(d,{data:null==(p=null==(m=e.stateOriginalQuote)?void 0:m.data)?void 0:p.items},{default:h((()=>[v(n,{label:"Product Name",prop:"product_name"}),v(n,{label:"IMEI/SN",prop:"imei_sn"}),v(n,{label:"Notes",prop:"notes"}),v(n,{label:"Price",prop:"price"}),v(n,{label:"Quantity",prop:"qty"}),v(n,{label:"Condition",prop:"condition"})])),_:1},8,["data"])])]})),_:1},8,["modelValue"])}],["__scopeId","data-v-0e16d7ac"]]);var za=we(r({components:{Input:Ce,Checkbox:Se},props:{data:{type:Object,default:()=>({list_reason:null,notes:"",returned_tracking:null,is_send_email:1})},disabled:{type:Boolean,default:!1}},emits:["update:data"],setup(e,{emit:a}){const t=y((()=>7==e.data.status_id||3==e.data.status_id)),l=y((()=>![1001,10,2002,1e3].includes(e.data.status_id))),o={list_reason:{required:He.withMessage("Reason is required",We((()=>5==e.data.status_id)))}},i=Ke(o,e.data,{$lazy:!0});return{data:e.data,isPaymentPending:t,hasEmailTemplate:l,validation:i,validate:()=>(i.value.$validate(),!i.value.$invalid),handleUpdateData:(t,l)=>{if(!t)return;const o=n({},e.data);o[t]=l,a("update:data",o)}}}}),[["render",function(e,a,t,l,o,i){const s=u("Input"),n=u("Checkbox");return m(),_(k,null,[b("div",null,[5!==e.data.status_id?(m(),p(s,{key:0,modelValue:e.data.notes,"onUpdate:modelValue":a[0]||(a[0]=a=>e.handleUpdateData("notes",a)),type:"textarea",label:"Notes",class:"w-full mb-4",disabled:e.disabled,rows:"4"},null,8,["modelValue","disabled"])):f("",!0)]),6===e.data.status_id?(m(),p(s,{key:0,modelValue:e.data.returned_tracking,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.returned_tracking=a),type:"input",label:"Returned Tracking",class:"w-full mb-4",disabled:e.disabled},null,8,["modelValue","disabled"])):f("",!0),b("div",null,[5===e.data.status_id?(m(),p(s,{key:0,modelValue:e.data.list_reason,"onUpdate:modelValue":a[2]||(a[2]=a=>e.handleUpdateData("list_reason",a)),view:e.validation.list_reason.$invalid?"danger":"default",type:"textarea",label:"Reason",class:"w-full my-6",disabled:e.disabled,rows:"4"},null,8,["modelValue","view","disabled"])):f("",!0),(m(!0),_(k,null,w(e.validation.list_reason.$errors,((e,a)=>(m(),_("small",{class:"text-red-base block mb-2",key:a},g(e.$message)+". ",1)))),128))]),b("div",null,[a[6]||(a[6]=b("label",{for:""},"Email Settings",-1)),a[7]||(a[7]=C()),a[8]||(a[8]=b("br",null,null,-1)),v(n,{modelValue:e.hasEmailTemplate?e.data.is_send_email:0,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data.is_send_email=a),value:1,"value-off":0,disabled:!e.hasEmailTemplate,type:"toggle",class:"mt-4"},{default:h((()=>a[5]||(a[5]=[b("span",{class:"toggle-label"},"Send Email",-1)]))),_:1},8,["modelValue","disabled"]),S(v(s,{modelValue:e.data.transaction_id,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.transaction_id=a),class:"my-4",label:"Transaction ID",block:""},null,8,["modelValue"]),[[x,e.isPaymentPending]])])],64)}],["__scopeId","data-v-62205dd2"]]);const Fa=r({components:{Badge:Ae,Button:ke,Card:$e,Modal:fe,Timeline:ze,TimelineItem:Fe,Tab:Ge,Alert:xe,Checkbox:Se,StatusesForm:za,ItemTable:Ye,BuybackNotesWarning:Je,Fieldset:Xe},props:{data:{type:Object,default:()=>({product_name:null,product_id:null,condition_id:null,condition:null,imei_sn:null,is_mac:0,qty:1,price:0})}},setup(e){const a=Re(),{data:t,modal:l,state:o,loading:i,openModal:s,unsetData:r,actionAll:u,actionUpdate:m}=z("online"),{state:p}=F("online"),{state:h,action:b}=G("online"),{stateOption:g,actionStatusOptions:v}=K("online",null),{state:_,actionAll:f}=F("online"),{state:k,actionAll:w}=H("online"),C=I(null),S=I(!1),x=I(!1),P=y((()=>{const e=JSON.parse(JSON.stringify(p.value));return e.items&&e.items.length?e.items.map((e=>({brand:e.brand?e.brand:e.product_name,category:e.category?e.category:e.product_name}))):void 0})),M=y((()=>[...g.value].map((e=>d(n({},e),{disabled:e.is_disabled}))))),V=y((()=>{var e;return 1e3==(null==(e=h.value)?void 0:e.status_id)})),Q=y((()=>{var e,a;return V.value&&(null==(e=h.value)?void 0:e.is_fulfilled_address)&&(null==(a=h.value)?void 0:a.is_fulfilled_payout)})),U=y((()=>h.value&&h.value.is_readonly));Ie();const O=c();B((()=>t.status_id),(()=>{if(!t.status_id)return;t.ids=[];const e=g.value.find((e=>e.id==t.status_id));e&&(t.is_send_email=e.is_send_email)}));const T=y((()=>t.ids.length>0)),D=y((()=>5==t.status_id&&t.ids.length<1)),q=y((()=>D.value?"Please select at least one item":"Cannot update status")),j=y((()=>D.value));return Promise.all([u(O.params.buybackId),v(),b(O.params.buybackId)]),{refStatusForm:C,data:t,state:o,stateStatuses:g,itemsStatus:M,stateShowItems:_,stateShow:h,stateProducts:p,modal:l,loading:i,notes:k,showNotes:w,openModalEdit:e=>s(e,(()=>{var e,a;t.status_id=h.value.status_id,t.transaction_id=null==(a=null==(e=h.value)?void 0:e.billing)?void 0:a.transaction_id})),unsetData:r,updateStatus:async()=>{var e,l,o;if(null==(l=null==(e=C.value)?void 0:e.validate)?void 0:l.call(e))return[3,7].includes(t.status_id)&&(i.update=!0,a.warningNotes.ids=[null==(o=h.value)?void 0:o.id],!a.warningNotes.isReviewed&&await a.$getNotesUnread(),a.warningNotes.notes.length)?(a.warningNotes.modal=!0,void(i.update=!1)):void(await m(O.params.buybackId,(async()=>{await Promise.all([f(O.params.buybackId),b(O.params.buybackId)])})))},selectedItems:e=>{t.ids=e.map((e=>e.id))},handleUpdateData:e=>{Object.assign(t,e)},isSelectedItems:T,isAbandonedBuyback:V,isAbandonedBuybackStatusEditable:Q,isReadonly:U,disabledUpdateStatusReason:q,disabledUpdateStatus:j,color:Le,widthColumn:{id:"",product_name:"",condition:"",qty:"",price:"",total:"",action:""},itemsProducts:P,reviewed:S,showNotesWarning:x}}}),Ga={key:0},Ka={class:"flex flex-col"},Ha={key:1},Wa={key:2},Ya={class:"grid grid-cols-12 gap-6"},Ja={class:"max-w-sm"},Xa={class:"w-max ml-auto"};const Za=r({components:{Button:ke,Modal:fe,Badge:Ae,ShowOriginal:$a,StatusesBtn:we(Fa,[["render",function(e,a,t,l,o,i){const s=u("Checkbox"),n=u("Button"),d=u("Popover"),r=u("Tooltip"),c=u("Tab"),y=u("Fieldset"),k=u("ItemTable"),w=u("StatusesForm"),S=u("Modal"),x=u("BuybackNotesWarning");return m(),_("div",null,[e.isAbandonedBuyback?(m(),_("div",Ga,[v(d,{trigger:"hover",placement:"left",disabled:e.isAbandonedBuybackStatusEditable,width:300},{default:h((()=>{var t,l;return[a[6]||(a[6]=b("div",{style:{"word-break":"normal"},class:"text-left p-2"},[b("p",{class:"font-semibold"}," Insufficient details prevent the status change of an Abandoned Buyback Offer. "),b("p",{class:"my-2"},"To change the status, you need to:")],-1)),b("div",Ka,[v(s,{modelValue:null==(t=e.stateShow)?void 0:t.is_fulfilled_address,onClick:a[0]||(a[0]=P((()=>{}),["prevent"]))},{default:h((()=>{var a;return[b("span",{class:M(["font-normal",(null==(a=e.stateShow)?void 0:a.is_fulfilled_address)?"line-through-text":""])},"Complete your order information",2)]})),_:1},8,["modelValue"]),v(s,{modelValue:null==(l=e.stateShow)?void 0:l.is_fulfilled_payout,onClick:a[1]||(a[1]=P((()=>{}),["prevent"])),class:"my-2"},{default:h((()=>{var a;return[b("span",{class:M(["font-normal",(null==(a=e.stateShow)?void 0:a.is_fulfilled_payout)?"line-through-text":""])},"Complete your payout",2)]})),_:1},8,["modelValue"])])]})),reference:h((()=>{var t;return[b("div",null,[v(n,{disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||!e.isAbandonedBuybackStatusEditable,color:"teal",onClick:a[2]||(a[2]=a=>e.openModalEdit("update")),dense:""},{default:h((()=>a[7]||(a[7]=[b("i",{class:"material-icons text-base"},"edit",-1)]))),_:1},8,["disabled"])])]})),_:1},8,["disabled"])])):e.isReadonly?(m(),_("div",Ha,[v(r,{placement:"top"},{content:h((()=>a[8]||(a[8]=[b("div",{class:"w-52 text-sm"}," You can no longer edit the status of this offer. ",-1)]))),default:h((()=>[a[9]||(a[9]=b("button",{view:"smooth",color:"grey",dense:"",class:"cursor-not-allowed py-1 px-2 text-sm leading-6 rounded-md bg-grey-01 text-grey-03"},[b("i",{class:"material-icons text-base"},"edit")],-1))])),_:1})])):(m(),_("div",Wa,[v(n,{color:"teal",onClick:a[3]||(a[3]=a=>e.openModalEdit("update")),dense:""},{default:h((()=>a[10]||(a[10]=[b("i",{class:"material-icons text-base"},"edit",-1)]))),_:1})])),v(S,{modelValue:e.modal.update,"onUpdate:modelValue":a[5]||(a[5]=a=>e.modal.update=a),title:"Update Status",onClose:e.unsetData,size:[5,6].includes(e.data.status_id)?"xl":"md",class:M(e.showNotesWarning&&"hidden")},{default:h((()=>[b("div",Ya,[v(y,{class:M([[[5,6].includes(e.data.status_id)?"col-span-2":"col-span-4"],"rounded-lg"])},{label:h((()=>a[11]||(a[11]=[C("Choose Status")]))),default:h((()=>[v(c,{color:"teal",view:"smooth",modelValue:e.data.status_id,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.status_id=a),by:"id",name:"short_name",items:e.itemsStatus,component:"",type:"vertical","disabled-items":""},null,8,["modelValue","items"])])),_:1},8,["class"]),b("div",{class:M([[5,6].includes(e.data.status_id)?"col-span-10":"col-span-8"])},[5==e.data.status_id?(m(),p(k,{key:0,"show-print-label":!1,"show-table-summary":!1,selectable:!0,"width-column":e.widthColumn,onSelectedItems:e.selectedItems,"buyback-type":"mailin"},null,8,["width-column","onSelectedItems"])):f("",!0),v(w,{ref:"refStatusForm",data:e.data,"onUpdate:data":e.handleUpdateData},null,8,["data","onUpdate:data"])],2)])])),footer:h((()=>[v(r,{disabled:!e.disabledUpdateStatus,placement:"top"},{content:h((()=>[b("div",Ja,g(e.disabledUpdateStatusReason),1)])),default:h((()=>[b("div",Xa,[v(n,{disabled:e.disabledUpdateStatus,color:"teal",loading:e.loading.update,onClick:e.updateStatus},{default:h((()=>a[12]||(a[12]=[C("Update Status")]))),_:1},8,["disabled","loading","onClick"])])])),_:1},8,["disabled"])])),_:1},8,["modelValue","onClose","size","class"]),v(x,{onProceed:e.updateStatus},null,8,["onProceed"])])}],["__scopeId","data-v-92f2ecf0"]]),BulkQuoteDetailStatus:me,BuybackShippingKitDownload:pe},props:{bulkQuote:{type:Object,default:()=>({restrictedQuoteUpdate:!1,restrictedQuoteItemUpdate:!1,restrictedQuoteStatusUpdate:!1,restrictedQuotePercentageUpdate:!1,isReconcilable:!1})},order:{type:Object,default:void 0}},setup(e){const a=he(),{isBulkQuote:t}=de(),{data:l,modal:o,loading:i,actionArchive:s,unsetData:d}=W("online"),{data:r,modal:u,loading:m,actionUnarchive:p,unsetData:h}=Y("online"),{state:b,loading:g,action:v}=G("online"),{actionShippingKit:_,actionReceipt:f,loading:k}=J("online"),{state:w,loading:C,modal:S,openModal:x,action:B}=$(),{actionOffer:P,actionRejectOffer:M,loading:U}=X(),O=c(),T=V(),D=y((()=>{var e;return null==(null==(e=b.value)?void 0:e.order_status)})),q=y((()=>{var e,a;return 0===(null==(e=b.value)?void 0:e.shipping_label_is_generate)||2==(null==(a=b.value)?void 0:a.shipping_label_status)||!0===g.value})),j=y((()=>{var e;return 0==(null==(e=b.value)?void 0:e.is_print_receipt)})),A=y((()=>{var e;return!!(null==(e=b.value)?void 0:e.id)})),N=I(!1),R=I(!1),L=()=>{o.value=!1},E=()=>{u.value=!1};return N.value=y((()=>null!=b.value.deleted_at)),R.value=y((()=>null==b.value.deleted_at)),{state:b,stateOriginalQuote:w,loadingOriginalQuote:C,modalOriginalQuote:S,loadingPrint:k,printReceipt:async()=>{if(j.value)return;const e=b.value.box_id;await f(e)},printShippingKit:async()=>{O.params.buybackId&&!q.value&&(a.shippingKit.modal=!0)},openModalOriginalQuote:x,openChangelog:()=>T.push({name:t.value?"bulkQuoteChangelog":"buybackOnlineChangelog",params:n(n({buybackId:O.params.buybackId},O.params.marketerId&&{marketerId:O.params.marketerId}),O.params.status&&{status:O.params.status})}),showOriginalQuote:async()=>{await B(O.params.buybackId),x()},isReady:A,isDisabledPrintShippingKit:q,isDisabledPrintReceipt:j,handleCustomOffer:()=>P(O.params.buybackId,(async()=>{Q({type:"success",message:"Offer sent"}),await action(O.params.buybackId)})),handleRejectCustomOffer:()=>M(O.params.buybackId,(async()=>{Q({type:"success",message:"Offer rejected"}),await action(O.params.buybackId)})),loadingCustomOffer:U,handleArchiveModal:()=>{o.value=!0},handleCloseArchiveModal:L,handleUnarchiveModal:()=>{u.value=!0},handleCloseUnarchiveModal:E,archiveOrder:async()=>{l.id=b.value.id,await s((()=>{Q({type:"success",message:"Success archiving order"}),L(),d()})),v(n({id:O.params.buybackId},O.params.marketerId&&"me"===O.params.marketerId&&{marketer_id:""}||O.params.marketerId&&{marketer_id:O.params.marketerId}))},unarchiveOrder:async()=>{r.id=b.value.id,await p((()=>{Q({type:"success",message:"Success restoring order"}),E(),h()})),v(n({id:O.params.buybackId},O.params.marketerId&&"me"===O.params.marketerId&&{marketer_id:""}||O.params.marketerId&&{marketer_id:O.params.marketerId}))},archiveModal:o,unarchiveModal:u,archiveLoading:i,unarchiveLoading:m,handleBulkQuoteStatusUpdate:async()=>{await v(n({id:O.params.buybackId},O.params.marketerId&&"me"===O.params.marketerId&&{marketer_id:""}||O.params.marketerId&&{marketer_id:O.params.marketerId}))},btnMenuArchive:N,btnMenuUnarchive:R,color:Le,isLoading:D,isBulkQuote:t,loadingShow:g}}}),et={class:"flex items-center gap-4"},at={key:2,class:"rounded-md bg-white p-3 items-center"},tt={class:"flex justify-between items-center"},lt={class:"flex items-center"},ot={key:0,class:"mr-4"},it={key:0},st={class:"py-10"},nt={class:"text-center"},dt={class:"py-10"},rt={class:"text-center"};var ct=we(Za,[["render",function(e,a,t,l,o,i){var s,n,d,r,c,y;const w=u("Tooltip"),x=u("BulkQuoteDetailStatus"),I=u("Badge"),B=u("StatusesBtn"),P=u("Button"),V=u("DropdownItem"),Q=u("DropdownMenu"),O=u("Dropdown"),T=u("ShowOriginal"),D=u("Modal"),q=u("BuybackShippingKitDownload"),j=U("loading");return m(),_(k,null,[b("div",et,[null!=(null==(s=e.state)?void 0:s.deleted_at)?(m(),p(w,{key:0,content:"Archived",placement:"top"},{default:h((()=>a[5]||(a[5]=[b("div",{class:"flex items-center justify-center w-12 h-12 bg-orange-lighten rounded-full text-orange-04 mx-4 select-none"},[b("i",{class:"material-icons"},"archive")],-1)]))),_:1})):f("",!0),e.isBulkQuote?(m(),p(x,{key:1,onUpdateStatus:e.handleBulkQuoteStatusUpdate,status:null==(n=e.state)?void 0:n.order_status,loading:e.loadingShow,"quote-id":e.$route.params.buybackId,disabled:e.bulkQuote.restrictedQuoteStatusUpdate,order:e.order},null,8,["onUpdateStatus","status","loading","quote-id","disabled","order"])):S((m(),_("div",at,[b("div",tt,[a[6]||(a[6]=b("h6",null,"Status :",-1)),v(I,{color:e.color((null==(r=null==(d=e.state)?void 0:d.order_status)?void 0:r.short_name)||""),class:"ml-2 mr-2 text-status",view:"smooth"},{default:h((()=>{var a,t;return[C(g(null==(t=null==(a=e.state)?void 0:a.order_status)?void 0:t.status_name),1)]})),_:1},8,["color"]),v(B,{data:e.state},null,8,["data"])])])),[[j,e.isLoading]]),b("div",lt,[e.isReady?(m(),_("div",ot,[0==e.state.is_offered&&4==e.state.type?(m(),_("div",it,[v(P,{onClick:e.handleCustomOffer,loading:e.loadingCustomOffer.offer,class:"mr-2",color:"teal"},{default:h((()=>a[7]||(a[7]=[b("i",{class:"material-icons"},"local_offer",-1),C(" Offer")]))),_:1},8,["onClick","loading"]),v(P,{onClick:e.handleRejectCustomOffer,loading:e.loadingCustomOffer.rejectOffer,color:"red"},{default:h((()=>a[8]||(a[8]=[b("i",{class:"material-icons"},"close",-1),C(" Reject Offer")]))),_:1},8,["onClick","loading"])])):f("",!0)])):f("",!0),v(O,{placement:"bottom","hide-on-click":!1},{default:h((()=>[v(P,{style:{padding:".8rem"},color:"teal"},{default:h((()=>a[9]||(a[9]=[b("i",{class:"material-icons"},"more_vert",-1)]))),_:1})])),dropdown:h((()=>[v(Q,null,{default:h((()=>{var t,l;return[v(w,{placement:"left",disabled:!e.isDisabledPrintShippingKit},{content:h((()=>a[11]||(a[11]=[b("p",null,[C(" Unable to generate a shipping label. "),b("br"),C(" Please contact support for more detail ")],-1)]))),default:h((()=>[S((m(),p(V,{class:M(e.isDisabledPrintShippingKit?"el-dropdown-menu__item--disabled":""),onClick:e.printShippingKit},{default:h((()=>a[10]||(a[10]=[b("i",{class:"material-icons mr-2 text-xl"},"print",-1),C(" Shipping Kit ")]))),_:1},8,["class","onClick"])),[[j,e.loadingPrint.shippingKit]])])),_:1},8,["disabled"]),e.isReady?S((m(),p(V,{key:0,class:M(e.isDisabledPrintReceipt?"el-dropdown-menu__item--disabled":""),onClick:e.printReceipt},{default:h((()=>a[12]||(a[12]=[b("i",{class:"material-icons mr-2 text-xl"},"insert_drive_file",-1),C(" Print Receipt")]))),_:1},8,["class","onClick"])),[[j,e.loadingPrint.receipt]]):(m(),p(V,{key:1},{default:h((()=>a[13]||(a[13]=[b("span",{class:"text-grey-02"},[b("i",{class:"material-icons mr-2 text-xl"},"print"),C(" Print Receipt")],-1)]))),_:1})),e.isBulkQuote?f("",!0):S((m(),p(V,{key:2,onClick:e.showOriginalQuote},{default:h((()=>a[14]||(a[14]=[b("img",{src:be,alt:"show-original",class:"inline-block mr-2"},null,-1),C(" Show Original")]))),_:1},8,["onClick"])),[[j,e.loadingOriginalQuote]]),v(V,{onClick:e.openChangelog},{default:h((()=>a[15]||(a[15]=[b("img",{src:Ze,alt:"changelog",class:"inline-block mr-2"},null,-1),C(" Changelog ")]))),_:1},8,["onClick"]),null==(null==(t=e.state)?void 0:t.deleted_at)?(m(),p(V,{key:3,onClick:e.handleArchiveModal},{default:h((()=>[v(P,{class:"my-2",color:"orange",dense:"",block:""},{default:h((()=>[a[16]||(a[16]=b("i",{class:"material-icons"},"archive",-1)),C(" Archive "+g(e.isBulkQuote?"Quote":"Order"),1)])),_:1})])),_:1},8,["onClick"])):f("",!0),null!=(null==(l=e.state)?void 0:l.deleted_at)?(m(),p(V,{key:4,onClick:e.handleUnarchiveModal},{default:h((()=>[v(P,{class:"my-2",color:"orange",dense:"",block:""},{default:h((()=>[a[17]||(a[17]=b("i",{class:"material-icons"},"archive",-1)),C(" Restore "+g(e.isBulkQuote?"Quote":"Order"),1)])),_:1})])),_:1},8,["onClick"])):f("",!0)]})),_:1})])),_:1})]),v(T,{modelValue:e.modalOriginalQuote,"onUpdate:modelValue":a[0]||(a[0]=a=>e.modalOriginalQuote=a)},null,8,["modelValue"])]),v(D,{size:"xs",modelValue:e.archiveModal,"onUpdate:modelValue":a[2]||(a[2]=a=>e.archiveModal=a),title:"Archive Order","hide-header":"","hide-footer":"",onClose:e.handleCloseArchiveModal},{default:h((()=>[b("div",st,[a[20]||(a[20]=b("img",{class:"mb-10 mx-auto",src:Be,alt:"Success Icon"},null,-1)),a[21]||(a[21]=b("div",{class:"mt-8 mb-10"},[b("h5",{class:"mb-4 text-center"},"Archiving this Order"),b("p",{class:"text-center mb-4"},[C(" Are you sure you want to archive this order? "),b("br"),C(' Once archived, orders can be recovered from the "Archived" menu ')])],-1)),b("div",nt,[v(P,{view:"outlined",color:"teal",class:"bg-white",disabled:e.archiveLoading,onClick:a[1]||(a[1]=a=>e.archiveModal=!1)},{default:h((()=>a[18]||(a[18]=[C("Cancel")]))),_:1},8,["disabled"]),v(P,{color:"orange",class:"ml-3",loading:e.archiveLoading,onClick:e.archiveOrder},{default:h((()=>a[19]||(a[19]=[C("Yes, Archive")]))),_:1},8,["loading","onClick"])])])])),_:1},8,["modelValue","onClose"]),v(D,{size:"xs",modelValue:e.unarchiveModal,"onUpdate:modelValue":a[4]||(a[4]=a=>e.unarchiveModal=a),title:"Archive Order","hide-header":"","hide-footer":"",onClose:e.handleCloseUnarchiveModal},{default:h((()=>[b("div",dt,[a[24]||(a[24]=b("img",{class:"mb-10 mx-auto",src:Be,alt:"Success Icon"},null,-1)),a[25]||(a[25]=b("div",{class:"mt-8 mb-10"},[b("h5",{class:"mb-4 text-center"},"Restoring this Order"),b("p",{class:"text-center mb-4"}," Are you sure you want to restore this order ? ")],-1)),b("div",rt,[v(P,{view:"outlined",color:"teal",class:"bg-white",disabled:e.unarchiveLoading,onClick:a[3]||(a[3]=a=>e.unarchiveModal=!1)},{default:h((()=>a[22]||(a[22]=[C("Cancel")]))),_:1},8,["disabled"]),v(P,{color:"orange",class:"ml-3",loading:e.unarchiveLoading,onClick:e.unarchiveOrder},{default:h((()=>a[23]||(a[23]=[C("Yes, Restore")]))),_:1},8,["loading","onClick"])])])])),_:1},8,["modelValue","onClose"]),v(q,{id:null==(c=e.state)?void 0:c.box_id,shippings:null==(y=e.state)?void 0:y.shipping_label},null,8,["id","shippings"])],64)}],["__scopeId","data-v-04cfa7dc"]]);const ut=r({components:{Breadcrumb:ea},setup(e){const a=Pe(),{isBulkQuote:t}=de(),l=a.get("online-buyback"),o=y((()=>!!l)),i=y((()=>{var e,a,i,s;if(t.value)return{name:"layoutBulkQuote"};let n={name:"buybackOnline",params:{statusId:"all",category:"active"},query:{}};if(o.value){const t=null==(e=null==l?void 0:l.params)?void 0:e.subStatusId;n.params.statusId=parseInt(null==(a=null==l?void 0:l.params)?void 0:a.statusId)||"all",n.params.category=(null==(i=null==l?void 0:l.params)?void 0:i.category)||"active",n.query={filter:!0},t&&(n.params.subStatusId=(null==(s=null==l?void 0:l.params)?void 0:s.subStatusId)||"")}return n})),s=[{text:t.value?"Bulk Quote":"Mail-In",to:{name:t.value?"layoutBulkQuote":"buybackOnline"}},{text:t.value?"Quote Details":"Offer Details"}];return{isBulkQuote:t,cacheQuery:l,isHasCache:o,routeBack:i,breadcrumb:s}}}),mt={class:"flex gap-2 items-center flex-wrap"},pt={key:0,class:"inline-flex px-4 py-2 bg-blue-lighten text-blue-04 rounded-full"};var ht=we(ut,[["render",function(e,a,t,l,o,i){const s=u("Breadcrumb",!0);return m(),p(s,{backTo:e.routeBack,items:e.breadcrumb},{"page-title":h((()=>[b("div",mt,[b("h5",null,g(e.isBulkQuote?"Quote Details":"Offer Detail"),1),e.isBulkQuote?(m(),_("div",pt," Beta ")):f("",!0)])])),_:1},8,["backTo","items"])}]]);const bt=r({components:{Button:ke,Alert:xe},props:{},setup(e){const{state:a,action:t}=G("online"),{loading:l,actionUpdate:o,data:i}=Z("online"),{actionAll:s}=z("online"),n=c();return{stateShow:a,orderOfferLoading:l,orderOfferUpdate:async e=>{i.is_accept=e,await o(n.params.buybackId,!1,(async()=>{await Promise.all([t(n.params.buybackId),s(n.params.buybackId)]),Q({message:"Offer updated!",type:"success"})}))}}}}),gt={class:"flex items-center flex-col"},vt={class:"flex w-full justify-between items-center"},yt={class:"flex"};var _t=we(bt,[["render",function(e,a,t,l,o,i){var s,n,d,r,c,y,x,I,B;const P=u("router-link"),M=u("Alert"),V=u("Button"),Q=U("loading");return m(),_("div",gt,[(null==(s=e.stateShow)?void 0:s.parent)?(m(),p(M,{key:0,class:"mb-4",color:"orange",view:"smooth"},{default:h((()=>[a[3]||(a[3]=C("This buyback is part of ")),v(P,{class:"mr-2",to:{name:"buybackOnlineDetail",params:{buybackId:e.stateShow.parent.box_id}}},{default:h((()=>[C("#"+g(e.stateShow.parent.box_id),1),a[2]||(a[2]=b("i",{class:"material-icons text-lg ml-1"},"open_in_new",-1))])),_:1},8,["to"])])),_:1})):f("",!0),(null==(n=e.stateShow)?void 0:n.split_order)&&(null==(d=e.stateShow)?void 0:d.split_order.length)>0?(m(),p(M,{key:1,class:"mb-4",color:"orange",view:"smooth"},{default:h((()=>[a[5]||(a[5]=C("Some of these items have been split into a new order. Please use this order number to view them ")),(m(!0),_(k,null,w(e.stateShow.split_order,((e,t)=>(m(),p(P,{class:"mr-2",key:t,to:{name:"buybackOnlineDetail",params:{buybackId:e.box_id}}},{default:h((()=>[C("#"+g(e.box_id),1),a[4]||(a[4]=b("i",{class:"material-icons text-lg ml-1"},"open_in_new",-1))])),_:2},1032,["to"])))),128))])),_:1})):f("",!0),2==(null==(r=e.stateShow)?void 0:r.is_accepted)&&12==(null==(c=e.stateShow)?void 0:c.order_status.id)&&5==(null==(y=e.stateShow)?void 0:y.order_status.parent_id)?(m(),p(M,{key:2,class:"mb-4",color:"orange",view:"smooth"},{default:h((()=>a[6]||(a[6]=[C("The customer has declined the offer.")]))),_:1})):f("",!0),0==(null==(x=e.stateShow)?void 0:x.is_accepted)&&12==(null==(I=e.stateShow)?void 0:I.order_status.id)&&5==(null==(B=e.stateShow)?void 0:B.order_status.parent_id)?S((m(),p(M,{key:3,class:"mb-4",color:"orange",view:"smooth"},{default:h((()=>[b("div",vt,[a[9]||(a[9]=b("p",null,"Waiting for customer response. You can also manually accept or decline the offer here",-1)),b("div",yt,[v(V,{color:"teal",class:"mr-2",dense:"",onClick:a[0]||(a[0]=a=>e.orderOfferUpdate(1)),disabled:e.orderOfferLoading.update},{default:h((()=>a[7]||(a[7]=[C("Accept")]))),_:1},8,["disabled"]),v(V,{color:"red",dense:"",onClick:a[1]||(a[1]=a=>e.orderOfferUpdate(2)),disabled:e.orderOfferLoading.update},{default:h((()=>a[8]||(a[8]=[C("Decline")]))),_:1},8,["disabled"])])])])),_:1})),[[Q,e.orderOfferLoading.update]]):f("",!0)])}]]);const ft=r({components:{Input:Ce,Button:ke,Modal:fe,Select:da},props:{show:{type:Boolean,default:!1},shipping_number:{type:String,default:""},boxId:{type:String,default:""},originalTracking:{type:String,default:""},shippingLabelStatus:{type:String,default:""},regenerateShippingLabel:{type:String,default:""}},emits:["update:show","save"],async setup(e,{emit:a}){const{data:t,loading:l,action:o,actionCheckCourier:i,unsetData:s}=ee();c();const n=I(e.show),d=I(null),r=I(!1),u=I(0),m=I(!1),p=I(!0),h=I([]),b=O({courier_code:"",courier_name:""}),g=y((()=>[...h.value.map((e=>e.courier_name)),"Other"])),v=Ke({shipping_tracking:{required:na}},t,{$lazy:!0}),_=()=>v.value.$reset(),f=()=>(_(),v.value.$validate(),!v.value.$invalid),k=async()=>{if(f())try{await o(d.value,(()=>{Q({type:"success",message:"Custom tracking saved"}),a("update:show",!1),a("save",!0),s(),_(),m.value=!1,p.value=!0,b.courier_name="",b.courier_code=""}))}catch(e){e.response&&422===e.response.status&&(r.value=!0,u.value=0,t.force_courier_code=1)}};return B((()=>e),(e=>{const a=!!e.shipping_number,l=!t.shipping_tracking;a&&l&&(t.shipping_tracking=e.shipping_number),d.value=e.boxId,n.value=e.show}),{deep:!0,immediate:!0}),{copyText:oa,isShow:n,data:t,loading:l,validation:v,handleSaveChanges:async()=>{if(f())if(p.value){p.value=!1;try{const e=await i(t.shipping_tracking);4110===e.code||4121===e.code?(r.value=!0,u.value=0,h.value=[],t.courier_code=null,t.courier_name=null):1===e.length?(t.courier_code=e[0].courier_code,t.courier_name=e[0].courier_name,k()):e.length>1&&(h.value=e,m.value=!0,r.value=!1)}catch(e){Q({type:"error",message:"Error checking courier service"})}}else if("Other"===b.courier_name)t.courier_code="other",t.courier_name="Other",k();else{if(!b.courier_name&&m.value)return;k()}},handleCloseModal:()=>{a("update:show",!1),m.value=!1,r.value=!1,p.value=!0,s(),_()},handleSelectCourier:()=>{t.force_courier_code=0;const e=h.value.find((e=>e.courier_name===b.courier_name));"Other"===e?(t.courier_code="other",t.courier_name="Other"):e&&(r.value=!1,t.courier_code=e.courier_code,t.courier_name=e.courier_name)},handleTrackingChange:()=>{r.value=!1,m.value=!1,t.force_courier_code=0,m.value=!1,p.value=!0},selectedCourier:b,courierOptions:g,showWarning:r,warningType:u,showCourierSelect:m}}}),kt={key:0,class:"border border-grey-01 rounded-xl p-6 w-full mb-6"},wt={class:"flex-col my-4"},Ct={key:0,class:"mr-4 text-grey-04"},St={key:1,class:"text-red-base inline-block mr-4"},xt={key:2,class:"text-red-base mt-4 block"},It={key:3,class:"flex items-start gap-2 text-orange-03 mt-4"},Bt={key:0},Pt={key:4,class:"flex items-start gap-2 text-orange-03 mt-4"};const Mt=r({components:{Currency:Ne,Alert:xe,Badge:Ae,Button:ke,Card:$e,Modal:fe,Tab:Ge,Input:Ce,Loading:Me,PaymentMethod:ia,ShippingLabelInfo:ge,TextLimit:sa,CustomTracking:we(ft,[["render",function(e,a,t,l,o,i){const s=u("Button"),n=u("Input"),d=u("Select"),r=u("Modal"),c=U("maska");return m(),p(r,{modelValue:e.isShow,"onUpdate:modelValue":a[3]||(a[3]=a=>e.isShow=a),title:"Shipping Information",onClose:e.handleCloseModal},{default:h((()=>["1"!==e.shippingLabelStatus?(m(),_("div",kt,[a[5]||(a[5]=b("div",{class:"flex items-center gap-2 mb-4"},[b("i",{class:"material-icons text-red-base icon-md"},"warning"),b("p",{class:"text-2xl font-bold"},"Regenerate Shiping Label")],-1)),a[6]||(a[6]=b("p",null,'The shipping label failed to generate. Once the root cause is resolved, you can click "Regenerate Shipping Label" to generate both the shipping label and the shipping kit again. The new tracking number and shipping kit will then be automatically attached to the Offer Details page.',-1)),v(s,{class:"btn btn-teal btn-outlined mt-6",rounded:"",dense:"",onClick:e.regenerateShippingLabel},{default:h((()=>a[4]||(a[4]=[b("div",{class:"flex items-center gap-2 px-2 py-1"},[b("i",{class:"material-icons text-base"},"refresh"),b("span",{class:"font-medium"},"Regenerate Shiping Label")],-1)]))),_:1},8,["onClick"])])):f("",!0),a[11]||(a[11]=b("p",{class:"font-bold"},"Original Tracking Number",-1)),b("div",null,[b("p",{class:M(["mb-2 mt-2 inline-block mr-4",{"text-red-base":null===e.originalTracking||""===e.originalTracking}])},g(e.originalTracking||"Not Available"),3),e.originalTracking?(m(),p(s,{key:0,color:"teal",dense:"",onClick:a[0]||(a[0]=a=>e.copyText(e.originalTracking||"-"))},{default:h((()=>a[7]||(a[7]=[b("i",{class:"material-symbols-outlined"},"content_copy",-1)]))),_:1})):f("",!0)]),b("div",wt,[a[8]||(a[8]=b("p",{class:"font-bold mb-1"},"Shipping Label Status",-1)),1==e.shippingLabelStatus?(m(),_("span",Ct,"Available")):(m(),_("p",St," Not Available "))]),a[12]||(a[12]=b("p",{class:"font-bold mt-4"},"Custom Tracking Number",-1)),S(v(n,{modelValue:e.data.shipping_tracking,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.shipping_tracking=a),onInput:e.handleTrackingChange,block:"",view:e.validation.shipping_tracking.$invalid?"danger":"default"},null,8,["modelValue","onInput","view"]),[[c,"X*"]]),(m(!0),_(k,null,w(e.validation.shipping_tracking.$errors,((e,a)=>(m(),_("small",{class:"text-red-base block",key:a},g(e.$message)+". ",1)))),128)),e.showCourierSelect?(m(),p(d,{key:1,modelValue:e.selectedCourier.courier_name,"onUpdate:modelValue":a[2]||(a[2]=a=>e.selectedCourier.courier_name=a),onChange:e.handleSelectCourier,items:e.courierOptions,placeholder:"Select one of the available carriers",label:"Carrier",class:"w-full",block:""},null,8,["modelValue","onChange","items"])):f("",!0),!e.selectedCourier.courier_name&&e.showCourierSelect?(m(),_("small",xt,"Please select a carrier.")):f("",!0),e.showWarning?(m(),_("div",It,[a[9]||(a[9]=b("span",{class:"material-icons"},"info",-1)),0===e.warningType?(m(),_("p",Bt,"The tracking number is either incorrect or not recogniced. You can still save the changes. but the offer status will not automatically updates to 'in-transit'.")):f("",!0)])):f("",!0),"Other"===e.selectedCourier.courier_name?(m(),_("div",Pt,a[10]||(a[10]=[b("span",{class:"material-icons"},"info",-1),b("p",null,"You can still save the changes, but the offer status will not automatically update to 'in-transit'.",-1)]))):f("",!0)])),footer:h((()=>[v(s,{onClick:e.handleSaveChanges,color:"teal",loading:e.loading},{default:h((()=>a[13]||(a[13]=[C("Save Changes")]))),_:1},8,["onClick","loading"])])),_:1},8,["modelValue","onClose"])}]]),AbandonBuybackCustomerForm:ra,Address:ma,DetailContactOrderInformation:ca,DetailCustomerPortalLink:ua,ExpeditedIcon:pa,BuybackShippingOptions:ve},props:{bulkQuote:{type:Object,default:()=>({restrictedQuoteUpdate:!1,restrictedQuoteItemUpdate:!1,restrictedQuoteStatusUpdate:!1,restrictedQuotePercentageUpdate:!1,isReconcilable:!1,totalQuoteItems:0})},isBulkQuote:{type:Boolean,default:!1}},async setup(e){const{state:a,modal:t,openModal:l,loading:o,action:i,stateOrdersToReloads:s,resetStateOrdersToReloads:r}=G("online"),{state:u}=F("online"),{state:m,data:p,loading:h,errors:b,showBankNumber:g,actionAll:v,actionUpdate:_,actionShowBankNumber:f,actionShowCheckSettings:k}=ae("online"),{loading:w,actionPaperCheck:C}=J(),{loading:S,action:x}=te("online"),{modal:P,openModal:M}=ee(),{bankTransferConfig:U,me:D}=Ie(),{state:q,action:j}=aa(),{data:A,modal:N,updateCustomer:R,loading:L}=le("online"),{loading:E,regenerateShipping:$}=oe("online"),z=O({selected:"PaymentMethod"}),K=y((()=>{var t;const l=[{name:e.isBulkQuote?"Shipping Label Info":"Offer Details",component:"ShippingLabelInfo"},{name:e.isBulkQuote?"Payment Method":"Offer Payout Method",component:"PaymentMethod"}];return e.isBulkQuote&&9e3!==(null==(t=a.value)?void 0:t.status_id)?[{name:"Payment Method",component:"PaymentMethod"}]:l})),H=c(),W=V(),Y=I(null),X=I(null),Z=I(!1),ie=I({}),se=O({}),ne=I(!1),de=I(!1),re=y((()=>{var e;return"PaymentMethod"===z.selected?{autoSelect:!0,items:m.value,data:a.value.billing}:"ShippingLabelInfo"===z.selected?{data:Object.assign(p.shippingLabelInfo,d(n({},a.value.shipping),{company_name:null==(e=null==a?void 0:a.value.billing)?void 0:e.company_name,custom_fields:me.value})),isEasyOffer:pe.value}:void 0})),ce=y((()=>"PaymentMethod"===z.selected?Object.assign({},{"update:data":e=>ie.value=e}):{})),ue=y((()=>{const e=a.value.custom_fields;return!e?[]:Object.entries(e).map((([e,a])=>({label:a.key,value:a.value})))})),me=y((()=>Object.fromEntries(ue.value.map((e=>[e.label,e.value]))))),pe=y((()=>3===(null==a?void 0:a.value.type)&&"Easy Offer"===(null==a?void 0:a.value.type_text))),he=()=>{Object.assign(se,n(n({},p.shippingLabelInfo),a.value.shipping))},be=y((()=>0===Object.keys(a.value).length)),ge=y((()=>{var e;return 1e3==(null==(e=a.value)?void 0:e.status_id)})),ve=y((()=>!ge.value)),ye=y((()=>a.value&&a.value.is_readonly));await i({id:H.params.buybackId,is_store:1},(async e=>{await v({id:e.customer_id,params:{box_id:H.params.buybackId}}),await j(e.customer_id),he()})),await k((e=>{ne.value=1==e.is_ready_in_store&&1==e.is_enable_check})),"Local Buyback"===a.value.buyback_type&&W.push({name:"buybackLocalDetail",params:{buybackId:H.params.buybackId}});const _e=y((()=>{var e;return D.value.is_view_confidential&&"Bank Transfer"===(null==(e=a.value.billing)?void 0:e.payment_method)})),fe=y((()=>{var e,t,l;const o=[];return(null==(e=a.value.billing)?void 0:e.bank_transfer.length)&&!Z.value?(null==(t=a.value.billing)||t.bank_transfer.forEach((e=>{const a=n({},e);if("account_name"!==a.attribute_name)if(a.value){const e=a.value.split("").splice(0,a.value.length-3).map((()=>"*")),t=a.value.split("").splice(a.value.length-3,3);a.value=`${e.join("")}${t.join("")}`}else a.value="-";o.push(a)})),o):null==(l=a.value.billing)?void 0:l.bank_transfer})),ke=y((()=>{const{shipping:e,customer:t}=a.value||{};return{firstName:e&&(null==e?void 0:e.shipping_firstname)||(null==t?void 0:t.first_name)||"-",lastName:e&&(null==e?void 0:e.shipping_lastname)||(null==t?void 0:t.last_name)||"-",email:e&&(null==e?void 0:e.email)||(null==t?void 0:t.email)||"-",phone:e&&(null==e?void 0:e.shipping_phone)||(null==t?void 0:t.phone)||"-",addressCustomer:(null==t?void 0:t.address_text)?(null==t?void 0:t.suite)?`${null==t?void 0:t.suite}, ${null==t?void 0:t.address_text}`:null==t?void 0:t.address_text:"-"}})),we=y((()=>{var t;if(o.value)return!1;if(e.isBulkQuote){return!["9000","9001"].includes(String(null==(t=a.value)?void 0:t.status_id))}return!0}));return B((()=>s.value),(async e=>{var a;(null==e?void 0:e.offer_id)&&(null==e?void 0:e.offer_has_changes)&&(null==(a=null==H?void 0:H.params)?void 0:a.buybackId)===(null==e?void 0:e.offer_id)&&(await i({id:H.params.buybackId,is_store:1}),r())}),{deep:!0}),{dataPaymentMethod:ie,dataAbandonBubyback:A,tab:z,componentBind:re,componentOn:ce,customFields:ue,stateShow:a,stateItems:u,statePaymentMethod:m,bankTransferConfig:U,showBankNumber:g,printAddressLabel:()=>{var e,t;const l=`${(null==(e=a.value.shipping)?void 0:e.shipping_suite)?Oe(null==(t=a.value.shipping)?void 0:t.shipping_suite)+", ":""}${Oe(a.value.shipping.shipping_address1)||""}\n${Oe(a.value.shipping.shipping_city)||""} ${Oe(a.value.shipping.shipping_state)||""} ${Oe(a.value.shipping.shipping_zip)||""}`,o=`${a.value.shipping.shipping_firstname||""} ${a.value.shipping.shipping_lastname||""}`,i=a.value.shipping.shipping_imb||"";ta(l,o,i)},isShowBankNumber:Z,loadingPaymentMethod:h,loadingPrint:w,loadingPrintStatus:S,loadingAbandonBuyback:L,isLoading:be,isNotAbandonedBuyback:ve,isReadonly:ye,isAbandonedBuyback:ge,isReadyPaperCheck:ne,errorsPaymentMethod:b,modal:t,modalCustomTracking:P,modalAbandonBuyback:N,refComponent:Y,refAbandonBuybackCustomerForm:X,openModal:l,openModalCustomTracking:M,paperCheck:()=>C(H.params.buybackId),updatePaymentMethod:async()=>{Object.assign(ie.value,n(n({},a.value.shipping),p.shippingLabelInfo));const e=Object.entries(ie.value).filter((([e,a])=>!!Object.keys(se).includes(e)&&se[e]!==a)).length>0;await T((()=>"PaymentMethod"===z.selected?Y.value.refChildComponent.validate():Y.value.validate()))&&_(H.params.buybackId,d(n({},ie.value),{is_generate_shipping:e?1:0}),(async()=>{t.paymentMethod=!1,await i({id:H.params.buybackId,is_store:1},(()=>{he()}))}))},changeStatusPrint:()=>{x(H.params.buybackId,(async()=>{Q({message:"Print status updated",type:"success"}),await i({id:H.params.buybackId,is_store:1})}))},color:Le,sellingTypeColor:Ee,kebabCase:Ve,toggleShowBankNumber:()=>{Z.value=!Z.value},handleCustomTrackingSaved:async()=>await i({id:H.params.buybackId,is_store:1},(async e=>{await v({id:e.customer_id,params:{box_id:H.params.buybackId}})})),CopyText:oa,phoneNumber:Qe,handleLoginAsCustomer:(e=null)=>{if(!e)return null;window.open(e,"_blank").focus()},handleOpenShippingLabelInfoModal:()=>{z.selected="ShippingLabelInfo",a.value.shipping&&Object.keys(a.value.shipping).forEach((e=>{a.value.shipping[e]||(a.value.shipping[e]=a.value.customer[e.replace("shipping_","")])})),l("paymentMethod")},handleOpenPayoutMethodModal:()=>{z.selected="PaymentMethod",l("paymentMethod")},handleUpdateAbandonBuybackCustomer:async()=>{if(!X.value)return;X.value.validate()&&await R(a.value.customer.id,(async()=>{N.update.customer=!1,Q({type:"success",message:"Customer information saved"}),await i({id:H.params.buybackId,is_store:1}),await v({id:a.value.customer.id,params:{box_id:H.params.buybackId}})}))},handleOpenAbandonBuybackCustomerModal:()=>{N.update.customer=!0,Object.assign(A.customer,{box_id:a.value.box_id,email:a.value.customer.email,firstname:a.value.customer.first_name,lastname:a.value.customer.last_name,phone:a.value.customer.phone,address:a.value.customer.address1,suite:a.value.customer.suite,city:a.value.customer.city,state:a.value.customer.state,zip:a.value.customer.zip,country:a.value.customer.country,address_text:a.value.customer.address_text})},nameCapitalize:Ue,stateCustomer:q,computedBankTransfer:fe,confidentialView:_e,computedCustomer:ke,isShowTrackingNumber:we,tabItems:K,actionShow:i,handleSucceedBuybackOption:async()=>{await i({id:H.params.buybackId,is_store:1})},loadingShippingInfo:de,handleRegenerateShipping:async()=>{const e=a.value.box_id||H.params.buybackId;if(!e)return void Q({type:"warning",message:"Box ID Undefined"});const t=await $(e);Q({type:"success",message:(null==t?void 0:t.result)||(null==t?void 0:t.message)||"Success"}),await i({id:H.params.buybackId,is_store:1})},loadingRegenerateShipping:E}}}),Vt={class:"flex items-center justify-between mb-4"},Qt={class:"text-lg text-grey-04 font-semibold"},Ut={class:"flex items-center p-1"},Ot=["src","alt"],Tt={key:0,class:"bg-red-01 text-red-base px-4 py-2 mb-4 rounded-lg"},Dt={key:1},qt={class:"my-6"},jt={class:"space-y-1"},At={class:"flex items-center mb-4"},Nt={class:"font-semibold mr-2"},Rt={key:0,class:"relative"},Lt={class:"flex items-center gap-x-2"},Et=["href"],$t={key:1,class:"relative"},zt={class:"flex items-center gap-x-2"},Ft={key:2},Gt={class:"my-6"},Kt={class:"flex items-center gap-2 font-semibold mr-2 mb-4"},Ht={style:{maxWidth:"300px"}},Wt={key:0,class:"my-6"},Yt={class:"text-grey-03"},Jt={class:"my-6"},Xt={class:"text-grey-03"},Zt={class:"my-6",style:{"overflow-wrap":"anywhere"}},el={class:"text-grey-03"},al={key:2,class:"my-6"},tl={class:"text-grey-03"},ll={class:"flex justify-between items-center"},ol={class:"flex items-center justify-end gap-x-2"},il={key:0},sl={class:"text-xl font-medium mb-4"},nl={key:1},dl={class:"inline-block"},rl={class:"w-full h-full flex justify-center items-center"},cl={key:0,class:"p-5"},ul={key:0},ml={class:"space-y-2"},pl={key:0},hl={key:1,class:"text-teal-04"},bl={key:1},gl={class:"text-teal-04"},vl={class:"flex flex-wrap items-center"},yl={key:2,class:"my-5"},_l={class:"flex items-center gap-x-1"},fl={class:"mb-2"},kl={key:3},wl={class:"font-semibold mb-2"},Cl={class:"text-grey-03"},Sl={class:"mb-2"},xl={class:"flex justify-between items-center"},Il={key:0},Bl={class:"mb-2"},Pl={key:0,class:"mb-2"},Ml={class:"font-semibold mb-2 flex items-center gap-2"},Vl={key:1,class:"text-teal-04 cursor-pointer"},Ql={class:"flex items-center gap-2"},Ul={class:"mt-2"},Ol={key:0,class:"flex items-center gap-2"},Tl={class:"flex items-center gap-2"},Dl={key:1,class:"flex items-center gap-2"},ql={key:0,class:"flex items-center gap-2"},jl={key:1,class:"flex items-center gap-2"},Al={class:"flex items-center gap-2"},Nl={class:"flex items-center gap-2"},Rl={class:"flex items-center gap-2"},Ll={class:"flex items-center gap-2"},El={key:4,class:"flex items-center"},$l={key:5},zl={class:"text-sm"},Fl=["onClick"],Gl={key:6,class:"flex items-center gap-2"},Kl={key:7,class:"flex items-center gap-2"},Hl={key:8,class:"flex items-center gap-2"},Wl={key:9,class:"flex items-center gap-2 mt-1"},Yl={class:"ml-2"},Jl={key:10,class:"flex items-center gap-2"},Xl={key:11,class:"flex items-center gap-2"},Zl={key:12,class:"flex items-center gap-2"},eo={class:"flex items-center gap-2"},ao={key:0,class:"flex items-center gap-2"},to={key:14,class:"flex items-center gap-2"},lo={key:15,class:"flex items-center gap-2"},oo={class:"flex items-center gap-2"},io={class:"flex items-center gap-2"},so={key:17,class:"flex items-center gap-2"},no={key:18},ro={key:20,class:"flex items-center gap-2"},co={key:21},uo={key:1,class:"mb-2"},mo={key:2},po={key:3},ho={class:"flex justify-between items-center gap-4"},bo={key:0,class:"flex items-center gap-2 bg-green-lighten text-green-04 py-2 px-4 rounded-full mr-auto text-sm"},go={key:0,class:"mb-4 flex flex-col items-center justify-center"},vo={class:"flex justify-end"};var yo=we(Mt,[["render",function(e,a,t,l,o,i){var s,n;const d=u("Badge"),r=u("Tooltip"),c=u("BuybackShippingOptions"),y=u("Card"),x=u("TextLimit"),I=u("router-link"),B=u("Popover"),V=u("DetailContactOrderInformation"),Q=u("DetailCustomerPortalLink"),O=u("Button"),T=u("ExpeditedIcon"),A=u("Tab"),N=u("Modal"),R=u("AbandonBuybackCustomerForm"),L=u("CustomTracking"),E=U("loading");return m(),_(k,null,[S((m(),p(y,{class:"mb-4"},{header:h((()=>{var t;return[b("div",ll,[a[53]||(a[53]=b("h6",null,"Offer",-1)),b("div",ol,[v(c,{id:null==(t=e.stateShow)?void 0:t.box_id,multiple:e.stateShow.is_multiple_shipping,total:e.stateShow.total_shipping_label,shippings:e.stateShow.shipping_label,shippingLabelStatus:e.stateShow.shipping_label_status,regenerateShippingLabel:e.handleRegenerateShipping,onSucceed:e.handleSucceedBuybackOption},null,8,["id","multiple","total","shippings","shippingLabelStatus","regenerateShippingLabel","onSucceed"])])])]})),default:h((()=>{var t,l,o,i,s,n,c,u,y,w,S,x,I,B;return[b("div",Vt,[b("p",Qt,"Offer ID # "+g(e.$route.params.buybackId),1),e.stateShow.type_text&&!e.isBulkQuote?(m(),p(d,{key:0,class:"whitespace-nowrap",color:e.sellingTypeColor(e.stateShow.type_text)},{default:h((()=>[b("div",Ut,[b("img",{src:`/icon/selling-type/${e.kebabCase(e.stateShow.type_text,"lower")}.svg`,alt:`${e.stateShow.type_text} icon`},null,8,Ot),b("p",null,g(e.stateShow.type_text),1)])])),_:1},8,["color"])):f("",!0)]),2==e.stateShow.shipping_label_status?(m(),_("div",Tt,a[39]||(a[39]=[b("div",{class:"flex gap-x-2"},[b("i",{class:"material-icons text-red-base text-center"},"warning"),b("span",null,' Unable to generate the shipping label due to an error. Once the root cause is resolved, you can click "Regenerate Shipping Label" from the three-dot menu above. ')],-1)]))):f("",!0),b("p",null,[a[40]||(a[40]=b("span",{class:"material-icons text-base"},"date_range",-1)),C(" "+g(null==(t=e.stateShow)?void 0:t.created_at),1)]),e.isShowTrackingNumber?(m(),_("div",Dt,[b("div",qt,[b("div",jt,[b("div",At,[b("p",Nt,g(null==(l=e.stateShow)?void 0:l.shipping_courier)+" Shipping Information ",1),1==(null==(o=e.stateShow)?void 0:o.is_custom_tracking)?(m(),p(d,{key:0,color:"orange"},{default:h((()=>a[41]||(a[41]=[C("Custom")]))),_:1})):f("",!0)]),1===(null==(s=null==(i=e.stateShow)?void 0:i.shipping_label)?void 0:s.length)?(m(),_("div",Rt,[b("div",Lt,[a[43]||(a[43]=b("span",{class:"material-icons"},"local_shipping",-1)),b("span",null,g((null==(c=null==(n=e.stateShow)?void 0:n.shipping_label[0])?void 0:c.custom_tracking)||(null==(y=null==(u=e.stateShow)?void 0:u.shipping_label[0])?void 0:y.shipping_tracking)),1),b("a",{href:e.stateShow.shipping_tracking_link,rel:"noreferrer noopener",class:"text-grey-03",target:"_blank"},a[42]||(a[42]=[b("span",{class:"material-icons"},"launch",-1)]),8,Et)]),a[44]||(a[44]=b("div",{class:"flex items-center gap-x-2"},[b("span",{class:"material-icons"},"qr_code"),b("span",null,"Shipping Label Available")],-1))])):(null==(S=null==(w=e.stateShow)?void 0:w.shipping_label)?void 0:S.length)>1?(m(),_("div",$t,[b("div",zt,[a[45]||(a[45]=b("span",{class:"material-icons"},"local_shipping",-1)),b("span",null,g(e.stateShow.shipping_label.length)+" Available Shipping Label",1)])])):(m(),_("div",Ft,a[46]||(a[46]=[b("div",null,[b("div",{class:"flex items-center gap-x-2"},[b("span",{class:"material-icons"},"local_shipping"),b("span",{class:"text-red-base"},"Tracking Number is not available")]),b("div",{class:"flex items-center gap-x-2"},[b("span",{class:"material-icons"},"qr_code"),b("span",{class:"text-red-base"},"Shipping Label Not Available")])],-1)])))])]),b("div",Gt,[b("p",Kt,[a[48]||(a[48]=b("span",null,"Shipping Cost",-1)),v(r,{placement:"top"},{content:h((()=>[b("div",Ht,[0==e.stateShow.shipping_cost?(m(),_(k,{key:0},[C(" This feature is available only for offers using EasyPost USPS services. The shipping service you are using doesn't support this feature. ")],64)):(m(),_(k,{key:1},[C(" The shipping cost is not final until USPS weighs the package, after which the actual shipping cost will be reflected here. ")],64))])])),default:h((()=>[a[47]||(a[47]=b("span",{class:"material-icons"},"info",-1))])),_:1})]),b("p",null,[0!=e.stateShow.shipping_cost?(m(),_(k,{key:0},[C(g(e.stateShow.shipping_cost),1)],64)):(m(),_(k,{key:1},[C("-")],64))])]),(null==(x=e.stateShow)?void 0:x.is_multiple_shipping)?f("",!0):(m(),_("div",Wt,[a[49]||(a[49]=b("p",{class:"font-semibold mb-2"},"Status",-1)),b("p",Yt,g((null==(B=null==(I=e.stateShow)?void 0:I.shipping_label[0])?void 0:B.shipping_status_summary)||"No Shipping Information"),1)]))])):f("",!0),b("div",Jt,[a[50]||(a[50]=b("p",{class:"font-semibold mb-2"},"Source",-1)),b("p",Xt,g(e.stateShow.source||"-"),1)]),b("div",Zt,[a[51]||(a[51]=b("p",{class:"font-semibold mb-2"},"Referral Source",-1)),b("p",el,g(e.stateShow.referral_source||"-"),1)]),e.stateShow.returned_tracking?(m(),_("div",al,[a[52]||(a[52]=b("p",{class:"font-semibold mb-2"},"Returned Tracking ",-1)),b("p",tl,g(e.stateShow.returned_tracking),1)])):f("",!0)]})),_:1})),[[E,e.isLoading]]),S((m(),p(y,{class:"mb-4",error:e.isAbandonedBuyback&&!(null==(s=e.stateShow)?void 0:s.is_fulfilled_address)},{header:h((()=>{var t,l,o,i,s,n;return[b("div",xl,[b("h6",null,g(e.isBulkQuote?"Quote Information":"Offer Information"),1),e.isReadonly?f("",!0):(m(),_("div",Il,[e.isAbandonedBuyback?(m(),p(O,{key:0,onClick:e.handleOpenAbandonBuybackCustomerModal,class:"mx-2",disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.isBulkQuote&&9e3!==(null==(l=e.stateShow)?void 0:l.status_id),loading:e.loadingPaymentMethod.all,color:"teal",dense:""},{default:h((()=>a[62]||(a[62]=[b("i",{class:"material-icons text-base"},"edit",-1),C(" Edit")]))),_:1},8,["onClick","disabled","loading"])):(m(),p(O,{key:1,onClick:e.handleOpenShippingLabelInfoModal,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.bulkQuote.restrictedQuoteUpdate||e.isBulkQuote&&9e3!==(null==(i=e.stateShow)?void 0:i.status_id),loading:e.loadingPaymentMethod.all,class:"mr-2",color:"teal",dense:""},{default:h((()=>a[63]||(a[63]=[b("i",{class:"material-icons text-base"},"edit",-1),C(" Edit")]))),_:1},8,["onClick","disabled","loading"])),(null==(s=e.stateCustomer)?void 0:s.login_link)&&"#"!=(null==(n=e.stateCustomer)?void 0:n.login_link)?(m(),p(B,{key:2,trigger:"hover",width:"400"},{reference:h((()=>{var t;return[v(O,{disabled:1e3===(null==(t=e.stateShow)?void 0:t.status_id),onClick:a[2]||(a[2]=a=>{var t;return e.handleLoginAsCustomer(null==(t=e.stateCustomer)?void 0:t.login_link)}),color:"green",dense:""},{default:h((()=>a[64]||(a[64]=[b("i",{class:"material-icons text-base"},"vpn_key",-1),C(" Login")]))),_:1},8,["disabled"])]})),default:h((()=>[a[65]||(a[65]=b("span",{class:"font-normal"},"Login to customer account",-1))])),_:1})):f("",!0)]))])]})),default:h((()=>{var t,l,o,i;return[e.isBulkQuote?(m(),_("div",il,[b("h6",sl,g(null==(l=null==(t=e.stateShow)?void 0:t.customer)?void 0:l.company),1)])):(m(),_("div",nl,[b("div",dl,[v(B,{width:"400",trigger:"hover"},{reference:h((()=>{var t,l;return[e.isAbandonedBuyback?(m(),_("div",ul,[v(x,{text:`${e.computedCustomer.firstName||""} ${e.computedCustomer.lastName||""}`},{default:h((({text:a})=>[b("div",ml,[e.nameCapitalize(a).length?(m(),_("h5",pl,[(m(!0),_(k,null,w(e.nameCapitalize(a),((e,a)=>(m(),_("span",{key:a,class:"text-teal-04 capitalize"},g(`${e} `),1)))),128))])):(m(),_("h5",hl,g(a),1))])])),_:1},8,["text"])])):(m(),_("div",bl,[v(I,{to:{name:"customerDetail",params:{customerId:null==(l=null==(t=e.stateShow)?void 0:t.customer)?void 0:l.id,category:"mail-in"}}},{default:h((()=>[v(x,{text:`${e.computedCustomer.firstName||""} ${e.computedCustomer.lastName||""}`},{default:h((e=>[b("h5",gl,[C(g(e.text)+" ",1),a[58]||(a[58]=b("i",{class:"material-icons icon-visibility"},"visibility",-1))])])),_:1},8,["text"])])),_:1},8,["to"])]))]})),default:h((()=>[b("div",rl,[(m(),_("div",cl,[a[57]||(a[57]=b("p",{class:"font-semibold"},"Customer Information",-1)),b("p",null,[a[54]||(a[54]=b("i",{class:"material-icons text-base mr-1"},"email",-1)),C(" "+g(e.computedCustomer.email),1)]),b("p",null,[a[55]||(a[55]=b("i",{class:"material-icons text-base mr-1"},"location_on",-1)),C(" "+g(e.computedCustomer.addressCustomer),1)]),b("p",null,[a[56]||(a[56]=b("i",{class:"material-icons text-base mr-1"},"call",-1)),C(" "+g(e.phoneNumber(e.computedCustomer.phone)),1)])]))])])),_:1})]),b("i",{class:"material-icons hover:text-teal-04 text-teal-04 cursor-pointer ml-2",style:{"line-height":"2"},onClick:a[0]||(a[0]=P((a=>e.CopyText(`${e.computedCustomer.firstName} ${e.computedCustomer.lastName}`)),["stop"]))}," file_copy ")])),b("p",vl,[a[59]||(a[59]=b("i",{class:"material-icons text-base mr-2"}," assignment ",-1)),C(" "+g((e.isBulkQuote?e.bulkQuote.totalQuoteItems:null==(o=e.stateItems)?void 0:o.total_qty)||0)+" items ",1)]),e.stateShow.type_text&&"Easy Offer"===e.stateShow.type_text?(m(),_("div",yl,[a[60]||(a[60]=b("p",{class:"font-semibold"},"Company Name",-1)),b("p",_l,g((null==(i=e.stateShow.billing)?void 0:i.company_name)||"-"),1)])):f("",!0),b("div",{class:M(e.stateShow.type_text&&"Easy Offer"===e.stateShow.type_text?"mb-2":"mt-5")},[v(V,{title:e.isBulkQuote?"Order Information":"Contact Information",data:e.stateShow,type:"online"},null,8,["title","data"])],2),b("div",fl,[b("a",{class:"flex items-center",href:"",onClick:a[1]||(a[1]=P(((...a)=>e.printAddressLabel&&e.printAddressLabel(...a)),["prevent"]))},a[61]||(a[61]=[b("i",{class:"material-icons text-lg mt-2"},"print",-1),b("span",{class:"mt-2 mx-3"},"Print Address Label",-1)]))]),e.customFields.length>0?(m(),_("div",kl,[(m(!0),_(k,null,w(e.customFields,(e=>(m(),_("div",{key:e.label,class:"my-6"},[b("p",wl,g(e.label),1),b("p",Cl,g(e.value),1)])))),128))])):f("",!0),b("div",Sl,[v(Q,{title:"Customer Portal URL",data:e.stateShow},null,8,["data"])])]})),_:1},8,["error"])),[[E,e.isLoading]]),S((m(),p(y,{class:"mb-4",error:e.isAbandonedBuyback&&!(null==(n=e.stateShow)?void 0:n.is_fulfilled_payout)},{header:h((()=>{var t,l,o,i;return[b("div",ho,[a[103]||(a[103]=b("h6",null,"Payout",-1)),(null==(l=null==(t=e.stateShow)?void 0:t.billing)?void 0:l.expedited_payout)?(m(),_("div",bo,[v(T,{class:"text-green-04"}),a[100]||(a[100]=b("span",null,"Expedited Payout",-1))])):f("",!0),e.isAbandonedBuyback&&!e.isReadonly?(m(),p(O,{key:1,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.bulkQuote.restrictedQuoteUpdate,loading:e.loadingPaymentMethod.all,color:"teal",onClick:e.handleOpenPayoutMethodModal,dense:""},{default:h((()=>a[101]||(a[101]=[b("i",{class:"material-icons text-base"},"edit",-1),C(" Edit")]))),_:1},8,["disabled","loading","onClick"])):e.isReadonly?f("",!0):(m(),p(O,{key:2,disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.bulkQuote.restrictedQuoteUpdate,loading:e.loadingPaymentMethod.all,color:"teal",onClick:e.handleOpenPayoutMethodModal,dense:""},{default:h((()=>a[102]||(a[102]=[b("i",{class:"material-icons text-base"},"edit",-1),C(" Edit")]))),_:1},8,["disabled","loading","onClick"]))])]})),default:h((()=>{var t,l,o,i,s,n,d,c,u,y,I,B,M,V,Q,U,T,D,q,j,A,N,R,L,$,z,F,G,K,H,W,Y,J,X,Z,ee,ae,te,le,oe,ie,se,ne,de,re,ce,ue,me,pe,he,be,ge,ve,ye,_e,fe,ke,we,Ce,Se,xe,Ie,Be,Pe,Me,Ve,Qe,Ue;return[b("div",Bl,[a[67]||(a[67]=b("p",{class:"font-semibold mb-2"},"Payout Method",-1)),b("p",null,[C(g(null==(t=e.stateShow.billing)?void 0:t.payment_method)+" ",1),e.isReadyPaperCheck?(m(),_(k,{key:0},["Paper Check"===(null==(l=e.stateShow.billing)?void 0:l.payment_method)||"Express Check"===(null==(o=e.stateShow.billing)?void 0:o.payment_method)?(m(),p(O,{key:0,class:"ml-8",color:"teal",loading:e.loadingPrint.paperCheck,onClick:P(e.paperCheck,["prevent"]),disabled:0==(null==(i=e.stateShow.billing)?void 0:i.is_print_check),dense:""},{default:h((()=>a[66]||(a[66]=[b("i",{class:"material-icons text-base"},"print",-1)]))),_:1},8,["loading","onClick","disabled"])):f("",!0)],64)):f("",!0)])]),(null==(s=e.stateShow.billing)?void 0:s.payment_method)&&!["Cash","Store Credit","Gift Card","Virtual Debit Card"].includes(null==(n=e.stateShow.billing)?void 0:n.payment_method)?(m(),_("div",Pl,[b("div",Ml,[a[69]||(a[69]=C(" Payout Info ")),e.confidentialView?(m(),_(k,{key:0},[e.isShowBankNumber?(m(),_("span",{key:0,class:"text-teal-04 cursor-pointer",onClick:a[3]||(a[3]=(...a)=>e.toggleShowBankNumber&&e.toggleShowBankNumber(...a))},a[68]||(a[68]=[b("i",{class:"material-icons icon-visibility"},"visibility",-1)]))):f("",!0),e.isShowBankNumber?f("",!0):(m(),_("span",Vl,[b("i",{class:"material-icons icon-visibility-off",onClick:a[4]||(a[4]=(...a)=>e.toggleShowBankNumber&&e.toggleShowBankNumber(...a))},"visibility_off")]))],64)):f("",!0)]),"Paper Check"===(null==(d=e.stateShow.billing)?void 0:d.payment_method)||"Express Check"===(null==(c=e.stateShow.billing)?void 0:c.payment_method)?(m(),_(k,{key:0},[b("div",Ql,[a[70]||(a[70]=b("strong",{class:"text-sm"},"Customer Info",-1)),v(x,{text:`${(null==(u=e.stateShow.billing)?void 0:u.billing_firstname)||""} ${(null==(y=e.stateShow.billing)?void 0:y.billing_lastname)||""}`},{default:h((e=>[b("p",null,g(e.text),1)])),_:1},8,["text"]),b("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[5]||(a[5]=a=>{var t,l;return e.CopyText(`${(null==(t=e.stateShow.billing)?void 0:t.billing_firstname)||""} ${(null==(l=e.stateShow.billing)?void 0:l.billing_lastname)||""}`)})}," file_copy ")]),b("div",Ul,[a[72]||(a[72]=b("p",{class:"font-semibold"},"Payout Address",-1)),"1"===e.stateShow.use_company_name?(m(),_("p",Ol,[a[71]||(a[71]=b("strong",{class:"text-sm"},"Company",-1)),C(" "+g(null==(I=e.stateShow.billing)?void 0:I.company_name)+" ",1),b("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[6]||(a[6]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.company_name)})}," file_copy ")])):f("",!0),v(x,{text:`${(null==(B=e.stateShow.billing)?void 0:B.billing_firstname)||""} ${(null==(M=e.stateShow.billing)?void 0:M.billing_lastname)||""}`},{default:h((e=>[b("p",null,g(e.text),1)])),_:1},8,["text"]),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[7]||(a[7]=a=>{var t,l;return e.CopyText(`${(null==(t=e.stateShow.billing)?void 0:t.billing_firstname)||""} ${(null==(l=e.stateShow.billing)?void 0:l.billing_lastname)||""}`)})}," file_copy "),b("p",Tl,[C(g((null==(V=e.stateShow.billing)?void 0:V.billing_address_text_suite)||(null==(Q=e.stateShow.billing)?void 0:Q.billing_address_text)||"-")+" ",1),b("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[8]||(a[8]=a=>{var t,l;return e.CopyText((null==(t=e.stateShow.billing)?void 0:t.billing_address_text_suite)||(null==(l=e.stateShow.billing)?void 0:l.billing_address_text)||"-")})}," file_copy ")]),(null==(U=e.stateShow.billing)?void 0:U.billing_phone)?(m(),_("p",Dl,[C(g(e.phoneNumber(null==(T=e.stateShow.billing)?void 0:T.billing_phone))+" ",1),b("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[9]||(a[9]=a=>{var t;return e.CopyText(e.phoneNumber(null==(t=e.stateShow.billing)?void 0:t.billing_phone))})}," file_copy ")])):f("",!0)])],64)):"Venmo"===(null==(D=e.stateShow.billing)?void 0:D.payment_method)?(m(),_(k,{key:1},[b("p",null,g(null==(q=e.stateShow.billing)?void 0:q.venmo_email),1),b("p",null,g(e.phoneNumber(null==(j=e.stateShow.billing)?void 0:j.venmo_phone_number)),1),(null==(A=e.stateShow.billing)?void 0:A.venmo_username)?(m(),_("div",ql,[a[73]||(a[73]=b("strong",{class:"text-sm"},"Username",-1)),b("p",null,g(null==(N=e.stateShow.billing)?void 0:N.venmo_username),1),b("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[10]||(a[10]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.venmo_username)})}," file_copy ")])):f("",!0),(null==(R=e.stateShow.billing)?void 0:R.venmo_last_digit)?(m(),_("div",jl,[a[74]||(a[74]=b("strong",{class:"text-sm"},"Last 4 digits of phone number",-1)),b("p",null,g(null==(L=e.stateShow.billing)?void 0:L.venmo_last_digit),1),b("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[11]||(a[11]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.venmo_last_digit)})}," file_copy ")])):f("",!0)],64)):"Amazon Gift Card"===(null==($=e.stateShow.billing)?void 0:$.payment_method)?(m(),_(k,{key:2},[b("p",Al,[a[75]||(a[75]=b("strong",{class:"text-sm"},"Email",-1)),C(g(null==(z=e.stateShow.billing)?void 0:z.amazon_card_email)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[12]||(a[12]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.amazon_card_email)})}," file_copy ")]),b("p",Nl,[a[76]||(a[76]=b("strong",{class:"text-sm"},"Phone Number",-1)),C(g(e.phoneNumber(null==(F=e.stateShow.billing)?void 0:F.amazon_card_phone))+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[13]||(a[13]=a=>{var t;return e.CopyText(e.phoneNumber(null==(t=e.stateShow.billing)?void 0:t.amazon_card_phone))})}," file_copy ")])],64)):"Square Cash"===(null==(G=e.stateShow.billing)?void 0:G.payment_method)?(m(),_(k,{key:3},[b("p",Rl,[a[77]||(a[77]=b("strong",{class:"text-sm"},"Cash Tag",-1)),C(" "+g(null==(K=e.stateShow.billing)?void 0:K.square_cash_tag)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[14]||(a[14]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.square_cash_tag)})}," file_copy ")]),b("p",Ll,[a[78]||(a[78]=b("strong",{class:"text-sm"},"Phone Number",-1)),C(g(e.phoneNumber(null==(H=e.stateShow.billing)?void 0:H.square_phone_number))+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[15]||(a[15]=a=>{var t;return e.CopyText(e.phoneNumber(null==(t=e.stateShow.billing)?void 0:t.square_phone_number))})}," file_copy ")])],64)):"PayPal"===(null==(W=e.stateShow.billing)?void 0:W.payment_method)?(m(),_("div",El,[b("p",null,[a[79]||(a[79]=b("strong",{class:"mr-2 text-sm"},"PayPal Address",-1)),C(" "+g(null==(Y=e.stateShow.billing)?void 0:Y.paypal_address),1)]),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[16]||(a[16]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.paypal_address)})}," file_copy ")])):"Bank Transfer"===(null==(J=e.stateShow.billing)?void 0:J.payment_method)?S((m(),_("div",$l,[(m(!0),_(k,null,w(e.computedBankTransfer,((t,l)=>(m(),_("p",{key:l,class:"flex items-center gap-2"},[b("strong",zl,g(t.name),1),C(" "+g(t.value)+" ",1),e.confidentialView?(m(),_("i",{key:0,class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a=>e.CopyText(t.value)}," file_copy ",8,Fl)):(m(),p(r,{key:1,placement:"top"},{content:h((()=>a[80]||(a[80]=[b("div",{class:"max-w-sm"},"You don't have access to this data. Please request access from your account admin",-1)]))),default:h((()=>a[81]||(a[81]=[b("i",{disabled:"",class:"material-icons ml-4 text-teal-02 cursor-not-allowed"}," file_copy ",-1)]))),_:1}))])))),128))])),[[E,e.loadingPaymentMethod.showBankNumber]]):"Bitcoin"===(null==(X=e.stateShow.billing)?void 0:X.payment_method)?(m(),_("p",Gl,[a[82]||(a[82]=b("strong",{class:"text-sm"},"Bitcoin Address",-1)),C(g(null==(Z=e.stateShow.billing)?void 0:Z.bitcoin_crypto_address)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[17]||(a[17]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.bitcoin_crypto_address)})}," file_copy ")])):"Coinbase"===(null==(ee=e.stateShow.billing)?void 0:ee.payment_method)?(m(),_("p",Kl,[a[83]||(a[83]=b("strong",{class:"text-sm"},"Coinbase Address",-1)),C(g(null==(ae=e.stateShow.billing)?void 0:ae.bitcoin_crypto_address)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[18]||(a[18]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.bitcoin_crypto_address)})}," file_copy ")])):"Zelle"===(null==(te=e.stateShow.billing)?void 0:te.payment_method)?(m(),_("p",Hl,[a[84]||(a[84]=b("strong",{class:"text-sm"},"Email or Phone Number",-1)),C(" "+g(null==(le=e.stateShow.billing)?void 0:le.zelle_email_or_phone_number)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[19]||(a[19]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.zelle_email_or_phone_number)})}," file_copy ")])):"Cash App"===(null==(oe=e.stateShow.billing)?void 0:oe.payment_method)?(m(),_("p",Wl,[a[85]||(a[85]=b("strong",{class:"text-sm"},"Email or Phone Number or Cash Tag",-1)),b("span",Yl,g(null==(ie=e.stateShow.billing)?void 0:ie.cash_app_email_or_phone_number_or_cash_tag),1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[20]||(a[20]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.cash_app_email_or_phone_number_or_cash_tag)})}," file_copy ")])):"Apple Pay"===(null==(se=e.stateShow.billing)?void 0:se.payment_method)?(m(),_("p",Jl,[a[86]||(a[86]=b("strong",{class:"text-sm"},"Phone Number",-1)),C(" "+g(e.phoneNumber(null==(ne=e.stateShow.billing)?void 0:ne.apple_pay_phone_number))+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[21]||(a[21]=a=>{var t;return e.CopyText(e.phoneNumber(null==(t=e.stateShow.billing)?void 0:t.apple_pay_phone_number))})}," file_copy ")])):"Google Pay"===(null==(de=e.stateShow.billing)?void 0:de.payment_method)?(m(),_("p",Xl,[a[87]||(a[87]=b("strong",{class:"text-sm"},"Email or Phone Number",-1)),C(" "+g(null==(re=e.stateShow.billing)?void 0:re.google_play_email_or_phone_number)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[22]||(a[22]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.google_play_email_or_phone_number)})}," file_copy ")])):"Facebook Pay"===(null==(ce=e.stateShow.billing)?void 0:ce.payment_method)?(m(),_("p",Zl,[a[88]||(a[88]=b("strong",{class:"text-sm"},"Email",-1)),C(" "+g(null==(ue=e.stateShow.billing)?void 0:ue.facebook_pay_email)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[23]||(a[23]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.facebook_pay_email)})}," file_copy ")])):"Interac e-Transfer"===(null==(me=e.stateShow.billing)?void 0:me.payment_method)?(m(),_(k,{key:13},[b("p",eo,[a[89]||(a[89]=b("strong",{class:"text-sm"},"Full Name",-1)),C(g(null==(pe=e.stateShow.billing)?void 0:pe.interac_full_name)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[24]||(a[24]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.interac_full_name)})}," file_copy ")]),(null==(he=e.stateShow.billing)?void 0:he.interac_email_or_phone)?(m(),_("p",ao,[a[90]||(a[90]=b("strong",{class:"text-sm"}," Email or Phone Number ",-1)),C(" "+g(null==(be=e.stateShow.billing)?void 0:be.interac_email_or_phone)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[25]||(a[25]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.interac_email_or_phone)})}," file_copy ")])):f("",!0)],64)):"eCheck"===(null==(ge=e.stateShow.billing)?void 0:ge.payment_method)?(m(),_("p",to,[a[91]||(a[91]=b("strong",{class:"text-sm"},"Email",-1)),C(" "+g(null==(ve=e.stateShow.billing)?void 0:ve.echeck_email)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[26]||(a[26]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.echeck_email)})}," file_copy ")])):"Swish"===(null==(ye=e.stateShow.billing)?void 0:ye.payment_method)?(m(),_("p",lo,[a[92]||(a[92]=b("strong",{class:"text-sm"},"Phone Number",-1)),C(" "+g(e.phoneNumber(null==(_e=e.stateShow.billing)?void 0:_e.swish_phone_number))+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[27]||(a[27]=a=>{var t;return e.CopyText(e.phoneNumber(null==(t=e.stateShow.billing)?void 0:t.swish_phone_number))})}," file_copy ")])):"Bill"===(null==(fe=e.stateShow.billing)?void 0:fe.payment_method)?(m(),_(k,{key:16},[b("p",oo,[a[93]||(a[93]=b("strong",{class:"text-sm"},"Legal Business Name",-1)),C(" "+g(null==(ke=e.stateShow.billing)?void 0:ke.bill_legal_business_name)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[28]||(a[28]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.bill_legal_business_name)})}," file_copy ")]),b("p",io,[a[94]||(a[94]=b("strong",{class:"text-sm"},"Network ID",-1)),C(" "+g(null==(we=e.stateShow.billing)?void 0:we.bill_network_id)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[29]||(a[29]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.bill_network_id)})}," file_copy ")])],64)):"Rebate"===(null==(Ce=e.stateShow.billing)?void 0:Ce.payment_method)?(m(),_("p",so,[a[95]||(a[95]=b("strong",{class:"text-sm"},"Order Number",-1)),C(" "+g(null==(Se=e.stateShow.billing)?void 0:Se.rebate_order_number)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[30]||(a[30]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.rebate_order_number)})}," file_copy ")])):"Choose Later"===(null==(xe=e.stateShow.billing)?void 0:xe.payment_method)?(m(),_("p",no," Choose Later (Tremendous) ")):(null==(Ie=e.stateShow.billing)?void 0:Ie.custom_payout)?(m(!0),_(k,{key:19},w(null==(Be=e.stateShow.billing)?void 0:Be.custom_payout,((e,a)=>(m(),_("p",{key:a,class:"break-words"},[C(g(e.value)+" ",1),b("small",null,"("+g(e.name)+")",1)])))),128)):"Revolut"===(null==(Pe=e.stateShow.billing)?void 0:Pe.payment_method)?(m(),_("p",ro,[a[96]||(a[96]=b("strong",{class:"text-sm"},"Revtag, Email or Phone Number",-1)),C(g(null==(Me=e.stateShow.billing)?void 0:Me.revtag_or_email_or_phone)+" ",1),b("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[31]||(a[31]=a=>{var t;return e.CopyText(null==(t=e.stateShow.billing)?void 0:t.revtag_or_email_or_phone)})}," file_copy ")])):(m(),_("p",co,"No Payout Information"))])):f("",!0),"Choose Later"===(null==(Ve=e.stateShow.billing)?void 0:Ve.payment_method)?(m(),_("div",uo,[a[97]||(a[97]=b("p",{class:"font-semibold mb-2"},"Payout Status",-1)),b("p",null,g(null==(Qe=e.stateShow.billing)?void 0:Qe.tremendous_status),1)])):f("",!0),e.stateItems.coupon_code?(m(),_("div",mo,[a[98]||(a[98]=b("p",{class:"font-semibold mb-2"},"Promo Code",-1)),b("p",null,g(e.stateItems.coupon_code),1)])):f("",!0),(null==(Ue=e.stateShow.billing)?void 0:Ue.transaction_id)?(m(),_("div",po,[a[99]||(a[99]=b("p",{class:"font-semibold mb-2"},"Transaction ID",-1)),b("p",null,g(e.stateShow.billing.transaction_id),1)])):f("",!0)]})),_:1},8,["error"])),[[E,e.isLoading]]),v(N,{modelValue:e.modal.paymentMethod,"onUpdate:modelValue":a[35]||(a[35]=a=>e.modal.paymentMethod=a),title:e.isBulkQuote?"Update Payout":"Update Offer Information","hide-footer":e.errorsPaymentMethod.all},{footer:h((()=>[v(O,{color:"teal",loading:e.loadingPaymentMethod.update,onClick:a[34]||(a[34]=a=>e.updatePaymentMethod())},{default:h((()=>[C(g(e.isBulkQuote?"Save Payout":"Save Offer Information"),1)])),_:1},8,["loading"])])),default:h((()=>[e.errorsPaymentMethod.all?(m(),_("div",go,[a[105]||(a[105]=b("p",null,"There's an error when getting payout info, please try again",-1)),v(O,{class:"mt-4",color:"teal",onClick:a[32]||(a[32]=()=>e.$router.go())},{default:h((()=>a[104]||(a[104]=[b("i",{class:"material-icons text-lg"},"refresh",-1),C(" Reload Page")]))),_:1})])):(m(),_(k,{key:1},[v(A,{modelValue:e.tab.selected,"onUpdate:modelValue":a[33]||(a[33]=a=>e.tab.selected=a),items:e.tabItems,component:""},null,8,["modelValue","items"]),(m(),p(D(e.tab.selected),q({ref:"refComponent"},e.componentBind,j(e.componentOn)),null,16))],64))])),_:1},8,["modelValue","title","hide-footer"]),v(N,{modelValue:e.modalAbandonBuyback.update.customer,"onUpdate:modelValue":a[37]||(a[37]=a=>e.modalAbandonBuyback.update.customer=a),title:"Edit Customer"},{default:h((()=>[v(R,{ref:"refAbandonBuybackCustomerForm",data:e.dataAbandonBubyback.customer,"onUpdate:data":a[36]||(a[36]=a=>e.dataAbandonBubyback.customer=a)},null,8,["data"])])),footer:h((()=>[b("div",vo,[v(O,{onClick:e.handleUpdateAbandonBuybackCustomer,loading:e.loadingAbandonBuyback.update.customer,color:"teal"},{default:h((()=>a[106]||(a[106]=[C("Save")]))),_:1},8,["onClick","loading"])])])),_:1},8,["modelValue"]),v(L,{show:e.modalCustomTracking,"onUpdate:show":a[38]||(a[38]=a=>e.modalCustomTracking=a),"box-id":e.stateShow.box_id,"original-tracking":e.stateShow.original_tracking,onSave:e.handleCustomTrackingSaved},null,8,["show","box-id","original-tracking","onSave"])],64)}],["__scopeId","data-v-7c126c9a"]]);const _o=r({components:{Input:Ce,Button:ke,Modal:fe,Card:$e,Tab:Ge,Badge:Ae,DeviceForm:ya,PhonecheckInfo:fa,StatusesForm:za,PrintLabel:ka,BBTable:wa,BBTColumn:Ca,Currency:Ne,BulkCondition:Sa,BulkImeiSNInput:xa,GolfSpecBadge:Ia},props:{isBulkQuoteReconcile:{type:Boolean,default:!1}},emits:["reconcile"],async setup(){const{state:e,device:a,dataCoupon:t,loadingCoupon:l,loading:o,modal:i,selected:s,isCouponApplied:r,isCouponChanged:u,unsetData:m,openModal:p,actionAll:h,actionCreate:b,actionUpdate:g,actionDelete:v,actionImeiCheck:_,actionImeiCheckPrint:f,actionImeiCheckPrintBulk:k,applyCoupon:w,removeCoupon:C}=F("online"),{me:S}=Ie(),{data:x,modal:B,action:P,unsetData:M,openModal:U,loading:D}=ie("online"),{stateOption:q,actionStatusOptions:j}=K("online"),{state:A,action:N,batchPrintLabel:R}=G("online"),{update:L}=ne("online"),{stateEnabledIntegration:E,actionEnabledIntegration:$}=ba(),{data:z,action:H,loading:W,modal:Y,unsetData:J}=se(),{loading:X,items:Z,action:ee,actionCustom:ae}=ga(),{transformSeperateCustomSpecs:te}=va(),le=c(),oe=V(),de=I(null),re=I(null),ce=I(null),ue=I(null),me=I([]),pe=I([]),he=I(null),be=I(null),ge=I(!1),ve=I([]),ye=I(!1),_e=I(!1),fe=I("qr"),ke=y((()=>A.value&&A.value.is_readonly)),we=y((()=>S.value.package_id>=4&&1==E.value.is_phonecheck_enable)),Ce=y({set(e){z.imei=e?e.split("\n"):null},get:()=>Array.isArray(z.imei)?z.imei.join("\n"):z.imei});a.marketerId=le.params.marketerId;const Se=qe((async e=>{await g(le.params.buybackId,e.id,{imei_sn:e.imei_sn,notes:e.notes})}),300),xe=qe((async e=>{await g(le.params.buybackId,e.id,{imei_sn:e.imei_sn,notes:e.notes})}),300),Be=y((()=>JSON.parse(JSON.stringify(e.value)))),Pe=()=>{if(_e.value=!1,pe.value.length>0){_e.value=!0;const e=pe.value[0].is_mac,a=pe.value[0].category_id;pe.value.forEach((t=>{t.is_mac!=e&&(_e.value=!1),t.category_id!=a&&(_e.value=!1)}))}},Me=()=>{var e;ye.value=!1,Y.value=!1,null==(e=null==ue?void 0:ue.value)||e.validate.$reset(),J()},Ve=O({modal:!1,loading:!1});return await $(),await Promise.all([h(le.params.buybackId),j()]),{me:S,device:a,state:e,stateStatuses:q,stateShow:A,items:Be,selectedItems:pe,dataSplitItems:x,loading:o,loadingSplitItems:D,modal:i,modalSplitItems:B,printLabelData:me,unsetData:m,unsetDataSplitItems:M,dataBulkImeiAddDevice:z,dataCoupon:t,loadingBulkImeiAddDevice:W,loadingCoupon:l,modalBulkImeiAddDevice:Y,isBulkImei:ye,bulkImei:Ce,splitItems:async()=>{const e=pe.value.length>0,a=x.new_status;if(!e)return Q({message:"Please choose at least one item",type:"warning"});if(!a)return Q({message:"Please choose new status",type:"warning"});const t=pe.value.map((e=>e.id));Object.assign(x,{ids:t}),await P(le.params.buybackId,(async()=>{pe.value=[],Q({message:"Order splitted!",type:"success"}),await Promise.all([h(le.params.buybackId),N(le.params.buybackId),j()])}))},openSplitItemsModal:U,rowKey:e=>{const a=e.child?"_parent":"_child";return e.id+a},isParent:(e,a)=>!(e.child&&e.child.length>0),refDeviceForm:de,refPhonecheckInfo:re,refBulkImeiSNInput:ue,openModalSelected:(e,t)=>p(e,(()=>{"update"===e&&(a.id=t.id,Object.assign(a.data,{product_name:t.product_name,product_id:t.product_id,category_id:t.category_id,category_name:t.category_name,condition:t.condition,is_mac:t.is_mac,is_custom:t.is_custom,imei_sn:t.imei_sn,imei_required:t.imei_required,price:t.price,qty:t.qty,color:t.color,color_id:t.color_id,notes:t.notes,golf_steps:t.golf_step?t.golf_step:[],is_custom_color:null!==t.custom_color,custom_color:t.custom_color||null,questions_temp:t.questions}),Object.assign(a.original,{is_mac:t.is_mac||0,product_name:t.ori_product_name||"",processor:t.ori_processor_speed||"",hard_drive:t.ori_hard_drive||"",memory:t.ori_memory||"",graphics:t.ori_graphics||"",created_at:t.created_at}),Object.assign(a.golfSpecs,{length:{selected:t.golf_length||t.custom_length||null,is_custom:null!==t.custom_length},loft:{selected:t.golf_loft||t.custom_loft||null,is_custom:null!==t.custom_loft},gender:{selected:t.golf_gender||t.custom_gender||null,is_custom:null!==t.custom_gender},shaft_model:{selected:t.golf_shaft_model||t.custom_shaft_model||null,is_custom:null!==t.custom_shaft_model},shaft_material:{selected:t.golf_shaft_material||t.custom_shaft_material||null,is_custom:null!==t.custom_shaft_material}})),s.value=t.id})),deviceTableUpdate:xe,addDevice:async()=>{if(await T((()=>de.value.validate()))){const e=d(n(n(n({},a.data),te(a.golfSpecs)),a.data.is_custom_color?{custom_color:a.data.custom_color,color_id:null}:{color_id:a.data.color_id}),{questions:a.data.questions.reduce(((e,a)=>("object"==typeof a.answer_id?a.answer.forEach((t=>e.push({question_id:a.question_id,answer_id:t.id}))):a.answer_id&&e.push({question_id:a.question_id,answer_id:a.answer.id}),e)),[])});delete e.color,a.data=Object.assign(e),await b(le.params.buybackId)}},deleteDevice:async(e,a)=>{pe.value=[],await v(le.params.buybackId)},updateDevice:async()=>{var e,t,l,o,i,s,r,c,u,m,p,b;if(await T((()=>de.value.validate()))){const v=n({},a.data);delete v.color,Object.assign(v,d(n(n({product_id:a.data.product_id?a.data.product_id+(a.computer.processor?`-${a.computer.processor.id}-${a.computer.memory.id}-${a.computer.hardDrive.id}-${a.computer.graphicsCard.id}`:""):-1,processor:(null==(e=a.computer.processor)?void 0:e.name)||null,hard_drive:(null==(t=a.computer.hardDrive)?void 0:t.name)||null,memory:(null==(l=a.computer.memory)?void 0:l.name)||null,graphics:(null==(o=a.computer.graphicsCard)?void 0:o.name)||null,device:(null==(s=null==(i=a.device)?void 0:i.detail)?void 0:s.device)||null,model:(null==(c=null==(r=a.device)?void 0:r.detail)?void 0:c.model)||null,network:(null==(m=null==(u=a.device)?void 0:u.detail)?void 0:m.network)||null,size:(null==(b=null==(p=a.device)?void 0:p.detail)?void 0:b.size)||null,is_custom:a.data.is_custom||0,notes:a.data.notes,buyback_type:a.data.buyback_type||"mailin"},te(a.golfSpecs)),a.data.is_custom_color?{custom_color:a.data.custom_color,color_id:null}:{color_id:a.data.color_id}),{questions:a.data.questions.reduce(((e,a)=>("object"==typeof a.answer_id?a.answer.forEach((t=>e.push({question_id:a.question_id,answer_id:t.id}))):a.answer_id&&e.push({question_id:a.question_id,answer_id:a.answer.id}),e)),[])})),await g(le.params.buybackId,a.id,v,(async()=>{await Promise.all([h(le.params.buybackId),j()])}))}},money:Te,openModal:p,tableSummary:({columns:a})=>a.map((a=>"total"===a.property?`${De(S.value,e.value.total)}`:"price"===a.property?"Total":"")),selectItems:e=>{pe.value=e,ve.value=e.filter((e=>"exists"==e.phonecheck_status)),Pe()},tabValidate:e=>5!==e.id,openDataMatch:()=>oe.push({name:"buybackOnlineDataMatch",params:{buybackId:le.params.buybackId}}),printQrLabel:e=>{const a=la({id:e.id,productName:e.product_name,isMac:e.is_mac,detail:e.detail,condition:e.condition,buybackId:le.params.buybackId,imei:e.imei_sn});fe.value="qr",me.value=[a],i.print_qr=!0},printBarcodeLabel:e=>{const a=la({id:e.id,productName:e.product_name,isMac:e.is_mac,detail:e.detail,condition:e.condition,buybackId:le.params.buybackId,imei:e.imei_sn,price:De(S.value,e.price)});fe.value="barcode",me.value=[a],i.print_barcode=!0},printQrLabelBatch:()=>{const e=[];for(let a of pe.value)e.push(la({id:a.id,productName:a.product_name,isMac:a.is_mac,detail:a.detail,condition:a.condition,buybackId:le.params.buybackId,imei:a.imei_sn}));fe.value="qr",me.value=e,i.print_qr=!0},printBarcodeLabelBatch:()=>{const e=[];for(let a of pe.value)e.push(la({id:a.id,productName:a.product_name,isMac:a.is_mac,detail:a.detail,condition:a.condition,buybackId:le.params.buybackId,imei:a.imei_sn,price:De(S.value,a.price)}));fe.value="barcode",me.value=e,i.print_barcode=!0},viewPhoneCheckData:e=>{he.value=JSON.parse(e.phonecheck_info),be.value=e,p("phonecheck_info")},importPhoneCheck:async()=>{let e=pe.value.map((e=>({id:e.id,imei_sn:e.imei_sn})));await _(le.params.buybackId,{imei:e,origin:"mail-in"}),await Promise.all([h(le.params.buybackId),j()])},PhonecheckInfoData:he,PhonecheckDevice:be,isErrorSelectedPhonecheck:ge,printPhoneCheck:async e=>{await f(le.params.buybackId,{id:e.id,imei:e.imei_sn,origin:"mail-in"})},imeiUpdate:Se,validPhonecheckselectedItems:ve,importBulkPhoneCheck:async()=>{await k(le.params.buybackId,{ids:ve.value.map((e=>e.id)),origin:"mail-in"})},isReadonly:ke,isCouponApplied:r,isCouponChanged:u,hasEnablePhonecheck:we,actionEnabledIntegration:$,importSinglePhoneCheck:async e=>{var a;let t=[{id:e.id,imei_sn:e.imei_sn}],l=await _(le.params.buybackId,{imei:t,origin:"mail-in"});if(0==l.data.length&&1!==(null==l?void 0:l.is_phonecheck_error))return Q({message:"IMEI/SN not found",type:"warning"});he.value=null==(a=l.data[0])?void 0:a.info,be.value=e,l.data.length&&!l.is_phonecheck_error?ge.value=!1:ge.value=!l.is_phonecheck_error||1==l.is_phonecheck_error,p("phonecheck_info"),await Promise.all([h(le.params.buybackId),j()])},handleOpenAddBulkImeiModal:e=>{var a;const{product_id:t,product_name:l,condition:o,price:i,qty:s}=e;z.product_id=t,z.product_name=l,z.condition=o,z.price=i,z.qty=s;const n=[];(null==(a=null==e?void 0:e.child)?void 0:a.length)&&e.child.forEach((e=>{n.push((null==e?void 0:e.imei_sn)||"")})),z.imei=n,ye.value=!0,Y.value=!0},handleCloseAddBulkImeiModal:Me,handleAddBulkImeiDevice:async()=>{await ue.value.validate.$validate()&&await H(le.params.buybackId,(async()=>{Me(),await Promise.all([h(le.params.buybackId),N(le.params.buybackId),j()]),Q({message:"Items added",type:"success"})}))},handleBulkChangeCondition:async()=>{Ve.modal=!0;pe.value.length>0&&1==pe.value[0].is_custom?await ae({category_id:pe.value[0].category_id,is_mac:pe.value[0].is_mac}):await ee({product_id:pe.value[0].product_id,is_mac:pe.value[0].is_mac})},bulkCondition:Ve,handleCloseModalBulkCondition:()=>{Ve.modal=!1},handleBulkChangeItemCondition:async e=>{await L({boxId:le.params.buybackId,data:e}),Q({type:"success",message:"Item conditions updated"}),Ve.modal=!1,pe.value=[],ce.value.checkValue=[],await Promise.all([h(le.params.buybackId),j()])},handleApplyCoupon:async()=>{await w({boxId:le.params.buybackId},(async(e,a)=>{e||await h(le.params.buybackId)}))},handleRemoveCoupon:async()=>{await C({boxId:le.params.buybackId},(async(e,a)=>{e||await h(le.params.buybackId)}))},refItemTable:ce,sameProduct:_e,loadingCondition:X,itemConditions:Z,labelType:fe}}}),fo={class:"mb-8"},ko={key:0,class:"flex gap-4 flex-wrap flex-col items-center justify-center my-4"},wo={key:1},Co={class:"flex gap-2"},So={key:0},xo={key:0,class:"mb-4"},Io={class:"font-bold mr-2"},Bo={class:"whitespace-nowrap"},Po={key:1,class:"block"},Mo={key:2},Vo={key:0},Qo={key:0,src:"https://d18hvo5uozp8li.cloudfront.net/public/images/phonecheck.svg",alt:"",class:"h-4"},Uo={key:1},Oo={key:0,class:"flex items-center justify-center gap-2"},To={style:{maxWidth:"300px"}},Do={class:"list-decimal pl-4"},qo={class:"mb-1"},jo={class:"list"},Ao={key:0,class:"text-white"},No={key:0,class:"flex flex-row items-center justify-center"},Ro={key:1,class:"flex flex-wrap justify-center"},Lo={class:"space-x-2 mb-2"},Eo={class:"font-bold"},$o={class:"whitespace-nowrap"},zo={key:0},Fo={key:0,src:"https://d18hvo5uozp8li.cloudfront.net/public/images/phonecheck.svg",alt:"",class:"h-4"},Go={key:1},Ko={class:"flex items-center justify-center gap-2"},Ho={style:{maxWidth:"300px"}},Wo={class:"list-decimal pl-4"},Yo={class:"mb-1"},Jo={class:"list"},Xo={key:0,class:"text-white"},Zo={class:"flex flex-row items-center justify-center"},ei={key:0,class:"mb-2"},ai={key:1,class:"mb-2"},ti={key:2,class:"mb-2"},li={key:3,class:"mb-2"},oi={key:4,class:"flex items-center justify-end gap-2 mb-2"},ii={style:{maxWidth:"300px"}},si={class:"mb-2"},ni={key:5},di={class:"mb-2"},ri={key:0,class:"mb-2"},ci={class:"mb-2"},ui={key:0,class:"mb-2 text-red-03"},mi={key:1,class:"mb-2"},pi={key:2,class:"mb-2"},hi={key:3,class:"mb-2"},bi={key:4,class:"mb-2"},gi={class:"mb-2"},vi={key:5},yi={class:"bb-table-row group"},_i=["colspan"],fi={class:"relative"},ki={class:"absolute right-3 top-1/2 transform -translate-y-1/2"},wi={key:0,class:"text-green-04 block mt-2"},Ci={class:"bb-table-column text-right"},Si={class:"bb-table-column"},xi={key:0},Ii={key:1,class:"group-hover:opacity-100 opacity-0 transition-all duration-200"},Bi={class:"grid grid-cols-5"},Pi={class:"col-span-2"},Mi={class:"col-span-3 border-l border-grey-01 px-6"},Vi={class:"w-full"},Qi={class:"modal__content-header-title"},Ui={class:"flex justify-between items-center"};var Oi=we(_o,[["render",function(e,a,t,l,o,i){var s,n;const d=u("Button"),r=u("Popover"),c=u("BBTColumn"),y=u("GolfSpecBadge"),I=u("Badge"),B=u("Input"),M=u("Tooltip"),V=u("Currency"),Q=u("DropdownItem"),U=u("DropdownMenu"),O=u("Dropdown"),T=u("BBTable"),D=u("Modal"),q=u("DeviceForm"),j=u("PrintLabel"),R=u("Tab"),L=u("PhonecheckInfo"),E=u("BulkImeiSNInput"),$=u("BulkCondition");return m(),_("div",fo,[e.isBulkQuoteReconcile&&(null==(s=e.items.items)?void 0:s.length)<1?(m(),_("div",ko,[a[40]||(a[40]=b("img",{src:ye,class:"h-20"},null,-1)),a[41]||(a[41]=b("h2",{class:"text-2xl font-medium"},"No item Reconcile yet",-1)),v(d,{onClick:a[0]||(a[0]=a=>e.$emit("reconcile",!0)),color:"teal",view:"outlined"},{default:h((()=>a[39]||(a[39]=[b("span",null,"Reconcile on Item",-1),C(),b("i",{class:"material-icons"},"chevron_right",-1)]))),_:1})])):(m(),_("div",wo,[b("div",Co,[e.selectedItems.length>0?(m(),p(d,{key:0,color:"teal",view:"outlined",class:"mb-4",onClick:e.printQrLabelBatch,dense:""},{default:h((()=>a[42]||(a[42]=[b("span",{class:"material-symbols-outlined text-lg mr-2"},"qr_code",-1),C(" Print QR Label")]))),_:1},8,["onClick"])):f("",!0),e.selectedItems.length>0?(m(),p(d,{key:1,color:"teal",view:"outlined",class:"mb-4",onClick:e.printBarcodeLabelBatch,dense:""},{default:h((()=>a[43]||(a[43]=[b("span",{class:"material-symbols-outlined text-lg mr-2"},"barcode",-1),C(" Print Barcode Label")]))),_:1},8,["onClick"])):f("",!0),e.selectedItems.length>0&&e.sameProduct&&!e.isReadonly?(m(),p(d,{key:2,onClick:e.handleBulkChangeCondition,color:"teal",class:"mb-4",dense:""},{default:h((()=>a[44]||(a[44]=[C("Change Conditions and Payout")]))),_:1},8,["onClick"])):f("",!0),e.selectedItems.length>0&&!e.sameProduct&&!e.isReadonly?(m(),p(r,{key:3,width:"400",trigger:"hover"},{reference:h((()=>[b("div",null,[v(d,{view:"smooth",color:"grey",class:"mb-4 ml-2",disabled:"",dense:""},{default:h((()=>a[45]||(a[45]=[C("Change Conditions and Payout")]))),_:1})])])),default:h((()=>[a[46]||(a[46]=b("div",{class:"w-full h-full flex justify-center items-center"},[b("span",{class:"whitespace-pre-line"},"Change conditions only available for the device with the same category")],-1))])),_:1})):f("",!0),e.hasEnablePhonecheck&&e.selectedItems.length>0&&!e.isReadonly?(m(),p(d,{key:4,color:"teal",class:"mb-4 ml-2",onClick:a[1]||(a[1]=a=>e.importPhoneCheck()),dense:""},{default:h((()=>a[47]||(a[47]=[C("Import from Phonecheck")]))),_:1})):f("",!0),e.hasEnablePhonecheck&&e.validPhonecheckselectedItems.length>0&&!e.isReadonly?(m(),p(d,{key:5,color:"teal",class:"mb-4 ml-2",onClick:a[2]||(a[2]=a=>e.importBulkPhoneCheck()),dense:""},{default:h((()=>a[48]||(a[48]=[C("Print All Phonecheck Data")]))),_:1})):f("",!0)]),v(T,{ref:"refItemTable",items:e.items.items,loading:e.loading.all,children:"child",selectable:!e.isReadonly,header:["Item #","Item",{label:"Condition",align:"center"},{label:"Payout",align:"right"},{label:"Qty",align:"right"},{label:"Total Payout",align:"right"},{label:" ",align:"right"}],"header-key":"label","show-footer":"","footer-align":"right",footer:[{key:"Payout",value:"Total"},{key:"Qty",value:e.items.total_qty},{key:"Total Payout",value:""},{key:" ",value:""}],onSelectionChange:e.selectItems,"collapse-all":"","disable-expand":e.isBulkImei},{item:h((({item:t,collapsed:l})=>[v(c,null,{default:h((()=>[0==t.child.length?(m(),_("span",So,g(t.id),1)):f("",!0)])),_:2},1024),v(c,{width:"200"},{default:h((()=>{var o,i,s,n,c;return[l?f("",!0):(m(),_("div",xo,[b("span",Io,g(t.product_name),1),v(y,{length:t.golf_length||t.custom_length,loft:t.golf_loft||t.custom_loft,gender:t.golf_gender||t.custom_gender,shaft_model:t.golf_shaft_model||t.custom_shaft_model,shaft_material:t.golf_shaft_material||t.custom_shaft_material},null,8,["length","loft","gender","shaft_model","shaft_material"]),t.custom_color||t.color?(m(),p(I,{key:0,color:"grey"},{default:h((()=>[b("span",Bo,g(t.custom_color||t.color.name),1)])),_:2},1024)):f("",!0)])),0===t.is_mac||l?f("",!0):(m(),_("small",Po,g(t.detail),1)),t.child&&0!==t.child.length?f("",!0):(m(),_("div",Mo,[e.hasEnablePhonecheck&&t.imei_required?(m(),_("div",Vo,["exists"==t.phonecheck_status?(m(),p(B,{key:0,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full xl:w-3/5",modelValue:t.imei_sn,"onUpdate:modelValue":e=>t.imei_sn=e,onInput:a=>e.imeiUpdate(t),onKeypress:a[3]||(a[3]=A(P((()=>{}),["prevent"]),["space"])),dense:"",icon:""},{icon:h((()=>["exists"==t.phonecheck_status?(m(),_("img",Qo)):f("",!0)])),_:2},1032,["disabled","modelValue","onUpdate:modelValue","onInput"])):(m(),p(B,{key:1,disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full xl:w-3/5",modelValue:t.imei_sn,"onUpdate:modelValue":e=>t.imei_sn=e,onInput:a=>e.imeiUpdate(t),onKeypress:a[4]||(a[4]=A(P((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])),"exists"==t.phonecheck_status?(m(),p(d,{key:2,disabled:null!=(null==(s=e.stateShow)?void 0:s.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(t.id),class:"ml-2 mb-6 mt-4 float-right relative",onClick:a=>e.importSinglePhoneCheck(t),dense:""},{default:h((()=>a[49]||(a[49]=[C("View Phonecheck Data")]))),_:2},1032,["disabled","loading","onClick"])):"not_found"==t.phonecheck_status?(m(),p(r,{key:3,width:"400",trigger:"hover"},{reference:h((()=>{var l;return[v(d,{disabled:null!=(null==(l=e.stateShow)?void 0:l.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(t.id),class:"ml-2 mb-6 mt-4 float-right relative",onClick:a=>e.importSinglePhoneCheck(t),dense:""},{default:h((()=>a[50]||(a[50]=[C("View Phonecheck Data")]))),_:2},1032,["disabled","loading","onClick"])]})),default:h((()=>[a[51]||(a[51]=b("div",{class:"w-full h-full flex justify-center items-center"},[b("span",{class:"whitespace-pre-line"},"IMEI not found")],-1))])),_:2},1024)):(m(),p(r,{key:4,width:"400",trigger:"hover"},{reference:h((()=>{var l;return[v(d,{disabled:null!=(null==(l=e.stateShow)?void 0:l.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(t.id),class:"ml-2 mb-6 mt-4 float-right relative",onClick:a=>e.importSinglePhoneCheck(t),dense:""},{default:h((()=>a[52]||(a[52]=[C("View Phonecheck Data")]))),_:2},1032,["disabled","loading","onClick"])]})),default:h((()=>[a[53]||(a[53]=b("div",{class:"w-full h-full flex justify-center items-center"},[b("span",{class:"whitespace-pre-line"},"Import from Phonecheck first")],-1))])),_:2},1024))])):t.imei_required?(m(),_("div",Uo,[v(B,{disabled:null!=(null==(n=e.stateShow)?void 0:n.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:t.imei_sn,"onUpdate:modelValue":e=>t.imei_sn=e,onInput:a=>e.deviceTableUpdate(t),onKeypress:a[5]||(a[5]=A(P((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])):f("",!0),b("div",null,[v(B,{disabled:null!=(null==(c=e.stateShow)?void 0:c.deleted_at)||e.isReadonly,type:"textarea",placeholder:"Notes...",class:"w-full",modelValue:t.notes,"onUpdate:modelValue":e=>t.notes=e,onInput:a=>e.deviceTableUpdate(t),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])]))]})),_:2},1024),v(c,{align:"center"},{default:h((()=>{var o;return[l?f("",!0):(m(),_("div",Oo,[C(g(t.condition)+" ",1),(null==(o=null==t?void 0:t.questions)?void 0:o.length)>0?(m(),p(M,{key:0,placement:"top"},{content:h((()=>[b("div",To,[a[54]||(a[54]=b("p",{class:"font-semibold mb-2"},"Q&A",-1)),b("ol",Do,[(m(!0),_(k,null,w(t.questions,((a,t)=>(m(),_(k,null,[a.question?(m(),_("li",{class:"mb-1",key:t},[b("p",qo,g(a.question),1),b("ul",jo,["Single"===a.answer_type?(m(),_("li",Ao,[b("p",null,[C(g(a.answer)+" ",1),b("span",null,"("+g(e.me.currency_symbol)+g(a.amount_price)+")",1)])])):"Multiple"===a.answer_type?(m(!0),_(k,{key:1},w(a.answers,(a=>(m(),_("li",{key:a.answer_id,class:"text-white"},[b("p",null,[C(g(a.answer)+" ",1),b("span",null,"("+g(e.me.currency_symbol)+g(a.amount_price)+")",1)])])))),128)):f("",!0)])])):f("",!0)],64)))),256))])])])),default:h((()=>[a[55]||(a[55]=b("span",{class:"material-icons"},"info",-1))])),_:2},1024)):f("",!0)]))]})),_:2},1024),v(c,{align:"right"},{default:h((()=>[l?f("",!0):(m(),p(V,{key:0,value:t.price},null,8,["value"]))])),_:2},1024),v(c,{align:"right"},{default:h((()=>[C(g(l?"":t.qty),1)])),_:2},1024),v(c,{width:"120",align:"right"},{default:h((()=>[l?f("",!0):(m(),p(V,{key:0,value:t.total},null,8,["value"]))])),_:2},1024),v(c,null,{default:h((()=>[t.child&&0!==t.child.length?(m(),_("div",Ro,[e.isReadonly||1!=t.imei_required?f("",!0):(m(),p(d,{key:0,onClick:a=>e.handleOpenAddBulkImeiModal(t),dense:"",color:"teal"},{default:h((()=>a[61]||(a[61]=[C("Add Bulk IMEI/SN")]))),_:2},1032,["onClick"]))])):(m(),_("div",No,[v(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printQrLabel(t)},{default:h((()=>a[56]||(a[56]=[b("span",{class:"material-symbols-outlined"},"qr_code",-1)]))),_:2},1032,["loading","onClick"]),v(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printBarcodeLabel(t)},{default:h((()=>a[57]||(a[57]=[b("span",{class:"material-symbols-outlined"},"barcode",-1)]))),_:2},1032,["loading","onClick"]),e.isReadonly?f("",!0):(m(),p(O,{key:0,trigger:"click",placement:"bottom-end","hide-on-click":!0},{dropdown:h((()=>[v(U,{class:"py-1 text-sm"},{default:h((()=>{var l,o;return[v(Q,{disabled:null!=(null==(l=e.stateShow)?void 0:l.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("update",t)},{default:h((()=>a[59]||(a[59]=[b("span",{class:"material-icons mr-2"},"edit",-1),C(" Edit ")]))),_:2},1032,["disabled","onClick"]),v(Q,{disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("delete",t)},{default:h((()=>a[60]||(a[60]=[b("span",{class:"material-icons mr-2"},"delete",-1),C(" Delete ")]))),_:2},1032,["disabled","onClick"])]})),_:2},1024)])),default:h((()=>[v(d,{view:"outlined",style:{border:"none !important"},color:"teal",class:"mr-2",loading:e.loading.update,dense:"",icon:""},{default:h((()=>a[58]||(a[58]=[b("span",{class:"material-icons"},"more_horiz",-1)]))),_:1},8,["loading"])])),_:2},1024))]))])),_:2},1024)])),child:h((({child:t})=>[v(c,null,{default:h((()=>[C(g(t.id),1)])),_:2},1024),v(c,null,{default:h((()=>{var l,o,i,s,n;return[b("div",Lo,[b("span",Eo,g(t.product_name),1),t.custom_color||t.color?(m(),p(I,{key:0,color:"grey"},{default:h((()=>[b("span",$o,g(t.custom_color||t.color.name),1)])),_:2},1024)):f("",!0)]),e.hasEnablePhonecheck&&1==t.imei_required?(m(),_("div",zo,["exists"==t.phonecheck_status?(m(),p(B,{key:0,disabled:null!=(null==(l=e.stateShow)?void 0:l.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full xl:w-3/5",modelValue:t.imei_sn,"onUpdate:modelValue":e=>t.imei_sn=e,onInput:a=>e.imeiUpdate(t),onKeypress:a[6]||(a[6]=A(P((()=>{}),["prevent"]),["space"])),dense:"",icon:""},{icon:h((()=>["exists"==t.phonecheck_status?(m(),_("img",Fo)):f("",!0)])),_:2},1032,["disabled","modelValue","onUpdate:modelValue","onInput"])):(m(),p(B,{key:1,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full xl:w-3/5",modelValue:t.imei_sn,"onUpdate:modelValue":e=>t.imei_sn=e,onInput:a=>e.imeiUpdate(t),onKeypress:a[7]||(a[7]=A(P((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])),"exists"==t.phonecheck_status?(m(),p(d,{key:2,disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(t.id),class:"ml-2 mb-2 mt-4 float-right relative",onClick:a=>e.importSinglePhoneCheck(t),dense:""},{default:h((()=>a[62]||(a[62]=[C("View Phonecheck Data")]))),_:2},1032,["disabled","loading","onClick"])):"not_found"==t.phonecheck_status?(m(),p(r,{key:3,width:"400",trigger:"hover"},{reference:h((()=>{var l;return[v(d,{disabled:null!=(null==(l=e.stateShow)?void 0:l.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(t.id),class:"ml-2 mb-2 mt-4 float-right relative",onClick:a=>e.importSinglePhoneCheck(t),dense:""},{default:h((()=>a[63]||(a[63]=[C("View Phonecheck Data")]))),_:2},1032,["disabled","loading","onClick"])]})),default:h((()=>[a[64]||(a[64]=b("div",{class:"w-full h-full flex justify-center items-center"},[b("span",{class:"whitespace-pre-line"},"IMEI not found")],-1))])),_:2},1024)):(m(),p(r,{key:4,width:"400",trigger:"hover"},{reference:h((()=>{var l;return[v(d,{disabled:null!=(null==(l=e.stateShow)?void 0:l.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(t.id),class:"ml-2 mb-2 mt-4 float-right relative",onClick:a=>e.importSinglePhoneCheck(t),dense:""},{default:h((()=>a[65]||(a[65]=[C("View Phonecheck Data")]))),_:2},1032,["disabled","loading","onClick"])]})),default:h((()=>[a[66]||(a[66]=b("div",{class:"w-full h-full flex justify-center items-center"},[b("span",{class:"whitespace-pre-line"},"Import from Phonecheck first")],-1))])),_:2},1024))])):1==t.imei_required?(m(),_("div",Go,[v(B,{disabled:null!=(null==(s=e.stateShow)?void 0:s.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:t.imei_sn,"onUpdate:modelValue":e=>t.imei_sn=e,onInput:a=>e.deviceTableUpdate(t),onKeypress:a[8]||(a[8]=A(P((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])):f("",!0),b("div",null,[v(B,{disabled:null!=(null==(n=e.stateShow)?void 0:n.deleted_at)||e.isReadonly,type:"textarea",placeholder:"Notes...",class:"w-full",modelValue:t.notes,"onUpdate:modelValue":e=>t.notes=e,onInput:a=>e.deviceTableUpdate(t),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])]})),_:2},1024),v(c,{align:"center"},{default:h((()=>{var l;return[b("div",Ko,[C(g(t.condition)+" ",1),(null==(l=null==t?void 0:t.questions)?void 0:l.length)>0?(m(),p(M,{key:0,placement:"top"},{content:h((()=>[b("div",Ho,[a[67]||(a[67]=b("p",{class:"font-semibold mb-2"},"Q&A",-1)),b("ol",Wo,[(m(!0),_(k,null,w(t.questions,((a,t)=>(m(),_(k,null,[a.question?(m(),_("li",{class:"mb-1",key:t},[b("p",Yo,g(a.question),1),b("ul",Jo,["Single"===a.answer_type?(m(),_("li",Xo,[b("p",null,[C(g(a.answer)+" ",1),b("span",null,"("+g(e.me.currency_symbol)+g(a.amount_price)+")",1)])])):"Multiple"===a.answer_type?(m(!0),_(k,{key:1},w(a.answers,(a=>(m(),_("li",{key:a.answer_id,class:"text-white"},[b("p",null,[C(g(a.answer)+" ",1),b("span",null,"("+g(e.me.currency_symbol)+g(a.amount_price)+")",1)])])))),128)):f("",!0)])])):f("",!0)],64)))),256))])])])),default:h((()=>[a[68]||(a[68]=b("span",{class:"material-icons"},"info",-1))])),_:2},1024)):f("",!0)])]})),_:2},1024),v(c,{align:"right"},{default:h((()=>[v(V,{value:t.price},null,8,["value"])])),_:2},1024),v(c,{align:"right"},{default:h((()=>[C(g(t.qty),1)])),_:2},1024),v(c,{width:"120",align:"right"},{default:h((()=>[v(V,{value:t.total},null,8,["value"])])),_:2},1024),v(c,null,{default:h((()=>[b("div",Zo,[v(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printQrLabel(t)},{default:h((()=>a[69]||(a[69]=[b("span",{class:"material-symbols-outlined"},"qr_code",-1)]))),_:2},1032,["loading","onClick"]),v(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printBarcodeLabel(t)},{default:h((()=>a[70]||(a[70]=[b("span",{class:"material-symbols-outlined"},"barcode",-1)]))),_:2},1032,["loading","onClick"]),e.isReadonly?f("",!0):(m(),p(O,{key:0,trigger:"click",placement:"bottom-end","hide-on-click":!0},{dropdown:h((()=>[v(U,{class:"py-1 text-sm"},{default:h((()=>{var l,o;return[v(Q,{disabled:null!=(null==(l=e.stateShow)?void 0:l.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("update",t)},{default:h((()=>a[72]||(a[72]=[b("span",{class:"material-icons mr-2"},"edit",-1),C(" Edit ")]))),_:2},1032,["disabled","onClick"]),v(Q,{disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("delete",t)},{default:h((()=>a[73]||(a[73]=[b("span",{class:"material-icons mr-2"},"delete",-1),C(" Delete ")]))),_:2},1032,["disabled","onClick"])]})),_:2},1024)])),default:h((()=>[v(d,{view:"outlined",style:{border:"none !important"},color:"teal",class:"mr-2",loading:e.loading.update,dense:"",icon:""},{default:h((()=>a[71]||(a[71]=[b("span",{class:"material-icons"},"more_horiz",-1)]))),_:1},8,["loading"])])),_:2},1024))])])),_:2},1024)])),footer:h((t=>{var l,o,i,s,n;return["Payout"===(null==(l=t.column.footer)?void 0:l.key)?(m(),_(k,{key:0},[a[76]||(a[76]=b("p",{class:"mb-2"},"Subtotal",-1)),0!==e.items.express_check_fee?(m(),_("p",ei,"Express Check")):f("",!0),0!==e.items.payment_extra_amount?(m(),_("p",ai,"Payout Bonus")):f("",!0),0!==e.items.coupon_amount?(m(),_("p",ti,"Promo Code")):f("",!0),e.items.is_expedited_payout?(m(),_("p",li,"Expedited Payout")):f("",!0),null!=e.items.shipping_cost?(m(),_("p",oi,[a[75]||(a[75]=C(" Shipping Cost ")),v(M,{placement:"top"},{content:h((()=>[b("div",ii,[0==e.items.shipping_cost?(m(),_(k,{key:0},[C(" This feature is available only for offers using EasyPost USPS services. The shipping service you are using doesn't support this feature. ")],64)):(m(),_(k,{key:1},[C(" The shipping cost is not final until USPS weighs the package, after which the actual shipping cost will be reflected here. ")],64))])])),default:h((()=>[a[74]||(a[74]=b("span",{class:"material-icons"},"info",-1))])),_:1})])):f("",!0),b("p",si,g(0!==e.items.shipping_cost&&null!==e.items.shipping_cost?"Grand Total":"Total"),1),(null==(o=e.stateShow)?void 0:o.affiliate_id)?(m(),_("p",ni,"Commision for "+g(e.items.affiliate_name),1)):f("",!0)],64)):f("",!0),"Qty"===(null==(i=t.column.footer)?void 0:i.key)?(m(),_(k,{key:1},[b("p",di,g(e.items.total_qty),1),null!=e.items.shipping_cost?(m(),_("p",ri,"")):f("",!0),a[77]||(a[77]=b("p",{class:"mb-2"},"",-1))],64)):f("",!0),"Total Payout"===(null==(s=t.column.footer)?void 0:s.key)?(m(),_(k,{key:2},[b("p",ci,[v(V,{value:e.items.sub_total},null,8,["value"])]),0!==e.items.express_check_fee?(m(),_("p",ui,[a[78]||(a[78]=C("- ")),v(V,{value:e.items.express_check_fee},null,8,["value"])])):f("",!0),0!==e.items.payment_extra_amount?(m(),_("p",mi,[v(V,{value:e.items.payment_extra_amount},null,8,["value"])])):f("",!0),0!==e.items.coupon_amount?(m(),_("p",pi,[a[79]||(a[79]=C("+ ")),v(V,{value:e.items.coupon_amount},null,8,["value"])])):f("",!0),e.items.is_expedited_payout?(m(),_("p",hi,[a[80]||(a[80]=C("- ")),v(V,{value:e.items.expedited_payout_fee},null,8,["value"])])):f("",!0),null!=e.items.shipping_cost?(m(),_("p",bi,[0!==e.items.shipping_cost?(m(),_(k,{key:0},[C(g(e.items.shipping_cost),1)],64)):(m(),_(k,{key:1},[C("-")],64))])):f("",!0),b("p",gi,[v(V,{value:e.items.total},null,8,["value"])]),(null==(n=e.stateShow)?void 0:n.affiliate_id)?(m(),_("p",vi,[v(V,{value:e.items.affiliate_commision},null,8,["value"])])):f("",!0)],64)):f("",!0)]})),"footer-prepend":h((()=>[b("tr",yi,[a[85]||(a[85]=b("td",{class:"bb-table-column",colspan:"4"},null,-1)),a[86]||(a[86]=b("td",{class:"bb-table-column text-right"},[b("span",null,"Have a Promo Code?")],-1)),b("td",{class:"bb-table-column",colspan:e.isCouponApplied?1:2},[b("div",fi,[v(B,{modelValue:e.dataCoupon.code,"onUpdate:modelValue":a[9]||(a[9]=a=>e.dataCoupon.code=a),disabled:e.isCouponApplied,dense:"",placeholder:"Promo Code",block:""},null,8,["modelValue","disabled"]),S(b("div",ki,a[81]||(a[81]=[b("i",{class:"material-icons text-green-04"},"check_circle",-1)]),512),[[x,e.isCouponApplied]])]),e.isCouponApplied?(m(),_("small",wi,"Promo code is valid")):f("",!0)],8,_i),S(b("td",Ci,[v(V,{value:e.state.coupon_amount},null,8,["value"])],512),[[x,e.isCouponApplied]]),b("td",Si,[v(N,{name:"slide-fade"},{default:h((()=>[e.isCouponChanged?(m(),_("div",xi,[v(d,{onClick:e.handleApplyCoupon,loading:e.loadingCoupon.applyCoupon,class:"mx-1",color:"teal",dense:""},{default:h((()=>a[82]||(a[82]=[b("i",{class:"material-icons text-lg"},"check",-1)]))),_:1},8,["onClick","loading"]),v(d,{onClick:a[10]||(a[10]=a=>e.dataCoupon.code=e.dataCoupon.codeOriginal),disabled:e.loadingCoupon.applyCoupon,class:"mx-1",color:"red",dense:""},{default:h((()=>a[83]||(a[83]=[b("i",{class:"material-icons text-lg"},"close",-1)]))),_:1},8,["disabled"])])):e.isCouponApplied?(m(),_("div",Ii,[v(d,{onClick:e.handleRemoveCoupon,loading:e.loadingCoupon.removeCoupon,class:"mx-1",color:"red",dense:""},{default:h((()=>a[84]||(a[84]=[b("i",{class:"material-icons text-lg"},"delete",-1)]))),_:1},8,["onClick","loading"])])):f("",!0)])),_:1})])])])),_:1},8,["items","loading","selectable","footer","onSelectionChange","disable-expand"])])),v(D,{modelValue:e.modal.delete,"onUpdate:modelValue":a[11]||(a[11]=a=>e.modal.delete=a),title:"Delete Item",onClose:e.unsetData},{footer:h((()=>[v(d,{color:"teal",loading:e.loading.delete,onClick:e.deleteDevice},{default:h((()=>a[87]||(a[87]=[C("Delete Item")]))),_:1},8,["loading","onClick"])])),default:h((()=>[a[88]||(a[88]=b("p",null,"Are you sure want to delete this item?",-1))])),_:1},8,["modelValue","onClose"]),v(D,{modelValue:e.modal.create,"onUpdate:modelValue":a[17]||(a[17]=a=>e.modal.create=a),title:"Add Item",onClose:e.unsetData},{default:h((()=>[v(q,{ref:"refDeviceForm",data:e.device.data,"onUpdate:data":a[12]||(a[12]=a=>e.device.data=a),"data-computer":e.device.computer,"onUpdate:dataComputer":a[13]||(a[13]=a=>e.device.computer=a),"data-golf":e.device.golfSpecs,"onUpdate:dataGolf":a[14]||(a[14]=a=>e.device.golfSpecs=a),"is-custom-color":e.device.data.is_custom_color,"onUpdate:isCustomColor":a[15]||(a[15]=a=>e.device.data.is_custom_color=a),"custom-color":e.device.data.custom_color,"onUpdate:customColor":a[16]||(a[16]=a=>e.device.data.custom_color=a),"multi-imei":"","buyback-type":"mailin"},null,8,["data","data-computer","data-golf","is-custom-color","custom-color"])])),footer:h((()=>[v(d,{color:"teal",loading:e.loading.create,onClick:e.addDevice},{default:h((()=>a[89]||(a[89]=[C("Add Item")]))),_:1},8,["loading","onClick"])])),_:1},8,["modelValue","onClose"]),v(D,{modelValue:e.modal.update,"onUpdate:modelValue":a[24]||(a[24]=a=>e.modal.update=a),title:"Update Item",onClose:e.unsetData},{default:h((()=>[v(q,{ref:"refDeviceForm",data:e.device.data,"onUpdate:data":a[18]||(a[18]=a=>e.device.data=a),device:e.device.device,"onUpdate:device":a[19]||(a[19]=a=>e.device.device=a),"data-computer":e.device.computer,"onUpdate:dataComputer":a[20]||(a[20]=a=>e.device.computer=a),"data-golf":e.device.golfSpecs,"onUpdate:dataGolf":a[21]||(a[21]=a=>e.device.golfSpecs=a),"is-custom-color":e.device.data.is_custom_color,"onUpdate:isCustomColor":a[22]||(a[22]=a=>e.device.data.is_custom_color=a),"custom-color":e.device.data.custom_color,"onUpdate:customColor":a[23]||(a[23]=a=>e.device.data.custom_color=a),"golf-steps":e.device.data.golf_steps,"auto-fill":"","original-specs":e.device.original,hide:{qty:!0},"buyback-type":"mailin","is-editable":""},null,8,["data","device","data-computer","data-golf","is-custom-color","custom-color","golf-steps","original-specs"])])),footer:h((()=>[v(d,{color:"teal",loading:e.loading.update,onClick:e.updateDevice},{default:h((()=>a[90]||(a[90]=[C("Update")]))),_:1},8,["loading","onClick"])])),_:1},8,["modelValue","onClose"]),v(D,{modelValue:e.modal.print_qr,"onUpdate:modelValue":a[26]||(a[26]=a=>e.modal.print_qr=a),title:"Print QR Label"},{footer:h((()=>a[91]||(a[91]=[]))),default:h((()=>[v(j,{data:e.printLabelData,"label-type":e.labelType,onCloseModal:a[25]||(a[25]=a=>e.modal.print_qr=!1)},null,8,["data","label-type"])])),_:1},8,["modelValue"]),v(D,{modelValue:e.modal.print_barcode,"onUpdate:modelValue":a[28]||(a[28]=a=>e.modal.print_barcode=a),title:"Print Barcode Label"},{footer:h((()=>a[92]||(a[92]=[]))),default:h((()=>[v(j,{data:e.printLabelData,"label-type":e.labelType,onCloseModal:a[27]||(a[27]=a=>e.modal.print_barcode=!1)},null,8,["data","label-type"])])),_:1},8,["modelValue"]),v(D,{modelValue:e.modalSplitItems,"onUpdate:modelValue":a[31]||(a[31]=a=>e.modalSplitItems=a),title:"Split Order",onClose:e.unsetDataSplitItems,size:"md"},{default:h((()=>[b("div",Bi,[b("div",Pi,[a[93]||(a[93]=b("div",{class:"px-6"},[b("p",{class:"text-md font-semibold"},"Choose New Status")],-1)),v(R,{modelValue:e.dataSplitItems.new_status,"onUpdate:modelValue":a[29]||(a[29]=a=>e.dataSplitItems.new_status=a),validate:e.tabValidate,color:"teal",view:"smooth",by:"id",name:"short_name",items:e.stateStatuses,component:"",type:"vertical"},null,8,["modelValue","validate","items"])]),b("div",Mi,[v(B,{modelValue:e.dataSplitItems.note,"onUpdate:modelValue":a[30]||(a[30]=a=>e.dataSplitItems.note=a),type:"textarea",label:"Notes",block:""},null,8,["modelValue"])])])])),footer:h((()=>[v(d,{color:"teal",onClick:e.splitItems,loading:e.loadingSplitItems},{default:h((()=>a[94]||(a[94]=[C("Split")]))),_:1},8,["onClick","loading"])])),_:1},8,["modelValue","onClose"]),v(D,{modelValue:e.modal.phonecheck_info,"onUpdate:modelValue":a[34]||(a[34]=a=>e.modal.phonecheck_info=a),title:null==(n=e.PhonecheckDevice)?void 0:n.product_name,onClose:a[35]||(a[35]=a=>e.isErrorSelectedPhonecheck=!1)},{header:h((()=>{var t;return[b("div",Vi,[b("h5",Qi,g(null==(t=e.PhonecheckDevice)?void 0:t.product_name),1),v(d,{color:"teal",class:"ml-2 mb-2 mt-4 absolute inset-y-2 right-11",onClick:a[32]||(a[32]=a=>e.printPhoneCheck(e.PhonecheckDevice)),dense:""},{default:h((()=>a[95]||(a[95]=[b("i",{class:"material-icons text-lg"},"print",-1)]))),_:1})])]})),default:h((()=>[v(L,{ref:"refPhonecheckInfo",data:e.PhonecheckInfoData,"onUpdate:data":a[33]||(a[33]=a=>e.PhonecheckInfoData=a),"is-error":e.isErrorSelectedPhonecheck},null,8,["data","is-error"])])),_:1},8,["modelValue","title"]),v(D,{modelValue:e.modalBulkImeiAddDevice,"onUpdate:modelValue":a[38]||(a[38]=a=>e.modalBulkImeiAddDevice=a),size:"xs",title:"Add Bulk IMEI/SN",onClose:e.handleCloseAddBulkImeiModal},{default:h((()=>{var t;return[a[96]||(a[96]=b("div",{class:"flex bg-orange-lighten text-orange-04 p-4 rounded-lg mb-4"},[b("div",{class:"mr-4"},[b("i",{class:"material-icons"},"info")]),b("div",{class:"mt-1"}," IMEIs/SNs entered here will overwrite those already input on the Quote Details page for these items. ")],-1)),v(E,{ref:"refBulkImeiSNInput",modelValue:e.bulkImei,"onUpdate:modelValue":a[36]||(a[36]=a=>e.bulkImei=a),qty:null==(t=e.dataBulkImeiAddDevice)?void 0:t.qty,block:"",rows:"5"},null,8,["modelValue","qty"])]})),footer:h((()=>[b("div",Ui,[b("span",{onClick:a[37]||(a[37]=(...a)=>e.handleCloseAddBulkImeiModal&&e.handleCloseAddBulkImeiModal(...a)),class:"text-red-04 cursor-pointer px-2"},"Cancel"),v(d,{onClick:e.handleAddBulkImeiDevice,loading:e.loadingBulkImeiAddDevice,disabled:!e.bulkImei,color:"teal",dense:""},{default:h((()=>a[97]||(a[97]=[b("span",{class:"px-2"},"Add",-1)]))),_:1},8,["onClick","loading","disabled"])])])),_:1},8,["modelValue","onClose"]),v($,{loading:e.bulkCondition.loading,show:e.bulkCondition.modal,onClose:e.handleCloseModalBulkCondition,items:e.selectedItems,conditions:e.itemConditions,loadingCondition:e.loadingCondition,me:e.me,onSubmit:e.handleBulkChangeItemCondition},null,8,["loading","show","onClose","items","conditions","loadingCondition","me","onSubmit"])])}]]);const Ti=r({name:"ItemCard",components:{Card:$e,Button:ke,LoadingCard:ha,ItemList:Oi},setup(e){const a=I(null),t=y((()=>a.value||null));return{refItems:a,items:t}}}),Di={class:"flex items-center justify-between"},qi={key:0},ji={key:0};var Ai=we(Ti,[["render",function(e,a,t,l,o,i){const s=u("Button"),n=u("ItemList"),d=u("Card"),r=u("LoadingCard");return m(),p(R,null,{default:h((()=>[v(d,null,{header:h((()=>{var t,l,o,i;return[b("div",Di,[a[4]||(a[4]=b("h6",null,"Items",-1)),e.items?(m(),_("div",qi,[e.items.isReadonly?f("",!0):(m(),_("div",ji,[1e3!==e.items.stateShow.status_id&&e.items.selectedItems.length>0&&e.items.state.total_qty>1?(m(),p(s,{key:0,disabled:null!=(null==(t=e.items.stateShow)?void 0:t.deleted_at),loading:0===e.items.stateStatuses.length,class:"mr-4",color:"teal",dense:"",onClick:e.items.openSplitItemsModal},{default:h((()=>a[1]||(a[1]=[b("span",{class:"material-icons transform rotate-90 text-lg"},"arrow_circle_up",-1),C(" Split Buyback ")]))),_:1},8,["disabled","loading","onClick"])):f("",!0),3!==(null==(l=e.items.stateShow)?void 0:l.status_id)&&e.items.state.total_qty>=3?(m(),p(s,{key:1,disabled:null!=(null==(o=e.items.stateShow)?void 0:o.deleted_at),class:"mr-4",color:"teal",dense:"",onClick:e.items.openDataMatch},{default:h((()=>a[2]||(a[2]=[b("img",{alt:"data-match-icon",class:"inline-block mr-1 w-5",src:_e},null,-1),C(" Data Match ")]))),_:1},8,["disabled","onClick"])):f("",!0),v(s,{disabled:null!=(null==(i=e.items.stateShow)?void 0:i.deleted_at),color:"teal",dense:"",onClick:a[0]||(a[0]=a=>e.items.openModal("create"))},{default:h((()=>a[3]||(a[3]=[b("span",{class:"material-icons text-lg"},"add",-1),C(" Add Item ")]))),_:1},8,["disabled"])]))])):f("",!0)])]})),default:h((()=>[v(n,{ref:"refItems"},null,512)])),_:1})])),fallback:h((()=>[b("div",null,[v(r)])])),_:1})}]]);const Ni=r({name:"ContentLoading",setup:()=>({})}),Ri={style:{minHeight:"100px"}};var Li=we(Ni,[["render",function(e,a,t,l,o,i){const s=U("loading");return S((m(),_("div",Ri,null,512)),[[s,!0]])}]]);const Ei=r({name:"BulkQuoteReconcile",components:{Currency:Ne,BSelect:Ua,Input:Ce,DeviceSearch:Oa},props:{quoteId:{type:String,required:!0},item:{type:Object,default:()=>({})},valid:{type:Boolean,default:!1},maxQty:{type:Number,default:99}},emits:["update:color","update:valid"],setup(e,{emit:a}){const{selectedItem:t,specs:l,isMacItem:o,isCustomItem:i,isValid:s,itemDetail:n,loading:d,setSelectedItem:r,setSpecMac:c,getColors:u,getSpecsByProductId:m,getConditions:p,reconcileQuoteItem:h}=re(),{state:b,loading:g,searchProduct:v,unsetProductSearchResult:_}=_a(),f=y({get:()=>({id:l.color.id,name:l.color.name}),set:e=>{l.color.id=e.id,l.color.name=e.name}}),k=y({get:()=>{let e=[];try{e="string"==typeof l.condition.rule?JSON.parse(l.condition.rule)||[]:l.condition.rule||[]}catch(a){console.warn(`invalid parsing condition rule: ${a.message}`)}return{id:l.condition.id,name:l.condition.name,rule:e,price:l.condition.price}},set:e=>{l.condition.id=e.id,l.condition.name=e.name,l.condition.rule=e.rule||[],l.condition.price=e.price,n.price=e.price}}),w=y({get:()=>({id:l.mac.Processor.id,name:l.mac.Processor.name}),set:e=>{c({key:"Processor",item:{id:e.id,name:e.name}})}}),C=y({get:()=>({id:l.mac["Hard Drive"].id,name:l.mac["Hard Drive"].name}),set:e=>{c({key:"Hard Drive",item:{id:e.id,name:e.name}})}}),S=y({get:()=>({id:l.mac.Memory.id,name:l.mac.Memory.name}),set:e=>{c({key:"Memory",item:{id:e.id,name:e.name}})}}),x=y({get:()=>({id:l.mac["Graphics Card"].id,name:l.mac["Graphics Card"].name}),set:e=>{c({key:"Graphics Card",item:{id:e.id,name:e.name}})}}),I=y((()=>l.color.options)),P=y((()=>l.condition.options)),M=y((()=>b.product.result.products)),V=y((()=>b.product.result.categories)),Q=y((()=>e.item)),U=async a=>{r(a),b.product.query=t.product_name,O(),await u(),o.value?await m({quoteId:e.quoteId}):await p({quoteId:e.quoteId})},O=qe((async()=>{await v({query:b.product.query})}),500);return B((()=>e.item),U),B(s,(e=>{a("update:valid",e)}),{immediate:!0}),L((async()=>{e.item&&await U(e.item)})),{stateSearch:b,products:M,categories:V,loading:d,loadingSearch:g,selectedItemReconcile:t,specs:l,itemDetail:n,colorOptions:I,conditionOptions:P,color:f,condition:k,processor:w,hardDrive:C,memory:S,graphicCard:x,isMacItem:o,isCustomItem:i,isValid:s,originalItem:Q,handleSetColor:e=>{const{id:a=null,name:t=null}=e||{};l.color.id=a,l.color.name=t},handleSetCondition:e=>{const{id:a=null,name:t=null}=e||{};l.condition.id=a,l.condition.name=t},handleSetQty:()=>{if(n.qty<1)return;const e=n.qty-n.imeiNotes.length;if(e<0)n.imeiNotes.splice(e,Math.abs(e));else for(let a=0;a<e;a++)n.imeiNotes.push({imei:"",notes:""})},handleSearchItem:O,handleChangeItem:async e=>{b.product.query=(null==e?void 0:e.product_name)||(null==e?void 0:e.name)||"";const a=t.id;await U(e),t.id=a},handleSelectCustomItem:()=>{_()},submit:async()=>await h({quoteId:e.quoteId})}}}),$i={class:"grid gap-3"},zi={key:0},Fi={key:2},Gi=["innerHTML"],Ki={class:"my-2"},Hi={key:0,class:"flex items-start"},Wi=["innerHTML"],Yi={key:3},Ji={class:"bulk-imei-notes"};const Xi=r({name:"BulkQuoteDetailItem",components:{BulkQuoteItemSearch:Ma,Card:$e,Button:ke,Modal:fe,BulkQuoteItem:Va,BulkQuoteItemPercentage:Qa,BulkQuoteReconcile:we(Ei,[["render",function(e,a,t,l,o,i){const s=u("DeviceSearch"),n=u("Input"),d=u("BSelect"),r=u("Currency");return m(),_("div",$i,[b("div",null,[v(s,{ref:"refDeviceSearch",query:e.stateSearch.product.query,"onUpdate:query":a[0]||(a[0]=a=>{e.stateSearch.product.query=a}),onSearch:e.handleSearchItem,onSelect:e.handleChangeItem,onCustomProduct:e.handleSelectCustomItem,products:e.products,categories:e.categories,loading:e.loadingSearch.product,"show-add-custom-product":!1},null,8,["query","onSearch","onSelect","onCustomProduct","products","categories","loading"])]),e.isCustomItem?(m(),_("div",zi,[v(n,{modelValue:e.selectedItemReconcile.product_name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.selectedItemReconcile.product_name=a),label:"Custom Product Name",placeholder:"Custom product name",block:""},null,8,["modelValue"])])):e.isMacItem?(m(),_(k,{key:1},[b("div",null,[a[11]||(a[11]=b("label",null,"Processor",-1)),v(d,{modelValue:e.processor,"onUpdate:modelValue":a[2]||(a[2]=a=>e.processor=a),items:e.specs.mac.Processor.options,"item-key":"id","item-name":"name",block:"",placeholder:"Processor","max-height":200,loading:e.loading.getSpecs.Processor,disabled:0===e.specs.mac.Processor.options.length},{prepend:h((()=>a[10]||(a[10]=[b("span",{class:"font-semibold block mx-6 my-4"},"Select Processor",-1)]))),_:1},8,["modelValue","items","loading","disabled"])]),b("div",null,[a[13]||(a[13]=b("label",null,"Memory",-1)),v(d,{modelValue:e.memory,"onUpdate:modelValue":a[3]||(a[3]=a=>e.memory=a),items:e.specs.mac.Memory.options,"item-key":"id","item-name":"name",block:"",placeholder:"Memory","max-height":200,loading:e.loading.getSpecs.Memory,disabled:0===e.specs.mac.Memory.options.length},{prepend:h((()=>a[12]||(a[12]=[b("span",{class:"font-semibold block mx-6 my-4"},"Select Memory",-1)]))),_:1},8,["modelValue","items","loading","disabled"])]),b("div",null,[a[15]||(a[15]=b("label",null,"Hard Drive",-1)),v(d,{modelValue:e.hardDrive,"onUpdate:modelValue":a[4]||(a[4]=a=>e.hardDrive=a),items:e.specs.mac["Hard Drive"].options,"item-key":"id","item-name":"name",block:"",placeholder:"Hard Drive","max-height":200,loading:e.loading.getSpecs["Hard Drive"],disabled:0===e.specs.mac["Hard Drive"].options.length},{prepend:h((()=>a[14]||(a[14]=[b("span",{class:"font-semibold block mx-6 my-4"},"Select Hard Drive",-1)]))),_:1},8,["modelValue","items","loading","disabled"])]),b("div",null,[a[17]||(a[17]=b("label",null,"Graphic Card",-1)),v(d,{modelValue:e.graphicCard,"onUpdate:modelValue":a[5]||(a[5]=a=>e.graphicCard=a),items:e.specs.mac["Graphics Card"].options,"item-key":"id","item-name":"name",block:"",placeholder:"Graphic Card","max-height":200,loading:e.loading.getSpecs["Graphics Card"],disabled:0===e.specs.mac["Graphics Card"].options.length},{prepend:h((()=>a[16]||(a[16]=[b("span",{class:"font-semibold block mx-6 my-4"},"Select Graphic Card",-1)]))),_:1},8,["modelValue","items","loading","disabled"])])],64)):f("",!0),b("div",null,[a[19]||(a[19]=b("label",null,"Color",-1)),v(d,{modelValue:e.color,"onUpdate:modelValue":a[6]||(a[6]=a=>e.color=a),items:e.colorOptions,"item-key":"id","item-name":"name",block:"",placeholder:"Color","max-height":200,loading:e.loading.getSpecs.color,disabled:0===e.specs.color.options.length},{prepend:h((()=>a[18]||(a[18]=[b("span",{class:"font-semibold block mx-6 my-4"},"Select Color",-1)]))),_:1},8,["modelValue","items","loading","disabled"])]),b("div",null,[a[21]||(a[21]=b("label",null,"Condition",-1)),v(d,{modelValue:e.condition,"onUpdate:modelValue":a[7]||(a[7]=a=>e.condition=a),items:e.conditionOptions,"item-key":"name","item-name":"name",block:"",placeholder:"Condition","max-height":200,loading:e.loading.getSpecs.condition,disabled:0===e.specs.condition.options.length},{prepend:h((()=>a[20]||(a[20]=[b("span",{class:"font-semibold block mx-6 my-4"},"Select Condition",-1)]))),_:1},8,["modelValue","items","loading","disabled"])]),e.condition.rule.length>0?(m(),_("div",Fi,[b("p",{innerHTML:e.condition.rule[0]},null,8,Gi),b("ul",Ki,[(m(!0),_(k,null,w(e.condition.rule,((e,t)=>(m(),_(k,null,[t>0?(m(),_("li",Hi,[a[22]||(a[22]=b("i",{class:"material-icons mr-4"},"check_circle",-1)),b("p",{innerHTML:e,class:"mt-1"},null,8,Wi)])):f("",!0)],64)))),256))])])):f("",!0),b("div",null,[v(n,{modelValue:e.itemDetail.price,"onUpdate:modelValue":a[8]||(a[8]=a=>e.itemDetail.price=a),block:"",label:"Payout",placeholder:"Payout",type:"number",currency:!0,icon:"","icon-block":""},{icon:h((()=>[v(r,{"only-symbol":"",class:"mx-2"})])),_:1},8,["modelValue"])]),b("div",null,[v(n,{modelValue:e.itemDetail.qty,"onUpdate:modelValue":a[9]||(a[9]=a=>e.itemDetail.qty=a),onFocusOut:e.handleSetQty,block:"",label:"Qty",placeholder:"Qty",type:"number"},null,8,["modelValue","onFocusOut"])]),1==e.selectedItemReconcile.imei_required&&e.itemDetail.qty<100?(m(),_("div",Yi,[b("table",Ji,[a[23]||(a[23]=b("thead",null,[b("tr",null,[b("th",null,"IMEI/SN"),b("th",null,"Notes")])],-1)),b("tbody",null,[(m(!0),_(k,null,w(e.itemDetail.imeiNotes,(e=>(m(),_("tr",null,[b("td",null,[v(n,{modelValue:e.imei,"onUpdate:modelValue":a=>e.imei=a,placeholder:"IMEI/SN",block:""},null,8,["modelValue","onUpdate:modelValue"])]),b("td",null,[v(n,{modelValue:e.notes,"onUpdate:modelValue":a=>e.notes=a,placeholder:"Notes",block:""},null,8,["modelValue","onUpdate:modelValue"])])])))),256))])])])):f("",!0)])}],["__scopeId","data-v-7bcada7e"]])},props:{quoteItems:{type:Array,default:()=>[]},quoteId:{type:String,required:!0},disableItems:{type:Boolean,default:!1},disabledStatus:{type:Boolean,default:!1},reconcile:{type:Boolean,default:!1},quotePercentage:{type:Number,default:()=>100},loading:{type:Object,default:()=>({})}},emits:["updateQuoteStatus","updateItems","updateQuoteItem","deleteQuoteItem","updateBulkQuoteItems"],setup(e,{emit:a}){const t=I(null),l=I(null),o=I(!1),i=I(!1),s=y((()=>{var e;return!!t.value&&(null==(e=t.value.loading)?void 0:e.reconcile)})),n=y({get:()=>e.quoteItems,set:e=>a("updateItems",e)}),d=qe((async e=>{a("updateQuoteItem",e,((e=!1)=>{if(!e)return console.error("failed to update quote item")}))}),800),r=()=>{o.value=!0},c=()=>{o.value=!1,l.value=null};return{refReconcileItem:t,selectedItemReconcile:l,items:n,modalReconcile:o,isValidReconcile:i,loadingReconcileItem:s,handleDeleteItem:async e=>{const{id:t=null}=e;if(!t)return console.error("failed deleting item, quote item id is required");a("deleteQuoteItem",t,(e=>{if(!e)return console.error("failed deleting item")}))},setQuoteItem:e=>{d(e)},handleReconcileItem:async e=>{l.value=e,r()},openModalReconcile:r,closeModalReconcile:c,submitReconcileItem:async()=>{var e,l;if(t.value){const o=await(null==(l=(e=t.value).submit)?void 0:l.call(e));if(o){c();const{is_change_status:e}=o;e&&a("updateQuoteStatus",!0)}a("updateBulkQuoteItems")}}}}}),Zi={class:"mb-8"},es={class:"grid gap-6"},as={style:{minHeight:"100px"},class:"overflow-x-auto"},ts={class:"flex flex-wrap justify-end"};var ls=we(Xi,[["render",function(e,a,t,l,o,i){const s=u("BulkQuoteItem"),n=u("BulkQuoteReconcile"),d=u("Button"),r=u("Modal"),c=U("loading");return m(),_("div",Zi,[b("div",es,[S((m(),_("div",as,[v(s,{items:e.items,"onUpdate:items":a[0]||(a[0]=a=>e.items=a),onDeleteItem:e.handleDeleteItem,onEditItem:e.setQuoteItem,onReconcileItem:e.handleReconcileItem,percentage:e.quotePercentage,disabled:e.disableItems,"disabled-status":e.disabledStatus,reconcile:e.reconcile},{action:h((()=>a[3]||(a[3]=[]))),_:1},8,["items","onDeleteItem","onEditItem","onReconcileItem","percentage","disabled","disabled-status","reconcile"])])),[[c,e.loading.quoteItem&&e.loading.quoteItem.getBulkQuoteItems]])]),v(r,{modelValue:e.modalReconcile,"onUpdate:modelValue":a[2]||(a[2]=a=>e.modalReconcile=a),onClose:e.closeModalReconcile,title:"Reconcile"},{default:h((()=>[b("div",null,[v(n,{ref:"refReconcileItem",valid:e.isValidReconcile,"onUpdate:valid":a[1]||(a[1]=a=>e.isValidReconcile=a),"quote-id":e.quoteId,item:e.selectedItemReconcile},null,8,["valid","quote-id","item"])])])),footer:h((()=>[b("div",ts,[v(d,{onClick:e.submitReconcileItem,disabled:!e.isValidReconcile,loading:e.loadingReconcileItem,color:"teal"},{default:h((()=>a[4]||(a[4]=[C(" Save Changes ")]))),_:1},8,["onClick","disabled","loading"])])])),_:1},8,["modelValue","onClose"])])}]]);const os=r({name:"BuybackOnlineDetail",components:{Modal:fe,BulkQuoteItem:Va,Menu:ct,Breadcrumb:ht,OrderInfo:_t,Show:yo,Items:Ai,ItemList:Oi,BuybackImages:Ba,BuybackNotes:Pa,Tab:Ge,Card:$e,Button:ke,LoadingCard:ha,BulkQuoteDetailItem:ls,BulkQuoteItemPercentage:Qa,BulkQuoteItemSearch:Ma},setup(){const e=c(),a=V(),{state:t}=G("online"),{isBulkQuote:l,selectedTab:o,tabBulkQuote:i}=de(),{selectedItems:s,loading:r,createItem:u,addItem:m}=ce({multiple:!1}),{items:p,quotePercentage:h,loading:b,confirmManuallyPricedModal:g,hasManuallyPricedItems:v,totalItems:_,resetManuallyPricedItems:f,getBulkQuoteItems:k,getBulkQuoteItemInfo:w,updateQuotePercentage:C,updateQuoteItem:S,deleteQuoteItem:x}=ue(),P=I(!1),M=I(null),Q=I(null),U=y((()=>{const{order_status:e={}}=t.value||{},{id:a=null,short_name:l=null,status_name:o=null}=e;return{id:a,short_name:l,status_name:o}})),O=y((()=>["9003"].includes(String(U.value.id||"")))),T=y((()=>{var e;const a=null!=(null==(e=t.value)?void 0:e.deleted_at),o=a;return{restrictedQuoteUpdate:l.value&&["9001","9002","3"].includes(String(U.value.id||""))||a,restrictedQuoteItemUpdate:l.value&&["9001","9002","3"].includes(String(U.value.id||""))||a,restrictedQuoteStatusUpdate:o,restrictedQuotePercentageUpdate:9e3!==U.value.id,isReconcilable:l.value&&["9003","9004"].includes(String(U.value.id||""))||a,totalQuoteItems:_.value}})),D=y((()=>{var a;return"active_item"===o.value?{name:"BulkQuoteDetailItem",component:E(ls,{onUpdateQuoteStatus:N,onUpdateItems:$,onUpdateBulkQuoteItems:z,onUpdateQuoteItem:F,onDeleteQuoteItem:K,quoteId:e.params.buybackId,quotePercentage:h.value,quoteItems:p.value,reconcile:T.value.isReconcilable,loading:{quoteItem:n({},b)},disableItems:T.value.restrictedQuoteItemUpdate,disabledStatus:!!(null==t?void 0:t.value)&&!![9001,9002,9003,9004,3,2].includes(null==(a=t.value)?void 0:a.status_id)},"")}:{name:"ItemList",component:E(R,null,{default:()=>E(Oi,{isBulkQuoteReconcile:T.value.isReconcilable,onReconcile:()=>o.value="active_item"},""),fallback:()=>E(Li)})}})),q=y((()=>null!==M.value)),j=y((()=>"bulkQuoteDetail"===e.name)),A=async()=>{await Promise.all([k({quoteId:e.params.buybackId}),w({quoteId:e.params.buybackId})])},N=async()=>{var a,t;Q.value&&await(null==(t=null==(a=Q.value)?void 0:a.actionShow)?void 0:t.call(a,{id:e.params.buybackId,is_store:1}))},$=e=>p.value=e,z=a=>{A(e.params.buybackId).then((()=>{"function"==typeof a&&a()}))},F=(a,t)=>{(""===a.qty||isNaN(Number(a.qty)))&&(a.qty=1),S({quoteId:e.params.buybackId,item:a}).then((e=>{"function"==typeof t&&t(e)}))},K=(a,t)=>{x({quoteId:e.params.buybackId,itemId:a}).then((a=>{"function"==typeof t&&t(a),a&&w({quoteId:e.params.buybackId}).then((()=>{}))}))},H=()=>{P.value=!1,s.value=[]},W=()=>{P.value=!0},Y=qe((async()=>{if(!(await C({quoteId:e.params.buybackId})))return console.error("failed to update quote percentage")}),800),J=async a=>{await w({quoteId:e.params.buybackId})};return B((()=>U.value.id),(async(a,t)=>{if(!(a===t)&&j.value&&a){["9004","3"].includes(String(a||""))?o.value="reconciled_item":(o.value="active_item",q.value&&await A(e.params.buybackId)),await J(e.params.buybackId)}})),L((async()=>{j.value&&await Promise.all([J(e.params.buybackId),A(e.params.buybackId)]),"create-order"===e.query.ref&&setTimeout((async()=>{await a.push(d(n({},e),{query:{}}))}),1e4)})),{stateShow:t,quotePercentage:h,refBulkQuoteTabContent:M,refQuoteShow:Q,bulkQuote:T,isBulkQuote:l,isShowBulkQuoteTab:O,tabBulkQuote:i,selectedTab:o,bulkQuoteComponent:D,isBulkQuoteTabContentRendered:q,selectedItems:s,loadingCreateItem:r,modalCreateItem:P,loadingQuoteItem:b,confirmManuallyPricedModal:g,hasManuallyPricedItems:v,handleSelect:e=>{m(e,{quotePercentage:100})},closeModalCreateItem:H,openModalCreateItem:W,openModalAddItem:()=>{var e,a;if("ItemList"!==D.value.name)W();else{if(!q.value)return;null==(a=null==(e=M.value)?void 0:e.openModal)||a.call(e,"create")}},handleCreateItem:async()=>{await u({quoteId:e.params.buybackId})&&(H(),M.value&&await A(e.params.buybackId))},setQuotePercentage:e=>{h.value=e,Y()},resetManuallyPricedItems:f}}}),is={class:"grid gap-4 my-4"},ss={class:"flex flex-wrap items-center justify-between gap-4"},ns={class:"md:flex-none flex-auto"},ds={class:"md:flex-none flex-auto"},rs={class:"my-2"},cs={class:"grid md:grid-cols-3 grid-cols-1 gap-4 my-2"},us={key:0,class:"my-2 mb-6"},ms={class:"flex flex-wrap items-center justify-between"},ps={class:"mb-6 relative"},hs={key:1,class:"my-2 mb-6"},bs={class:"my-2"},gs={class:"my-2"},vs={key:0,class:"text-lg font-medium mb-4"},ys={class:"flex flex-wrap justify-between items-center"},_s={class:"text-center py-10"};const fs=r({components:{Detail:we(os,[["render",function(e,a,t,l,o,i){const s=u("Breadcrumb"),n=u("LoadingCard"),d=u("Menu"),r=u("OrderInfo"),c=u("Show"),g=u("Button"),y=u("BulkQuoteItemPercentage"),k=u("Tab"),w=u("Card"),S=u("Items"),x=u("BuybackImages"),I=u("BuybackNotes"),B=u("BulkQuoteItemSearch"),M=u("BulkQuoteItem"),V=u("Modal");return m(),_("div",null,[b("div",null,[b("div",is,[b("div",ss,[b("div",ns,[(m(),p(R,null,{default:h((()=>[b("div",null,[v(s,{class:"w-full"})])])),fallback:h((()=>[v(n)])),_:1}))]),b("div",ds,[(m(),p(R,null,{default:h((()=>[v(d,{"bulk-quote":e.bulkQuote,order:e.stateShow},null,8,["bulk-quote","order"])])),fallback:h((()=>[v(n)])),_:1}))])])]),b("div",rs,[(m(),p(R,null,{default:h((()=>[v(r)])),fallback:h((()=>[v(n)])),_:1}))]),b("div",cs,[(m(),p(R,null,{default:h((()=>[v(c,{ref:"refQuoteShow","is-bulk-quote":e.isBulkQuote,"bulk-quote":e.bulkQuote},null,8,["is-bulk-quote","bulk-quote"])])),fallback:h((()=>[v(n)])),_:1}))]),e.isBulkQuote?(m(),_("div",us,[v(w,null,{header:h((()=>{var t;return[b("div",ms,[a[9]||(a[9]=b("h6",null,"Items",-1)),e.bulkQuote.restrictedQuoteItemUpdate?f("",!0):(m(),p(g,{key:0,onClick:e.openModalAddItem,disabled:!e.isBulkQuoteTabContentRendered||2==(null==(t=e.stateShow)?void 0:t.status_id),color:"teal",dense:""},{default:h((()=>a[8]||(a[8]=[b("i",{class:"material-icons"},"add",-1),C(" Add Items ")]))),_:1},8,["onClick","disabled"]))])]})),default:h((()=>[b("div",null,[b("div",ps,[v(y,{"onUpdate:modelValue":e.setQuotePercentage,"model-value":e.quotePercentage,order:e.stateShow,disabled:e.loadingQuoteItem.getBulkQuoteItemInfo||e.bulkQuote.restrictedQuotePercentageUpdate},null,8,["onUpdate:modelValue","model-value","order","disabled"]),e.hasManuallyPricedItems?(m(),_("div",{key:0,onClick:a[0]||(a[0]=a=>e.confirmManuallyPricedModal=!0),class:"absolute left-0 top-0 w-full h-full cursor-pointer"})):f("",!0)]),e.isShowBulkQuoteTab?(m(),p(k,{key:0,modelValue:e.selectedTab,"onUpdate:modelValue":a[1]||(a[1]=a=>e.selectedTab=a),items:e.tabBulkQuote,component:"",name:"name",by:"value"},null,8,["modelValue","items"])):f("",!0),(m(),p(D(e.bulkQuoteComponent.component),{ref:"refBulkQuoteTabContent",key:e.bulkQuoteComponent.name}))])])),_:1})])):(m(),_("div",hs,[(m(),p(R,null,{default:h((()=>[v(S)])),fallback:h((()=>[v(n)])),_:1}))])),b("div",bs,[v(x)]),b("div",gs,[(m(),p(R,null,{default:h((()=>[v(I)])),fallback:h((()=>[v(n)])),_:1}))])]),v(V,{modelValue:e.modalCreateItem,"onUpdate:modelValue":a[4]||(a[4]=a=>e.modalCreateItem=a),size:"lg"},{header:h((()=>a[10]||(a[10]=[b("h6",{class:"font-medium"},"Add Item",-1)]))),default:h((()=>[a[11]||(a[11]=b("div",{class:"flex gap-4 bg-blue-lighten text-blue-04 px-3 py-2 rounded-lg mb-4"},[b("i",{class:"material-icons"},"info"),b("div",null,[b("p",{class:"mt-1"}," The price indicated is the original price, it hasn't been reduced from quoted price. ")])],-1)),b("div",null,[e.selectedItems.length>0?(m(),_("h6",vs," Detail Item ")):f("",!0),v(B,{onSelect:e.handleSelect,"clear-on-select":!1},null,8,["onSelect"]),v(M,{items:e.selectedItems,"onUpdate:items":a[2]||(a[2]=a=>e.selectedItems=a)},null,8,["items"])])])),footer:h((()=>[b("div",ys,[b("a",{href:"",onClick:a[3]||(a[3]=P(((...a)=>e.closeModalCreateItem&&e.closeModalCreateItem(...a)),["prevent"])),class:"px-4 py-2"},"Cancel"),v(g,{onClick:e.handleCreateItem,loading:e.loadingCreateItem,color:"teal"},{default:h((()=>a[12]||(a[12]=[C("Save ")]))),_:1},8,["onClick","loading"])])])),_:1},8,["modelValue"]),v(V,{modelValue:e.confirmManuallyPricedModal,"onUpdate:modelValue":a[7]||(a[7]=a=>e.confirmManuallyPricedModal=a),size:"xs","hide-header":"","hide-footer":""},{default:h((()=>[b("div",_s,[a[14]||(a[14]=b("img",{class:"mb-10 mx-auto",src:Ta,alt:"Success Icon"},null,-1)),a[15]||(a[15]=b("div",{class:"mt-8 mb-10"},[b("h5",{class:"mb-4 font-medium"},"Attention!"),b("p",{class:"my-5"}," There are prices that were changed manually. Manually priced items will be returned to the original price before using this function. ")],-1)),v(g,{onClick:a[5]||(a[5]=()=>{e.resetManuallyPricedItems(),e.confirmManuallyPricedModal=!1}),color:"teal",class:"mr-3"},{default:h((()=>a[13]||(a[13]=[C("Proceed ")]))),_:1}),b("a",{onClick:a[6]||(a[6]=P((a=>e.confirmManuallyPricedModal=!1),["prevent"])),class:"py-4 px-6"}," Cancel ")])])),_:1},8,["modelValue"])])}]]),BaseLoading:je},setup:()=>({})}),ks={class:"flex item-center justify-center w-full h-full bg-red-04"};var ws=we(fs,[["render",function(e,a,t,l,o,i){const s=u("Detail"),n=u("BaseLoading");return m(),p(R,null,{default:h((()=>[v(s)])),fallback:h((()=>[b("div",ks,[v(n)])])),_:1})}]]);export{ws as default};
