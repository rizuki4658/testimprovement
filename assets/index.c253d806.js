import{u as a}from"./components.dd762bd4.js";import{k as e,a5 as t,O as s,f as o,m as n,o as r,t as d,B as i,D as m,w as l,I as u,a1 as c}from"./vendor.9695fe57.js";import{l as p}from"./setting.1af98a84.js";import{_ as f,b,u as g}from"./index.6438e939.js";import{M as j,u as U}from"./Form.6206dace.js";import{B as _}from"./Breadcrumb.cb17adf4.js";import{C as v}from"./card.33d29bf3.js";import"./LoadingCard.6426fb93.js";import"./dashboard.40250e53.js";import"./date.f86face7.js";import"./index.6b6f6369.js";import"./index.54844a74.js";import"./index.f40e4a9e.js";import"./fieldset.85092f83.js";import"./breadcrumb.0bf6764a.js";const x=e({components:{Button:b,Breadcrumb:_,Card:v,ManageUserForm:j},async setup(){const a=t(),e=s(),{data:n,loading:r,actionShow:d,actionUpdate:i,getMenu:m}=p(),{action:l}=g(),{selectDefaultLocation:u,selectedLocations:c,selectedDefaultLocationDetailed:f}=U(),b=o(null);return await Promise.all([d(a.params.userId),m(a.params.userId)]),u({id:n.default_location_id,name:n.default_location_name}),{data:n,breadcrumb:[{text:"Settings",to:{name:"setting"}},{text:"Manage Users",to:{name:"settingManageUser"}},{text:"Edit User"}],refComponent:b,loading:r,updateUser:async()=>{n.locations=c.value,n.default_location_id=f.value.id,n.default_location_name=f.value.name,b.value.validate()&&await i(a.params.userId,(async()=>{await l(),e.push({name:"settingManageUser"})}))}}}}),y={class:"flex justify-between items-center mb-8"},C={class:"text-right"};var M=f(x,[["render",function(a,e,t,s,o,p){const f=n("Breadcrumb"),b=n("ManageUserForm"),g=n("Button"),j=n("Card");return r(),d(c,null,[i("div",y,[m(f,{pageTitle:"Edit User",backTo:{name:"settingManageUser"},items:a.breadcrumb},null,8,["items"])]),m(j,null,{footer:l((()=>[i("div",C,[m(g,{disabled:0==a.data.permission.update,color:"teal",loading:a.loading.form,onClick:a.updateUser},{default:l((()=>e[1]||(e[1]=[u("Save")]))),_:1},8,["disabled","loading","onClick"])])])),default:l((()=>[m(b,{ref:"refComponent",data:a.data,"onUpdate:data":e[0]||(e[0]=e=>a.data=e),edit:"",readonly:0==a.data.permission.update,"permission-readonly":0==a.data.menu_list.permission.update},null,8,["data","readonly","permission-readonly"])])),_:1})],64)}]]),B=e({setup(){const{genSuspense:e}=a();return()=>e(M)}});export{B as default};
