{"version":3,"file":"index.07569626.js","sources":["../../src/components/ManageUser/InviteUserForm.vue","../../src/components/ManageUser/UpdateInviteUserForm.vue","../../src/views/setting/manage-user/index.vue","../../src/views/setting/manage-user/index.js"],"sourcesContent":["<template>\n  <div class=\"grid grid-cols-1 gap-6\">\n    <div>\n      <p class=\"text-md font-bold mb-2\">\n        You will invite the following emails:\n      </p>\n      <MultipleEmailInput\n        @email-change=\"handleEmailChange\"\n        :suggestion=\"false\"\n        :emails=\"modelValue.email\"\n      />\n      <small\n        class=\"text-red-base block mt-2\"\n        v-for=\"(error, errorIndex) of validation.email.$errors\"\n        :key=\"errorIndex\"\n        >{{ error.$message }}.\n      </small>\n    </div>\n    <div>\n      <label>Location Permissions</label>\n      <BSelect\n        v-model=\"selectedLocations\"\n        :loading=\"loadingLocation.all\"\n        :item-disabled=\"filterDisabledLocation\"\n        :items=\"censoredLocations\"\n        :center=\"false\"\n        :max-height=\"300\"\n        :select-all=\"isSelectAllLocations\"\n        placeholder=\"Set Permission Location\"\n        max-width=\"auto\"\n        multiple\n        block\n      >\n        <template #selected-item=\"{ items }\">\n          <span v-if=\"isSelectAllLocations\"> All location selected </span>\n          <span v-else>{{\n            Array.isArray(items)\n              ? `${items.length} location selected`\n              : 'Some location selected'\n          }}</span>\n        </template>\n        <template #prepend>\n          <div class=\"p-4\">\n            <Input\n              v-model=\"queryLocationPermission.search\"\n              block\n              icon\n              icon-left\n              placeholder=\"Search Location\"\n            >\n              <template #icon>\n                <i class=\"material-icons\">search</i>\n              </template>\n            </Input>\n            <div class=\"px-2 pt-6\">\n              <Checkbox\n                :model-value=\"isSelectAllLocations\"\n                @update:model-value=\"handleSelectAll\"\n                class=\"font-normal\"\n              >\n                Select All Locations\n              </Checkbox>\n            </div>\n          </div>\n        </template>\n        <template #append>\n          <div class=\"p-4\">\n            <Pagination\n              v-model:page=\"queryLocationPermission.page\"\n              hide-show-entries\n              small\n              :data=\"stateLocationPermission\"\n            />\n          </div>\n        </template>\n        <template #empty>\n          <div class=\"text-center px-4 pt-4 pb-6\">No location found</div>\n        </template>\n      </BSelect>\n      <small\n        class=\"text-red-base block mt-2\"\n        v-for=\"(error, errorIndex) of validation.locations.$errors\"\n        :key=\"errorIndex\"\n        >{{ error.$message }}.\n      </small>\n    </div>\n    <div>\n      <label>Default Location</label>\n      <BSelect\n        v-model=\"selectedDefaultLocation\"\n        :loading=\"loadingLocation.all\"\n        :disabled=\"\n          isSelectAllLocations ? false : selectedLocations.length === 0\n        \"\n        :item-disabled=\"filterDisabledDefaultLocation\"\n        :items=\"censoredLocations\"\n        :center=\"false\"\n        :max-height=\"300\"\n        placeholder=\"Set Default Location\"\n        block\n      >\n        <template #prepend>\n          <div class=\"p-4\">\n            <Input\n              v-model=\"queryLocationPermission.search\"\n              block\n              icon\n              icon-left\n              placeholder=\"Search Location\"\n            >\n              <template #icon>\n                <i class=\"material-icons\">search</i>\n              </template>\n            </Input>\n          </div>\n        </template>\n        <template #append>\n          <div class=\"p-4\">\n            <Pagination\n              v-model:page=\"queryLocationPermission.page\"\n              hide-show-entries\n              small\n              :data=\"stateLocationPermission\"\n            />\n          </div>\n        </template>\n        <template #empty>\n          <div class=\"text-center px-4 pt-4 pb-6\">No location found</div>\n        </template>\n      </BSelect>\n      <small\n        class=\"text-red-base block mt-2\"\n        v-for=\"(error, errorIndex) of validation.default_location_id.$errors\"\n        :key=\"errorIndex\"\n        >{{ error.$message }}.\n      </small>\n    </div>\n    <div>\n      <PermissionTree\n        :items=\"manageUserState.invite.menu_list.menus\"\n        @items-change=\"handlePermissionsChange\"\n        name=\"name\"\n        max-height=\"800\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport { computed, defineComponent, onMounted, ref, watch } from 'vue'\nimport { manageUserState } from 'composable/setting'\nimport { useLocations } from 'composable/dashboard'\nimport { useVuelidate } from '@vuelidate/core'\nimport { helpers } from '@vuelidate/validators'\n\nimport BSelect from 'components/BSelect/BSelect.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\nimport MultipleEmailInput from 'components/MultipleEmailInput.vue'\nimport PermissionTree from './PermissionTree.vue'\nimport Pagination from 'components/Pagination.vue'\n\nimport debounce from 'utils/debounce'\n\nexport default defineComponent({\n  components: {\n    BSelect,\n    Button,\n    Input,\n    Checkbox,\n    MultipleEmailInput,\n    Pagination,\n    PermissionTree\n  },\n  props: {\n    modelValue: {\n      type: Object,\n      default: () => ({\n        email: [],\n        role_id: 1,\n        default_location_id: null,\n        permission: [],\n        menus: [],\n        is_view_confidential: 0\n      })\n    }\n  },\n  emits: ['update:modelValue'],\n  setup(props, { emit }) {\n    const {\n      state: stateLocation,\n      stateLocationPermission,\n      loading: loadingLocation,\n      query,\n      queryLocationPermission,\n      locations,\n      locationsPremission\n    } = useLocations()\n\n    const censorLocationName = (name) => {\n      if (!name) return name\n      const phoneRegex = /(?:\\d[\\s.-]?){5,}/g\n      const emailRegex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}/g\n      const sensitivePhrasesRegex = /\\b(call us|contact us|email us|text us)\\b/gi\n      let result = name\n      result = result.replace(phoneRegex, m => {\n        const digits = m.replace(/\\D/g, '')\n        if (digits.length <= 4) {\n          return '*'.repeat(digits.length)\n        } else {\n          return `${digits.slice(0, 4)}${'*'.repeat(digits.length - 4)}`\n        }\n      })\n      result = result.replace(emailRegex, m => `${m[0]}${'*'.repeat(m.length - 1)}`)\n      result = result.replace(sensitivePhrasesRegex, matched => '*'.repeat(matched.length))\n      return result\n    }\n\n    const censoredLocations = computed(() => {\n      if (!stateLocationPermission.value.data) return []\n      \n      return stateLocationPermission.value.data.map(item => {\n        const censoredItem = { ...item }\n        censoredItem.name = censorLocationName(item.name)\n        \n        return censoredItem\n      })\n    })\n\n    const isSelectAllLocations = ref(false)\n    const selectedLocationPermission = ref([])\n    const selectedDefaultLocationPermission = ref(null)\n\n    const totalAvailableLocations = computed(() => {\n      return stateLocationPermission.value.selected?.length\n    })\n    const totalSelectedLocations = computed(() => {\n      return selectedLocationPermission.value.length || 0\n    })\n    const selectedLocations = computed({\n      get: () => selectedLocationPermission.value,\n      set: (items = []) => {\n        selectedLocationPermission.value = items\n        formData.value.locations = items\n          .map((item) => item.id)\n          .filter((item) => item)\n\n        isSelectAllLocations.value =\n          totalAvailableLocations.value === totalSelectedLocations.value\n\n        const isCurrentlySelectedDefaultLocationExcluded =\n          selectedDefaultLocation.value &&\n          !selectedLocationIds.value.includes(selectedDefaultLocation.value.id)\n        if (isCurrentlySelectedDefaultLocationExcluded)\n          unsetSelectedDefaultLocation()\n      }\n    })\n    const selectedLocationIds = computed(() => {\n      return selectedLocations.value\n        .map((item) => item.id)\n        .filter((item) => item)\n    })\n    const selectedDefaultLocation = computed({\n      get: () => selectedDefaultLocationPermission.value,\n      set: (item) => {\n        selectedDefaultLocationPermission.value = item\n        formData.value.default_location_id = item ? item.id : null\n      }\n    })\n    const formData = computed({\n      get() {\n        return props.modelValue\n      },\n      set(newData) {\n        emit('update:modelValue', newData)\n      }\n    })\n    const rules = {\n      email: {\n        required: helpers.withMessage(\n          'Email is required',\n          () => formData.value?.email?.length > 0\n        )\n      },\n      default_location_id: {\n        required: helpers.withMessage(\n          `Default location is required`,\n          () => formData.value?.default_location_id !== null\n        )\n      },\n      locations: {\n        required: helpers.withMessage(\n          `Location Permission is required`,\n          () =>\n            (Array.isArray(formData.value?.locations)\n              ? formData.value.locations.length > 0\n              : formData.value?.locations !== null) ||\n            isSelectAllLocations.value\n        )\n      }\n    }\n    const validation = useVuelidate(rules, formData.value, {\n      $lazy: true\n    })\n    const validate = () => {\n      validation.value.$validate()\n      return !validation.value.$invalid\n    }\n    const unsetSelectedDefaultLocation = () => {\n      selectedDefaultLocationPermission.value = null\n      formData.value.default_location_id = null\n    }\n    const unsetSelectedLocations = () => {\n      selectedLocationPermission.value = []\n      formData.value.locations = []\n      unsetSelectedDefaultLocation()\n    }\n    const handleEmailChange = (emails) => {\n      formData.value.email = [...emails]\n    }\n    const handlePermissionsChange = (menus = []) => {\n      formData.value.menus = menus\n    }\n    const handleSelectAll = (state = false) => {\n      isSelectAllLocations.value = state\n      unsetSelectedLocations()\n    }\n    const filterDisabledLocation = (item = {}) => {\n      const { is_allowed: isAllowed } = item\n      return isAllowed === 0\n    }\n    const filterDisabledDefaultLocation = (item = {}) => {\n      if (isSelectAllLocations.value) return false\n      return !selectedLocationIds.value.includes(item.id)\n    }\n    watch(\n      () => ({\n        search: query.search\n      }),\n      () => {\n        query.page = 1\n      }\n    )\n    watch(\n      () => ({\n        search: query.search,\n        page: query.page\n      }),\n      debounce(async () => {\n        await locations()\n      }, 500)\n    )\n    watch(\n      () => ({\n        search: query.search,\n        page: query.page\n      }),\n      debounce(async () => {\n        await locations()\n      }, 500)\n    )\n    watch(\n      () => ({\n        searchLocationPermission: queryLocationPermission.search\n      }),\n      () => {\n        queryLocationPermission.page = 1\n      }\n    )\n    watch(\n      () => ({\n        searchLocationPermission: queryLocationPermission.search,\n        pageLocationPermission: queryLocationPermission.page\n      }),\n      debounce(async () => {\n        await locationsPremission()\n      }, 500)\n    )\n    watch(isSelectAllLocations, (isSelectAll) => {\n      formData.value.location_permission_all = isSelectAll ? 1 : 0\n    })\n\n    onMounted(async () => {\n      await locations()\n      await locationsPremission()\n      formData.value.locations = null\n      selectedLocationPermission.value = []\n    })\n\n    return {\n      formData,\n      manageUserState,\n      validation,\n      stateLocation,\n      stateLocationPermission,\n      selectedLocationPermission,\n      selectedLocations,\n      selectedDefaultLocation,\n      isSelectAllLocations,\n      query,\n      queryLocationPermission,\n      loadingLocation,\n      validate,\n      handleEmailChange,\n      handlePermissionsChange,\n      handleSelectAll,\n      filterDisabledLocation,\n      filterDisabledDefaultLocation,\n      censorLocationName,\n      censoredLocations\n    }\n  }\n})\n</script>","<template>\n    <div class=\"grid grid-cols-1 gap-6\">\n      <div>\n        <p class=\"text-md font-bold mb-2\">\n          You will invite the following emails:\n        </p>\n        <Input\n          readonly\n          block\n          disabled\n          v-model=\"modelValue.email\"\n        />\n        <small\n          class=\"text-red-base block mt-2\"\n          v-for=\"(error, errorIndex) of validation.email.$errors\"\n          :key=\"errorIndex\"\n          >{{ error.$message }}.\n        </small>\n      </div>\n      <div>\n        <label>Location Permissions</label>\n        <BSelect\n          v-model=\"selectedLocations\"\n          :loading=\"loadingLocation.all\"\n          :item-disabled=\"filterDisabledLocation\"\n          :items=\"censoredLocations\"\n          :center=\"false\"\n          :max-height=\"300\"\n          :select-all=\"isSelectAllLocations\"\n          placeholder=\"Set Permission Location\"\n          max-width=\"auto\"\n          multiple\n          block\n        >\n          <template #selected-item=\"{ items }\">\n            <span v-if=\"isSelectAllLocations\"> All location selected </span>\n            <span v-else>{{\n              Array.isArray(items)\n                ? `${items.length} location selected`\n                : 'Some location selected'\n            }}</span>\n          </template>\n          <template #prepend>\n            <div class=\"p-4\">\n              <Input\n                v-model=\"queryLocationPermission.search\"\n                block\n                icon\n                icon-left\n                placeholder=\"Search Location\"\n              >\n                <template #icon>\n                  <i class=\"material-icons\">search</i>\n                </template>\n              </Input>\n              <div class=\"px-2 pt-6\">\n                <Checkbox\n                  :model-value=\"isSelectAllLocations\"\n                  @update:model-value=\"handleSelectAll\"\n                  class=\"font-normal\"\n                >\n                  Select All Locations\n                </Checkbox>\n              </div>\n            </div>\n          </template>\n          <template #append>\n            <div class=\"p-4\">\n              <Pagination\n                v-model:page=\"queryLocationPermission.page\"\n                hide-show-entries\n                small\n                :data=\"stateLocationPermission\"\n              />\n            </div>\n          </template>\n          <template #empty>\n            <div class=\"text-center px-4 pt-4 pb-6\">No location found</div>\n          </template>\n        </BSelect>\n        <small\n          class=\"text-red-base block mt-2\"\n          v-for=\"(error, errorIndex) of validation.locations.$errors\"\n          :key=\"errorIndex\"\n          >{{ error.$message }}.\n        </small>\n      </div>\n      <div>\n        <label>Default Location</label>\n        <BSelect\n          v-model=\"selectedDefaultLocation\"\n          :loading=\"loadingLocation.all\"\n          :disabled=\"\n            isSelectAllLocations ? false : selectedLocations.length === 0\n          \"\n          :item-disabled=\"filterDisabledDefaultLocation\"\n          :items=\"censoredLocations\"\n          :center=\"false\"\n          :max-height=\"300\"\n          placeholder=\"Set Default Location\"\n          block\n        >\n          <template #prepend>\n            <div class=\"p-4\">\n              <Input\n                v-model=\"queryLocationPermission.search\"\n                block\n                icon\n                icon-left\n                placeholder=\"Search Location\"\n              >\n                <template #icon>\n                  <i class=\"material-icons\">search</i>\n                </template>\n              </Input>\n            </div>\n          </template>\n          <template #append>\n            <div class=\"p-4\">\n              <Pagination\n                v-model:page=\"queryLocationPermission.page\"\n                hide-show-entries\n                small\n                :data=\"stateLocationPermission\"\n              />\n            </div>\n          </template>\n          <template #empty>\n            <div class=\"text-center px-4 pt-4 pb-6\">No location found</div>\n          </template>\n        </BSelect>\n        <small\n          class=\"text-red-base block mt-2\"\n          v-for=\"(error, errorIndex) of validation.default_location_id.$errors\"\n          :key=\"errorIndex\"\n          >{{ error.$message }}.\n        </small>\n      </div>\n      <div>\n        <PermissionTree\n          :items=\"manageUserState.invite.menu_list.menus\"\n          @items-change=\"handlePermissionsChange\"\n          name=\"name\"\n          max-height=\"800\"\n        />\n      </div>\n    </div>\n  </template>\n  <script>\n  import { computed, defineComponent, onMounted, ref, watch } from 'vue';\n  import { manageUserState } from 'composable/setting';\n  import { useLocations } from 'composable/dashboard';\n  import { useVuelidate } from '@vuelidate/core';\n  import { helpers } from '@vuelidate/validators';\n  \n  import BSelect from 'components/BSelect/BSelect.vue';\n  import Button from 'bbUi/components/button/button.vue';\n  import Input from 'bbUi/components/input/input.vue';\n  import Checkbox from 'bbUi/components/checkbox/checkbox.vue';\n  import MultipleEmailInput from 'components/MultipleEmailInput.vue';\n  import PermissionTree from './PermissionTree.vue';\n  import Pagination from 'components/Pagination.vue';\n  \n  import debounce from 'utils/debounce';\n  \n  export default defineComponent({\n    components: {\n      BSelect,\n      Button,\n      Input,\n      Checkbox,\n      MultipleEmailInput,\n      Pagination,\n      PermissionTree\n    },\n    props: {\n      modelValue: {\n        type: Object,\n        default: () => ({\n          email: [],\n          role_id: 1,\n          default_location_id: null,\n          permission: [],\n          menus: [],\n          is_view_confidential: 0\n        })\n      }\n    },\n    emits: ['update:modelValue'],\n    setup(props, { emit }) {\n      const {\n        state: stateLocation,\n        stateLocationPermission,\n        loading: loadingLocation,\n        query,\n        queryLocationPermission,\n        locations,\n        locationsPremission\n      } = useLocations();\n  \n      const isSelectAllLocations = ref(false);\n      const selectedLocationPermission = ref(manageUserState.invite.data.locations || []);\n      const selectedDefaultLocationPermission = ref({\n        id: manageUserState.invite.data.default_location_id,\n        name: manageUserState.invite.data.default_location_name\n      } || null);\n  \n      const availableLocations = computed(() => stateLocationPermission.value);\n\n      const selectedLocations = computed({\n        get: () => selectedLocationPermission.value,\n        set: (items = []) => {\n          selectedLocationPermission.value = items;\n          formData.value.locations = items.map(item => item.id);\n\n          isSelectAllLocations.value = \n            items.length > 0 && \n            items.length === availableLocations.value.length &&\n            availableLocations.value.every(loc => \n              items.some(item => item.id === loc.id)\n            );\n\n          const isCurrentlySelectedDefaultLocationExcluded =\n            selectedDefaultLocation.value &&\n            !selectedLocationIds.value.includes(selectedDefaultLocation.value.id);\n          if (isCurrentlySelectedDefaultLocationExcluded) {\n            unsetSelectedDefaultLocation();\n          }\n        }\n      });\n\n      const selectedLocationIds = computed(() => {\n        return selectedLocations.value\n          .map((item) => item.id)\n          .filter((item) => item);\n      });\n  \n      const selectedDefaultLocation = computed({\n        get: () => selectedDefaultLocationPermission.value,\n        set: (item) => {\n          selectedDefaultLocationPermission.value = item;\n          formData.value.default_location_id = item ? item.id : null;\n          formData.value.default_location_name = item ? item.name : null;\n        }\n      });\n  \n      const formData = computed({\n        get() {\n          return props.modelValue;\n        },\n        set(newData) {\n          emit('update:modelValue', newData);\n        }\n      });\n\n      const rules = {\n        email: {\n          required: helpers.withMessage(\n            'Email is required',\n            () => formData.value?.email?.length > 0\n          )\n        },\n        default_location_id: {\n          required: helpers.withMessage(\n            `Default location is required`,\n            () => formData.value?.default_location_id !== null\n          )\n        },\n        locations: {\n        required: helpers.withMessage(\n          `Location Permission is required`,\n            () => {\n              if (isSelectAllLocations.value) return true;\n              return Array.isArray(formData.value?.locations) \n                ? formData.value.locations.length > 0 \n                : formData.value?.locations !== null;\n            }\n          )\n        }\n      };\n  \n      const validation = useVuelidate(rules, formData.value, {\n        $lazy: true\n      });\n  \n      const validate = () => {\n        validation.value.$validate();\n        return !validation.value.$invalid;\n      };\n  \n      const unsetSelectedDefaultLocation = () => {\n        selectedDefaultLocationPermission.value = null;\n        formData.value.default_location_id = null;\n      };\n  \n      const unsetSelectedLocations = () => {\n        selectedLocationPermission.value = [];\n        formData.value.locations = [];\n        unsetSelectedDefaultLocation();\n      };\n  \n      const handlePermissionsChange = (menus = []) => {\n        formData.value.menus = menus;\n      };\n  \n      const handleSelectAll = (state = false) => {\n      isSelectAllLocations.value = state;\n      if (state) {\n        selectedLocationPermission.value = availableLocations.value.selected;\n        formData.value.locations = availableLocations.value.selected\n          .map((item) => item.id)\n          .filter((item) => item);\n      } else {\n        unsetSelectedLocations();\n      }\n    };\n      const filterDisabledLocation = (item = {}) => {\n        const { is_allowed: isAllowed } = item;\n        return isAllowed === 0;\n      };\n  \n      const filterDisabledDefaultLocation = (item = {}) => {\n        if (isSelectAllLocations.value) return false;\n        return !selectedLocationIds.value.includes(item.id);\n      };\n\n      const checkInitialSelectionState = () => {\n        if (selectedLocationPermission.value.length > 0 && availableLocations.value.total_locations > 0) {\n          isSelectAllLocations.value = \n          selectedLocationPermission.value.length === availableLocations.value.total_locations\n        }\n      };\n      const censorLocationName = (name) => {\n        if (!name) return name\n        const phoneRegex = /(?:\\d[\\s.-]?){5,}/g\n        const emailRegex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}/g\n        const sensitivePhrasesRegex = /\\b(call us|contact us|email us|text us)\\b/gi\n        let result = name\n        result = result.replace(phoneRegex, m => {\n          const digits = m.replace(/\\D/g, '')\n          if (digits.length <= 4) {\n            return '*'.repeat(digits.length)\n          } else {\n            return `${digits.slice(0, 4)}${'*'.repeat(digits.length - 4)}`\n          }\n        })\n        result = result.replace(emailRegex, m => `${m[0]}${'*'.repeat(m.length - 1)}`)\n        result = result.replace(sensitivePhrasesRegex, matched => '*'.repeat(matched.length))\n        return result\n      }\n\n    const censoredLocations = computed(() => {\n      if (!stateLocationPermission.value.data) return []\n      \n      return stateLocationPermission.value.data.map(item => {\n        const censoredItem = { ...item }\n        censoredItem.name = censorLocationName(item.name)\n        \n        return censoredItem\n      })\n    })\n  \n      watch(() => ({ search: query.search }), () => {\n        query.page = 1;\n      });\n  \n      watch(\n        () => ({ search: query.search, page: query.page }),\n        debounce(async () => {\n          await locations();\n        }, 500)\n      );\n  \n      watch(\n        () => ({ searchLocationPermission: queryLocationPermission.search }),\n        () => {\n          queryLocationPermission.page = 1;\n        }\n      );\n  \n      watch(\n        () => ({ searchLocationPermission: queryLocationPermission.search, pageLocationPermission: queryLocationPermission.page }),\n        debounce(async () => {\n          await locationsPremission();\n        }, 500)\n      );\n  \n      watch(isSelectAllLocations, (isSelectAll) => {\n        formData.value.location_permission_all = isSelectAll ? 1 : 0\n      });\n\n      watch(\n        () => stateLocationPermission.value.data,\n        () => {\n          checkInitialSelectionState();\n        }\n      );\n  \n      onMounted(async () => {\n        await locations();\n        await locationsPremission();\n        formData.value.locations = selectedLocationPermission.value.map(loc => loc.id);\n        checkInitialSelectionState();\n      });\n  \n      return {\n        formData,\n        manageUserState,\n        validation,\n        stateLocation,\n        stateLocationPermission,\n        selectedLocationPermission,\n        selectedLocations,\n        selectedDefaultLocation,\n        isSelectAllLocations,\n        query,\n        queryLocationPermission,\n        loadingLocation,\n        validate,\n        handlePermissionsChange,\n        handleSelectAll,\n        filterDisabledLocation,\n        filterDisabledDefaultLocation,\n        availableLocations,\n        censorLocationName,\n        censoredLocations\n      };\n    }\n  });\n  </script>\n  ","<template>\n  <div>\n    <Breadcrumb\n      class=\"mt-2 mb-8\"\n      pageTitle=\"Manage Users\"\n      :backTo=\"{ name: 'setting' }\"\n      :items=\"breadcrumb\">\n      <template #right>\n        <div class=\"flex items-center justify-between gap-x-4\">\n          <Button\n            color=\"teal\"\n            @click=\"handleInviteUser\">\n            <span class=\"material-icons\">share</span>\n            Invite Users\n          </Button>\n          <Button\n            v-if=\"isMyPermissions\"\n            color=\"teal\"\n            :loading=\"loadingMyPermission.form\"\n            @click=\"handleUpdateMyPermission\">\n            Save Changes\n          </Button>\n        </div>\n      </template>\n    </Breadcrumb>\n    <!-- <div\n      class=\"flex justify-between lg:items-center md:items-end md:flex-row flex-col items-start mb-8\"\n    >\n      <Breadcrumb\n        pageTitle=\"Manage Users\"\n        :backTo=\"{ name: 'setting' }\"\n        :items=\"breadcrumb\"\n      />\n      <div class=\"inline-block\">\n        <Button\n          color=\"teal\"\n          class=\"lg:mt-0 mt-4 ml-auto mr-4\"\n          @click=\"handleInviteUser\"\n          ><span class=\"material-icons\">share</span> Invite Users</Button\n        >\n        !-- <Button\n          view=\"filled\"\n          color=\"teal\"\n          class=\"lg:mt-0 mt-4 ml-auto\"\n          :to=\"{ name: 'settingManageUserCreate' }\"\n          link\n          ><span class=\"material-icons\">add</span> Add New User</Button\n        > --\n      </div>\n    </div> -->\n    <Card class=\"mb-8\">\n      <Tab\n        :modelValue=\"data.type\"\n        @update:modelValue=\"handleChangeTab\"\n        :items=\"tabs\"\n        component\n        by=\"value\"\n        name=\"name\"\n      >\n        <template #title=\"{ item }\">\n          <span>{{ item.name }}</span>\n          <div\n            v-if=\"item?.total_invited\"\n            class=\"p-3 ml-4 bg-teal-04 text-white rounded-full flex items-center justify-center box-content w-1 h-1\"\n          >\n            {{ item.total_invited }}\n          </div>\n        </template>\n      </Tab>\n      <div v-if=\"isShowUserPermissionTable\">\n        <div class=\"flex flex-col md:flex-row mb-6\">\n          <div class=\"flex-grow md:mr-3 md:mb-0 mb-3\">\n            <Input\n              v-model=\"data.search\"\n              placeholder=\"Search Users\"\n              class=\"w-full\"\n              icon\n            >\n              <template #icon>\n                <span class=\"material-icons\">search</span>\n              </template>\n            </Input>\n          </div>\n        </div>\n        <Table v-loading=\"loading.all\" class=\"mb-6\" :data=\"state.data\">\n          <TableColumn v-if=\"data.invited == 0\" prop=\"full_name\" label=\"Name\" width=\"150\">\n            <template #default=\"scope\">\n             {{ scope.row.first_name }} {{ scope.row.last_name }}\n            </template>\n          </TableColumn>\n          <TableColumn prop=\"email\" label=\"Email\" min-width=\"300\" />\n          <TableColumn width=\"100%\" v-if=\"data.invited == 1\" label=\"Status\">\n            <template #default=\"scope\">\n              <Badge\n                v-if=\"scope.row.status == 1\"\n                :color=\"color(scope.row.status_name)\"\n                >Accepted</Badge\n              >\n              <Badge\n                v-else-if=\"scope.row.status == 2\"\n                :color=\"color(scope.row.status_name)\"\n                >Invited</Badge\n              >\n              <Badge v-else :color=\"color(scope.row.status_name)\"\n                >Expired</Badge\n              >\n            </template>\n          </TableColumn>\n          <TableColumn prop=\"select\" :min-width=\"data.invited == 1 ? '500' : ''\">\n            <template #default=\"scope\">\n              <div\n                class=\"lg:opacity-0 group-hover:opacity-100 transition-opacity\"\n              >\n                <template v-if=\"data.invited == 0\">\n                  <div class=\"flex items-center gap-x-2\">\n                  <Button\n                    color=\"teal\"\n                    class=\"mr-1\"\n                    :to=\"{\n                      name: 'settingManageUserEdit',\n                      params: { userId: scope.row.id }\n                    }\"\n                    link\n                    dense\n                    ><span class=\"material-icons text-xl\">edit</span></Button\n                  >\n                  <Button\n                    color=\"red\"\n                    class=\"mr-1\"\n                    v-if=\"\n                      scope.row.permission.delete == true &&\n                      scope.row.id !== me.id\n                    \"\n                    @click=\"openModalSelected('delete', scope.row)\"\n                    dense\n                    ><span class=\"material-icons text-xl\">delete</span></Button\n                  >\n                  </div>\n                </template>\n                <template v-else>\n                  <div v-if=\"scope.row.status == 2\" class=\"flex items-center gap-x-4\">\n                    <a\n                      href=\"#!\"\n                      v-loading=\"\n                        manageUserState.invite.loading.resend.includes(\n                          scope.row.id\n                        )\n                      \"\n                      @click.prevent=\"handleResendInvitation(scope.row.id)\"\n                      class=\"flex flex-nowrap gap-2 items-center text-lg text-teal-01 hover:text-teal-01 bg-teal-04 loading:bg-transparent hover:bg-black rounded-lg px-4 py-0.5\"\n                      ><i class=\"material-icons middle\">refresh</i> <span class=\"truncate\">Resend</span></a\n                    >\n                    <a\n                      href=\"#!\"\n                      v-loading=\"\n                        manageUserState.invite.loading.revoke.includes(\n                          scope.row.id\n                        )\n                      \"\n                      @click.prevent=\"handleRevokeInvitation(scope.row.id)\"\n                      class=\"flex flex-nowrap gap-2 items-center text-lg text-white hover:text-white bg-red-base hover:bg-red-darken rounded-lg px-4 py-0.5\"\n                      ><i class=\"material-icons middle\">close</i> <span class=\"truncate\">Revoke</span></a\n                    >\n                    <button\n                      v-loading=\"manageUserState.invite.loading.update\"\n                      class=\"flex flex-nowrap gap-2 items-center text-lg text-teal-01 hover:text-teal-01 bg-teal-04 hover:bg-black rounded-lg px-4 py-0.5\"\n                      @click=\"handleUpdateInviteUser(scope.row)\"\n                      ><i class=\"material-icons\">edit</i> <span class=\"truncate\">Edit</span></button>\n                    <a\n                      href=\"#!\"\n                      v-loading=\"\n                        manageUserState.invite.loading.copyLink.includes(\n                          scope.row.id\n                        )\n                      \"\n                      @click.prevent=\"handleCopyInviteLink(scope.row)\"\n                      class=\"flex flex-nowrap gap-2 items-center text-lg text-teal-01 hover:text-teal-01 bg-teal-04 hover:bg-black rounded-lg px-4 py-0.5\"\n                      ><i class=\"material-icons middle\">content_copy</i> <span class=\"truncate\">Copy invite link</span></a>\n                  </div>\n                </template>\n              </div>\n            </template>\n          </TableColumn>\n        </Table>\n        <Pagination\n          v-model:page=\"data.page\"\n          v-model:limit=\"data.limit\"\n          :data=\"state\"\n        />\n      </div>\n      <div v-if=\"isMyPermissions\">\n        <ManageUserForm\n          ref=\"refManageUserForm\"\n          :data=\"myPermission\"\n          permission-only\n          edit\n          :readonly=\"myPermission.permission.update == false\"\n          :permission-readonly=\"\n            myPermission.menu_list.permission.update == false\n          \"\n          :permission-max-height=\"600\"\n        />\n      </div>\n    </Card>\n    <Modal\n      size=\"xs\"\n      v-model=\"modal.delete\"\n      title=\"Delete User\"\n      @close=\"unsetData\"\n      hide-header\n      hide-footer\n    >\n      <template #default>\n        <div class=\"text-center py-10\">\n          <img\n            class=\"mb-10 mx-auto\"\n            src=\"@/assets/icon/attention.svg\"\n            alt=\"Icon\"\n          />\n          <div class=\"mt-8 mb-10\">\n            <h6 class=\"mb-2\">Attention!</h6>\n            <p>Do you want to delete this user data?</p>\n          </div>\n          <Button\n            color=\"red\"\n            class=\"mr-5\"\n            :loading=\"loading.delete\"\n            @click=\"actionDelete\"\n            >Delete User</Button\n          >\n          <Button\n            view=\"outlined\"\n            color=\"teal\"\n            :disabled=\"loading.delete\"\n            @click=\"modal.delete = false\"\n            >Cancel</Button\n          >\n        </div>\n      </template>\n    </Modal>\n    <Modal v-model=\"manageUserState.invite.modal.create\" size=\"lg\">\n      <template #header>\n        <h6 class=\"font-bold\">Invite Users</h6>\n      </template>\n      <template #default>\n        <InviteUserForm\n          ref=\"refInviteUserForm\"\n          v-model=\"manageUserState.invite.data\"\n        />\n      </template>\n      <template #footer>\n        <Button\n          view=\"filled\"\n          color=\"teal\"\n          @click=\"handleSubmitInviteUser\"\n          :loading=\"manageUserState.invite.loading.create\"\n          ><i class=\"material-icons mr-1\">email</i> Send Invites</Button\n        >\n      </template>\n    </Modal>\n    <Modal v-model=\"manageUserState.invite.modal.update\" size=\"lg\">\n      <template #header>\n        <h6 class=\"font-bold\">Edit Invited Users</h6>\n      </template>\n      <template #default>\n        <UpdateInviteUserForm\n          ref=\"refInviteUserForm\"\n          v-model=\"manageUserState.invite.data\"\n        />\n      </template>\n      <template #footer>\n        <Button\n          view=\"filled\"\n          color=\"teal\"\n          @click=\"handleSubmitUpdateInviteUser\"\n          :loading=\"manageUserState.invite.loading.update\"\n          ><i class=\"material-icons mr-1\">email</i> Resend Invites</Button\n          >\n      </template>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter, useRoute } from 'vue-router'\nimport {\n  useManageUserAll,\n  useManageUserInvite,\n  manageUserState,\n  useManageUserForm\n} from 'composable/setting'\nimport { useUser } from 'composable/user'\nimport { color } from 'utils/status'\nimport Tab from 'bbUi/components/tab/tab.vue'\nimport Badge from 'bbUi/components/badge/badge.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Card from 'bbUi/components/card/card.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport Breadcrumb from 'components/Breadcrumb.vue'\nimport Pagination from 'components/Pagination.vue'\nimport ManageUserForm from 'components/ManageUser/Form.vue'\nimport debounce from 'utils/debounce'\nimport InviteUserForm from 'components/ManageUser/InviteUserForm.vue'\nimport UpdateInviteUserForm from 'components/ManageUser/UpdateInviteUserForm.vue'\nimport { ElMessage } from 'element-plus'\n\nexport default defineComponent({\n  components: {\n    Tab,\n    Badge,\n    Button,\n    Card,\n    Input,\n    Modal,\n    Breadcrumb,\n    Pagination,\n    ManageUserForm,\n    InviteUserForm,\n    UpdateInviteUserForm\n  },\n  props: {\n    statusId: {\n      type: [Number, String],\n      default: 1\n    },\n    choose: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['choose'],\n  async setup(props, { emit }) {\n    const store = useStore()\n    const router = useRouter()\n    const route = useRoute()\n    const {\n      data,\n      state,\n      loading,\n      modal,\n      selected,\n      tabs,\n      unsetData,\n      openModal,\n      actionAll,\n      actionDelete\n    } = useManageUserAll()\n    const {\n      actionMenus,\n      action: actionInviteUser,\n      actionResend,\n      actionRevoke,\n      actionTotalInvited,\n      actionGetData,\n      actionUpdateInvite\n    } = useManageUserInvite()\n    const {\n      data: myPermission,\n      loading: loadingMyPermission,\n      actionShow,\n      actionUpdate: actionUpdateMyPermission,\n      getMenu\n    } = useManageUserForm()\n    const { me } = useUser()\n    const refInviteUserForm = ref(null)\n    const refManageUserForm = ref(null)\n    const isMyPermissions = computed(() => data.type === 2)\n    const isShowUserPermissionTable = computed(() => !isMyPermissions.value)\n\n    data.invited = route.query.invited == 1 ? 1 : 0\n    data.type = !isNaN(parseInt(route.query.type))\n      ? parseInt(route.query.type)\n      : data.invited\n\n    const breadcrumb = [\n      {\n        text: 'Settings',\n        to: {\n          name: 'setting'\n        }\n      },\n      {\n        text: 'Manage Users'\n      }\n    ]\n    const openModalSelected = (target, item) =>\n      openModal(target, () => {\n        selected.value = item.id\n      })\n    const handleInviteUser = async () => {\n      manageUserState.invite.data.email = []\n      manageUserState.invite.modal.create = true\n      await actionMenus()\n    }\n    const handleUpdateInviteUser = async (row) => {\n      manageUserState.invite.selectedId = row.id\n      manageUserState.invite.loading.update = true\n      await actionGetData(row.id)\n      if(manageUserState.invite.selectedId){\n        manageUserState.invite.modal.update = true\n        manageUserState.invite.loading.update = false\n      }\n    }\n    const handleSubmitInviteUser = async () => {\n      const isValid = refInviteUserForm.value.validate()\n      if (isValid) {\n        await actionInviteUser(async () => {\n          if (data.invited == 1) await actionAll()\n          else data.invited = 1\n          manageUserState.invite.modal.create = false\n          await actionTotalInvited()\n        })\n      }\n    }\n    const handleSubmitUpdateInviteUser = async () => {\n      const isValid = refInviteUserForm.value.validate()\n      if (isValid) {\n        await actionUpdateInvite(async () => {\n          if (data.invited == 1) {\n              ElMessage({\n                type: 'success',\n                message: 'Invitation updated'\n              })\n              manageUserState.invite.modal.update = false\n            }\n        })\n      }\n    }\n    const handleResendInvitation = async (id) => {\n      await actionResend(id, () => {\n        ElMessage({\n          type: 'success',\n          message: 'Invitation email resend'\n        })\n      })\n    }\n    const handleRevokeInvitation = async (id) => {\n      await actionRevoke(id, async () => {\n        ElMessage({\n          type: 'success',\n          message: 'Invitation revoked'\n        })\n        await Promise.all([actionAll(), actionTotalInvited()])\n      })\n    }\n    const handleChangeTab = (type) => {\n      data.type = type\n      const isMyPermission = type === 2\n      if (isMyPermission) {\n        data.invited = 0\n        return\n      }\n      data.invited = type\n    }\n    const handleUpdateMyPermission = async () => {\n      if (refManageUserForm.value.validate()) {\n        if (refManageUserForm.value.formatMenu) refManageUserForm.value.formatMenu()\n        await actionUpdateMyPermission(-1, () => {\n          ElMessage({\n            type: 'success',\n            message: 'Permission updated'\n          })\n        })\n      }\n    }\n\n    const handleCopyInviteLink = async (row) => {\n      navigator.clipboard.writeText(row.invite_link).then(() => {\n        ElMessage({\n          type: 'success',\n          message: 'Invite link copied to clipbord'\n        })\n      })\n    }\n\n    watch(\n      () => ({\n        limit: data.limit,\n        search: data.search,\n        invited: data.invited\n      }),\n      () => {\n        data.page = 1\n      }\n    )\n    watch(\n      data,\n      debounce(async () => {\n        router.push({\n          name: 'settingManageUser',\n          query: {\n            invited: data.invited,\n            type: data.type\n          }\n        })\n        await actionAll()\n      }, 500)\n    )\n\n    await Promise.all([\n      actionAll(),\n      actionTotalInvited(),\n      actionShow(-1),\n      getMenu(-1)\n    ])\n\n    return {\n      me,\n      refInviteUserForm,\n      refManageUserForm,\n      manageUserState,\n      data,\n      myPermission,\n      state,\n      store,\n      loading,\n      loadingMyPermission,\n      modal,\n      tabs,\n      unsetData,\n      actionDelete,\n      breadcrumb,\n      isMyPermissions,\n      isShowUserPermissionTable,\n      openModalSelected,\n      handleInviteUser,\n      handleSubmitInviteUser,\n      handleResendInvitation,\n      handleRevokeInvitation,\n      handleChangeTab,\n      handleUpdateMyPermission,\n      color,\n      handleUpdateInviteUser,\n      handleSubmitUpdateInviteUser,\n      handleCopyInviteLink\n    }\n  }\n})\n</script>\n","import { defineComponent } from 'vue'\nimport { useSuspense } from 'composable/components'\nimport index from './index.vue'\n\nexport default defineComponent({\n  setup() {\n    const { genSuspense } = useSuspense()\n\n    return () => genSuspense(index)\n  }\n})"],"names":["_sfc_main","defineComponent","components","BSelect","Button","Input","Checkbox","MultipleEmailInput","Pagination","PermissionTree","props","modelValue","type","Object","default","email","role_id","default_location_id","permission","menus","is_view_confidential","emits","[object Object]","emit","state","stateLocation","stateLocationPermission","loading","loadingLocation","query","queryLocationPermission","locations","locationsPremission","useLocations","censorLocationName","name","result","replace","m","digits","length","repeat","slice","matched","censoredLocations","computed","value","data","map","item","censoredItem","__spreadValues","isSelectAllLocations","ref","selectedLocationPermission","selectedDefaultLocationPermission","totalAvailableLocations","_a","selected","totalSelectedLocations","selectedLocations","get","set","items","formData","id","filter","selectedDefaultLocation","selectedLocationIds","includes","unsetSelectedDefaultLocation","newData","rules","required","helpers","withMessage","_b","Array","isArray","validation","useVuelidate","$lazy","watch","search","page","debounce","async","searchLocationPermission","pageLocationPermission","isSelectAll","location_permission_all","onMounted","manageUserState","validate","$validate","$invalid","handleEmailChange","emails","handlePermissionsChange","handleSelectAll","filterDisabledLocation","is_allowed","isAllowed","filterDisabledDefaultLocation","_hoisted_3","key","_hoisted_4","class","_hoisted_5","_hoisted_6","_hoisted_7","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_cache","_createVNode","_component_MultipleEmailInput","onEmailChange","_ctx","suggestion","_Fragment","_renderList","$errors","error","errorIndex","onUpdate:modelValue","$event","all","item-disabled","center","max-height","select-all","placeholder","max-width","multiple","_withCtx","_hoisted_2","_toDisplayString","prepend","_component_Input","block","icon","icon-left","_component_Checkbox","model-value","append","_component_Pagination","onUpdate:page","hide-show-entries","small","empty","_hoisted_8","_component_PermissionTree","invite","menu_list","onItemsChange","default_location_name","availableLocations","every","loc","some","checkInitialSelectionState","total_locations","Tab","Badge","Card","Modal","Breadcrumb","ManageUserForm","InviteUserForm","UpdateInviteUserForm","readonly","disabled","statusId","Number","String","choose","Boolean","store","useStore","router","useRouter","route","useRoute","modal","tabs","unsetData","openModal","actionAll","actionDelete","useManageUserAll","actionMenus","action","actionInviteUser","actionResend","actionRevoke","actionTotalInvited","actionGetData","actionUpdateInvite","useManageUserInvite","myPermission","loadingMyPermission","actionShow","actionUpdate","actionUpdateMyPermission","getMenu","useManageUserForm","me","useUser","refInviteUserForm","refManageUserForm","isMyPermissions","isShowUserPermissionTable","invited","isNaN","parseInt","limit","push","Promise","breadcrumb","text","to","openModalSelected","target","handleInviteUser","create","handleSubmitInviteUser","handleResendInvitation","_u","message","handleRevokeInvitation","handleChangeTab","handleUpdateMyPermission","formatMenu","color","handleUpdateInviteUser","row","selectedId","update","handleSubmitUpdateInviteUser","handleCopyInviteLink","navigator","clipboard","writeText","invite_link","then","_hoisted_13","_component_Breadcrumb","pageTitle","backTo","right","_component_Button","form","_component_Tab","component","by","total_invited","_withDirectives","_createBlock","_component_Table","prop","label","_createCommentVNode","_component_TableColumn","width","scope","link","delete","onClick","href","_withModifiers","_createTextVNode","_directive_loading","resend","revoke","_hoisted_11","copyLink","onUpdate:limit","_component_ManageUserForm","permission-only","edit","permission-readonly","_component_Modal","size","title","onClose","hide-header","_hoisted_14","src","_imports_0","view","header","_component_InviteUserForm","footer","_component_UpdateInviteUserForm","index","genSuspense","useSuspense"],"mappings":"05CAoKA,MAAKA,GAAaC,EAAa,CAC7BC,WAAY,CACVC,QAAAA,EACAC,OAAAA,QACAC,EACAC,SAAAA,EACAC,mBAAAA,GACAC,WAAAA,EACAC,eAAAA,GAEFC,MAAO,CACLC,WAAY,CACVC,KAAMC,OACNC,QAAS,KAAO,CACdC,MAAO,GACPC,QAAS,EACTC,oBAAqB,KACrBC,WAAY,GACZC,MAAO,GACPC,qBAAsB,MAI5BC,MAAO,CAAC,qBACRC,MAAMZ,GAAOa,KAAEA,IACP,MACJC,MAAOC,EAAAC,wBACPA,EACAC,QAASC,EAAAC,MACTA,EAAAC,wBACAA,EAAAC,UACAA,EAAAC,oBACAA,GACEC,IAEEC,EAAsBC,IAC1B,IAAKA,EAAa,OAAAA,EAIlB,IAAIC,EAASD,EAWN,OAVEC,EAAAA,EAAOC,QAJG,sBAIsBC,IACjC,MAAAC,EAASD,EAAED,QAAQ,MAAO,IAC5B,OAAAE,EAAOC,QAAU,EACZ,IAAIC,OAAOF,EAAOC,QAElB,GAAGD,EAAOG,MAAM,EAAG,KAAK,IAAID,OAAOF,EAAOC,OAAS,QAGrDJ,EAAAA,EAAOC,QAXG,mDAWsBC,GAAA,GAAGA,EAAE,KAAK,IAAIG,OAAOH,EAAEE,OAAS,OACzEJ,EAASA,EAAOC,QAXc,+CAW4BM,GAAA,IAAIF,OAAOE,EAAQH,UACtEJ,GAGHQ,EAAoBC,GAAS,IAC5BnB,EAAwBoB,MAAMC,KAE5BrB,EAAwBoB,MAAMC,KAAKC,KAAYC,IACpD,MAAMC,EAAeC,EAAK,GAAAF,GAGnB,OAFMC,EAAAf,KAAOD,EAAmBe,EAAKd,MAErCe,KANuC,KAU5CE,EAAuBC,GAAI,GAC3BC,EAA6BD,EAAI,IACjCE,EAAoCF,EAAI,MAExCG,EAA0BX,GAAS,WAChC,OAAA,OAAAY,EAAA/B,EAAwBoB,MAAMY,eAAU,EAAAD,EAAAjB,UAE3CmB,EAAyBd,GAAS,IAC/BS,EAA2BR,MAAMN,QAAU,IAE9CoB,EAAoBf,EAAS,CACjCgB,IAAK,IAAMP,EAA2BR,MACtCgB,IAAK,CAACC,EAAQ,MACZT,EAA2BR,MAAQiB,EAC1BC,EAAAlB,MAAMf,UAAYgC,EACxBf,KAAKC,GAASA,EAAKgB,KACnBC,QAAQjB,GAASA,IAECG,EAAAN,MACnBU,EAAwBV,QAAUa,EAAuBb,MAGzDqB,EAAwBrB,QACvBsB,EAAoBtB,MAAMuB,SAASF,EAAwBrB,MAAMmB,KAElEK,OAGAF,EAAsBvB,GAAS,IAC5Be,EAAkBd,MACtBE,KAAKC,GAASA,EAAKgB,KACnBC,QAAQjB,GAASA,MAEhBkB,EAA0BtB,EAAS,CACvCgB,IAAK,IAAMN,EAAkCT,MAC7CgB,IAAMb,IACJM,EAAkCT,MAAQG,EAC1Ce,EAASlB,MAAM7B,oBAAsBgC,EAAOA,EAAKgB,GAAK,QAGpDD,EAAWnB,EAAS,CACxBgB,IAAM,IACGnD,EAAMC,WAEfW,IAAIiD,GACFhD,EAAK,oBAAqBgD,MAGxBC,EAAQ,CACZzD,MAAO,CACL0D,SAAUC,EAAQC,YAChB,qBACA,aAAM,OAAA,OAAAC,EAAA,OAAAnB,EAAAO,EAASlB,YAAT,EAAAW,EAAgB1C,YAAhB,EAAA6D,EAAuBpC,QAAS,MAG1CvB,oBAAqB,CACnBwD,SAAUC,EAAQC,YAChB,gCACA,WAAe,OAA+B,QAAxC,OAASlB,EAAAO,EAAAlB,gBAAO7B,yBAG1Bc,UAAW,CACT0C,SAAUC,EAAQC,YAChB,mCACA,aACG,OAAAE,MAAMC,QAAQ,OAAArB,EAAAO,EAASlB,YAAT,EAAAW,EAAgB1B,WAC3BiC,EAASlB,MAAMf,UAAUS,OAAS,EACJ,QAA9B,OAASoC,EAAAZ,EAAAlB,YAAO,EAAA8B,EAAA7C,aACpBqB,EAAqBN,WAIvBiC,EAAaC,EAAaR,EAAOR,EAASlB,MAAO,CACrDmC,OAAO,IAMHX,EAA+B,KACnCf,EAAkCT,MAAQ,KAC1CkB,EAASlB,MAAM7B,oBAAsB,MA+EhC,OAtDPiE,GACE,KAAO,CACLC,OAAQtD,EAAMsD,WAEhB,KACEtD,EAAMuD,KAAO,KAGjBF,GACE,KAAO,CACLC,OAAQtD,EAAMsD,OACdC,KAAMvD,EAAMuD,QAEdC,GAASC,gBACDvD,MACL,MAELmD,GACE,KAAO,CACLC,OAAQtD,EAAMsD,OACdC,KAAMvD,EAAMuD,QAEdC,GAASC,gBACDvD,MACL,MAELmD,GACE,KAAO,CACLK,yBAA0BzD,EAAwBqD,WAEpD,KACErD,EAAwBsD,KAAO,KAGnCF,GACE,KAAO,CACLK,yBAA0BzD,EAAwBqD,OAClDK,uBAAwB1D,EAAwBsD,QAElDC,GAASC,gBACDtD,MACL,MAECkD,EAAA9B,GAAuBqC,IAClBzB,EAAAlB,MAAM4C,wBAA0BD,EAAc,EAAI,KAG7DE,GAAUL,gBACFvD,UACAC,IACNgC,EAASlB,MAAMf,UAAY,KAC3BuB,EAA2BR,MAAQ,MAG9B,CACLkB,SAAAA,EACA4B,gBAAAA,EACAb,WAAAA,EACAtD,cAAAA,EACAC,wBAAAA,EACA4B,2BAAAA,EACAM,kBAAAA,EACAO,wBAAAA,EACAf,qBAAAA,EACAvB,MAAAA,EACAC,wBAAAA,EACAF,gBAAAA,EACAiE,SAlGe,KACfd,EAAWjC,MAAMgD,aACTf,EAAWjC,MAAMiD,UAiGzBC,kBAtFyBC,IAChBjC,EAAAlB,MAAM/B,MAAQ,IAAIkF,IAsF3BC,wBApF8B,CAAC/E,EAAQ,MACvC6C,EAASlB,MAAM3B,MAAQA,GAoFvBgF,gBAlFsB,CAAC3E,GAAQ,KAC/B4B,EAAqBN,MAAQtB,EAX7B8B,EAA2BR,MAAQ,GACnCkB,EAASlB,MAAMf,UAAY,GAC3BuC,KA2FA8B,uBA/E6B,CAACnD,EAAO,MAC/B,MAAEoD,WAAYC,GAAcrD,EAClC,OAAqB,IAAdqD,GA8EPC,8BA5EoC,CAACtD,EAAO,MACxCG,EAAqBN,QACjBsB,EAAoBtB,MAAMuB,SAASpB,EAAKgB,IA2EhD/B,mBAAAA,EACAU,kBAAAA,qDA/WS4D,GAAA,CAAAC,IAAK,GAYHC,GAAA,CAAAC,MAAM,OAYRC,GAAA,CAAAD,MAAM,aAoCNE,GAAA,CAAAF,MAAM,OAeNG,GAAA,CAAAH,MAAM,yLApGXI,OAAAA,IAAAC,EAAA,MAAAC,GAAA,CAdJC,EAAA,MAAA,KAAA,CAGAC,EAIE,KAAAA,EAAA,GAAAD,EAAA,IAAA,CAAAP,MAAA,0BAAA,2CAAA,IAHCS,EAAAC,EAA+B,CAC/BC,cAAiBC,EAAAvB,kBACjBwB,YAAkB,qDAOb,oBAAAC,EAAA,KAAAC,EAAAH,EAAAxC,WAAAhE,MAAA4G,SAAA,CAAAC,EAAAC,SAJ0Bb,EAAA,QAAA,CAE/BL,MAAe,mEAKlBO,EAAA,MAAA,KAAA,CACAC,EA0DU,MAAAA,EAAA,IAAAD,EAAA,QAAA,KAAA,wBAAA,QAzDkB,gCACzBY,sBAAwBX,EAAC,OAAG,GAAAY,GAAAR,EAAA3D,kBAAAmE,GAC5BpG,QAAA4F,EAAA3F,gBAAqCoG,IACrCC,gBAAwBV,EAAAnB,uBACxBrC,QAAanB,kBACbsF,QAAA,EACAC,aAAY,IACbC,aAAqCb,EAAAnE,qBACrCiF,YAAU,0BACVC,YAAQ,OACRC,SAAK,aAEmB,iBACUC,GAAA,EAAAzE,MAAAA,KAAA,CAAhCwD,EAAAnE,sBACA2D,IAAAC,EAIS,OAHPyB,GAAA,6BAAoDzB,IAAAA,EAAA,OAAAR,GAAAkC,EAAA7D,MAAAC,QAAAf,oEAMtD4E,QAAAH,GAAA,OAWU,MAAA9B,GAAA,CATGU,EAAAwB,EAAA,CAAAjI,WAAA4G,EAAAzF,wBAAAqD,OACT2C,sBAAKX,EAAA,KAAAA,EAAA,GAAAY,GAAAR,EAAAzF,wBAAAqD,OAAA4C,GACLc,MAAI,GACJC,KAAA,GACAC,YAAY,kCAED,CACTD,KAAAN,GAAA,IAAArB,EAAG,OAAM,GAAA,sDAGb,EAAA,CAAA,iBAOa,MAAAP,GAAA,CALRQ,EAAA4B,EAAiC,CACjCC,cAAA1B,EAAAnE,qBACD0E,sBAAmBP,EAAApB,qDAGrBgB,EAAA,OAAA,GAAA,sFAKJ+B,OAAAV,GAAA,OAMI,MAAA3B,GAAA,GAJqCsC,EAAA,CAAvB/D,KAAAmC,EAAAzF,wBAAAsD,KACdgE,gBAAAjC,EAAiB,KAAAA,EAAA,GAAAY,GAAAR,EAAAzF,wBAAAsD,KAAA2C,GACjBsB,oBAAK,GACJC,MAA6B,gEAKlCC,MAAAf,GAAA,IAA+DrB,EAA1D,OAAM,GAAA,+FAQP,UAAA,gBAAA,QAAA,wBAAAM,EAAA,KAAAC,EAAAH,EAAAxC,WAAAhD,UAAA4F,SAAA,CAAAC,EAAAC,SAJ0Bb,EAAA,QAAA,CAE/BL,MAAe,mEAKlBO,EAAA,MAAA,KAAA,CACAC,EAyCU,MAAAA,EAAA,IAAAD,EAAA,QAAA,KAAA,oBAAA,QAxCwB,sCAC/BY,sBAAwBX,EAAC,OAAG,GAAAY,GAAAR,EAAApD,wBAAA4D,GAC5BpG,QAAQ4F,EAAA3F,gBAAAoG,qEAIRC,gBAAwBV,EAAAhB,8BACxBxC,QAAanB,kBACbsF,QAAA,EACDC,aAAkC,IAClCE,YAAK,iCAEM,CACTM,QAAAH,GAAA,OAWU,MAAA1B,GAAA,CATGM,EAAAwB,EAAA,CAAAjI,WAAA4G,EAAAzF,wBAAAqD,OACT2C,sBAAKX,EAAA,KAAAA,EAAA,GAAAY,GAAAR,EAAAzF,wBAAAqD,OAAA4C,GACLc,MAAI,GACJC,KAAA,GACAC,YAAY,kCAED,CACTD,KAAAN,GAAA,IAAArB,EAAG,QAAM,IAAA,6EAMf+B,OAAAV,GAAA,OAMI,MAAAgB,GAAA,GAJqCL,EAAA,CAAvB/D,KAAAmC,EAAAzF,wBAAAsD,KACdgE,gBAAAjC,EAAiB,KAAAA,EAAA,GAAAY,GAAAR,EAAAzF,wBAAAsD,KAAA2C,GACjBsB,oBAAK,GACJC,MAA6B,gEAKlCC,MAAAf,GAAA,IAA+DrB,EAA1D,QAAM,IAAA,+FAQP,UAAA,WAAA,gBAAA,mBAAAM,EAAA,KAAAC,EAAAH,EAAAxC,WAAA9D,oBAAA0G,SAAA,CAAAC,EAAAC,SAJ0Bb,EAAA,QAAA,CAE/BL,MAAe,qEAUhB,MAAA,KAAA,CAJCS,EAAsBqC,EAAQ,CAC9B1F,MAAAwD,EAAA3B,gBAAqC8D,OAAAC,UAAAxI,MACtCyI,cAAWrC,EAAArB,wBACX/D,KAAA,qECuBN,MAAKnC,GAAaC,EAAa,CAC7BC,WAAY,CACVC,QAAAA,EACAC,OAAAA,QACAC,EACAC,SAAAA,EACAC,mBAAAA,GACAC,WAAAA,EACAC,eAAAA,GAEFC,MAAO,CACLC,WAAY,CACVC,KAAMC,OACNC,QAAS,KAAO,CACdC,MAAO,GACPC,QAAS,EACTC,oBAAqB,KACrBC,WAAY,GACZC,MAAO,GACPC,qBAAsB,MAI5BC,MAAO,CAAC,qBACRC,MAAMZ,GAAOa,KAAEA,IACP,MACJC,MAAOC,EAAAC,wBACPA,EACAC,QAASC,EAAAC,MACTA,EAAAC,wBACAA,EAAAC,UACAA,EAAAC,oBACAA,GACEC,IAEEmB,EAAuBC,GAAI,GAC3BC,EAA6BD,EAAIuC,EAAgB8D,OAAO3G,KAAKhB,WAAa,IAC1EwB,EAAoCF,EAAI,CAC5CY,GAAI2B,EAAgB8D,OAAO3G,KAAK9B,oBAChCkB,KAAMyD,EAAgB8D,OAAO3G,KAAK8G,wBAG9BC,EAAqBjH,GAAS,IAAMnB,EAAwBoB,QAE5Dc,EAAoBf,EAAS,CACjCgB,IAAK,IAAMP,EAA2BR,MACtCgB,IAAK,CAACC,EAAQ,MACZT,EAA2BR,MAAQiB,EACnCC,EAASlB,MAAMf,UAAYgC,EAAMf,QAAYC,EAAKgB,KAElDb,EAAqBN,MACnBiB,EAAMvB,OAAS,GACfuB,EAAMvB,SAAWsH,EAAmBhH,MAAMN,QAC1CsH,EAAmBhH,MAAMiH,OACvBC,GAAAjG,EAAMkG,MAAahH,GAAAA,EAAKgB,KAAO+F,EAAI/F,OAIrCE,EAAwBrB,QACvBsB,EAAoBtB,MAAMuB,SAASF,EAAwBrB,MAAMmB,KAElEK,OAKAF,EAAsBvB,GAAS,IAC5Be,EAAkBd,MACtBE,KAAKC,GAASA,EAAKgB,KACnBC,QAAQjB,GAASA,MAGhBkB,EAA0BtB,EAAS,CACvCgB,IAAK,IAAMN,EAAkCT,MAC7CgB,IAAMb,IACJM,EAAkCT,MAAQG,EAC1Ce,EAASlB,MAAM7B,oBAAsBgC,EAAOA,EAAKgB,GAAK,KACtDD,EAASlB,MAAM+G,sBAAwB5G,EAAOA,EAAKd,KAAO,QAIxD6B,EAAWnB,EAAS,CACxBgB,IAAM,IACGnD,EAAMC,WAEfW,IAAIiD,GACFhD,EAAK,oBAAqBgD,MAIxBC,EAAQ,CACZzD,MAAO,CACL0D,SAAUC,EAAQC,YAChB,qBACA,aAAM,OAAA,OAAAC,EAAA,OAAAnB,EAAAO,EAASlB,YAAT,EAAAW,EAAgB1C,YAAhB,EAAA6D,EAAuBpC,QAAS,MAG1CvB,oBAAqB,CACnBwD,SAAUC,EAAQC,YAChB,gCACA,WAAe,OAA+B,QAAxC,OAASlB,EAAAO,EAAAlB,gBAAO7B,yBAG1Bc,UAAW,CACX0C,SAAUC,EAAQC,YAChB,mCACE,aACE,QAAIvB,EAAqBN,QAClB+B,MAAMC,QAAQ,OAASrB,EAAAO,EAAAlB,gBAAOf,WACjCiC,EAASlB,MAAMf,UAAUS,OAAS,EACJ,QAA9B,OAASoC,EAAAZ,EAAAlB,gBAAOf,iBAMtBgD,EAAaC,EAAaR,EAAOR,EAASlB,MAAO,CACrDmC,OAAO,IAQHX,EAA+B,KACnCf,EAAkCT,MAAQ,KAC1CkB,EAASlB,MAAM7B,oBAAsB,MAkCjCiJ,EAA6B,KAC7B5G,EAA2BR,MAAMN,OAAS,GAAKsH,EAAmBhH,MAAMqH,gBAAkB,IAC5F/G,EAAqBN,MACrBQ,EAA2BR,MAAMN,SAAWsH,EAAmBhH,MAAMqH,kBAGnEjI,EAAsBC,IAC1B,IAAKA,EAAa,OAAAA,EAIlB,IAAIC,EAASD,EAWN,OAVEC,EAAAA,EAAOC,QAJG,sBAIsBC,IACjC,MAAAC,EAASD,EAAED,QAAQ,MAAO,IAC5B,OAAAE,EAAOC,QAAU,EACZ,IAAIC,OAAOF,EAAOC,QAElB,GAAGD,EAAOG,MAAM,EAAG,KAAK,IAAID,OAAOF,EAAOC,OAAS,QAGrDJ,EAAAA,EAAOC,QAXG,mDAWsBC,GAAA,GAAGA,EAAE,KAAK,IAAIG,OAAOH,EAAEE,OAAS,OACzEJ,EAASA,EAAOC,QAXc,+CAW4BM,GAAA,IAAIF,OAAOE,EAAQH,UACtEJ,GAGLQ,EAAoBC,GAAS,IAC5BnB,EAAwBoB,MAAMC,KAE5BrB,EAAwBoB,MAAMC,KAAKC,KAAYC,IACpD,MAAMC,EAAeC,EAAK,GAAAF,GAGnB,OAFMC,EAAAf,KAAOD,EAAmBe,EAAKd,MAErCe,KANuC,KAqDzC,OA3CPgC,GAAM,KAAO,CAAEC,OAAQtD,EAAMsD,WAAW,KACtCtD,EAAMuD,KAAO,KAIbF,GAAA,KAAO,CAAEC,OAAQtD,EAAMsD,OAAQC,KAAMvD,EAAMuD,QAC3CC,GAASC,gBACDvD,MACL,MAGLmD,GACE,KAAO,CAAEK,yBAA0BzD,EAAwBqD,WAC3D,KACErD,EAAwBsD,KAAO,KAKjCF,GAAA,KAAO,CAAEK,yBAA0BzD,EAAwBqD,OAAQK,uBAAwB1D,EAAwBsD,QACnHC,GAASC,gBACDtD,MACL,MAGCkD,EAAA9B,GAAuBqC,IAClBzB,EAAAlB,MAAM4C,wBAA0BD,EAAc,EAAI,KAG7DP,GACE,IAAMxD,EAAwBoB,MAAMC,OACpC,KACEmH,OAIJvE,GAAUL,gBACFvD,UACAC,IACNgC,EAASlB,MAAMf,UAAYuB,EAA2BR,MAAME,QAAWgH,EAAI/F,KAC3EiG,OAGK,CACLlG,SAAAA,EACA4B,gBAAAA,EACAb,WAAAA,EACAtD,cAAAA,EACAC,wBAAAA,EACA4B,2BAAAA,EACAM,kBAAAA,EACAO,wBAAAA,EACAf,qBAAAA,EACAvB,MAAAA,EACAC,wBAAAA,EACAF,gBAAAA,EACAiE,SArIe,KACfd,EAAWjC,MAAMgD,aACTf,EAAWjC,MAAMiD,UAoIzBG,wBAtH8B,CAAC/E,EAAQ,MACvC6C,EAASlB,MAAM3B,MAAQA,GAsHvBgF,gBAnHsB,CAAC3E,GAAQ,KACjC4B,EAAqBN,MAAQtB,EACzBA,GACyB8B,EAAAR,MAAQgH,EAAmBhH,MAAMY,SAC5DM,EAASlB,MAAMf,UAAY+H,EAAmBhH,MAAMY,SACjDV,KAAKC,GAASA,EAAKgB,KACnBC,QAAQjB,GAASA,MAfpBK,EAA2BR,MAAQ,GACnCkB,EAASlB,MAAMf,UAAY,GAC3BuC,MA2HA8B,uBAzG6B,CAACnD,EAAO,MAC/B,MAAEoD,WAAYC,GAAcrD,EAClC,OAAqB,IAAdqD,GAwGPC,8BArGoC,CAACtD,EAAO,MACxCG,EAAqBN,QACjBsB,EAAoBtB,MAAMuB,SAASpB,EAAKgB,IAoGhD6F,mBAAAA,EACA5H,mBAAAA,EACAU,kBAAAA,qDA9XS4D,GAAA,CAAAC,IAAK,GAYHC,GAAA,CAAAC,MAAM,OAYRC,GAAA,CAAAD,MAAM,aAoCNE,GAAA,CAAAF,MAAM,OAeNG,GAAA,CAAAH,MAAM,wBCgMvB,MAAK3G,GAAaC,EAAa,CAC7BC,WAAY,CACVkK,IAAAA,QACAC,EACAjK,OAAAA,EACAkK,KAAAA,QACAjK,QACAkK,EACAC,WAAAA,EACAhK,WAAAA,EACAiK,eAAAA,EACAC,eAAAA,GACAC,qJDhTQ5D,OAAAA,IAAAC,EAAA,MAAAC,GAAA,CAfJC,EAAA,MAAA,KAAA,CAGAC,EAKE,KAAAA,EAAA,GAAAD,EAAA,IAAA,CAAAP,MAAA,0BAAA,2CAAA,IAJAS,EAAQwB,EAAA,CACRgC,SAAK,GACL/B,MAAA,GACSgC,SAAA,GAAAlK,WAAA4G,EAAA5G,WAAAI,kGAOH0G,EAAA,KAAAC,EAAAH,EAAAxC,WAAAhE,MAAA4G,SAAA,CAAAC,EAAAC,SAJ0Bb,EAAA,QAAA,CAE/BL,MAAe,mEAKlBO,EAAA,MAAA,KAAA,CACAC,EA0DU,MAAAA,EAAA,IAAAD,EAAA,QAAA,KAAA,wBAAA,QAzDkB,gCACzBY,sBAAwBX,EAAC,OAAG,GAAAY,GAAAR,EAAA3D,kBAAAmE,GAC5BpG,QAAA4F,EAAA3F,gBAAqCoG,IACrCC,gBAAwBV,EAAAnB,uBACxBrC,QAAanB,kBACbsF,QAAA,EACAC,aAAY,IACbC,aAAqCb,EAAAnE,qBACrCiF,YAAU,0BACVC,YAAQ,OACRC,SAAK,aAEmB,iBACUC,GAAA,EAAAzE,MAAAA,KAAA,CAAhCwD,EAAAnE,sBACA2D,IAAAC,EAIS,OAHPyB,GAAA,6BAAsDzB,IAAAA,EAAA,OAAAR,GAAAkC,EAAA7D,MAAAC,QAAAf,oEAMxD4E,QAAAH,GAAA,OAWU,MAAA9B,GAAA,CATGU,EAAAwB,EAAA,CAAAjI,WAAA4G,EAAAzF,wBAAAqD,OACT2C,sBAAKX,EAAA,KAAAA,EAAA,GAAAY,GAAAR,EAAAzF,wBAAAqD,OAAA4C,GACLc,MAAI,GACJC,KAAA,GACAC,YAAY,kCAED,CACTD,KAAAN,GAAA,IAAArB,EAAG,OAAM,GAAA,sDAGb,EAAA,CAAA,iBAOa,MAAAP,GAAA,CALRQ,EAAA4B,EAAiC,CACjCC,cAAA1B,EAAAnE,qBACD0E,sBAAmBP,EAAApB,qDAGrBgB,EAAA,OAAA,GAAA,sFAKJ+B,OAAAV,GAAA,OAMI,MAAA3B,GAAA,GAJqCsC,EAAA,CAAvB/D,KAAAmC,EAAAzF,wBAAAsD,KACdgE,gBAAAjC,EAAiB,KAAAA,EAAA,GAAAY,GAAAR,EAAAzF,wBAAAsD,KAAA2C,GACjBsB,oBAAK,GACJC,MAA6B,gEAKlCC,MAAAf,GAAA,IAA+DrB,EAA1D,QAAM,IAAA,+FAQP,UAAA,gBAAA,QAAA,wBAAAM,EAAA,KAAAC,EAAAH,EAAAxC,WAAAhD,UAAA4F,SAAA,CAAAC,EAAAC,SAJ0Bb,EAAA,QAAA,CAE/BL,MAAe,mEAKlBO,EAAA,MAAA,KAAA,CACAC,EAyCU,MAAAA,EAAA,IAAAD,EAAA,QAAA,KAAA,oBAAA,QAxCwB,sCAC/BY,sBAAwBX,EAAC,OAAG,GAAAY,GAAAR,EAAApD,wBAAA4D,GAC5BpG,QAAQ4F,EAAA3F,gBAAAoG,qEAIRC,gBAAwBV,EAAAhB,8BACxBxC,QAAanB,kBACbsF,QAAA,EACDC,aAAkC,IAClCE,YAAK,iCAEM,CACTM,QAAAH,GAAA,OAWU,MAAA1B,GAAA,CATGM,EAAAwB,EAAA,CAAAjI,WAAA4G,EAAAzF,wBAAAqD,OACT2C,sBAAKX,EAAA,KAAAA,EAAA,GAAAY,GAAAR,EAAAzF,wBAAAqD,OAAA4C,GACLc,MAAI,GACJC,KAAA,GACAC,YAAY,kCAED,CACTD,KAAAN,GAAA,IAAArB,EAAG,QAAM,IAAA,6EAMf+B,OAAAV,GAAA,OAMI,MAAAgB,GAAA,GAJqCL,EAAA,CAAvB/D,KAAAmC,EAAAzF,wBAAAsD,KACdgE,gBAAAjC,EAAiB,KAAAA,EAAA,GAAAY,GAAAR,EAAAzF,wBAAAsD,KAAA2C,GACjBsB,oBAAK,GACJC,MAA6B,gEAKlCC,MAAAf,GAAA,IAA+DrB,EAA1D,QAAM,IAAA,+FAQP,UAAA,WAAA,gBAAA,mBAAAM,EAAA,KAAAC,EAAAH,EAAAxC,WAAA9D,oBAAA0G,SAAA,CAAAC,EAAAC,SAJ0Bb,EAAA,QAAA,CAE/BL,MAAe,qEAUhB,MAAA,KAAA,CAJCS,EAAsBqC,EAAQ,CAC9B1F,MAAAwD,EAAA3B,gBAAqC8D,OAAAC,UAAAxI,MACtCyI,cAAWrC,EAAArB,wBACX/D,KAAA,sECqLRzB,MAAO,CACLoK,SAAU,CACRlK,KAAM,CAACmK,OAAQC,QACflK,QAAS,GAEXmK,OAAQ,CACNrK,KAAMsK,QACNpK,SAAS,IAGbO,MAAO,CAAC,UACFC,YAAMZ,GAAOa,KAAEA,IACnB,MAAM4J,EAAQC,IACRC,EAASC,IACTC,EAAQC,KACRzI,KACJA,EAAAvB,MACAA,EAAAG,QACAA,EAAA8J,MACAA,EAAA/H,SACAA,EAAAgI,KACAA,EAAAC,UACAA,EAAAC,UACAA,EAAAC,UACAA,EAAAC,aACAA,GACEC,KACEC,YACJA,EACAC,OAAQC,EAAAC,aACRA,EAAAC,aACAA,EAAAC,mBACAA,EAAAC,cACAA,EAAAC,mBACAA,GACEC,KAEFzJ,KAAM0J,EACN9K,QAAS+K,EAAAC,WACTA,EACAC,aAAcC,EAAAC,QACdA,GACEC,KACEC,GAAEA,GAAOC,IACTC,EAAoB7J,EAAI,MACxB8J,EAAoB9J,EAAI,MACxB+J,EAAkBvK,GAAS,IAAoB,IAAdE,EAAKnC,OACtCyM,EAA4BxK,GAAS,KAAOuK,EAAgBtK,QAElEC,EAAKuK,QAAiC,GAAvB/B,EAAM1J,MAAMyL,QAAe,EAAI,EACzCvK,EAAAnC,KAAQ2M,MAAMC,SAASjC,EAAM1J,MAAMjB,OAEpCmC,EAAKuK,QADLE,SAASjC,EAAM1J,MAAMjB,MAuIlB,OA/BPsE,GACE,KAAO,CACLuI,MAAO1K,EAAK0K,MACZtI,OAAQpC,EAAKoC,OACbmI,QAASvK,EAAKuK,YAEhB,KACEvK,EAAKqC,KAAO,KAIdF,EAAAnC,EACAsC,GAASC,UACP+F,EAAOqC,KAAK,CACVvL,KAAM,oBACNN,MAAO,CACLyL,QAASvK,EAAKuK,QACd1M,KAAMmC,EAAKnC,cAGTiL,MACL,YAGC8B,QAAQ3F,IAAI,CAChB6D,IACAQ,IACAM,GAAW,GACXG,GAAQ,KAGH,CACLE,GAAAA,EACAE,kBAAAA,EACAC,kBAAAA,EACAvH,gBAAAA,EACA7C,KAAAA,EACA0J,aAAAA,EACAjL,MAAAA,EACA2J,MAAAA,EACAxJ,QAAAA,EACA+K,oBAAAA,EACAjB,MAAAA,EACAC,KAAAA,EACAC,UAAAA,EACAG,aAAAA,EACA8B,WAnJiB,CACjB,CACEC,KAAM,WACNC,GAAI,CACF3L,KAAM,YAGV,CACE0L,KAAM,iBA4IRT,gBAAAA,EACAC,0BAAAA,EACAU,kBA3IwB,CAACC,EAAQ/K,IACjC2I,EAAUoC,GAAQ,KAChBtK,EAASZ,MAAQG,EAAKgB,MA0IxBgK,iBAxIuB3I,UACPM,EAAA8D,OAAO3G,KAAKhC,MAAQ,GACpB6E,EAAA8D,OAAO+B,MAAMyC,QAAS,QAChClC,KAsINmC,uBA3H6B7I,UACb4H,EAAkBpK,MAAM+C,kBAEhCqG,GAAiB5G,UACD,GAAhBvC,EAAKuK,cAAoBzB,IACxB9I,EAAKuK,QAAU,EACJ1H,EAAA8D,OAAO+B,MAAMyC,QAAS,QAChC7B,QAqHV+B,uBAnG6B9I,MAAOrB,UAC9BkI,EAAalI,GAAI,KACXoK,EAAA,CACRzN,KAAM,UACN0N,QAAS,gCAgGbC,uBA5F6BjJ,MAAOrB,UAC9BmI,EAAanI,GAAIqB,UACX+I,EAAA,CACRzN,KAAM,UACN0N,QAAS,6BAELX,QAAQ3F,IAAI,CAAC6D,IAAaQ,UAuFlCmC,gBApFuB5N,IACvBmC,EAAKnC,KAAOA,EAGVmC,EAAKuK,QAFyB,IAAT1M,EAEN,EAGFA,GA8Ef6N,yBA5E+BnJ,UAC3B6H,EAAkBrK,MAAM+C,aACtBsH,EAAkBrK,MAAM4L,YAAYvB,EAAkBrK,MAAM4L,mBAC1D7B,MAA6B,KACvBwB,EAAA,CACRzN,KAAM,UACN0N,QAAS,4BAuEfK,MAAAA,EACAC,uBA1I6BtJ,MAAOuJ,IACpBjJ,EAAA8D,OAAOoF,WAAaD,EAAI5K,GACxB2B,EAAA8D,OAAO/H,QAAQoN,QAAS,QAClCzC,EAAcuC,EAAI5K,IACrB2B,EAAgB8D,OAAOoF,aACRlJ,EAAA8D,OAAO+B,MAAMsD,QAAS,EACtBnJ,EAAA8D,OAAO/H,QAAQoN,QAAS,IAqI1CC,6BAvHmC1J,UACnB4H,EAAkBpK,MAAM+C,kBAEhC0G,GAAmBjH,UACH,GAAhBvC,EAAKuK,UACKe,EAAA,CACRzN,KAAM,UACN0N,QAAS,uBAEK1I,EAAA8D,OAAO+B,MAAMsD,QAAS,OA+G9CE,qBApE2B3J,MAAOuJ,IAClCK,UAAUC,UAAUC,UAAUP,EAAIQ,aAAaC,MAAK,KACxCjB,EAAA,CACRzN,KAAM,UACN0N,QAAS,sGA3ZP7H,IAAK,4GAOJD,GAAA,CAAAC,IAAK,GACHC,GAAA,CAAAC,MAAM,kCAwCLC,GAAA,CAAAD,MAAM,2GAGCF,IAAK,yCA2BwBA,IAAK,iGAyE5C8I,GAAA,CAAA9I,IAAK,4TA9LDM,OAAAA,IAAAC,EAAA,MAAA,KAAA,CArBXI,EAAiBoI,EAAA,CACjB7I,MAAA,YACC8I,UAA2B,eAC3BC,OAAiB,CAAAvN,KAAA,+BACP,CACTwN,MAAAnH,GAAA,IAcM,GARK,MAAAvB,GAAA,CAJPG,EAAYwI,EAAA,CACXjB,MAAK,oCACN7N,QAAA0H,GAAA,IAAMrB,EAAA,OAAM,GAAA,GAEd,OAAA,CAAAR,MAAA,kBAAA,SAAA,gCAEuB,EAAA,CAAA,wCACrBF,IAAK,EACJkI,MAAO,OACPhN,QAAO4F,EAAwBmF,oBAAAmD,yDAElC1I,EAAA,QAAA,IAAA,2EAuLC,EAAA,CAAA,cAxIC,CAAAR,MAAA,QAAA,SAAA6B,GAAA,IAAA,GAhBOsH,EAAW,CACrBnP,WAAA4G,EAAAxE,UACA+E,sBAAWP,EAAAiH,gBACZzK,MAAAwD,EAASmE,KACTqE,UAAU,GACVC,GAAI,qBAEY,OACcxH,GAAA,EAAAvF,KAAAA,KAAA,CAEpBiE,EAAmB,OAAA,KAAAwB,EAAAzF,EAAAd,MAAA,IAD3B,MAAAc,OAAA,EAAAA,EAAAgN,uEAQgC,EAAA,CAAA,aAAA,sBAAA,uCAClCjJ,IAAAA,EAaM,MAAAR,GAAA,CAZJU,EAAA,SAWM,GADI,MAAAN,GAAA,CARGQ,EAAAwB,EAAW,CAAXjI,WAAA4G,EAAAxE,KAAAoC,OACT2C,sBAA0BX,EAAA,KAAAA,EAAA,GAAAY,GAAAR,EAAAxE,KAAAoC,OAAA4C,GAC1BM,YAAc,eACd1B,MAAI,kBAEO,CACTmC,KAAAN,GAAA,IAAArB,EAAM,QAAM,IAAA,+EAKW+I,GAAYC,IAAAA,EAAAC,EAAA,CAAEzJ,MAAW,2BACnC7F,QAAA0H,GAAY,IAAA,CAIjB,4BAJwB/B,MAAiB4J,iBAAaC,MAAM,oBACtD,0EAIsCC,EAAA,IAAA,GAA7CnJ,EAAYoJ,EAAA,CAACH,aAAcC,MAAA,4BAiB1B,4BAhBD7J,IAAK,EAAiCgK,MAAM,uBACrC,SAEFjI,GAAUkI,GAAA,CAGvB,0BAFEjK,IAAK,oDACGU,EAAA,QAAA,IAAA,wBAGO,KAAI,CAAA,WAGrB,0BAFEV,IAAK,oDACEU,EAAA,QAAA,IAAA,kDAEKV,IAAK,oDACVU,EAAA,QAAA,IAAA,kDA+EAoJ,EAAA,IAAA,GA3EDnJ,EAAaoJ,EAAA,CAAEH,KAAS,iDACjB,CAChBvP,QAAA0H,GAAAkI,GAAA,CAGkBxJ,EAAY,MAAAL,GAAA,CAC1B,GAAAU,EAAAxE,KAAAuK,SAWCtG,IAAAA,EAAA,MAAAF,GAAA,CATCM,EAAYwI,EAAA,CACZjB,MAAM,OACLhI,MAAE,kEAKHgK,mBACC7P,QAAA0H,GAAA,IAAMrB,EAAA,QAAM,IAAA,4EAKmG,GAAtBuJ,EAAM7B,IAAI3N,WAAO0P,qCAF3GnK,IAAK,EACLkI,MAAM,MAMLhI,MAAK,OACNkK,QAAK9I,GAAAR,EAAAwG,kBAAA,SAAA2C,EAAA7B,gBACJ/N,QAAA0H,GAAA,IAAMrB,EAAA,QAAM,IAAA,iGAKYH,IAAAA,EAAAS,EAAA,CAAAhB,IAAA,GAAA,kBAWxBO,IAAAA,EAAA,MAAAwC,GAAA,CATC0G,GAASlJ,IAAAA,EAAA,IAAA,CAMR8J,KAAA,KACDD,QAA2JE,GAAAhJ,GAAAR,EAAA6G,uBAAAsC,EAAA7B,IAAA5K,KAAA,CAAA,yKAC1JkD,EAAA,MAAAA,EAAG,IAAA,qDAA0C6J,uDAPV,CAAAC,IAA+ErL,gBAAO8D,OAAA/H,QAAAuP,OAAA7M,sBAU1H6L,GAASlJ,IAAAA,EAAA,IAAA,CAMR8J,KAAA,KACDD,QAAsIE,GAAAhJ,GAAAR,EAAAgH,uBAAAmC,EAAA7B,IAAA5K,KAAA,CAAA,oJACrIkD,EAAA,MAAAA,EAAG,IAAA,mDAAwC6J,uDAPR,CAAAC,IAA+ErL,gBAAO8D,OAAA/H,QAAAwP,OAAA9M,sBAW1H6L,GAAoIlJ,IAAAA,EAAA,SAAA,CACnIL,MAAK,2KACLQ,EAAA,MAAAA,EAAG,IAAA,2CAAgC6J,6CAHzB,EAAAI,KAAA,+CAKXlB,GAASlJ,IAAAA,EAAA,IAAA,CAMR8J,KAAA,KACDD,QAAoIE,GAAAhJ,GAAAR,EAAA0H,qBAAAyB,EAAA7B,MAAA,CAAA,kJACnI1H,EAAA,MAAAA,EAAG,IAAA,0DAA+C6J,iEAPf,CAAAC,IAAiFrL,gBAAO8D,OAAA/H,QAAA0P,SAAAhN,2EAvFxH,EAAA,CAAA,UAAA,uBAsGE8E,EAAK,CAAT/D,KAAAmC,EAAAxE,KAAAqC,KACNgE,gBAAYjC,EAAK,KAAAA,EAAA,GAAAY,GAAAR,EAAAxE,KAAAqC,KAAA2C,GAAV0F,MAAAlG,EAAAxE,KAAA0K,MACd6D,iBAAWnK,EAAA,KAAAA,EAAA,GAAAY,GAAAR,EAAAxE,KAAA0K,MAAA1F,oDAGUwI,EAAA,IAAA,GAYpBhJ,EAAA6F,iBADFpG,IAAAA,EAAA,MAAAuI,GAAA,CATAnI,EAAuBmK,EAAA,CACtBlO,wBACDN,KAAAwE,EAAAkF,aACA+E,kBAAI,GACHC,KAAA,GACmB7G,SAAA,GAAArD,EAAAkF,aAAAvL,WAAA6N,OAAe2C,wKAQvCtK,EAASuK,EAAA,CACAC,KAAA,KAAAjR,WAAA4G,EAAAkE,MAAAmF,OACT9I,sBAAmBX,EAAA,KAAAA,EAAA,GAAAY,GAAAR,EAAAkE,MAAAmF,OAAA7I,GAClB8J,MAAK,cACNC,QAAAvK,YACAwK,cAAA,qBAEW,gBAyBH,CAnBF7K,EAAA,MAAA8K,GAAA,CAHA7K,EAAK,MAAgBA,EAAA,IAAAD,EAAA,MAAA,CACrBP,MAAiC,gBACjCsL,IAAIC,yBAGJ/K,EAAA,MAAgCA,EAAA,IAA5BD,EAAuB,MAAA,CAAAP,MAAA,cAAA,CAC3BO,EAA4C,YAAJ,QAAA,oEAQzC,IALCE,EAAWwI,EAAA,CACXjB,MAAM,MACLhI,MAAO,OACPhF,QAAO4F,EAAY5F,QAAAiP,+CACRzJ,EAAA,QAAA,IAAA,2BAQb,EAAA,CAAA,UAAA,YALCC,EAAewI,EAAA,CACfuC,gBACCxD,MAAQ,OACR9D,SAAKtD,EAAA5F,QAAAiP,kEACCzJ,EAAA,QAAA,IAAA,gDAwBP,EAAA,CAAA,aAAA,YAnBQC,EAAAuK,EAAA,CAAAhR,WAAA4G,EAAA3B,gBAAA8D,OAAA+B,MAAAyC,OAAqCpG,sBAASX,EAAA,KAAAA,EAAA,MAAAI,EAAA3B,gBAAA8D,OAAA+B,MAAAyC,OAAAnG,cACjD,CACTqK,OAAA5J,GAAA,IAAIrB,EAAA,QAAM,uDAMRrG,QAAA0H,GAAA,IAAA,CAFApB,EAAuBiL,EAAA,mKAWxBC,OAAA9J,GAAA,IAAA,CALCpB,EAAawI,EAAA,CACbuC,cACCxD,MAAK,OACLkC,QAAStJ,EAAe4G,yEACxBrN,QAAA0H,GAAA,IAAGrB,EAAA,QAAM,IAAA,GAA4C,IAAA,CAAAR,MAAA,uBAAA,SAAA,gEAuBpD,EAAA,CAAA,eAnBQS,EAAAuK,EAAA,CAAAhR,WAAA4G,EAAA3B,gBAAA8D,OAAA+B,MAAAsD,OAAqCjH,sBAASX,EAAA,KAAAA,EAAA,MAAAI,EAAA3B,gBAAA8D,OAAA+B,MAAAsD,OAAAhH,cACjD,CACTqK,OAAA5J,GAAA,IAAIrB,EAAA,QAAM,6DAMRrG,QAAA0H,GAAA,IAAA,CAFApB,EAAuBmL,EAAA,mKAWtBD,OAAA9J,GAAA,IAAA,CALDpB,EAAawI,EAAA,CACbuC,cACCxD,MAAK,OACLkC,QAAStJ,EAAeyH,+EACxBlO,QAAA0H,GAAA,IAAGrB,EAAA,QAAM,IAAA,GAA8C,IAAA,CAAAR,MAAA,uBAAA,SAAA,0FCjRlE6L,GAAevS,EAAgB,CAC7BqB,QACE,MAAMmR,YAAEA,GAAgBC,IAExB,MAAO,IAAMD,EAAYD"}