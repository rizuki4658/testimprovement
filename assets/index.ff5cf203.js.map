{"version":3,"file":"index.ff5cf203.js","sources":["../../src/views/checkout/index.vue","../../src/views/checkout/index.js"],"sourcesContent":["<template>\n  <div class=\"w-full\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"margin: auto; background: transparent; display: block; shape-rendering: auto;\" width=\"200px\" height=\"200px\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\">\n      <path fill=\"none\" stroke=\"#818181\" stroke-width=\"8\" stroke-dasharray=\"42.76482137044271 42.76482137044271\" d=\"M24.3 30C11.4 30 5 43.3 5 50s6.4 20 19.3 20c19.3 0 32.1-40 51.4-40 C88.6 30 95 43.3 95 50s-6.4 20-19.3 20C56.4 70 43.6 30 24.3 30z\" stroke-linecap=\"round\" style=\"transform:scale(0.8);transform-origin:50px 50px\">\n        <animate attributeName=\"stroke-dashoffset\" repeatCount=\"indefinite\" dur=\"2.380952380952381s\" keyTimes=\"0;1\" values=\"0;256.58892822265625\"></animate>\n      </path>\n    </svg>\n    <div class=\"w-full flex\">\n      <span class=\"mx-auto font-bold text-2xl\">{{ text }}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRoute, useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\n\nexport default defineComponent({\n  async setup() {\n    const store = useStore()\n    const route = useRoute()\n    const router = useRouter()\n    const text = ref('Payment in process')\n\n    try {\n      // await store.dispatch('user/setConnection', route.query.session_id),\n      await store.dispatch('user/checkout', route.query.session_id)\n      \n      setTimeout(() => {\n        text.value = 'Payment success'\n        ElMessage({\n          type: 'success',\n          message: 'Checkout success'\n        })\n        router.push({\n          name: 'login'\n        })\n      }, 1000)\n    }\n    catch(e) {\n      text.value = 'Payment failed'\n      setTimeout(() => {\n        router.push({\n          name: 'login'\n        })\n      }, 1000)\n    }\n\n    return {\n      text\n    }\n  }\n})\n</script>","import { defineComponent, h } from 'vue'\nimport { useSuspense } from 'composable/components'\nimport index from './index.vue'\nimport LoadingCard from 'components/LoadingCard.vue'\n\nexport default defineComponent({\n  setup() {\n    const { genSuspense } = useSuspense()\n\n    return () => genSuspense({\n      component: index,\n      fallback: h(LoadingCard, {\n        class: 'h-screen'\n      })\n    })\n  }\n})"],"names":["_sfc_main","defineComponent","[object Object]","store","useStore","route","useRoute","router","useRouter","text","ref","dispatch","query","session_id","setTimeout","value","_u","type","message","push","name","e","_hoisted_2","xmlns","xmlns:xlink","style","margin","background","display","shape-rendering","width","height","viewBox","_hoisted_3","class","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","fill","stroke","stroke-width","stroke-dasharray","d","stroke-linecap","attributeName","repeatCount","dur","keyTimes","index","genSuspense","useSuspense","component","fallback","h","LoadingCard"],"mappings":"8QAmBA,MAAKA,EAAaC,EAAa,CAAAC,cAE3B,MAAMC,EAAQC,IACRC,EAAQC,IACRC,EAASC,IACTC,EAAOC,EAAI,sBAEb,UAEIP,EAAMQ,SAAS,gBAAiBN,EAAMO,MAAMC,YAElDC,YAAW,KACTL,EAAKM,MAAQ,kBACHC,EAAA,CACRC,KAAM,UACNC,QAAS,qBAEXX,EAAOY,KAAK,CACVC,KAAM,YAEP,KAAA,MAECC,GACJZ,EAAKM,MAAQ,iBACbD,YAAW,KACTP,EAAOY,KAAK,CACVC,KAAM,YAEP,KAGE,MAAA,CACLX,KAAAA,yBAjDGa,EAAkC,CAACC,MAAA,6BAA2CC,cAAqF,+BAACC,MAAM,CAAOC,OAAA,OAAAC,WAAA,cAAAC,QAAA,QAAAC,kBAAA,QAACC,cAAeC,eAAsBC,QAAA,8CAMpNC,EAAA,CAAAC,MAAM,2EAPhB,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EASMC,GARJC,OAAAA,IAAAC,QAIMC,EAAA,MADGD,EAAA,MAAApB,EAAAc,EAAA,OAAA,GAAA,CAFDQ,EAAW,OAAA,CAACC,KAAM,OAAWC,OAAA,UAAiBC,eAAA,IAAuDC,mBAAsI,sCAACC,EAAA,qIAAuBC,iBAAuD,uEAC1K,CAA3IN,EAAiC,UAAA,CAACO,cAAwB,oBAACC,YAAwB,aAACC,IAAA,qBAAeC,SAA6B,iDAIjF,MAAArB,EAAA,iCCHhEsB,EAAetD,EAAgB,CAC7BC,QACE,MAAMsD,YAAEA,GAAgBC,IAExB,MAAO,IAAMD,EAAY,CACvBE,UAAWH,EACXI,SAAUC,EAAEC,EAAa,CACvB3B,MAAO"}