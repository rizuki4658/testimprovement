import{e,_ as l}from"./index.9aa6481b.js";import{k as a,f as t,y as d,m as o,o as s,t as m,a3 as n,n as u,w as i,B as r,q as c,a4 as p,I as f,K as y,a2 as b,D as V}from"./vendor.f1efedad.js";const h=a({name:"TreeCheckbox",components:{Checkbox:e},props:{items:{type:Array,default:()=>[]},children:{type:String,default:"child"},by:{type:String,default:"value"},name:{type:String,default:"name"},modelValue:{type:[Array,Boolean,String,Number],default:()=>[]},selectAll:{type:Boolean,default:!1},isParent:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const a=t([]);return d((()=>e.selectAll),(t=>{if(t)setTimeout((()=>{a.value=e.items.map((l=>l[e.by])),l("update:modelValue",[...e.modelValue,...e.items.map((l=>l[e.by]))])}),10);else{const t=e.items.map((l=>l[e.by]));setTimeout((()=>{a.value=[],l("update:modelValue",e.modelValue.filter((e=>!t.includes(e))))}),10)}})),{isSelectAll:a,handleCheckboxUpdate:e=>{l("update:modelValue",e)}}}}),v={class:"ml-2 font-normal"},k={class:"ml-2 font-normal"};var x=l(h,[["render",function(e,l,a,t,d,h){const x=o("Checkbox"),A=o("TreeCheckbox",!0);return s(!0),m(b,null,n(e.items,((a,t)=>(s(),m("div",{key:t,class:"w-max px-4 my-4"},[a[e.children]?(s(),m(b,{key:1},[V(x,{modelValue:e.isSelectAll,"onUpdate:modelValue":l[0]||(l[0]=l=>e.isSelectAll=l),value:a[e.by]},{default:i((()=>[r("div",k,[c(e.$slots,"default",p({ref_for:!0},{item:a}),(()=>[f(y(e.name?a[e.name]:a),1)]))])])),_:2},1032,["modelValue","value"]),V(A,{modelValue:e.modelValue,"onUpdate:modelValue":e.handleCheckboxUpdate,items:a[e.children],children:e.children,by:e.by,name:e.name,"select-all":e.isSelectAll.includes(a[e.by]),"is-parent":!1},null,8,["modelValue","onUpdate:modelValue","items","children","by","name","select-all"])],64)):(s(),u(x,{key:0,modelValue:e.modelValue,"onUpdate:modelValue":e.handleCheckboxUpdate,value:e.by?a[e.by]:a},{default:i((()=>[r("div",v,[c(e.$slots,"default",p({ref_for:!0},{item:a}),(()=>[f(y(e.name?a[e.name]:a),1)]))])])),_:2},1032,["modelValue","onUpdate:modelValue","value"]))])))),128)}]]);export{x as T};
