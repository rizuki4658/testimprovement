import{u as e}from"./components.2c51ae72.js";import{k as a,g as t,_ as s,m as l,o,t as i,B as c,D as d,w as n,I as r,a2 as u,f as p,a5 as m,O as y,r as b,x as f}from"./vendor.f1efedad.js";import{b as g,j as x,f as _,u as w,_ as k,am as A,d as P}from"./index.ec266ec1.js";import{a as v}from"./integration.db2aa4c7.js";import"./LoadingCard.93d3634e.js";import"./card.198a6be1.js";const h=a({components:{Button:g,Alert:x,Input:_},async setup(){const{state:e,data:a,actionPublicApi:l,actionGeneratePublicApiKey:o,loading:i}=v(),{isProPlan:c,me:d,hasPublicApiAccess:n}=w(),{open:r}=A(),u=t((()=>!c.value&&0==n.value));return await Promise.all([l()]),{me:d,state:e,data:a,loading:i,isRestrictedPublicApi:u,copyText:e=>{u.value?r({title:"API",description:"With our API, there are endless possibilities for what you can do with buybacks. Create your own custom buyback website or features, or integrate buyback directly into your app.",image_url:"/images/paywall/paywall-public-api.svg"}):navigator.clipboard.writeText(e).then((()=>{s({type:"success",message:"Text copied to clipboard"})}))},generateApiKey:async()=>{await o(),await l(),s({type:"success",message:"New API key has been generated."})}}}}),I={class:"my-4"},V={class:"flex"},T={class:"my-4"},j={class:"flex"},C={class:"my-4"},K={class:"flex mb-6"};var R=k(h,[["render",function(e,a,t,s,p,m){const y=l("Input"),b=l("Button");return o(),i(u,null,[c("div",I,[a[8]||(a[8]=c("label",{for:""},"Secret Key",-1)),c("div",V,[d(y,{modelValue:e.data.secret_key,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.secret_key=a),type:e.isRestrictedPublicApi?"password":"text",view:"default",class:"mr-2",placeholder:"",block:"",disabled:""},null,8,["modelValue","type"]),d(b,{color:"teal",onClick:a[1]||(a[1]=a=>e.copyText(e.data.secret_key)),dense:""},{default:n((()=>a[7]||(a[7]=[c("i",{class:"material-symbols-outlined text-lg mx-2"},"content_copy",-1)]))),_:1})])]),c("div",T,[a[10]||(a[10]=c("label",{for:""},"Tenant ID",-1)),c("div",j,[d(y,{modelValue:e.data.tenant_id,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.tenant_id=a),type:e.isRestrictedPublicApi?"password":"text",view:"default",class:"mr-2",placeholder:"",block:"",disabled:""},null,8,["modelValue","type"]),d(b,{color:"teal",onClick:a[3]||(a[3]=a=>e.copyText(e.data.tenant_id)),dense:""},{default:n((()=>a[9]||(a[9]=[c("i",{class:"material-symbols-outlined text-lg mx-2"},"content_copy",-1)]))),_:1})])]),c("div",C,[a[12]||(a[12]=c("label",{for:""},"Public API Key",-1)),c("div",K,[d(y,{modelValue:e.data.api_key,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.api_key=a),type:e.isRestrictedPublicApi?"password":"text",view:"default",class:"mr-2",placeholder:"",block:"",disabled:""},null,8,["modelValue","type"]),d(b,{color:"teal",onClick:a[5]||(a[5]=a=>e.copyText(e.data.api_key)),dense:""},{default:n((()=>a[11]||(a[11]=[c("i",{class:"material-symbols-outlined text-lg mx-2"},"content_copy",-1)]))),_:1})])]),d(b,{class:"mr-2 mt-4",loading:e.loading.public_api,color:"teal",onClick:a[6]||(a[6]=a=>e.generateApiKey()),dense:""},{default:n((()=>a[13]||(a[13]=[r("Generate New API Key")]))),_:1},8,["loading"])],64)}]]),B=a({async setup(){const{genSuspense:a}=e(),t=p(null);m(),y();const s=b({modelValue:!0,closeTo:{name:"integration",query:{reload:1}},size:"xs"}),l=b({header:()=>"Public API Account",default:()=>a(f(R,{ref:t})),footer:()=>""});return()=>f(P,s,l)}});export{B as default};
