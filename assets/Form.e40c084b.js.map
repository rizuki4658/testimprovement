{"version":3,"file":"Form.e40c084b.js","sources":["../../src/components/Customer/Form.vue"],"sourcesContent":["<template>\n  <!-- TODO: NOTE NOT SAVED -->\n  <div class=\"grid grid-cols-2 gap-4\">\n    <div class=\"xl:col-span-1 lg:col-span-1 md:col-span-1 col-span-2\">\n      <Input\n        v-model=\"data.first_name\"\n        type=\"text\"\n        label=\"First Name\"\n        class=\"w-full\"\n        :disabled=\"disabled\"\n        :view=\"(validation.first_name.$invalid && 'danger') || 'default'\"\n        :data-form-error=\"validation.first_name.$invalid\"\n      />\n      <small\n        class=\"text-red-base\"\n        v-for=\"(error, errorIndex) of validation.first_name.$errors\"\n        :key=\"errorIndex\"\n        >{{ error.$message }}.\n      </small>\n    </div>\n    <div class=\"xl:col-span-1 lg:col-span-1 md:col-span-1 col-span-2\">\n      <Input\n        v-model=\"data.last_name\"\n        type=\"text\"\n        label=\"Last Name\"\n        class=\"w-full\"\n        :disabled=\"disabled\"\n        :view=\"(validation.last_name.$invalid && 'danger') || 'default'\"\n        :data-form-error=\"validation.last_name.$invalid\"\n      />\n      <small\n        class=\"text-red-base\"\n        v-for=\"(error, errorIndex) of validation.last_name.$errors\"\n        :key=\"errorIndex\"\n        >{{ error.$message }}.\n      </small>\n    </div>\n    <div class=\"col-span-1\">\n      <Input\n        v-model=\"data.company\"\n        type=\"text\"\n        label=\"Company Name\"\n        class=\"w-full\"\n        :disabled=\"disabled\"\n      />\n      <!-- <small class=\"text-red-base\" v-for=\"(error, errorIndex) of validation.company.$errors\" :key=\"errorIndex\">{{ error.$message }}. </small> -->\n      <!-- <Checkbox v-model=\"data.use_company_name\" :value=\"1\" v-if=\"!hide.use_company_name\">Use the company name in the Check</Checkbox> -->\n    </div>\n    <div class=\"xl:col-span-1 lg:col-span-1 md:col-span-1 col-span-2\">\n      <Input\n        v-model=\"data.email\"\n        type=\"email\"\n        label=\"Email\"\n        class=\"w-full\"\n        :disabled=\"disabled\"\n        :view=\"(validation.email.$invalid && 'danger') || 'default'\"\n        :data-form-error=\"validation.email.$invalid\"\n      />\n      <small\n        class=\"text-red-base\"\n        v-for=\"(error, errorIndex) of validation.email.$errors\"\n        :key=\"errorIndex\"\n        >{{ error.$message }}.\n      </small>\n    </div>\n    <div class=\"col-span-2\" :data-form-error=\"validation.address_text.$invalid\">\n      <!-- <Input v-model=\"data.address_text\" @focus-in=\"(e) => e.target.setAttribute('autocomplete', 'no')\" type=\"text\" label=\"Street Address\" class=\"w-full\" :disabled=\"disabled\" v-gmap=\"address\" :view=\"validation.valid.$invalid && 'danger' || 'default'\" icon icon-block > -->\n      <Input\n        v-model=\"data.address_text\"\n        @focus-in=\"(e) => e.target.setAttribute('autocomplete', 'no')\"\n        type=\"text\"\n        label=\"Street Address\"\n        class=\"w-full\"\n        :disabled=\"disabled\"\n        v-gmap=\"address\"\n        icon\n        icon-block\n      >\n        <template #icon>\n          <i class=\"material-icons\">location_on</i>\n        </template>\n      </Input>\n      <small\n        class=\"text-red-base block\"\n        v-for=\"(error, errorIndex) of validation.address_text.$errors\"\n        :key=\"errorIndex\"\n        >{{ error.$message }}.\n      </small>\n      <!-- <small class=\"text-red-base block\" v-for=\"(error, errorIndex) of validation.valid.$errors\" :key=\"errorIndex\">{{ error.$message }}. </small> -->\n      <small>Street address, P.O box, company name, c/o.</small>\n    </div>\n    <div class=\"col-span-2\">\n      <Input\n        ref=\"refAddress\"\n        v-model=\"data.suite\"\n        type=\"text\"\n        class=\"w-full\"\n        :disabled=\"disabled\"\n        autocomplete=\"no\"\n      />\n      <small>Apartment, suite, unit, building, floor, etc.</small>\n    </div>\n    <!-- <div class=\"xl:col-span-1 lg:col-span-1 md:col-span-1 col-span-2\">\n      <Input v-model=\"data.city\" type=\"text\" label=\"City\" class=\"w-full\" :disabled=\"disabled\" :view=\"validation.city.$invalid && 'danger' || 'default'\" />\n      <small class=\"text-red-base\" v-for=\"(error, errorIndex) of validation.city.$errors\" :key=\"errorIndex\">{{ error.$message }}. </small>\n    </div>\n    <div class=\"xl:col-span-1 lg:col-span-1 md:col-span-1 col-span-2\">\n      <Input v-model=\"data.state\" type=\"text\" label=\"State\" class=\"w-full\" :disabled=\"disabled\" :view=\"validation.state.$invalid && 'danger' || 'default'\" />\n      <small class=\"text-red-base\" v-for=\"(error, errorIndex) of validation.state.$errors\" :key=\"errorIndex\">{{ error.$message }}. </small>\n    </div>\n    <div class=\"xl:col-span-1 lg:col-span-1 md:col-span-1 col-span-2\">\n      <Input v-model=\"data.zip\" type=\"text\" label=\"Zip Code\" class=\"w-full\" :disabled=\"disabled\" :view=\"validation.zip.$invalid && 'danger' || 'default'\" />\n      <small class=\"text-red-base\" v-for=\"(error, errorIndex) of validation.zip.$errors\" :key=\"errorIndex\">{{ error.$message }}. </small>\n    </div>\n    <div class=\"xl:col-span-1 lg:col-span-1 md:col-span-1 col-span-2\" v-if=\"!hide?.country\">\n      <Input v-model=\"data.country\" type=\"text\" label=\"Country\" class=\"w-full\" :disabled=\"disabled\" :view=\"validation.country.$invalid && 'danger' || 'default'\" />\n      <small class=\"text-red-base\" v-for=\"(error, errorIndex) of validation.country.$errors\" :key=\"errorIndex\">{{ error.$message }}. </small>\n    </div> -->\n    <div class=\"xl:col-span-1 lg:col-span-1 md:col-span-1 col-span-2\" :data-form-error=\"validation.phone.$invalid\">\n      <!-- <Input v-model=\"data.phone\" type=\"text\" label=\"Phone\" class=\"w-full\" :disabled=\"disabled\" :view=\"validation.phone.$invalid && 'danger' || 'default'\" icon icon-block>\n        <template #icon>\n          <i class=\"material-icons\">phone</i>\n        </template>\n      </Input> -->\n      <InputPhone\n        ref=\"refCustomerPhone\"\n        v-model=\"data.phone\"\n        label=\"Phone\"\n        :disabled=\"disabled\"\n        block\n        country-autofill-setting\n      />\n      <small\n        class=\"text-red-base\"\n        v-for=\"(error, errorIndex) of validation.phone.$errors\"\n        :key=\"errorIndex\"\n        >{{ error.$message }}.\n      </small>\n    </div>\n    <div class=\"xl:col-span-1 lg:col-span-1 md:col-span-1 col-span-2\">\n      <Input\n        v-model=\"data.license_number\"\n        type=\"textarea\"\n        placeholder=\"here you can add license number/id number or any other notes\"\n        label=\"Note\"\n        class=\"w-full\"\n        :disabled=\"disabled\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, watch, ref } from 'vue'\n\nimport { scrollIntoElement } from 'utils/element'\n\nimport Input from 'bbUi/components/input/input.vue'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\nimport { useVuelidate } from '@vuelidate/core'\nimport { required, email } from '@/validations/index'\nimport { helpers } from '@vuelidate/validators'\nimport InputPhone from 'components/InputPhone.vue'\n\nexport default defineComponent({\n  components: {\n    Input,\n    Checkbox,\n    InputPhone\n  },\n  props: {\n    data: {\n      type: Object,\n      default: () => ({\n        first_name: null,\n        last_name: null,\n        email: null,\n        // use_company_name: false,\n        company: null,\n        address: null,\n        address1: null,\n        city: null,\n        state: null,\n        zip: null,\n        country: null,\n        address_text: null,\n        lat: null,\n        lon: null,\n        phone: null,\n        suite: '',\n        license_number: null\n      })\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    hide: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  emits: ['update:data'],\n  setup(props, { emit }) {\n    const data = reactive(props.data)\n    const refCustomerPhone = ref(null)\n    // data.valid = data.address_text && data.address_text !== '' && data.address_text !== null\n\n    const rules = {\n      // valid: { validAddress },\n      first_name: { required },\n      last_name: { required },\n      email: { required, email },\n      // company: { required },\n      phone: {\n        required: helpers.withMessage('Phone number is required', required),\n        invalidNumber: helpers.withMessage(\n          'Phone number is invalid',\n          () => !data.phone ? true : refCustomerPhone.value?.isValid\n        )\n      },\n      // company: {\n      //   required\n      // },\n      address_text: {\n        required: helpers.withMessage('Location is required', required)\n      }\n    }\n    const validation = useVuelidate(rules, data, {\n      $lazy: true\n    })\n    const validate = () => {\n      validation.value.$validate()\n      scrollIntoElement('[data-form-error=true]', {\n        useNextTick: true\n      })\n      return !validation.value.$invalid\n    }\n\n    watch(\n      () => ({ ...data }),\n      () => {\n        emit('update:data', data)\n      }\n    )\n\n    return {\n      data,\n      refCustomerPhone,\n      validation,\n      address: {\n        // valid: 'valid',\n        route: 'address1',\n        locality: 'city',\n        administrative_area_level_1: 'state',\n        formatted_address: 'address_text',\n        country: 'country',\n        postal_code: 'zip',\n        geo: {\n          lat: 'lat',\n          lng: 'lon'\n        },\n        noComponentRestriction: true,\n        subpremise: 'suite'\n      },\n      validate\n    }\n  }\n})\n</script>\n"],"names":["_sfc_main","defineComponent","components","Input","Checkbox","InputPhone","props","data","type","Object","default","first_name","last_name","email","company","address","address1","city","state","zip","country","address_text","lat","lon","phone","suite","license_number","disabled","Boolean","hide","emits","[object Object]","emit","reactive","refCustomerPhone","ref","rules","required","helpers","withMessage","invalidNumber","_a","value","isValid","validation","useVuelidate","$lazy","watch","__spreadValues","route","locality","administrative_area_level_1","formatted_address","postal_code","geo","lng","noComponentRestriction","subpremise","validate","$validate","scrollIntoElement","useNextTick","$invalid","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_6","_hoisted_8","_openBlock","_createElementBlock","_createVNode","_component_Input","modelValue","_ctx","onUpdate:modelValue","_cache","$event","label","view","_Fragment","_renderList","$errors","error","errorIndex","_hoisted_5","_createElementVNode","_withDirectives","_createBlock","onFocusIn","e","target","setAttribute","icon","_withCtx","_hoisted_7","_component_InputPhone","block","_hoisted_9","placeholder"],"mappings":"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"}