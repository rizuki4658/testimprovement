var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,l=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&i(e,a,t[a]);if(r)for(var a of r(t))o.call(t,a)&&i(e,a,t[a]);return e};import{u as n}from"./components.9eb2d515.js";import{k as u,O as m,a5 as c,f as d,g as p,y as g,m as v,$ as b,o as f,t as w,B as y,D as h,w as C,Q as k,U as j,I as x,K as O,n as S,a1 as D,a2 as A,A as I}from"./vendor.9695fe57.js";import{_ as L,b as P,at as _}from"./index.10c203ea.js";import{C as B}from"./card.6034dd30.js";import{_ as E}from"./tab.7ba2ad83.js";import{B as T}from"./Breadcrumb.3a067992.js";import"./LoadingCard.202e648c.js";import"./breadcrumb.56f06fd8.js";const $=u({components:{Card:B,Tab:E,Breadcrumb:T,Button:P},async setup(){const{actionCategories:e,stateCategories:r}=_(),s=m(),o=c(),i=d(!1),n=d([]),u=d(null),v=p((()=>{let e=0,t=0;if(!u.value)return 0;for(let[a,r]of Object.entries(Array.from(u.value.$el.children))){const s=window.getComputedStyle(r);if(e>u.value.$el.offsetWidth)break;e+=parseFloat(s.width)+parseFloat(s.marginRight)+parseFloat(s.marginLeft)+1,t=a}return t})),b=p((()=>v.value<n.value.length-1)),f=p((()=>C(0,b.value?v.value:0))),w=p((()=>C(v.value,n.value.length))),y=p((()=>w.value.map((e=>e.to.params.tab)).includes(o.params.tab))),h=p((()=>n.value.find((e=>e.to.params.tab===o.params.tab))||null)),C=(e,t)=>0===t?n.value:e<n.value.length?n.value.slice(e,t):n.value;return await e((()=>{if(Array.isArray(r.value)){n.value=r.value.map(((e,t)=>l({id:t,to:{name:"settingBulkPriceEditorTab",params:{tab:e.name?e.name.toLowerCase():"gadgets"}}},e))).filter((e=>null!=e));const u=f.value.length>0,m=!o.params.tab;u&&m&&s.push((e=l({},f.value[0].to),i={query:o.query},t(e,a(i))))}var e,i})),g((()=>JSON.stringify(o.params)),(e=>{"{}"===e&&s.push({name:"setting"})})),{route:o,tab:n,tabElement:u,breadcrumb:[{text:"Settings",to:{name:"setting"}},{text:"Price Editor"}],limitItemNumber:v,isLimit:b,isShowCategoryDropdown:i,isActiveItemOnMoreCategory:y,currentActiveCategory:h,limitCategories:C,categoryList:f,moreCategoryList:w,handleSelectSubCategoryDropdownItem:e=>{e&&s.push(e),i.value=!1},handleClickOutsideDropdown:()=>i.value=!1,showIntercom:()=>{window.CustomerSupport.use("show")}}}}),F={class:"flex justify-between items-center mb-8"},M={class:"flex items-stretch mb-2"},q={style:{"max-height":"500px","overflow-y":"auto","overflow-x":"hidden"}},N=["onClick"],J={class:"w-full"},K={class:"whitespace-nowrap mr-2"};var Q=L($,[["render",function(e,t,a,r,s,o){const i=v("Breadcrumb"),l=v("Tab"),n=v("Popover"),u=v("router-view"),m=v("Card"),c=b("outside");return f(),w("div",null,[y("div",F,[h(i,{pageTitle:"Price Editor",backTo:{name:"setting"},items:e.breadcrumb},null,8,["items"])]),h(m,null,{default:C((()=>[y("div",M,[h(l,{ref:"tabElement",class:"categories-tab w-full",items:e.categoryList},{title:C((e=>{var t,a;return[(null==(t=e.item)?void 0:t.image)?(f(),w("div",{key:0,class:"svg-load h-8 w-8 mr-4 bg-teal-04",style:k(`-webkit-mask-image: url('${null==(a=e.item)?void 0:a.image}')`)},null,4)):j("",!0),x(" "+O(e.item.name),1)]})),_:1},8,["items"]),e.isLimit?(f(),S(n,{key:0,visible:e.isShowCategoryDropdown,width:180},{default:C((()=>[y("div",q,[(f(!0),w(D,null,A(e.moreCategoryList,((t,a)=>(f(),w("div",{onClick:a=>e.handleSelectSubCategoryDropdownItem(t.to),key:a,class:"flex items-center px-3 py-4 cursor-pointer hover:bg-grey-lighten text-left",style:{"word-break":"break-word"}},[y("div",{class:"svg-load h-10 w-10 mr-4 bg-teal-04",style:k(`-webkit-mask-image: url('${null==t?void 0:t.image}')`)},null,4),y("span",J,O(t.name),1)],8,N)))),128))])])),reference:C((()=>{var a;return[I((f(),w("div",{onClick:t[0]||(t[0]=t=>e.isShowCategoryDropdown=!e.isShowCategoryDropdown),class:"flex items-center justify-center w-full max-w-max px-4 bg-grey-01 overflow-hidden cursor-pointer"},[y("span",K,O(e.isActiveItemOnMoreCategory&&e.currentActiveCategory?null==(a=e.currentActiveCategory)?void 0:a.name:"More Categories"),1),t[1]||(t[1]=y("i",{class:"material-icons"},"arrow_drop_down",-1))])),[[c,e.handleClickOutsideDropdown]])]})),_:1},8,["visible"])):j("",!0)]),e.tab.length>0?(f(),S(u,{key:0})):j("",!0)])),_:1})])}],["__scopeId","data-v-3e567045"]]),R=u({setup(){const{genSuspense:e}=n();return()=>e(Q)}});export{R as default};
