{"version":3,"file":"index.ea600f1d.js","sources":["../../src/components/Shipengine/FormConnect.vue","../../src/views/integration/shipengine/connect/index.vue","../../src/assets/icon/connect-shipengine.svg"],"sourcesContent":["<template>\n  <form @submit.prevent=\"handleSubmit\">\n    <div class=\"my-4\">\n      <Input\n        v-model=\"data.api_key\"\n        :disabled=\"disabled\"\n        class=\"mb-2\"\n        label=\"API Key\"\n        placeholder=\"API key\"\n        block\n        :view=\"validation.api_key.$invalid ? 'danger' : 'default'\"\n      />\n      <small\n        v-for=\"(error, errorIndex) of validation.api_key.$errors\"\n        class=\"text-red-04\"\n        :key=\"errorIndex\"\n        >{{ error.$message }}</small\n      >\n    </div>\n    <Button\n      :loading=\"loading\"\n      :disabled=\"disabled || !data.api_key\"\n      class=\"my-4\"\n      color=\"teal\"\n      block\n      >Connect</Button\n    >\n  </form>\n</template>\n<script>\nimport { defineComponent, reactive, watch } from 'vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nimport { useVuelidate } from '@vuelidate/core'\nimport { helpers } from '@vuelidate/validators'\nimport { required } from '@/validations/index'\n\nexport default defineComponent({\n  components: {\n    Input,\n    Button\n  },\n  props: {\n    data: {\n      type: Object,\n      default: () => ({\n        api_key: ''\n      })\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['submit'],\n  setup(props, { emit }) {\n    const data = reactive({\n      api_key: props.data.api_key\n    })\n    const rules = {\n      api_key: {\n        required: helpers.withMessage('API key is required', required)\n      }\n    }\n    const validation = useVuelidate(rules, data, {\n      $lazy: true\n    })\n    const validate = () => {\n      validation.value.$validate()\n      return !validation.value.$invalid\n    }\n    const handleSubmit = () => {\n      if (validate()) emit('submit', data)\n    }\n    watch(\n      () => props.data,\n      (newData) => {\n        data.api_key = newData.api_key\n      }\n    )\n    return {\n      data,\n      validation,\n      handleSubmit\n    }\n  }\n})\n</script>\n","<template>\n  <div class=\"pb-16 pt-4\">\n    <div class=\"text-center my-6\">\n      <img\n        draggable=\"false\"\n        class=\"mx-auto my-2 select-none\"\n        src=\"@/assets/icon/connect-shipengine.svg\"\n        alt=\"Connect Shipengine\"\n        whitelabel=\"image-replace\"\n        data-image-type=\"shipengine\"\n      />\n      <p whitelabel=\"text-replace\" data-label=\"addons host\">Reusely.com would like to connect to your Shipengine account</p>\n    </div>\n    <div class=\"md:w-1/3 w-full mx-auto my-8\">\n      <FormConnect\n        :disabled=\"status.is_ready == 0\"\n        :data=\"data\"\n        :loading=\"loading\"\n        @submit=\"handleSubmit\"\n      ></FormConnect>\n      <div class=\"my-6 text-center\">\n        <a\n          class=\"transition duration:300 hover:bg-teal-01 hover:text-teal-04 rounded-lg p-4 block w-full\"\n          href=\"https://dashboard.shipengine.com\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          >Login to your Shipengine Account</a\n        >\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { defineComponent, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\n\nimport { useConnect, useStatus } from 'composable/integration/shipengine'\n\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nimport FormConnect from '@/components/Shipengine/FormConnect.vue'\n\nexport default defineComponent({\n  components: {\n    Input,\n    Button,\n    FormConnect\n  },\n  setup() {\n    const router = useRouter()\n    const data = reactive({\n      api_key: ''\n    })\n    const { loading, connect, setCredential } = useConnect()\n    const { status } = useStatus()\n\n    const handleSubmit = async ({ api_key }) => {\n      setCredential({\n        api_key\n      })\n      try {\n        await connect()\n        router.push({\n          name: 'integrationShipengineConfigShippingProvider'\n        })\n      } catch (err) {}\n    }\n\n    data.api_key = status.value.api_key\n\n    return {\n      loading,\n      data,\n      status,\n      handleSubmit\n    }\n  }\n})\n</script>\n","export default \"__VITE_ASSET__5819a5d7__\""],"names":["_sfc_main","defineComponent","components","Input","Button","props","data","type","Object","default","api_key","loading","Boolean","disabled","emits","[object Object]","emit","reactive","rules","required","helpers","withMessage","validation","useVuelidate","$lazy","watch","newData","handleSubmit","value","$validate","$invalid","FormConnect","_openBlock","_hoisted_1","_createVNode","_component_Input","modelValue","_ctx","onUpdate:modelValue","_cache","$event","class","label","placeholder","block","_Fragment","_renderList","$errors","error","errorIndex","_createElementBlock","key","_component_Button","color","router","useRouter","connect","setCredential","useConnect","status","useStatus","async","push","name","err","_createElementVNode","draggable","src","alt","whitelabel","_hoisted_2","_component_FormConnect","is_ready","href","target"],"mappings":"+WAsCA,MAAKA,EAAaC,EAAa,CAC7BC,WAAY,OACVC,SACAC,GAEFC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,QAAS,KAAO,CACdC,QAAS,MAGbC,QAAS,CACPJ,KAAMK,QACNH,SAAS,GAEXI,SAAU,CACRN,KAAMK,QACNH,SAAS,IAGbK,MAAO,CAAC,UACRC,MAAMV,GAAOW,KAAEA,IACb,MAAMV,EAAOW,EAAS,CACpBP,QAASL,EAAMC,KAAKI,UAEhBQ,EAAQ,CACZR,QAAS,CACPS,SAAUC,EAAQC,YAAY,sBAAuBF,KAGnDG,EAAaC,EAAaL,EAAOZ,EAAM,CAC3CkB,OAAO,IAeF,OANPC,GACE,IAAMpB,EAAMC,OACXoB,IACCpB,EAAKI,QAAUgB,EAAQhB,WAGpB,CACLJ,KAAAA,EACAgB,WAAAA,EACAK,aAZmB,KAHnBL,EAAWM,MAAMC,YACTP,EAAWM,MAAME,UAGTd,EAAK,SAAUV,yBClCrC,MAAKN,EAAaC,EAAa,CAC7BC,WAAY,OACVC,EACAC,OAAAA,EACA2B,kFD9CKC,OAAAA,mGACL,GASI,MAAAC,EAAA,CAPSC,EAAAC,EAAY,CAAZC,WAAAC,EAAA/B,KAAAI,QACR4B,sBAAkBC,EAAA,KAAAA,EAAA,GAAAC,GAAAH,EAAA/B,KAAAI,QAAA8B,GACnB3B,SAAYwB,EAAAxB,SACZ4B,MAAM,OACNC,MAAA,UACAC,YAAK,UACJC,MAAM,+EAOR,WAAA,kBAAAC,EAAA,KAAAC,EAAAT,EAAAf,WAAAZ,QAAAqC,SAAA,CAAAC,EAAAC,SAHoBC,EAAA,QAAA,CAClBT,MAAe,cACZU,IAAAF,+BAILf,EAAgBkB,EAAA,CAChBzC,QAAU0B,EAAA1B,QACXE,SAAYwB,EAAAxB,WAAAwB,EAAA/B,KAAAI,QACZ+B,MAAM,OACNY,MAAA,iCACQd,EAAA,OAAA,GAAA,2DCwBZxB,QACE,MAAMuC,EAASC,IACTjD,EAAOW,EAAS,CACpBP,QAAS,MAELC,QAAEA,EAAS6C,QAAAA,EAAAC,cAASA,GAAkBC,KACtCC,OAAEA,GAAWC,IAgBZ,OAFFtD,EAAAI,QAAUiD,EAAO/B,MAAMlB,QAErB,CACLC,QAAAA,EACAL,KAAAA,EACAqD,OAAAA,EACAhC,aAlBmBkC,OAASnD,QAAAA,MACd+C,EAAA,CACZ/C,QAAAA,IAEE,UACI8C,IACNF,EAAOQ,KAAK,CACVC,KAAM,gDAAA,MAEDC,UArDN/B,EAAA,CAAAQ,MAAM,wIADL,MAAAR,EAVI,GAQN,KAAAM,EAAA,GAAA0B,EAAA,MAAA,CAAAxB,MAAA,oBAAA,CANAwB,EAAiB,MAAA,CACjBC,UAAgC,QAChCzB,MAA0C,2BAC1C0B,ICPO,0CDQPC,IAAA,qBACAC,WAAA,iDAECJ,EAAyB,IAAA,CAACI,WAAU,4BAA2E,iFAEpH,MAMiB,MAAAC,EAAA,GAJIC,EAAS,CACzB1D,SAAU,GAAAwB,EAAAsB,OAAAa,SACVlE,KAAA+B,EAAgB/B,KAChBK,UAAoBA,2DAUjB,UAAA,eADH,KAAA4B,EAAA,GAAA0B,EAAA,MAAA,CAAAxB,MAAA,oBAAA,CALCwB,EAA+F,IAAA,CAC/FxB,MAAuC,0FACvCgC,KAAM,mCACNC,OAAyB,aACQ"}