{"version":3,"file":"FilterDropdown.948b9e48.js","sources":["../../src/components/FilterDropdown.vue"],"sourcesContent":["<template>\n  <BDropdown @collapse=\"$emit('collapse', $event)\" :min-width=\"200\">\n    <Button color=\"white\">\n      <span class=\"text-grey-03\">\n        <i class=\"material-symbols-outlined\"> filter_alt </i>\n        Filters\n        <i class=\"material-icons\"> arrow_drop_down </i>\n      </span>\n    </Button>\n    <template #dropdown=\"{ addChild, removeChild, collapse: parentCollapse }\">\n      <div class=\"filter-dropdown\">\n        <template v-for=\"filter in filters\" :key=\"filter.key\">\n          <BDropdown\n            @mounted=\"addChild\"\n            @unmounted=\"removeChild\"\n            right\n            block\n            :expand-on-hover=\"expandOnHover\"\n            :loading=\"filter.loading\"\n            :offset=\"10\"\n            :max-height=\"540\"\n            :min-height=\"80\"\n            :disabled=\"filter.hoverDisabled\"\n          >\n            <a\n              href=\"\"\n              @click.prevent=\"$emit('itemClick', filter)\"\n              @mouseenter=\"$emit('itemHover', filter)\"\n              class=\"filter-dropdown__item\"\n            >\n              <slot v-bind=\"{ item: filter }\" name=\"label\">\n                <span>{{ filter.name }}</span>\n              </slot>\n              <i class=\"filter-dropdown__item-icon material-icons\"\n                >chevron_right</i\n              >\n            </a>\n            <template #dropdown=\"{ collapse }\">\n              <slot v-bind=\"{ filter, collapse }\" name=\"dropdown\"></slot>\n            </template>\n          </BDropdown>\n        </template>\n        <div class=\"filter-dropdown__append\">\n          <slot name=\"append\">\n            <div class=\"py-2 px-6 border-t border-grey-01\">\n              <Button\n                :loading=\"loading\"\n                @click=\"\n                  () => {\n                    applyFilter()\n                    parentCollapse()\n                  }\n                \"\n                class=\"my-2\"\n                dense\n                color=\"teal\"\n                block\n              >\n                Apply\n              </Button>\n              <Button\n                @click=\"\n                  () => {\n                    resetFilter()\n                    parentCollapse()\n                  }\n                \"\n                :loading=\"loading\"\n                :disabled=\"resetDisabled\"\n                class=\"my-2\"\n                dense\n                color=\"teal\"\n                view=\"outlined\"\n                block\n              >\n                Reset\n              </Button>\n            </div>\n          </slot>\n        </div>\n      </div>\n    </template>\n  </BDropdown>\n</template>\n<script>\nimport { computed, defineComponent } from 'vue'\nimport BDropdown from 'components/BDropdown/BDropdown.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport { isFunction } from 'utils/is'\n\nexport default defineComponent({\n  name: 'OfferFilterDropdown',\n  components: {\n    BDropdown,\n    Button\n  },\n  props: {\n    itemKey: {\n      type: String,\n      default: 'key'\n    },\n    itemName: {\n      type: String,\n      default: 'name'\n    },\n    itemLoading: {\n      type: Function,\n      default: () => false\n    },\n    itemDisableHover: {\n      type: Function,\n      default: () => false\n    },\n    filters: {\n      type: Array,\n      default: () => []\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    resetDisabled: {\n      type: Boolean,\n      default: false\n    },\n    expandOnHover: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: ['applyFilter', 'resetFilter', 'itemClick', 'collapse', 'itemHover'],\n  setup(props, { emit }) {\n    const filters = computed(() =>\n      props.filters\n        .map((item) => ({\n          key: item[props.itemKey],\n          name: item[props.itemName],\n          loading:\n            (isFunction(props.itemLoading) && props.itemLoading(item)) || false,\n          hoverDisabled:\n            (isFunction(props.itemDisableHover) &&\n              props.itemDisableHover(item)) ||\n            false,\n          meta: item\n        }))\n        .filter((item) => item.key && item.name)\n    )\n    const applyFilter = () => {\n      emit('applyFilter', true)\n    }\n    const resetFilter = () => {\n      emit('resetFilter', true)\n    }\n    return {\n      filters,\n      applyFilter,\n      resetFilter\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.filter-dropdown {\n  @apply flex flex-wrap flex-col;\n  &__item {\n    @apply flex flex-wrap items-center justify-between px-6 py-2 block hover:bg-grey-lighten;\n  }\n\n  &__item-icon {\n    @apply ml-4;\n  }\n}\n\n.material-symbols-outlined {\n  font-variation-settings:\n    'FILL' 0,\n    'wght' 400,\n    'GRAD' 0,\n    'opsz' 24 !important;\n}\n</style>"],"names":["_sfc_main","defineComponent","name","components","BDropdown","Button","props","itemKey","type","String","default","itemName","itemLoading","Function","itemDisableHover","filters","Array","loading","Boolean","resetDisabled","expandOnHover","emits","setup","emit","computed","map","item","key","isFunction","hoverDisabled","meta","filter","applyFilter","resetFilter","_hoisted_2","_hoisted_3","class","_openBlock","_createBlock","_component_BDropdown","onCollapse","_cache","$event","_ctx","$emit","dropdown","_withCtx","addChild","removeChild","collapse","parentCollapse","_hoisted_1","_Fragment","_renderList","onMounted","onUnmounted","right","block","expand-on-hover","offset","max-height","min-height","_createElementVNode","href","onClick","_withModifiers","onMouseenter","$slots","_mergeProps","ref_for","_renderSlot","_hoisted_4","_createVNode","_component_Button","dense","color","disabled","view","_createTextVNode"],"mappings":"uPA0FA,MAAKA,EAAaC,EAAa,CAC7BC,KAAM,sBACNC,WAAY,CACVC,UAAAA,SACAC,GAEFC,MAAO,CACLC,QAAS,CACPC,KAAMC,OACNC,QAAS,OAEXC,SAAU,CACRH,KAAMC,OACNC,QAAS,QAEXE,YAAa,CACXJ,KAAMK,SACNH,QAAS,KAAM,GAEjBI,iBAAkB,CAChBN,KAAMK,SACNH,QAAS,KAAM,GAEjBK,QAAS,CACPP,KAAMQ,MACNN,QAAS,IAAM,IAEjBO,QAAS,CACPT,KAAMU,QACNR,SAAS,GAEXS,cAAe,CACbX,KAAMU,QACNR,SAAS,GAEXU,cAAe,CACbZ,KAAMU,QACNR,SAAS,IAGbW,MAAO,CAAC,cAAe,cAAe,YAAa,WAAY,aAC/DC,MAAA,CAAMhB,GAAOiB,KAAEA,MAsBN,CACLR,QAtBcS,GAAS,IACvBlB,EAAMS,QACHU,KAAKC,IAAU,CACdC,IAAKD,EAAKpB,EAAMC,SAChBL,KAAMwB,EAAKpB,EAAMK,UACjBM,QACGW,EAAWtB,EAAMM,cAAgBN,EAAMM,YAAYc,KAAU,EAChEG,cACGD,EAAWtB,EAAMQ,mBAChBR,EAAMQ,iBAAiBY,KACzB,EACFI,KAAMJ,MAEPK,QAAQL,GAASA,EAAKC,KAAOD,EAAKxB,SAUrC8B,YARkB,KAClBT,EAAK,eAAe,IAQpBU,YANkB,KAClBV,EAAK,eAAe,oCA7GbW,EAAA,CAAA,UAA+B,gBAE3BC,EAAA,CAAAC,MAAM,yJA3CDC,OAAAA,IAAAC,EAAAC,EAAO,CAAuBC,aAAc,KAAAC,EAAA,GAAAC,GAAAC,EAAAC,MAAA,WAAAF,qBAQnD,CACTG,SAAAC,GAAA,EAsEMC,SAAAA,EAAAC,YAAAA,EAAAC,SAAAC,KAAA,SAvCOC,EAAA,UADGC,EAAA,KAAAC,EAAAV,EAAA5B,SAAAgB,IA7B4BM,IAAUC,EAAAC,EAAA,CAE/CZ,IAAAI,EAAiBJ,IACjB2B,UAASP,EACVQ,YAAKP,EACLQ,MAAA,GACCC,MAAA,GACAC,kBAAuBf,EAAAvB,cACvBH,QAAUc,EAAAd,QACV0C,OAAA,GACAC,aAAY,IACZC,aAAgB,6BAeE,CACjBhB,SAAAC,GAAA,EAAAG,SAAAA,KAAA,mFAFEH,GAAA,IAAA,CAXFgB,EAAO,IAAA,CACNC,KAAK,GACLC,QAAUC,GAAAvB,GAAOC,EAAAC,MAAA,YAAoBb,IAAA,CAAA,YACtCmC,aAA6BxB,GAAAC,EAAAC,MAAA,YAAAb,kCAE7B,GACgCY,EAAAwB,OAAA,QAAAC,EAAA,CAAAC,SAAf,GAAK,CAAA3C,KAAAK,KAAA,IAAA,+BAEtB,yLASN,MACE+B,WACEQ,EAAA3B,EAAAwB,gBAiCM,IAAA,IAAA,GAlBK,MAAAI,EAAA,CAbNC,EAAgBC,EAAA,CAChBxD,QAAK0B,EAAA1B,qBAAiG0B,EAAAX,mBAOvGI,MAAA,OACAsC,MAAM,GACNC,MAAA,iCAGFlC,EAAA,OAAA,GAAA,uBAiBS,KAAA,CAAA,UAAA,cAfDgC,EAAA,cAAiG9B,EAAAV,mBAOtGhB,UAAuBA,QACxB2D,SAAYjC,EAAAxB,cACZiB,MAAA,OACAsC,MAAM,GACNC,MAAe,OACfE,0CAGFpC,EAAA,OAAA,GAAA,qFApEDK,GAAA,IAAA,KADA,CAAA6B,MAAA,SAAA,SAAA7B,GAAA,IAAAL,EAAA,OAJmB,GAAA,CACxBqB,EAAA,OAAG,CAAA1B,MAAM,gBAAA,GAET,IAAA,CAAAA,MAAA,6BAAA,gBAAA0C,EAAA"}