{"version":3,"file":"index.967c7561.js","sources":["../../src/components/OffersSettings/Prefix/index.vue","../../src/components/OffersSettings/PriceLock/index.vue","../../src/components/OffersSettings/AutoAccept/index.vue","../../src/components/OffersSettings/ImeiSn/index.vue","../../src/components/OffersSettings/ConfirmationMessage/CustomModal/index.vue","../../src/components/OffersSettings/ConfirmationMessage/index.vue","../../src/components/OffersSettings/LeadBooster/index.vue","../../src/views/setting/offers-settings/index.vue","../../src/components/OffersSettings/LimtItems/index.vue","../../src/views/setting/offers-settings/index.js"],"sourcesContent":["<template>\n\t<div class=\"flex gap-4\">\n\t\t<Input\n\t\t\tv-maska=\"'S*'\"\n\t\t\tv-model=\"form.prefix\"\n\t\t\tv-loading=\"loading?.all\"\n\t\t\t:disabled=\"loading?.update\"\n\t\t\t:view=\"(validation.prefix.$invalid && 'danger') || 'default'\"\n\t\t\tautocomplete=\"off\"\n\t\t\tlabel=\"Buyback Prefix\"\n\t\t\tclass=\"w-full\"\n\t\t\ticon\n\t\t\ticon-block\n\t\t\tright>\n\t\t\t<template #icon>\n\t\t\t\t<span class=\"text-base\">{{ preview }}</span>\n\t\t\t</template>\n\t\t</Input>\n\t</div>\n\t<div v-if=\"validation.prefix.$invalid\" class=\"mt-2\">\n\t\t<small\n\t\t\tclass=\"text-red-base block\"\n\t\t\tv-for=\"(error, errorIndex) of validation.prefix.$errors\"\n\t\t\t:key=\"errorIndex\">\n\t\t\t{{ error.$message }}.\n\t\t</small>\n\t</div>\n</template>\n\n<script>\nimport { defineComponent, reactive, computed, watch } from 'vue'\nimport { useVuelidate } from '@vuelidate/core'\nimport { required } from '@vuelidate/validators'\nimport Input from 'bbUi/components/input/input.vue'\n\nexport default defineComponent({\n\tcomponents: {\n\t\tInput\n\t},\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t},\n\t\tstaticData: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t},\n\t\tloading: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t}\n\t},\n\temits: ['update'],\n\tsetup(props, { emit }) {\n\t\tconst form = reactive({\n\t\t\tprefix: props.data?.prefix_order_number_sequence || ''\n\t\t})\n\t\tconst preview = computed(() => (form.prefix && `${form.prefix}0X8R1`) || '0X8R1')\n\t\tconst rules = {\n\t\t\tprefix: { required }\n\t\t}\n\t\tconst validation = useVuelidate(rules, form, { $lazy: true })\n\t\twatch(\n\t\t\t() => props.data?.prefix_order_number_sequence,\n\t\t\tval => {\n\t\t\t\tif (val !== undefined) {\n\t\t\t\t\tform.prefix = val\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ immediate: true }\n\t\t)\n\t\tconst handleSave = async () => {\n\t\t\tawait validation.value.$validate()\n\t\t\tif (!validation.value.$invalid) {\n\t\t\t\temit('update:data', {\n\t\t\t\t\tprefix_order_number_sequence: form.prefix\n\t\t\t\t})\n\t\t\t\treturn true\n\t\t\t}\n\t\t\treturn false\n\t\t}\n\t\tconst exposed = {\n\t\t\thandleSave\n\t\t}\n\t\treturn {\n\t\t\tform,\n\t\t\tpreview,\n\t\t\tvalidation,\n\t\t\thandleSave,\n\t\t\t...exposed\n\t\t}\n\t}\n})\n</script>","<template>\n\t<div class=\"flex-col\">\n\t\t<div class=\"flex gap-4\">\n\t\t\t<label>Price Lock</label>\n\t\t\t<Tooltip placement=\"top\">\n\t\t\t\t<i class=\"material-icons mr-2\">info</i>\n\t\t\t\t<template #content width=\"10\">\n\t\t\t\t\t<div class=\"w-80\">\n\t\t\t\t\t\tControl the offer lifespan. Set the duration your buyback offer remains valid. After\n\t\t\t\t\t\t[number] days, any unused offers will automatically expire.\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</Tooltip>\n\t\t</div>\n\t\t<Input\n\t\t\tv-model=\"form.expDays\"\n\t\t\t:disabled=\"loading.update || loading.all\"\n\t\t\t:view=\"(validation.expDays.$invalid && 'danger') || 'default'\"\n\t\t\tclass=\"w-full input-left-aligned\"\n\t\t\ttype=\"number\"\n\t\t\t:max=\"90\"\n\t\t\ticon\n\t\t\ticon-block\n\t\t\tright\n\t\t\tautocomplete=\"off\">\n\t\t\t<template #icon>\n\t\t\t\t<span class=\"text-base\">/days</span>\n\t\t\t</template>\n\t\t</Input>\n\n\t\t<small\n\t\t\tclass=\"text-red-base block\"\n\t\t\tv-for=\"(error, errorIndex) of validation.expDays.$errors\"\n\t\t\t:key=\"errorIndex\">\n\t\t\t{{ error.$message }}.\n\t\t</small>\n\n\t\t<small class=\"block mt-2\">\n\t\t\t<span class=\"font-semibold\">Max Day</span>\n\t\t\t: 90 days\n\t\t</small>\n\t</div>\n</template>\n\n<script>\nimport { defineComponent, reactive, watch, onMounted } from 'vue'\nimport { useVuelidate } from '@vuelidate/core'\nimport { minValue, maxValue, required } from '@vuelidate/validators'\nimport Input from 'bbUi/components/input/input.vue'\n\nexport default defineComponent({\n\tname: 'PriceLock',\n\tcomponents: {\n\t\tInput\n\t},\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t},\n\t\tstaticData: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t},\n\t\tloading: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t}\n\t},\n\tsetup(props) {\n\t\tconst form = reactive({\n\t\t\texpDays: ''\n\t\t})\n\t\tconst rules = {\n\t\t\texpDays: {\n\t\t\t\trequired,\n\t\t\t\tminValue: minValue(1),\n\t\t\t\tmaxValue: maxValue(90),\n\t\t\t\tisValidNumber: value => {\n\t\t\t\t\tif (!value || value === '') return false\n\t\t\t\t\tconst num = parseInt(value)\n\t\t\t\t\treturn !isNaN(num) && num > 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst validation = useVuelidate(rules, form, {\n\t\t\t$lazy: true\n\t\t})\n\t\tconst initializeForm = () => {\n\t\t\tif (props.data?.exp_days_pricelock !== undefined) {\n\t\t\t\tform.expDays = props.data.exp_days_pricelock\n\t\t\t}\n\t\t}\n\t\tconst handleSave = async () => {\n\t\t\ttry {\n\t\t\t\tawait validation.value.$validate()\n\n\t\t\t\tif (validation.value.$invalid) {\n\t\t\t\t\tconsole.error('PriceLock validation failed:', validation.value.$errors)\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif (props.data) {\n\t\t\t\t\tprops.data.exp_days_pricelock = form.expDays\n\t\t\t\t}\n\n\t\t\t\treturn true\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error saving PriceLock:', error)\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\twatch(\n\t\t\t() => props.data?.exp_days_pricelock,\n\t\t\tnewVal => {\n\t\t\t\tif (newVal !== undefined && newVal !== form.expDays) {\n\t\t\t\t\tform.expDays = newVal\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ immediate: true }\n\t\t)\n\t\twatch(\n\t\t\t() => form.expDays,\n\t\t\tnewVal => {\n\t\t\t\tif (newVal !== null && newVal !== undefined && props.data) {\n\t\t\t\t\tif (newVal !== props.data.exp_days_pricelock) {\n\t\t\t\t\t\tprops.data.exp_days_pricelock = newVal\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t\tonMounted(() => {\n\t\t\tinitializeForm()\n\t\t})\n\n\t\treturn {\n\t\t\tform,\n\t\t\tvalidation,\n\t\t\thandleSave\n\t\t}\n\t}\n})\n</script>\n\n<style scoped>\n.input-left-aligned :deep(input) {\n\ttext-align: left !important;\n}\n</style>","<template>\n  <div class=\"rounded-xl border-grey-01 border p-6\">\n    <div class=\"flex flex-col gap-4\">\n      <div class=\"flex items-center gap-2\">\n        <Checkbox\n          v-model=\"form.isAutoAcceptEnabled\"\n          type=\"toggle\"\n          :disabled=\"loading.update || loading.all\"\n        />\n        <label>Auto-Accept Revised Offers</label>\n        <Tooltip placement=\"top\">\n          <i class=\"material-icons mr-2\">info</i>\n          <template #content>\n            <div class=\"w-80\">\n              Specify the number of days after which the system will automatically accept\n              revised offers if the customer doesn't take any action during that period.\n              The offer status will then be updated to 'Seller Acceptedâ€‘Automatically Accepted'.\n            </div>\n          </template>\n        </Tooltip>\n      </div>\n\n      <div v-if=\"form.isAutoAcceptEnabled\">\n        <Input\n          v-model=\"form.expiryDays\"\n          :disabled=\"loading.update || loading.all || !form.isAutoAcceptEnabled\"\n          :view=\"(validation.expiryDays.$invalid && 'danger') || 'default'\"\n          class=\"w-full input-left-aligned\"\n          icon\n          icon-block\n          right\n          type=\"number\"\n          autocomplete=\"off\"\n          @input=\"handleInput\"\n          @change=\"handleBlur\"\n        >\n          <template #icon>\n            <span class=\"text-base\">/days</span>\n          </template>\n        </Input>\n\n        <small\n          class=\"text-red-base block mt-1\"\n          v-for=\"(error, i) in validation.expiryDays.$errors\"\n          :key=\"i\"\n        >\n          {{ error.$message }}.\n        </small>\n\n        <small class=\"mt-2\">\n          <span class=\"font-semibold\">Min Day</span>: 15 days\n        </small>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, watch, onMounted } from 'vue'\nimport { useVuelidate } from '@vuelidate/core'\nimport { requiredIf } from '@vuelidate/validators'\nimport Input from 'bbUi/components/input/input.vue'\nimport Card from 'bbUi/components/card/card.vue'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\n\nexport default defineComponent({\n  name: 'AutoAccept',\n  components: { Input, Card, Checkbox },\n  props: {\n    data: { type: Object, default: () => ({}) },\n    staticData: { type: Object, default: () => ({}) },\n    loading: { type: Object, default: () => ({}) }\n  },\n  setup(props) {\n    const form = reactive({\n      isAutoAcceptEnabled: false,\n      expiryDays: ''\n    })\n\n    const minValueString = (minVal) => (value) => {\n      if (!value && value !== 0) return true\n      const num = parseInt(value, 10)\n      return !isNaN(num) && num >= minVal\n    }\n\n    const isValidNumber = (value) => {\n      if (!value && value !== 0) return true\n      const num = parseInt(value, 10)\n      return !isNaN(num) && num > 0\n    }\n\n    const rules = {\n      expiryDays: {\n        requiredIf: requiredIf(() => form.isAutoAcceptEnabled),\n        isValidNumber,\n        minValue: minValueString(15)\n      }\n    }\n\n    const validation = useVuelidate(rules, form, { $lazy: true })\n\n    const booleanToString = (v) => (v === true || v === '1' ? '1' : '0')\n    const stringToBoolean = (v) => v === '1' || v === true\n\n    const initializeForm = () => {\n      if (props.data?.widget_is_enable_auto_accept !== undefined) {\n        form.isAutoAcceptEnabled = stringToBoolean(\n          props.data.widget_is_enable_auto_accept\n        )\n      }\n      if (props.data?.widget_auto_accept_expiry_days !== undefined) {\n        form.expiryDays = props.data.widget_auto_accept_expiry_days\n          ? String(props.data.widget_auto_accept_expiry_days)\n          : ''\n      }\n    }\n\n    const handleSave = async () => {\n      await validation.value.$validate()\n      if (validation.value.$invalid) return false\n\n      if (props.data) {\n        props.data.widget_is_enable_auto_accept = booleanToString(\n          form.isAutoAcceptEnabled\n        )\n        props.data.widget_auto_accept_expiry_days =\n          form.isAutoAcceptEnabled && form.expiryDays\n            ? String(form.expiryDays)\n            : null\n      }\n      return true\n    }\n\n    const handleInput = async () => {\n      if (props.data && form.isAutoAcceptEnabled) {\n        props.data.widget_auto_accept_expiry_days =\n          form.expiryDays && form.expiryDays.trim() !== '' ? form.expiryDays.trim() : null\n      }\n    }\n    const handleBlur = async () => {\n      if (Number(form.expiryDays) < 15) {\n        form.expiryDays = 15\n        props.data.widget_auto_accept_expiry_days = form.expiryDays\n      }\n    }\n\n    watch(\n      () => [\n        props.data?.widget_is_enable_auto_accept,\n        props.data?.widget_auto_accept_expiry_days\n      ],\n      ([isEnabled, expiry]) => {\n        if (isEnabled !== undefined) {\n          form.isAutoAcceptEnabled = stringToBoolean(isEnabled)\n        }\n        if (expiry !== undefined) {\n          form.expiryDays = expiry ? String(expiry) : ''\n        }\n      },\n      { immediate: true }\n    )\n\n    watch(\n      () => form.isAutoAcceptEnabled,\n      (val) => {\n        if (props.data) {\n          props.data.widget_is_enable_auto_accept = booleanToString(val)\n          if (!val) {\n            form.expiryDays = ''\n            props.data.widget_auto_accept_expiry_days = null\n          } else {\n            // Auto-fill dengan nilai 15 saat diaktifkan\n            if (form.expiryDays === '' || !form.expiryDays) {\n              form.expiryDays = '15'\n              props.data.widget_auto_accept_expiry_days = '15'\n            }\n          }\n        }\n      }\n    )\n\n    onMounted(initializeForm)\n\n    return { form, validation, handleSave, handleInput, handleBlur }\n  }\n})\n</script>\n\n<style scoped>\n.input-left-aligned :deep(input) {\n  text-align: left !important;\n}\n</style>","<template>\n\t<Fieldset class=\"rounded-xl\">\n\t\t<template #label>IMEI/SN Input Section</template>\n\t\t<div class=\"grid grid-cols-1 gap-4\">\n\t\t\t<div class=\"flex items-center\">\n\t\t\t\t<Checkbox\n\t\t\t\t\tid=\"widget_is_enable_imei_input\"\n\t\t\t\t\tv-model=\"localForm.widget_is_enable_imei_input\"\n\t\t\t\t\t:loading=\"loading.all\"\n\t\t\t\t\t:disabled=\"loading.update || disabledImei\"\n\t\t\t\t\ttype=\"toggle\"\n\t\t\t\t\t:value=\"'1'\"\n\t\t\t\t\t:value-off=\"'0'\"\n\t\t\t\t\t@update:modelValue=\"updateParent\">\n\t\t\t\t\tIMEI/SN Input Section\n\t\t\t\t</Checkbox>\n\t\t\t\t<Tooltip placement=\"top\">\n\t\t\t\t\t<template #content>\n\t\t\t\t\t\t<div class=\"w-80\">\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\tdisabledImei\n\t\t\t\t\t\t\t\t\t? 'IMEI/SN settings are only available for electronics. Please enable electronics in your catalog to modify this setting.'\n\t\t\t\t\t\t\t\t\t: 'This setting applies only to electronics and products with IMEI/SN. If no electronics are enabled in the catalog, this setting will be disabled.'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template #default>\n\t\t\t\t\t\t<i class=\"material-icons\">info</i>\n\t\t\t\t\t</template>\n\t\t\t\t</Tooltip>\n\t\t\t</div>\n\t\t\t<div class=\"ml-8\" v-if=\"localForm.widget_is_enable_imei_input == '1'\">\n\t\t\t\t<Checkbox\n\t\t\t\t\tv-model=\"localForm.widget_is_enable_imei_ins_msg\"\n\t\t\t\t\t:loading=\"loading.all\"\n\t\t\t\t\t:disabled=\"loading.update\"\n\t\t\t\t\ttype=\"toggle\"\n\t\t\t\t\t:value=\"'1'\"\n\t\t\t\t\t:value-off=\"'0'\"\n\t\t\t\t\t@update:modelValue=\"updateParent\">\n\t\t\t\t\tInstructional Message\n\t\t\t\t</Checkbox>\n\t\t\t\t<template v-if=\"localForm.widget_is_enable_imei_ins_msg == '1'\">\n\t\t\t\t\t<div class=\"mt-4\">\n\t\t\t\t\t\t<label class=\"text-sm font-semibold block\">Text for Checkout Page Section</label>\n\t\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t\tref=\"refTextEditor\"\n\t\t\t\t\t\t\tv-model=\"localForm.widget_imei_ins_msg\"\n\t\t\t\t\t\t\t:options=\"ckeditor\"\n\t\t\t\t\t\t\t:toolbarItems=\"toolbarItems\"\n\t\t\t\t\t\t\t@update:modelValue=\"updateParent\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"mt-4\">\n\t\t\t\t\t\t<label class=\"text-sm font-semibold block\">Icon</label>\n\t\t\t\t\t\t<div class=\"w-full grid grid-cols-6 gap-6 mt-4\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tv-for=\"option in iconOptions\"\n\t\t\t\t\t\t\t\t:key=\"option.value\"\n\t\t\t\t\t\t\t\tclass=\"p-2 rounded-xl\"\n\t\t\t\t\t\t\t\t:class=\"\n\t\t\t\t\t\t\t\t\tlocalForm.widget_imei_icon_selected === option.value\n\t\t\t\t\t\t\t\t\t\t? 'border-4 border-teal-04'\n\t\t\t\t\t\t\t\t\t\t: 'border border-grey-01'\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t@click.prevent=\"selectIcon(option.value)\"\n\t\t\t\t\t\t\t\t:disabled=\"loading.update\">\n\t\t\t\t\t\t\t\t<img class=\"mx-auto\" :src=\"option.icon\" :alt=\"option.icon\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t</Fieldset>\n</template>\n\n<script>\nimport { computed, defineComponent, reactive, ref, watch, nextTick } from 'vue'\nimport Fieldset from 'bbUi/components/fieldset/fieldset.vue'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\nimport { Editor as ClassicEditor } from '@erdeprsty/ckeditor5-custom-build'\nimport TextEditor from 'components/TextEditor.vue'\n\nexport default defineComponent({\n\tcomponents: {\n\t\tFieldset,\n\t\tCheckbox,\n\t\tTextEditor\n\t},\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tstaticData: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t},\n\t\tloading: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t}\n\t},\n\tsetup(props, { expose }) {\n\t\tconst iconOptions = [\n\t\t\t{\n\t\t\t\ticon: 'https://d18hvo5uozp8li.cloudfront.net/public/images/electric_bolt.svg',\n\t\t\t\tvalue: 'https://d18hvo5uozp8li.cloudfront.net/public/images/electric_bolt.svg'\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'https://d18hvo5uozp8li.cloudfront.net/public/images/speed.svg',\n\t\t\t\tvalue: 'https://d18hvo5uozp8li.cloudfront.net/public/images/speed.svg'\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'https://d18hvo5uozp8li.cloudfront.net/public/images/quickreply.svg',\n\t\t\t\tvalue: 'https://d18hvo5uozp8li.cloudfront.net/public/images/quickreply.svg'\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'https://d18hvo5uozp8li.cloudfront.net/public/images/warning-icon.svg',\n\t\t\t\tvalue: 'https://d18hvo5uozp8li.cloudfront.net/public/images/warning-icon.svg'\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'https://d18hvo5uozp8li.cloudfront.net/public/images/chat_bubble_outline.svg',\n\t\t\t\tvalue: 'https://d18hvo5uozp8li.cloudfront.net/public/images/chat_bubble_outline.svg'\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'https://d18hvo5uozp8li.cloudfront.net/public/images/motion_photos_off.svg',\n\t\t\t\tvalue: ''\n\t\t\t}\n\t\t]\n\n\t\tconst refTextEditor = ref(null)\n\t\tconst ckeditor = reactive({\n\t\t\teditor: ClassicEditor,\n\t\t\tconfig: {\n\t\t\t\thtmlSupport: {\n\t\t\t\t\tallow: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstyles: true,\n\t\t\t\t\t\t\tclasses: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\tconst toolbarItems = [\n\t\t\t'undo',\n\t\t\t'redo',\n\t\t\t'link',\n\t\t\t'horizontalLine',\n\t\t\t'specialCharacters',\n\t\t\t'heading',\n\t\t\t'|',\n\t\t\t'bold',\n\t\t\t'italic',\n\t\t\t'underline',\n\t\t\t'strikethrough',\n\t\t\t{\n\t\t\t\tlabel: 'Basic styles',\n\t\t\t\ticon: 'text',\n\t\t\t\titems: [\n\t\t\t\t\t'fontSize',\n\t\t\t\t\t'fontFamily',\n\t\t\t\t\t'fontColor',\n\t\t\t\t\t'fontBackgroundColor',\n\t\t\t\t\t'highlight',\n\t\t\t\t\t'superscript',\n\t\t\t\t\t'subscript',\n\t\t\t\t\t'code',\n\t\t\t\t\t'|',\n\t\t\t\t\t'textPartLanguage',\n\t\t\t\t\t'|'\n\t\t\t\t]\n\t\t\t},\n\t\t\t'removeFormat',\n\t\t\t'|',\n\t\t\t'alignment',\n\t\t\t'|',\n\t\t\t'bulletedList',\n\t\t\t'numberedList',\n\t\t\t'|',\n\t\t\t'outdent',\n\t\t\t'indent'\n\t\t]\n\n\t\tconst disabledImei = computed(() => props.data.widget_auto_disabled_imei)\n\t\tconst localForm = reactive({\n\t\t\twidget_is_enable_imei_input: props.data.widget_is_enable_imei_input || '0',\n\t\t\twidget_is_enable_imei_ins_msg: props.data.widget_is_enable_imei_ins_msg || '0',\n\t\t\twidget_imei_ins_msg: props.data.widget_imei_ins_msg || '',\n\t\t\twidget_imei_icon_selected: props.data.widget_imei_icon_selected || ''\n\t\t})\n\t\tconst updateParent = () => {\n\t\t\tnextTick(() => {\n\t\t\t\tObject.keys(localForm).forEach(key => {\n\t\t\t\t\tprops.data[key] = localForm[key]\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\tconst selectIcon = value => {\n\t\t\tlocalForm.widget_imei_icon_selected = value\n\t\t\tupdateParent()\n\t\t}\n\t\tconst handleSave = async () => {\n\t\t\ttry {\n\t\t\t\tObject.keys(localForm).forEach(key => {\n\t\t\t\t\tprops.data[key] = localForm[key]\n\t\t\t\t})\n\t\t\t\treturn true\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error saving IMEI settings:', error)\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\twatch(\n\t\t\t() => props.data,\n\t\t\tnewData => {\n\t\t\t\tif (newData) {\n\t\t\t\t\tlocalForm.widget_is_enable_imei_input = newData.widget_is_enable_imei_input || '0'\n\t\t\t\t\tlocalForm.widget_is_enable_imei_ins_msg = newData.widget_is_enable_imei_ins_msg || '0'\n\t\t\t\t\tlocalForm.widget_imei_ins_msg = newData.widget_imei_ins_msg || ''\n\t\t\t\t\tlocalForm.widget_imei_icon_selected = newData.widget_imei_icon_selected || ''\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ immediate: true, deep: true }\n\t\t)\n\t\texpose({\n\t\t\thandleSave\n\t\t})\n\t\treturn {\n\t\t\ticonOptions,\n\t\t\tlocalForm,\n\t\t\tselectIcon,\n\t\t\thandleSave,\n\t\t\tckeditor,\n\t\t\trefTextEditor,\n\t\t\tdisabledImei,\n\t\t\ttoolbarItems,\n\t\t\tupdateParent\n\t\t}\n\t}\n})\n</script>\n\n<style scoped>\n.ck-editor__editable {\n\tmin-height: 150px;\n\theight: 150px;\n}\n</style>\n","<template>\n\t<Teleport to=\"body\">\n\t\t<Modal\n\t\t\tv-model=\"customModal\"\n\t\t\ttitle=\"Custom Purchasing Method\"\n\t\t\tsize=\"sm\"\n\t\t\t@close=\"handleCloseModal\">\n\t\t\t<form v-loading=\"loadingCustom\" class=\"mt-6 space-y-4\" @submit.prevent=\"handleSubmit\">\n\t\t\t\t<div>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tv-model=\"dataCustom.title\"\n\t\t\t\t\t\tname=\"widget-purchase-custom-title\"\n\t\t\t\t\t\tid=\"widgetPurchaseCustomTitle\"\n\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\tblock />\n\t\t\t\t\t<small\n\t\t\t\t\t\tv-for=\"(error, errorIndex) of validation.title.$errors\"\n\t\t\t\t\t\t:key=\"errorIndex\"\n\t\t\t\t\t\tclass=\"mt-2 text-red-base block\">\n\t\t\t\t\t\t{{ error.$message }}.\n\t\t\t\t\t</small>\n\t\t\t\t\t<small v-if=\"!validation.title.$errors.length\" class=\"text-grey-02\">\n\t\t\t\t\t\tMaximal 32 characters\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tv-model=\"dataCustom.description\"\n\t\t\t\t\t\tname=\"widget-purchase-custom-description\"\n\t\t\t\t\t\tid=\"widgetPurchaseCustomDescription\"\n\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\tblock />\n\t\t\t\t\t<small\n\t\t\t\t\t\tv-for=\"(error, errorIndex) of validation.description.$errors\"\n\t\t\t\t\t\t:key=\"errorIndex\"\n\t\t\t\t\t\tclass=\"mt-2 text-red-base block\">\n\t\t\t\t\t\t{{ error.$message }}.\n\t\t\t\t\t</small>\n\t\t\t\t\t<small v-if=\"!validation.description.$errors.length\" class=\"text-grey-02\">\n\t\t\t\t\t\tMaximal 80 characters\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tv-model=\"dataCustom.hyperlink\"\n\t\t\t\t\t\tname=\"widget-purchase-custom-hyperlink\"\n\t\t\t\t\t\tid=\"widgetPurchaseCustomHyperlink\"\n\t\t\t\t\t\tlabel=\"Hyperlink\"\n\t\t\t\t\t\tblock />\n\t\t\t\t\t<small\n\t\t\t\t\t\tv-for=\"(error, errorIndex) of validation.hyperlink.$errors\"\n\t\t\t\t\t\t:key=\"errorIndex\"\n\t\t\t\t\t\tclass=\"mt-2 text-red-base block\">\n\t\t\t\t\t\t{{ error.$message }}.\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<Fieldset class=\"rounded-md\">\n\t\t\t\t\t<template #label>Upload Icon</template>\n\t\t\t\t\t<template #default>\n\t\t\t\t\t\t<div class=\"max-w-md\">\n\t\t\t\t\t\t\t<InputFile preview :file=\"dataCustom.icon\" :action=\"false\" @input=\"handleFile\">\n\t\t\t\t\t\t\t\t<template #description>\n\t\t\t\t\t\t\t\t\t<small\n\t\t\t\t\t\t\t\t\t\tv-for=\"(error, errorIndex) of validation.icon.$errors\"\n\t\t\t\t\t\t\t\t\t\t:key=\"errorIndex\"\n\t\t\t\t\t\t\t\t\t\tclass=\"mt-2 text-red-base block\">\n\t\t\t\t\t\t\t\t\t\t{{ error.$message }}.\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t<small v-if=\"!validation.icon.$errors\">\n\t\t\t\t\t\t\t\t\t\t<b>Suggested</b>\n\t\t\t\t\t\t\t\t\t\t: 96x96px ;\n\t\t\t\t\t\t\t\t\t\t<b>File</b>\n\t\t\t\t\t\t\t\t\t\t: PNG, JPG, JPEG, WEBP ;\n\t\t\t\t\t\t\t\t\t\t<b>Max</b>\n\t\t\t\t\t\t\t\t\t\t250KB\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</InputFile>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</Fieldset>\n\t\t\t</form>\n\t\t\t<template #footer>\n\t\t\t\t<div class=\"flex items-center justify-end\">\n\t\t\t\t\t<Button color=\"teal\" :loading=\"loadingCustom\" @click=\"handleSubmit\">Save Changes</Button>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</Modal>\n\t</Teleport>\n</template>\n\n<script>\nimport { defineComponent, ref, reactive, computed, watch } from 'vue'\nimport { useVuelidate } from '@vuelidate/core'\nimport { required, maxLength, url, fileSize } from '@/validations/index'\nimport { useWidgetCustomButton } from 'composable/setting'\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Fieldset from 'bbUi/components/fieldset/fieldset.vue'\nimport InputFile from 'components/InputFile.vue'\n\nexport default defineComponent({\n\tcomponents: {\n\t\tModal,\n\t\tInput,\n\t\tButton,\n\t\tFieldset,\n\t\tInputFile\n\t},\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tinitialData: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({\n\t\t\t\ttitle: '',\n\t\t\t\tdescription: '',\n\t\t\t\thyperlink: '',\n\t\t\t\ticon: null\n\t\t\t})\n\t\t}\n\t},\n\temits: ['update:modelValue', 'saved'],\n\tsetup(props, { emit }) {\n\t\tconst {\n\t\t\tdata: dataCustom,\n\t\t\tshow: handleShow,\n\t\t\tupdate: handleUpdate,\n\t\t\tloading: loadingCustom\n\t\t} = useWidgetCustomButton()\n\t\tconst rulesForm = {\n\t\t\ttitle: { required, maxLength: maxLength(32) },\n\t\t\tdescription: { required, maxLength: maxLength(80) },\n\t\t\thyperlink: { required, url },\n\t\t\ticon: { required, fileSize }\n\t\t}\n\t\tconst initializeFormData = () => {\n\t\t\tif (props.initialData && Object.keys(props.initialData).length > 0) {\n\t\t\t\tdataCustom.value = {\n\t\t\t\t\ttitle: props.initialData.title || '',\n\t\t\t\t\tdescription: props.initialData.description || '',\n\t\t\t\t\thyperlink: props.initialData.hyperlink || '',\n\t\t\t\t\ticon: props.initialData.icon || null\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst validation = useVuelidate(rulesForm, dataCustom, {\n\t\t\t$lazy: true\n\t\t})\n\t\tconst customModal = computed({\n\t\t\tget: () => props.modelValue,\n\t\t\tset: value => emit('update:modelValue', value)\n\t\t})\n\t\twatch(\n\t\t\t() => props.modelValue,\n\t\t\tasync (newValue, oldValue) => {\n\t\t\t\tif (newValue && !oldValue) {\n\t\t\t\t\tvalidation.value.$reset()\n\t\t\t\t\tawait handleOpenModal()\n\t\t\t\t} else if (!newValue && oldValue) {\n\t\t\t\t\thandleCloseModal()\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t\twatch(\n\t\t\t() => props.initialData,\n\t\t\t() => {\n\t\t\t\tif (props.modelValue) {\n\t\t\t\t\tinitializeFormData()\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ deep: true }\n\t\t)\n\t\tconst handleOpenModal = async () => {\n\t\t\ttry {\n\t\t\t\tconsole.log('Opening modal with data:', props.initialData)\n\t\t\t\tif (\n\t\t\t\t\tprops.initialData &&\n\t\t\t\t\tObject.keys(props.initialData).some(key => props.initialData[key])\n\t\t\t\t) {\n\t\t\t\t\tdataCustom.value = { ...props.initialData }\n\t\t\t\t} else {\n\t\t\t\t\tawait handleShow()\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error opening modal:', error)\n\t\t\t}\n\t\t}\n\t\tconst handleCloseModal = () => {\n\t\t\tvalidation.value.$reset()\n\t\t\temit('update:modelValue', false)\n\t\t}\n\t\tconst handleFile = file => {\n\t\t\tdataCustom.value.icon = file\n\t\t}\n\t\tconst handleSubmit = async () => {\n\t\t\ttry {\n\t\t\t\tawait validation.value.$validate()\n\n\t\t\t\tif (!validation.value.$invalid) {\n\t\t\t\t\tawait handleUpdate(() => {\n\t\t\t\t\t\temit('saved', dataCustom.value)\n\t\t\t\t\t\temit('update:modelValue', false)\n\t\t\t\t\t})\n\t\t\t\t\tvalidation.value.$reset()\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error saving custom purchasing method:', error)\n\t\t\t}\n\t\t}\n\t\tinitializeFormData()\n\n\t\treturn {\n\t\t\tcustomModal,\n\t\t\tdataCustom,\n\t\t\tvalidation,\n\t\t\tloadingCustom,\n\t\t\thandleOpenModal,\n\t\t\thandleCloseModal,\n\t\t\thandleFile,\n\t\t\thandleSubmit\n\t\t}\n\t}\n})\n</script>\n","<template>\n\t<Fieldset class=\"mb-6 rounded-xl block\">\n\t\t<template #label>Confirmation Message</template>\n\t\t<template #default>\n\t\t\t<Table v-if=\"hasTableData\" :data=\"tableData\">\n\t\t\t\t<TableColumn label=\"Purchasing Method\" align=\"center\">\n\t\t\t\t\t<template #default=\"scope\">\n\t\t\t\t\t\t<div class=\"flex items-center gap-x-3\">\n\t\t\t\t\t\t\t<Tooltip v-if=\"checkboxConfig[scope.row.key]?.needsTooltip\" placement=\"top\">\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t:id=\"`purchasing_${scope.row.key}`\"\n\t\t\t\t\t\t\t\t\ttype=\"toggle\"\n\t\t\t\t\t\t\t\t\tv-model=\"scope.row.enabled\"\n\t\t\t\t\t\t\t\t\t:disabled=\"scope.row.disabled || loading.update\"\n\t\t\t\t\t\t\t\t\t:value=\"true\"\n\t\t\t\t\t\t\t\t\t:value-off=\"false\"\n\t\t\t\t\t\t\t\t\t@update:modelValue=\"value => handleCheckboxChange(scope.row.key, value)\" />\n\t\t\t\t\t\t\t\t<template #content>\n\t\t\t\t\t\t\t\t\t<div class=\"w-80\">{{ checkboxConfig[scope.row.key].message }}</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t:id=\"`purchasing_${scope.row.key}`\"\n\t\t\t\t\t\t\t\ttype=\"toggle\"\n\t\t\t\t\t\t\t\tv-model=\"scope.row.enabled\"\n\t\t\t\t\t\t\t\t:disabled=\"scope.row.disabled || loading.update\"\n\t\t\t\t\t\t\t\t:value=\"true\"\n\t\t\t\t\t\t\t\t:value-off=\"false\"\n\t\t\t\t\t\t\t\t@update:modelValue=\"value => handleCheckboxChange(scope.row.key, value)\" />\n\t\t\t\t\t\t\t<label :for=\"`purchasing_${scope.row.key}`\" class=\"cursor-pointer py-1\">\n\t\t\t\t\t\t\t\t{{ scope.row.label }}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</TableColumn>\n\t\t\t\t<TableColumn label=\"Confirmation Message\" align=\"center\">\n\t\t\t\t\t<template #default=\"scope\">\n\t\t\t\t\t\t<Dropdown trigger=\"click\" class=\"flex justify-center\" placement=\"bottom\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcolor=\"teal\"\n\t\t\t\t\t\t\t\tview=\"outlined\"\n\t\t\t\t\t\t\t\ticon\n\t\t\t\t\t\t\t\tclass=\"btn-action\"\n\t\t\t\t\t\t\t\tdense\n\t\t\t\t\t\t\t\t:disabled=\"loading.update\">\n\t\t\t\t\t\t\t\t<i class=\"material-icons text-sm\">more_horiz</i>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<template #dropdown>\n\t\t\t\t\t\t\t\t<DropdownMenu>\n\t\t\t\t\t\t\t\t\t<DropdownItem v-if=\"scope.row.key !== 'custom'\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-left hover:bg-gray-50 flex items-center gap-x-2 transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"handleEdit(scope.row.key)\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"material-icons text-sm\">edit</i>\n\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</DropdownItem>\n\t\t\t\t\t\t\t\t\t<DropdownItem v-if=\"scope.row.key !== 'custom'\" class=\"py-1\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-left hover:bg-gray-50 flex items-center gap-x-2 transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"handlePreview(scope.row.key)\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"material-icons text-sm\">visibility</i>\n\t\t\t\t\t\t\t\t\t\t\tPreview\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</DropdownItem>\n\t\t\t\t\t\t\t\t\t<DropdownItem v-if=\"scope.row.key === 'custom'\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-left hover:bg-gray-50 flex items-center gap-x-2 transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"handleCustomSettings\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"material-icons text-sm\">settings</i>\n\t\t\t\t\t\t\t\t\t\t\tSettings\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</DropdownItem>\n\t\t\t\t\t\t\t\t</DropdownMenu>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t</template>\n\t\t\t\t</TableColumn>\n\t\t\t</Table>\n\t\t\t<div v-else class=\"text-center py-8\">\n\t\t\t\t<div class=\"text-gray-400 mb-2\">\n\t\t\t\t\t<i class=\"material-icons text-4xl\">inbox</i>\n\t\t\t\t</div>\n\t\t\t\t<h3 class=\"text-lg font-medium text-gray-500 mb-2\">No Data to Show</h3>\n\t\t\t\t<p class=\"text-gray-400 text-sm\">\n\t\t\t\t\tNo purchasing methods are currently configured or available.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</template>\n\t</Fieldset>\n\n\t<Teleport to=\"body\">\n\t\t<Modal v-model=\"modal.mailin\" title=\"Confirmation Message (Mail-In)\" size=\"md\" @close=\"handleClose\">\n\t\t\t<Fieldset class=\"mb-6 rounded-xl\">\n        <template #label>\n          <span class=\"text-grey-03\">Manual shipping label</span>\n        </template>\n        <template #default>\n        \t<Tooltip placement=\"top\" v-if=\"data.is_courier_active\">\n            <Checkbox\n              type=\"toggle\"\n              color=\"teal\"\n              disabled\n              value=\"1\"\n              value-off=\"0\"\n            >\n              Manual shipping label text \n            </Checkbox>\n            <template #content>\n\t\t\t\t\t\t\t<div class=\"text-center leading-6 w-80\">\n                This feature is disabled because you're already using a shipping integration.\n              </div>\n            </template>\n          </Tooltip>\n          <Checkbox\n            v-else\n\t\t\t\t\t\ttype=\"toggle\"\n\t\t\t\t\t\tcolor=\"teal\"\n\t\t\t\t\t\tvalue=\"1\"\n\t\t\t\t\t\tvalue-off=\"0\"\n\t\t\t\t\t\tv-model=\"data.is_manual_shipping_warning\"\n          > \n            Manual shipping label text \n          </Checkbox>\n          <Tooltip placement=\"top\">\n          \t<i class=\"material-icons mr-2\">info</i>\n            <template #content>\n              <div class=\"text-center leading-6\" style=\"width: 400px;\">\n                This message will appear when no shipping integrations is enabled for Mail-in. In this case, customer will not received automatically generated labels, and you'll need to manually process the shipping labels and email them to the customer. You can also add any message or instructions for your customers.\n              </div>\n            </template>\n          </Tooltip> \n\n          <div v-if=\"data.is_manual_shipping_warning == 1\" class=\"mt-4 mb-2 space-y-2\">\n            <Input \n\t\t\t\t\t\t\tv-model=\"manualShippingData.title\" \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tlabel=\"Title\" \n\t\t\t\t\t\t\tplaceholder=\"title...\" \n\t\t\t\t\t\t\tclass=\"w-full\" \n\t\t\t\t\t\t\t:view=\"manualShippingValidation.title.$invalid ? 'danger' : 'default'\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t<small v-for=\"(error, errorIndex) of manualShippingValidation.title.$errors\" :key=\"errorIndex\" class=\"text-danger\">{{ error.$message }}</small>\n            <Input \n\t\t\t\t\t\t\tv-model=\"manualShippingData.message\" \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tlabel=\"Text Message\" \n\t\t\t\t\t\t\tplaceholder=\"message...\" \n\t\t\t\t\t\t\tclass=\"w-full\" \n\t\t\t\t\t\t\t:view=\"manualShippingValidation.message.$invalid ? 'danger' : 'default'\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t<small v-for=\"(error, errorIndex) of manualShippingValidation.message.$errors\" :key=\"errorIndex\" class=\"text-danger\">{{ error.$message }}</small>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n      </Fieldset>\n\t\t\t<div>\n\t\t\t\t<div class=\"my-4 text-gray-600\">\n\t\t\t\t\tYou can customize the message that appears on offer details page\n\t\t\t\t</div>\n\t\t\t\t<TextEditor v-model=\"messageMailin\" :options=\"ckeditor\" />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Table\n\t\t\t\t\tv-if=\"\n\t\t\t\t\t\tstaticData.widget_confirm_msg_shortcode &&\n\t\t\t\t\t\tArray.isArray(staticData.widget_confirm_msg_shortcode)\n\t\t\t\t\t\"\n\t\t\t\t\tclass=\"mt-6\"\n\t\t\t\t\t:data=\"staticData.widget_confirm_msg_shortcode\">\n\t\t\t\t\t<TableColumn prop=\"code\" label=\"Code\">\n\t\t\t\t\t\t<template #default=\"scope\">\n\t\t\t\t\t\t\t<div class=\"flex\">\n\t\t\t\t\t\t\t\t<code class=\"mr-2\">{{ scope.row.code }}</code>\n\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\tclass=\"material-symbols-outlined text-lg text-teal-04\"\n\t\t\t\t\t\t\t\t\t@click=\"copyText(scope.row.code)\"\n\t\t\t\t\t\t\t\t\ttitle=\"Copy to clipboard\">\n\t\t\t\t\t\t\t\t\tcontent_copy\n\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</TableColumn>\n\t\t\t\t\t<TableColumn prop=\"description\" label=\"Description\" />\n\t\t\t\t</Table>\n\t\t\t</div>\n\t\t\t<template #footer>\n\t\t\t\t<div class=\"flex justify-end\">\n\t\t\t\t\t<Button color=\"teal\" :loading=\"loading.update\" @click=\"handleSave\">Save Changes</Button>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</Modal>\n\n\t\t<Modal v-model=\"modal.instore\" title=\"Confirmation Message (In-Store)\" size=\"md\">\n\t\t\t<div>\n\t\t\t\t<div class=\"my-4 text-gray-600\">\n\t\t\t\t\tYou can customize the message that appears on offer details page\n\t\t\t\t</div>\n\t\t\t\t<TextEditor v-model=\"messageInstore\" :options=\"ckeditor\" />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Table\n\t\t\t\t\tv-if=\"\n\t\t\t\t\t\tstaticData.widget_confirm_msg_shortcode &&\n\t\t\t\t\t\tArray.isArray(staticData.widget_confirm_msg_shortcode)\n\t\t\t\t\t\"\n\t\t\t\t\tclass=\"mt-6\"\n\t\t\t\t\t:data=\"staticData.widget_confirm_msg_shortcode\">\n\t\t\t\t\t<TableColumn prop=\"code\" label=\"Code\">\n\t\t\t\t\t\t<template #default=\"scope\">\n\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t<code class=\"mr-2\">{{ scope.row.code }}</code>\n\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\tclass=\"material-symbols-outlined text-lg text-teal-04\"\n\t\t\t\t\t\t\t\t\t@click=\"copyText(scope.row.code)\">\n\t\t\t\t\t\t\t\t\tcontent_copy\n\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</TableColumn>\n\t\t\t\t\t<TableColumn prop=\"description\" label=\"Description\" />\n\t\t\t\t</Table>\n\t\t\t</div>\n\t\t\t<template #footer>\n\t\t\t\t<div class=\"flex justify-end\">\n\t\t\t\t\t<Button color=\"teal\" :loading=\"loading.update\" @click=\"handleSave\">Save</Button>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</Modal>\n\n\t\t<Modal v-model=\"modal.preview\" title=\"Preview\" size=\"lg\" no-padding>\n\t\t\t<div class=\"bg-black bg-opacity-30 py-6 px-12\">\n\t\t\t\t<div class=\"bg-white rounded-lg shadow-lg p-6\">\n\t\t\t\t\t<div v-loading=\"loading.message\" class=\"prose max-w-none\" v-html=\"preview\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<template #footer>\n\t\t\t\t<div class=\"flex justify-start\">\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\tclass=\"text-red-04 no-underline hover:text-red-03\"\n\t\t\t\t\t\t@click=\"modal.preview = false\">\n\t\t\t\t\t\tClose\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</Modal>\n\t</Teleport>\n\t<CustomModal\n\t\tv-model=\"showCustomModal\"\n\t\t:initial-data=\"getCustomData()\"\n\t\t@saved=\"handleCustomSaved\" />\n</template>\n\n<script>\nimport { computed, defineComponent, reactive, ref, watch, nextTick } from 'vue'\nimport { Editor as ClassicEditor } from '@erdeprsty/ckeditor5-custom-build'\nimport { requiredIf } from \"@vuelidate/validators\"\nimport { useVuelidate } from '@vuelidate/core'\nimport copyText from 'utils/copy'\nimport Fieldset from 'bbUi/components/fieldset/fieldset.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\nimport TextEditor from 'components/TextEditor.vue'\nimport CustomModal from 'components/OffersSettings/ConfirmationMessage/CustomModal/index.vue'\nimport Input from 'bbUi/components/input/input.vue'\n\nexport default defineComponent({\n\tcomponents: {\n\t\tFieldset,\n\t\tButton,\n\t\tModal,\n\t\tCheckbox,\n\t\tTextEditor,\n\t\tCustomModal,\n\t\tInput\n\t},\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t\tdefault: () => ({})\n\t\t},\n\t\tstaticData: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t},\n\t\tloading: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({\n\t\t\t\tupdate: false,\n\t\t\t\tmessage: false\n\t\t\t})\n\t\t}\n\t},\n\temits: ['update:data'],\n\tsetup(props, { expose, emit }) {\n\t\tconst modal = reactive({\n\t\t\tmailin: false,\n\t\t\tinstore: false,\n\t\t\tpreview: false\n\t\t})\n\t\tconst showCustomModal = ref(false)\n\t\tconst preview = ref('')\n\t\tconst currentPreviewType = ref('')\n\t\tconst ckeditor = reactive({\n\t\t\teditor: ClassicEditor,\n\t\t\tconfig: {\n\t\t\t\tmediaEmbed: {\n\t\t\t\t\tpreviewsInData: true\n\t\t\t\t},\n\t\t\t\ttoolbar: [\n\t\t\t\t\t'heading',\n\t\t\t\t\t'|',\n\t\t\t\t\t'bold',\n\t\t\t\t\t'italic',\n\t\t\t\t\t'link',\n\t\t\t\t\t'|',\n\t\t\t\t\t'bulletedList',\n\t\t\t\t\t'numberedList',\n\t\t\t\t\t'|',\n\t\t\t\t\t'outdent',\n\t\t\t\t\t'indent',\n\t\t\t\t\t'|',\n\t\t\t\t\t'blockQuote',\n\t\t\t\t\t'insertTable',\n\t\t\t\t\t'|',\n\t\t\t\t\t'undo',\n\t\t\t\t\t'redo'\n\t\t\t\t],\n\t\t\t\theading: {\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t{ model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },\n\t\t\t\t\t\t{ model: 'heading1', view: 'h1', title: 'Heading 1', class: 'ck-heading_heading1' },\n\t\t\t\t\t\t{ model: 'heading2', view: 'h2', title: 'Heading 2', class: 'ck-heading_heading2' },\n\t\t\t\t\t\t{ model: 'heading3', view: 'h3', title: 'Heading 3', class: 'ck-heading_heading3' }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\tconst staticTableRows = [\n\t\t\t{\n\t\t\t\tkey: 'mailin',\n\t\t\t\tlabel: 'Mail-In'\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'instore',\n\t\t\t\tlabel: 'In-Store'\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'custom',\n\t\t\t\tlabel: 'Custom'\n\t\t\t}\n\t\t]\n\t\tconst localForm = reactive({\n\t\t\tmailin_enabled: false,\n\t\t\tinstore_enabled: false,\n\t\t\tcustom_enabled: false\n\t\t})\n\t\tconst messageMailin = ref('')\n\t\tconst messageInstore = ref('')\n\t\tconst getEnabledCheckbox = key => {\n\t\t\tswitch (key) {\n\t\t\t\tcase 'mailin':\n\t\t\t\t\treturn localForm.mailin_enabled\n\t\t\t\tcase 'instore':\n\t\t\t\t\treturn localForm.instore_enabled\n\t\t\t\tcase 'custom':\n\t\t\t\t\treturn localForm.custom_enabled\n\t\t\t\tdefault:\n\t\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\tconst getDisabledCheckbox = key => {\n\t\t\tif (props.loading.update) return true\n\n\t\t\tconst rules = props.data.purchasing_method_rules\n\n\t\t\tif (key === 'mailin') {\n\t\t\t\tif (rules.mailin_has_payout === false || rules.mailin_has_locations === false) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (key === 'instore') {\n\t\t\t\tif (rules.instore_has_payout === false || rules.instore_has_locations === false) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!localForm.instore_enabled && !localForm.mailin_enabled) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tswitch (key) {\n\t\t\t\tcase 'mailin':\n\t\t\t\t\treturn !localForm.instore_enabled\n\t\t\t\tcase 'instore':\n\t\t\t\t\treturn !localForm.mailin_enabled\n\t\t\t\tdefault:\n\t\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\n\t\tconst manualShippingData = reactive({\n\t\t\ttitle: '',\n\t\t\tmessage: ''\n\t\t})\n\n\t\tconst initializeManualShippingData = () => {\n\t\t\tconst warningData = props.data.manual_shipping_warning || {}\n\t\t\tmanualShippingData.title = warningData.title || ''\n\t\t\tmanualShippingData.message = warningData.message || ''\n\t\t}\n\n\t\twatch(\n\t\t\t() => props.data.manual_shipping_warning,\n\t\t\t(newVal) => {\n\t\t\t\tif (newVal !== undefined && newVal !== null) {\n\t\t\t\t\tmanualShippingData.title = newVal.title || ''\n\t\t\t\t\tmanualShippingData.message = newVal.message || ''\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ immediate: true, deep: true }\n\t\t)\n\n\t\tconst manualShippingRules = computed(() => ({\n\t\t\ttitle: {\n\t\t\t\trequired: requiredIf(() => props.data.is_manual_shipping_warning == 1)\n\t\t\t},\n\t\t\tmessage: {\n\t\t\t\trequired: requiredIf(() => props.data.is_manual_shipping_warning == 1)\n\t\t\t}\n\t\t}))\n\n\t\tconst manualShippingValidation = useVuelidate(\n\t\t\tmanualShippingRules, \n\t\t\tmanualShippingData, \n\t\t\t{\n\t\t\t\t$lazy: true,\n\t\t\t\t$scope: 'manualShippingOnly',\n\t\t\t\t$autoDirty: false\n\t\t\t}\n\t\t)\n\n\t\tconst validateManualShipping = async () => {\n\t\t\ttry {\n\t\t\t\tmanualShippingValidation.value.$reset()\n\t\t\t\t\n\t\t\t\tconst isValid = await manualShippingValidation.value.$validate()\n\t\t\t\t\n\t\t\t\tif (!isValid) {\n\t\t\t\t\tconsole.error('Manual shipping validation failed:', {\n\t\t\t\t\t\terrors: manualShippingValidation.value.$errors,\n\t\t\t\t\t\tdata: manualShippingData,\n\t\t\t\t\t\trules: manualShippingRules.value,\n\t\t\t\t\t\tisRequired: props.data.is_manual_shipping_warning == 1\n\t\t\t\t\t})\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn true\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error validating manual shipping:', error)\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\n\t\tconst handleClose = async () => {\n\t\t\tif (props.data.is_manual_shipping_warning == 1) {\n\t\t\t\t\tconst isManualShippingValid = await validateManualShipping()\n\t\t\t\t\tif (!isManualShippingValid) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\n\t\tconst tableData = computed(() => {\n\t\t\treturn staticTableRows.map(row => ({\n\t\t\t\t...row,\n\t\t\t\tenabled: getEnabledCheckbox(row.key),\n\t\t\t\tdisabled: getDisabledCheckbox(row.key)\n\t\t\t}))\n\t\t})\n\t\tconst getCustomData = () => {\n\t\t\tconst customData = props.data.purchasing_method?.custom || {}\n\t\t\treturn {\n\t\t\t\ttitle: customData.title || '',\n\t\t\t\tdescription: customData.description || '',\n\t\t\t\thyperlink: customData.hyperlink || '',\n\t\t\t\ticon: customData.icon || null\n\t\t\t}\n\t\t}\n\t\tconst isPurchaseMethodEnabled = type => {\n\t\t\tconst purchasingMethod = props.data.purchasing_method || {}\n\t\t\tconst purchasingValue = parseInt(purchasingMethod.value) || 0\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'mailin':\n\t\t\t\t\treturn purchasingValue === 1 || purchasingValue === 2\n\t\t\t\tcase 'instore':\n\t\t\t\t\treturn purchasingValue === 1 || purchasingValue === 3\n\t\t\t\tcase 'custom':\n\t\t\t\t\treturn purchasingMethod.custom === true\n\t\t\t\tdefault:\n\t\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\tconst initializeFormData = () => {\n\t\t\tconst confirmMsg = props.data.widget_confirm_msg || {}\n\t\t\tlet mailinMessage = ''\n\t\t\tlet instoreMessage = ''\n\n\t\t\tif (\n\t\t\t\ttypeof confirmMsg === 'string' &&\n\t\t\t\tconfirmMsg.includes('instore:') &&\n\t\t\t\tconfirmMsg.includes('mailin:')\n\t\t\t) {\n\t\t\t\ttry {\n\t\t\t\t\tconst parsed = confirmMsg.replace(/{|}/g, '').split(', ')\n\t\t\t\t\tparsed.forEach(item => {\n\t\t\t\t\t\tif (item.includes('instore:')) {\n\t\t\t\t\t\t\tinstoreMessage = item.split('instore: ')[1].replace(/\"/g, '')\n\t\t\t\t\t\t} else if (item.includes('mailin:')) {\n\t\t\t\t\t\t\tmailinMessage = item.split('mailin: ')[1].replace(/\"/g, '')\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.warn('Failed to parse confirmation message string format')\n\t\t\t\t}\n\t\t\t} else if (typeof confirmMsg === 'object' && confirmMsg !== null) {\n\t\t\t\tif (typeof confirmMsg.mailin === 'string') {\n\t\t\t\t\tmailinMessage = confirmMsg.mailin\n\t\t\t\t} else if (confirmMsg.mailin && typeof confirmMsg.mailin === 'object') {\n\t\t\t\t\tmailinMessage = confirmMsg.mailin.message || ''\n\t\t\t\t}\n\t\t\t\tif (typeof confirmMsg.instore === 'string') {\n\t\t\t\t\tinstoreMessage = confirmMsg.instore\n\t\t\t\t} else if (confirmMsg.instore && typeof confirmMsg.instore === 'object') {\n\t\t\t\t\tinstoreMessage = confirmMsg.instore.message || ''\n\t\t\t\t}\n\t\t\t}\n\t\t\tlocalForm.mailin_enabled = isPurchaseMethodEnabled('mailin')\n\t\t\tlocalForm.instore_enabled = isPurchaseMethodEnabled('instore')\n\t\t\tlocalForm.custom_enabled = isPurchaseMethodEnabled('custom')\n\t\t\tconst rules = props.data.purchasing_method_rules || {}\n\t\t\tconst purchasingMethod = props.data.purchasing_method?.value\n\n\t\t\tif (purchasingMethod === '0') {\n\t\t\t\tif (\n\t\t\t\t\trules.mailin_has_payout === false &&\n\t\t\t\t\trules.mailin_has_locations === false &&\n\t\t\t\t\trules.instore_has_payout === true &&\n\t\t\t\t\trules.instore_has_locations === true\n\t\t\t\t) {\n\t\t\t\t\tlocalForm.mailin_enabled = false\n\t\t\t\t\tlocalForm.instore_enabled = true\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trules.instore_has_payout === false &&\n\t\t\t\t\trules.instore_has_locations === false &&\n\t\t\t\t\trules.mailin_has_payout === true &&\n\t\t\t\t\trules.mailin_has_locations === true\n\t\t\t\t) {\n\t\t\t\t\tlocalForm.instore_enabled = false\n\t\t\t\t\tlocalForm.mailin_enabled = true\n\t\t\t\t}\n\t\t\t}\n\t\t\tmessageMailin.value = mailinMessage\n\t\t\tmessageInstore.value = instoreMessage\n\n\t\t\tinitializeManualShippingData()\n\t\t}\n\t\tconst hasTableData = computed(() => {\n\t\t\treturn staticTableRows.length > 0\n\t\t})\n\n\t\tconst handleCheckboxChange = (key, value) => {\n\t\t\tswitch (key) {\n\t\t\t\tcase 'mailin':\n\t\t\t\t\tlocalForm.mailin_enabled = value\n\t\t\t\t\tbreak\n\t\t\t\tcase 'instore':\n\t\t\t\t\tlocalForm.instore_enabled = value\n\t\t\t\t\tbreak\n\t\t\t\tcase 'custom':\n\t\t\t\t\tlocalForm.custom_enabled = value\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tupdateParent()\n\t\t}\n\n\t\tconst updateParent = () => {\n\t\t\tnextTick(() => {\n\t\t\t\tlet purchasingMethodValue = 0\n\t\t\t\tif (localForm.mailin_enabled && localForm.instore_enabled) {\n\t\t\t\t\tpurchasingMethodValue = 1\n\t\t\t\t} else if (localForm.mailin_enabled && !localForm.instore_enabled) {\n\t\t\t\t\tpurchasingMethodValue = 2\n\t\t\t\t} else if (!localForm.mailin_enabled && localForm.instore_enabled) {\n\t\t\t\t\tpurchasingMethodValue = 3\n\t\t\t\t}\n\t\t\t\tconst existing_widget_confirm_msg = props.data.widget_confirm_msg || {}\n\t\t\t\tconst getStringValue = value => {\n\t\t\t\t\tif (typeof value === 'string') return value\n\t\t\t\t\tif (value && typeof value === 'object' && value.message) return value.message\n\t\t\t\t\treturn ''\n\t\t\t\t}\n\t\t\t\tconst widget_confirm_msg = {\n\t\t\t\t\tmailin: getStringValue(existing_widget_confirm_msg.mailin) || messageMailin.value || '',\n\t\t\t\t\tinstore: getStringValue(existing_widget_confirm_msg.instore) || messageInstore.value || '',\n\t\t\t\t\t...(existing_widget_confirm_msg.custom !== undefined && {\n\t\t\t\t\t\tcustom: getStringValue(existing_widget_confirm_msg.custom) || ''\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tconst updatedData = {\n\t\t\t\t\t...props.data,\n\t\t\t\t\twidget_confirm_msg,\n\t\t\t\t\tpurchasing_method: {\n\t\t\t\t\t\t...props.data.purchasing_method,\n\t\t\t\t\t\tvalue: purchasingMethodValue.toString(),\n\t\t\t\t\t\tcustom: localForm.custom_enabled\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\temit('update:data', updatedData)\n\t\t\t})\n\t\t}\n\t\tconst handlePreview = type => {\n\t\t\tcurrentPreviewType.value = type\n\t\t\tmodal.preview = true\n\t\t\tconst confirmMsg = props.data.widget_confirm_msg || {}\n\t\t\tswitch (type) {\n\t\t\t\tcase 'mailin':\n\t\t\t\t\tpreview.value =\n\t\t\t\t\t\t(typeof confirmMsg.mailin === 'string'\n\t\t\t\t\t\t\t? confirmMsg.mailin\n\t\t\t\t\t\t\t: confirmMsg.mailin?.message) ||\n\t\t\t\t\t\tmessageMailin.value ||\n\t\t\t\t\t\t'No message set'\n\t\t\t\t\tbreak\n\t\t\t\tcase 'instore':\n\t\t\t\t\tpreview.value =\n\t\t\t\t\t\t(typeof confirmMsg.instore === 'string'\n\t\t\t\t\t\t\t? confirmMsg.instore\n\t\t\t\t\t\t\t: confirmMsg.instore?.message) ||\n\t\t\t\t\t\tmessageInstore.value ||\n\t\t\t\t\t\t'No message set'\n\t\t\t\t\tbreak\n\t\t\t\tcase 'custom':\n\t\t\t\t\tpreview.value =\n\t\t\t\t\t\t(typeof confirmMsg.custom === 'string'\n\t\t\t\t\t\t\t? confirmMsg.custom\n\t\t\t\t\t\t\t: confirmMsg.custom?.message) || 'No message set'\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tpreview.value = 'No message available'\n\t\t\t}\n\t\t}\n\t\tconst handleEdit = type => {\n\t\t\tswitch (type) {\n\t\t\t\tcase 'mailin':\n\t\t\t\t\tmodal.mailin = true\n\t\t\t\t\tbreak\n\t\t\t\tcase 'instore':\n\t\t\t\t\tmodal.instore = true\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tconst handleCustomSettings = () => {\n\t\t\tshowCustomModal.value = true\n\t\t}\n\t\tconst handleCustomSaved = () => {\n\t\t\tupdateParent()\n\t\t}\n\t\tconst handleSave = async () => {\n\t\t\ttry {\n\t\t\t\t// Only validate manual shipping if it's required\n\t\t\t\tif (props.data.is_manual_shipping_warning == 1) {\n\t\t\t\t\tconst isManualShippingValid = await validateManualShipping()\n\t\t\t\t\tif (!isManualShippingValid) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst existing_widget_confirm_msg = props.data.widget_confirm_msg || {}\n\t\t\t\tconst updated_widget_confirm_msg = { ...existing_widget_confirm_msg }\n\t\t\t\tconst getStringValue = value => {\n\t\t\t\t\tif (typeof value === 'string') return value\n\t\t\t\t\tif (value && typeof value === 'object' && value.message) return value.message\n\t\t\t\t\treturn ''\n\t\t\t\t}\n\t\t\t\tupdated_widget_confirm_msg.mailin = getStringValue(updated_widget_confirm_msg.mailin) || ''\n\t\t\t\tupdated_widget_confirm_msg.instore = getStringValue(updated_widget_confirm_msg.instore) || ''\n\t\t\t\tif (updated_widget_confirm_msg.custom !== undefined) {\n\t\t\t\t\tupdated_widget_confirm_msg.custom =\n\t\t\t\t\t\tgetStringValue(updated_widget_confirm_msg.custom) || ''\n\t\t\t\t}\n\t\t\t\tif (modal.mailin) {\n\t\t\t\t\tupdated_widget_confirm_msg.mailin = messageMailin.value\n\t\t\t\t}\n\t\t\t\tif (modal.instore) {\n\t\t\t\t\tupdated_widget_confirm_msg.instore = messageInstore.value\n\t\t\t\t}\n\t\t\t\tconst updatedData = {\n\t\t\t\t\t...props.data,\n\t\t\t\t\twidget_confirm_msg: updated_widget_confirm_msg,\n\t\t\t\t\tmanual_shipping_warning: {\n\t\t\t\t\t\ttitle: manualShippingData.title,\n\t\t\t\t\t\tmessage: manualShippingData.message\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\temit('update:data', updatedData)\n\t\t\t\t\n\t\t\t\tmanualShippingValidation.value.$reset()\n\t\t\t\tObject.keys(modal).forEach(key => {\n\t\t\t\t\tif (key !== 'preview') modal[key] = false\n\t\t\t\t})\n\t\t\t\treturn true\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error saving confirmation message:', error)\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\tconst handleSaveComponent = async () => {\n\t\t\ttry {\n\t\t\t\tupdateParent()\n\t\t\t\treturn true\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error saving confirmation message settings:', error)\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\twatch(\n\t\t\t() => props.data,\n\t\t\tnewData => {\n\t\t\t\tif (newData) {\n\t\t\t\t\tinitializeFormData()\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ immediate: true, deep: true }\n\t\t)\n\t\twatch(\n\t\t\t() => props.loading.update,\n\t\t\tisLoading => {\n\t\t\t\tif (!isLoading) {\n\t\t\t\t\tObject.keys(modal).forEach(key => {\n\t\t\t\t\t\tif (key !== 'preview') modal[key] = false\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t\tinitializeFormData()\n\t\texpose({\n\t\t\thandleSave: handleSaveComponent\n\t\t})\n\n\t\treturn {\n\t\t\ttableData,\n\t\t\tmodal,\n\t\t\tshowCustomModal,\n\t\t\tpreview,\n\t\t\tcurrentPreviewType,\n\t\t\tckeditor,\n\t\t\tmessageMailin,\n\t\t\tmessageInstore,\n\t\t\tlocalForm,\n\t\t\tcopyText,\n\t\t\thandlePreview,\n\t\t\thandleEdit,\n\t\t\thandleCustomSettings,\n\t\t\thandleCustomSaved,\n\t\t\thandleSave,\n\t\t\thandleCheckboxChange,\n\t\t\tupdateParent,\n\t\t\tisPurchaseMethodEnabled,\n\t\t\thasTableData,\n\t\t\tgetCustomData,\n\t\t\tmanualShippingValidation,\n\t\t\tmanualShippingData,\n\t\t\tvalidateManualShipping,\n\t\t\thandleClose\n\t\t}\n\t},\n\tcomputed: {\n\t\tcheckboxConfig() {\n\t\t\tconst rules = this.data.purchasing_method_rules\n\n\t\t\tconst canDisableMethod = methodKey => {\n\t\t\t\tif (methodKey === 'mailin') {\n\t\t\t\t\treturn rules.instore_has_locations !== false && this.localForm.instore_enabled\n\t\t\t\t} else if (methodKey === 'instore') {\n\t\t\t\t\treturn rules.mailin_has_locations !== false && this.localForm.mailin_enabled\n\t\t\t\t}\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tmailin: {\n\t\t\t\t\tneedsTooltip:\n\t\t\t\t\t\trules.mailin_has_locations === false ||\n\t\t\t\t\t\trules.mailin_has_payout === false ||\n\t\t\t\t\t\t(this.localForm.mailin_enabled && !canDisableMethod('mailin')),\n\t\t\t\t\tmessage: (() => {\n\t\t\t\t\t\tif (this.localForm.mailin_enabled && !canDisableMethod('mailin')) {\n\t\t\t\t\t\t\treturn \"You don't have another purchasing method so you can't turn off this purchasing method.\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rules.mailin_has_payout === false) {\n\t\t\t\t\t\t\treturn 'Please enable payouts first to modify the purchasing method.'\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 'Please add a Mail-In location on the Locations Settings page before choosing Mail-In as your widget type.'\n\t\t\t\t\t})()\n\t\t\t\t},\n\t\t\t\tinstore: {\n\t\t\t\t\tneedsTooltip:\n\t\t\t\t\t\trules.instore_has_locations === false ||\n\t\t\t\t\t\trules.instore_has_payout === false ||\n\t\t\t\t\t\t(this.localForm.instore_enabled && !canDisableMethod('instore')),\n\t\t\t\t\tmessage: (() => {\n\t\t\t\t\t\tif (this.localForm.instore_enabled && !canDisableMethod('instore')) {\n\t\t\t\t\t\t\treturn \"You don't have another purchasing method so you can't turn off this purchasing method.\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rules.instore_has_payout === false) {\n\t\t\t\t\t\t\treturn 'Please enable payouts first to modify the purchasing method.'\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 'Please add an In-Store location on the Locations Settings page before choosing In-Store as your widget type.'\n\t\t\t\t\t})()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})\n</script>\n\n<style>\n.btn.btn-outlined.btn-teal.btn-action {\n\tborder: none !important;\n}\n</style>","<template>\n\t<Fieldset class=\"rounded-xl\">\n\t\t<template #label>Collect Leads</template>\n\t\t<div class=\"flex items-center gap-2\">\n\t\t\t<Checkbox\n\t\t\t\tv-model=\"form.isEnableCollectLeads\"\n\t\t\t\ttype=\"toggle\"\n\t\t\t\t:disabled=\"loading.update || loading.all\"\n\t\t\t\t:value=\"'1'\"\n\t\t\t\t:value-off=\"'0'\" />\n\t\t\t<label>Lead Booster</label>\n\t\t\t<Tooltip placement=\"top\">\n\t\t\t\t<i class=\"material-icons mr-2\">info</i>\n\t\t\t\t<template #content width=\"10\">\n\t\t\t\t\t<div class=\"w-80\">\n\t\t\t\t\t\tGenerate more leads by collecting customer information before they can view their offer.\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</Tooltip>\n\t\t</div>\n\t</Fieldset>\n</template>\n\n<script>\nimport { defineComponent, reactive, watch, onMounted } from 'vue'\nimport { useVuelidate } from '@vuelidate/core'\nimport Input from 'bbUi/components/input/input.vue'\nimport Card from 'bbUi/components/card/card.vue'\nimport Checkbox from 'bbUi/components/checkbox/checkbox.vue'\nimport Fieldset from 'bbUi/components/fieldset/fieldset.vue'\n\nexport default defineComponent({\n\tname: 'LeadBooster',\n\tcomponents: {\n\t\tInput,\n\t\tCard,\n\t\tCheckbox,\n\t\tFieldset\n\t},\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t},\n\t\tstaticData: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t},\n\t\tloading: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t}\n\t},\n\tsetup(props) {\n\t\tconst form = reactive({\n\t\t\tisEnableCollectLeads: '0'\n\t\t})\n\n\t\tconst rules = {}\n\t\tconst validation = useVuelidate(rules, form, {\n\t\t\t$lazy: true\n\t\t})\n\t\tconst initializeForm = () => {\n\t\t\tif (props.data?.is_enable_collectleads !== undefined) {\n\t\t\t\tform.isEnableCollectLeads = props.data.is_enable_collectleads\n\t\t\t}\n\t\t}\n\t\tconst handleSave = async () => {\n\t\t\ttry {\n\t\t\t\tawait validation.value.$validate()\n\n\t\t\t\tif (validation.value.$invalid) {\n\t\t\t\t\tconsole.error('LeadBooster validation failed:', validation.value.$errors)\n\t\t\t\t\treturn false\n\t\t\t\t}\n\n\t\t\t\tif (props.data) {\n\t\t\t\t\tprops.data.is_enable_collectleads = form.isEnableCollectLeads\n\t\t\t\t}\n\n\t\t\t\treturn true\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error saving LeadBooster:', error)\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\twatch(\n\t\t\t() => props.data?.is_enable_collectleads,\n\t\t\tnewVal => {\n\t\t\t\tif (newVal !== undefined && newVal !== form.isEnableCollectLeads) {\n\t\t\t\t\tform.isEnableCollectLeads = newVal\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ immediate: true }\n\t\t)\n\t\twatch(\n\t\t\t() => form.isEnableCollectLeads,\n\t\t\tnewVal => {\n\t\t\t\tif (props.data && newVal !== props.data.is_enable_collectleads) {\n\t\t\t\t\tprops.data.is_enable_collectleads = newVal\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t\tonMounted(() => {\n\t\t\tinitializeForm()\n\t\t})\n\t\treturn {\n\t\t\tform,\n\t\t\tvalidation,\n\t\t\thandleSave\n\t\t}\n\t}\n})\n</script>","<template>\n    <div class=\"min-h-screen bg-gray-50\">\n        <Breadcrumb\n            class=\"mt-2 mb-8\"\n            page-title=\"Offer Settings\"\n            :back-to=\"{ name: 'setting' }\"\n            :items=\"breadcrumb\">\n            <template #right>\n                    <Button \n                        color=\"teal\" \n                        :loading=\"loadingAllForm\" \n                        @click=\"handleSaveAll\">\n                        Save Changes\n                    </Button>\n            </template>\n        </Breadcrumb>\n        <Card v-loading=\"loadingAllForm || loading.all\" class=\"mb-6 shadow-sm\">\n            <template #header>\n                <h6 class=\"\">Configuration</h6>\n            </template>\n            <template #default>\n                <div class=\"space-y-8\">\n                    <div class=\"grid grid-cols-1 lg:grid-cols-2\">\n                        <div class=\"space-y-6\">\n                            <div>\n                                <Prefix \n                                    ref=\"prefixRef\"\n                                    :data=\"payload\" \n                                    :static-data=\"staticData\"\n                                    :loading=\"loading\"\n                                    @update:data=\"handleComponentUpdate\"\n                                />\n                            </div>\n                            <div>\n                                <PriceLock \n                                    ref=\"priceLockRef\"\n                                    :data=\"payload\" \n                                    :static-data=\"staticData\"\n                                    :loading=\"loading\"\n                                    @update:data=\"handleComponentUpdate\"\n                                />\n                            </div>\n                            <div>\n                                <LimitItems\n                                ref=\"limitItemsRef\"\n                                :data=\"payload\" \n                                :static-data=\"staticData\"\n                                :loading=\"loading\"\n                                @update:data=\"handleComponentUpdate\"\n                                />\n                            </div>\n                            <div>\n                                <AutoAccept \n                                    ref=\"autoAcceAutoAcceptRef\"\n                                    :data=\"payload\" \n                                    :static-data=\"staticData\"\n                                    :loading=\"loading\"\n                                    @update:data=\"handleComponentUpdate\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n                    <ConfirmationMessage \n                    ref=\"confirmationMessageRef\"\n                    :data=\"payload\" \n                    :static-data=\"staticData\"\n                    :loading=\"loading\"\n                    @update:data=\"handleComponentUpdate\"\n                    />\n                    <div class=\"rounded-lg\">\n                        <LeadBooster \n                            ref=\"leadBoosterRef\"\n                            :data=\"payload\" \n                            :static-data=\"staticData\"\n                            :loading=\"loading\"\n                            @update:data=\"handleComponentUpdate\"\n                        />\n                    </div>\n                    <Imei \n                    ref=\"imeiRef\"\n                            :data=\"payload\" \n                            :static-data=\"staticData\"\n                            :loading=\"loading\"\n                            @update:data=\"handleComponentUpdate\"\n                        />\n                        </div>\n            </template>\n        </Card>\n        <Modal v-model=\"showUnsavedModal\" :closeTo=\"handleCancelLeave\" size=\"xs\" hide-header hide-footer>\n            <template #default>\n                    <div class=\"flex flex-col justify-center gap-4 items-center my-6\">\n                        <img src=\"@/assets/icon/warning.svg\" />\n                        <h6 class=\"text-3xl font-semibold\"> You have unsaved changes </h6>\n                        <p class=\"text-center\">Are you sure you want to leave this page without saving your changes?</p>\n                        <div class=\"flex flex-wrap items-center justify-center gap-14 mt-4  \">\n                            <Button\n                            @click.prevent=\"handleDiscardChanges\"\n                            color=\"grey\"\n                            >\n                                Discard Changes\n                            </Button>\n                            <Button \n                                color=\"teal\" \n                                :loading=\"loadingSaveBeforeLeave\"\n                                @click=\"handleSaveAndExit\">\n                                Save Changes and Exit\n                            </Button>\n                        </div>\n                    </div>\n            </template>\n        </Modal>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, ref, computed, onMounted, reactive, watch, onBeforeUnmount } from 'vue'\nimport { useRoute, useRouter, onBeforeRouteLeave } from 'vue-router'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport Prefix from 'components/OffersSettings/Prefix/index.vue'\nimport PriceLock from 'components/OffersSettings/PriceLock/index.vue'\nimport AutoAccept from 'components/OffersSettings/AutoAccept/index.vue'\nimport Imei from 'components/OffersSettings/ImeiSn/index.vue'\nimport ConfirmationMessage from 'components/OffersSettings/ConfirmationMessage/index.vue'\nimport LeadBooster from 'components/OffersSettings/LeadBooster/index.vue'\nimport LimitItems from 'components/OffersSettings/LimtItems/index.vue'\nimport Breadcrumb from 'components/Breadcrumb.vue'\nimport Card from 'bbUi/components/card/card.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport { useWidget } from 'composable/setting'\nimport { useUser } from 'composable/user'\nimport { useDevice } from 'composable/dashboard'\nimport debounce from 'utils/debounce'\n\nexport default defineComponent({\n    components: {\n        Breadcrumb,\n        Button,\n        Card,\n        Modal,\n        Prefix,\n        PriceLock,\n        AutoAccept,\n        LeadBooster,\n        ConfirmationMessage,\n        Imei,\n        LimitItems\n    },\n    async setup() {\n        const route = useRoute()\n        const router = useRouter()\n        const breadcrumb = [\n            { text: 'Settings', to: { name: 'setting' } }, \n            { text: 'Offer Settings' }\n        ]\n        \n        const {\n            data: payload,\n            modal: modalWidget,\n            staticData,\n            loading,\n            actionShow,\n            actionUpdate,\n            state,\n            actionCustomStartingPoint,\n            actionShowLanguage,\n        } = useWidget()\n        \n        const { \n            widgetOptions, \n            isProPlan, \n        } = useUser()\n        \n        const { \n            state: stateDevice, \n            actionConditionDeviceWidgetAvailability \n        } = useDevice()\n        \n        const prefixRef = ref(null)\n        const priceLockRef = ref(null)\n        const autoAcceAutoAcceptRef = ref(null)\n        const leadBoosterRef = ref(null)\n        const confirmationMessageRef = ref(null)\n        const imeiRef = ref(null)\n        const limitItemsRef = ref(null)\n        const loadingAllForm = ref(false)\n        const originalPayload = ref({})\n        const showUnsavedModal = ref(false)\n        const loadingDiscard = ref(false)\n        const loadingSaveBeforeLeave = ref(false)\n        const pendingNavigation = ref(null)\n        const navigationBlocked = ref(false)\n        const isDataModified = computed(() => {\n            return JSON.stringify(payload) !== JSON.stringify(originalPayload.value)\n        })\n        const errors = reactive({\n            prefix: null,\n            priceLock: null,\n            autoAcceAutoAccept: null,\n            leadBooster: null,\n            confirmationMessage: null,\n            imei: null\n        })\n        const initializeData = async () => {\n            try {\n                loading.all = true\n                await Promise.all([\n                    actionShow(),\n                    actionCustomStartingPoint(),\n                    actionShowLanguage(),\n                    actionConditionDeviceWidgetAvailability()\n                ])\n                originalPayload.value = JSON.parse(JSON.stringify(payload))\n                \n            } catch (error) {\n                ElMessage({\n                    type: 'error',\n                    message: 'Failed to load widget data. Please refresh the page.',\n                    duration: 5000\n                })\n            } finally {\n                loading.all = false\n            }\n        }\n        const handleComponentUpdate = (updatedData) => {\n            Object.assign(payload, updatedData)\n        }\n        const handleUpdateWidget = debounce(async (updatedData) => {\n            try {\n                loading.update = true\n                \n                const mergedPayload = {\n                    ...payload,\n                    ...updatedData\n                }\n                \n                await actionUpdate(mergedPayload)\n                await actionShow({\n                    includedKeys: ['source', 'widget_is_remove_brand_available']\n                })\n                ElMessage({\n                    type: 'success',\n                    message: 'Settings updated successfully!',\n                    duration: 3000\n                })\n                \n            } catch (error) {\n                ElMessage({\n                    type: 'error',\n                    message: 'Failed to update settings. Please try again.',\n                    duration: 5000\n                })\n            } finally {\n                loading.update = false\n            }\n        }, 500)\n        const handleSaveAll = async () => {\n            try {\n                loadingAllForm.value = true\n                const validationResults = []\n                const componentRefs = [\n                    { ref: prefixRef, name: 'Prefix' },\n                    { ref: priceLockRef, name: 'Price Lock' },\n                    { ref: autoAcceAutoAcceptRef, name: 'Auto Offers' },\n                    { ref: leadBoosterRef, name: 'Lead Booster' },\n                    { ref: confirmationMessageRef, name: 'Confirmation Message' },\n                    { ref: imeiRef, name: 'IMEI' },\n                    { ref: limitItemsRef, name: 'Limit Items' }\n                ]\n                for (const { ref: componentRef, name } of componentRefs) {\n                    if (componentRef.value && typeof componentRef.value.handleSave === 'function') {\n                        try {\n                            const result = await componentRef.value.handleSave()\n                            validationResults.push({ name, success: result })\n                            \n                            if (!result) {\n                                errors[name.toLowerCase().replace(' ', '')] = `Validation failed for ${name}`\n                            } else {\n                                errors[name.toLowerCase().replace(' ', '')] = null\n                            }\n                        } catch (error) {\n                            validationResults.push({ name, success: false, error })\n                            errors[name.toLowerCase().replace(' ', '')] = error.message || `Error saving ${name}`\n                        }\n                    }\n                }\n                const hasErrors = validationResults.some(result => !result.success)\n                if (hasErrors) {\n                    const errorMessages = validationResults\n                        .filter(result => !result.success)\n                        .map(result => result.name)\n                        .join(', ')\n                    ElMessage({\n                        type: 'error',\n                        message: `Please fix validation errors in: ${errorMessages}`,\n                        duration: 5000\n                    })\n                    return\n                }\n                await actionUpdate(payload)\n                await actionShow()\n                originalPayload.value = JSON.parse(JSON.stringify(payload))\n                Object.keys(errors).forEach(key => {\n                    errors[key] = null\n                })\n                ElMessage({\n                    type: 'success',\n                    message: 'All changes saved successfully!',\n                    duration: 3000\n                })\n            } catch (error) {\n                ElMessage({\n                    type: 'error',\n                    message: 'Failed to save changes. Please try again.',\n                    duration: 5000\n                })\n            } finally {\n                loadingAllForm.value = false\n            }\n        }\n        const handleReset = async () => {\n            try {\n                const result = await ElMessageBox.confirm(\n                    'Are you sure you want to discard all unsaved changes? This action cannot be undone.',\n                    'Confirm Reset',\n                    {\n                        confirmButtonText: 'Yes, Reset',\n                        cancelButtonText: 'Cancel',\n                        type: 'warning',\n                        confirmButtonClass: 'el-button--danger'\n                    }\n                )\n                \n                if (result === 'confirm') {\n                    Object.assign(payload, JSON.parse(JSON.stringify(originalPayload.value)))\n                    Object.keys(errors).forEach(key => {\n                        errors[key] = null\n                    })\n                    ElMessage({\n                        type: 'info',\n                        message: 'Changes have been reset',\n                        duration: 3000\n                    })\n                }\n            } catch (error) {\n            }\n        }\n        \n        const handleDiscardChanges = async () => {\n            try {\n                loadingDiscard.value = true\n                Object.assign(payload, JSON.parse(JSON.stringify(originalPayload.value)))\n                Object.keys(errors).forEach(key => {\n                    errors[key] = null\n                })\n                showUnsavedModal.value = false\n                navigationBlocked.value = false\n                if (pendingNavigation.value) {\n                    if (pendingNavigation.value.type === 'route') {\n                        await router.push(pendingNavigation.value.to)\n                    } else if (pendingNavigation.value.type === 'browser') {\n                        window.removeEventListener('beforeunload', handleBeforeUnload)\n                        window.location.href = pendingNavigation.value.href || '/'\n                    }\n                    pendingNavigation.value = null\n                }\n            } catch (error) {\n                ElMessage({\n                    type: 'error',\n                    message: 'Failed to discard changes',\n                    duration: 3000\n                })\n            } finally {\n                loadingDiscard.value = false\n            }\n        }\n        const handleSaveAndExit = async () => {\n            try {\n                loadingSaveBeforeLeave.value = true\n                const validationResults = []\n                const componentRefs = [\n                    { ref: prefixRef, name: 'Prefix' },\n                    { ref: priceLockRef, name: 'Price Lock' },\n                    { ref: autoAcceAutoAcceptRef, name: 'Auto Offers' },\n                    { ref: leadBoosterRef, name: 'Lead Booster' },\n                    { ref: confirmationMessageRef, name: 'Confirmation Message' },\n                    { ref: imeiRef, name: 'IMEI' },\n                    { ref: limitItemsRef, name: 'Limit Items' }\n                ]\n                \n                for (const { ref: componentRef, name } of componentRefs) {\n                    if (componentRef.value && typeof componentRef.value.handleSave === 'function') {\n                        try {\n                            const result = await componentRef.value.handleSave()\n                            validationResults.push({ name, success: result })\n                            \n                            if (!result) {\n                                errors[name.toLowerCase().replace(' ', '')] = `Validation failed for ${name}`\n                            } else {\n                                errors[name.toLowerCase().replace(' ', '')] = null\n                            }\n                        } catch (error) {\n                            validationResults.push({ name, success: false, error })\n                            errors[name.toLowerCase().replace(' ', '')] = error.message || `Error saving ${name}`\n                        }\n                    }\n                }\n                const hasErrors = validationResults.some(result => !result.success)\n                if (hasErrors) {\n                    const errorMessages = validationResults\n                        .filter(result => !result.success)\n                        .map(result => result.name)\n                        .join(', ')\n                    ElMessage({\n                        type: 'error',\n                        message: `Please fix validation errors in: ${errorMessages}`,\n                        duration: 5000\n                    })\n                    return\n                }\n                await actionUpdate(payload)\n                await actionShow()\n                originalPayload.value = JSON.parse(JSON.stringify(payload))\n                Object.keys(errors).forEach(key => {\n                    errors[key] = null\n                })\n                showUnsavedModal.value = false\n                navigationBlocked.value = false\n                \n                if (pendingNavigation.value) {\n                    if (pendingNavigation.value.type === 'route') {\n                        await router.push(pendingNavigation.value.to)\n                    } else if (pendingNavigation.value.type === 'browser') {\n                        window.removeEventListener('beforeunload', handleBeforeUnload)\n                        window.location.href = pendingNavigation.value.href || '/'\n                    }\n                    pendingNavigation.value = null\n                }\n                \n                ElMessage({\n                    type: 'success',\n                    message: 'Changes saved successfully!',\n                    duration: 3000\n                })\n                \n            } catch (error) {\n                ElMessage({\n                    type: 'error',\n                    message: 'Failed to save changes. Please try again.',\n                    duration: 5000\n                })\n            } finally {\n                loadingSaveBeforeLeave.value = false\n            }\n        }\n        const handleCancelLeave = () => {\n            showUnsavedModal.value = false\n            pendingNavigation.value = null\n            navigationBlocked.value = false\n        }\n        onBeforeRouteLeave((to, from, next) => {\n            if (isDataModified.value && !navigationBlocked.value) {\n                pendingNavigation.value = { type: 'route', to }\n                showUnsavedModal.value = true\n                navigationBlocked.value = true\n                next(false)\n            } else {\n                next()\n            }\n        })\n        \n        const handleBeforeRouteLeave = (to, from, next) => {\n            if (isDataModified.value && !navigationBlocked.value) {\n                pendingNavigation.value = { type: 'route', to }\n                showUnsavedModal.value = true\n                navigationBlocked.value = true\n                next(false)\n            } else {\n                next()\n            }\n        }\n        const handleBeforeUnload = (event) => {\n            if (isDataModified.value) {\n                event.preventDefault()\n                event.returnValue = 'You have unsaved changes. Are you sure you want to leave?'\n                if (!showUnsavedModal.value) {\n                    pendingNavigation.value = { type: 'browser' }\n                    showUnsavedModal.value = true\n                }\n                return event.returnValue\n            }\n        }\n        onMounted(async () => {\n            await initializeData()\n            window.addEventListener('beforeunload', handleBeforeUnload)\n        })\n        onBeforeUnmount(() => {\n            window.removeEventListener('beforeunload', handleBeforeUnload)\n        })\n        const configurationSummary = computed(() => {\n            const summary = {\n                totalComponents: 6,\n                activeComponents: 0,\n                hasErrors: Object.values(errors).some(error => error !== null)\n            }\n            if (payload.prefix_enabled) summary.activeComponents++\n            if (payload.price_lock_enabled) summary.activeComponents++\n            if (payload.auto_offers_enabled) summary.activeComponents++\n            if (payload.lead_booster_enabled) summary.activeComponents++\n            if (payload.widget_confirm_msg) summary.activeComponents++\n            if (payload.imei_enabled) summary.activeComponents++\n            \n            return summary\n        })\n        \n        return {\n            loadingAllForm,\n            breadcrumb,\n            state,\n            staticData,\n            payload,\n            originalPayload,\n            modalWidget,\n            loading,\n            errors,\n            router,\n            route,\n            isDataModified,\n            configurationSummary,\n            prefixRef,\n            priceLockRef,\n            autoAcceAutoAcceptRef,\n            leadBoosterRef,\n            limitItemsRef,\n            confirmationMessageRef,\n            imeiRef,\n            showUnsavedModal,\n            loadingDiscard,\n            loadingSaveBeforeLeave,\n            actionShow,\n            actionUpdate,\n            handleSaveAll,\n            handleReset,\n            handleComponentUpdate,\n            handleUpdateWidget,\n            handleBeforeRouteLeave,\n            handleDiscardChanges,\n            handleSaveAndExit,\n            handleCancelLeave,\n            stateDevice,\n            widgetOptions,\n            isProPlan\n        }\n    }\n})\n</script>","<template>\n\t<div>\n\t\t<div class=\"flex items-center gap-4\">\n\t\t\t<label>Mail-In Item Limit</label>\n\t\t\t<Tooltip placement=\"top\">\n\t\t\t\t<i class=\"material-icons mr-2\">info</i>\n\t\t\t\t<template #content width=\"10\">\n\t\t\t\t\t<div class=\"w-80\">\n\t\t\t\t\t\tRestrict the number of items You can set limit on items per offer exclusively for the\n\t\t\t\t\t\tMail-in purchasing method.\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</Tooltip>\n\t\t</div>\n\t\t<div>\n\t\t\t<form autocomplete=\"off\" @submit.prevent>\n\t\t\t\t<Input\n\t\t\t\t\tv-loading=\"loading.all\"\n\t\t\t\t\tv-model=\"form.widget_limit_qty_items\"\n\t\t\t\t\tv-maska=\"'##'\"\n\t\t\t\t\t:disabled=\"loading.update\"\n\t\t\t\t\tclass=\"w-full\"\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t:view=\"(validation.widget_limit_qty_items.$invalid && 'danger') || 'default'\"\n\t\t\t\t\ticon-block\n\t\t\t\t\tright\n\t\t\t\t\ticon\n\t\t\t\t\t@input=\"handleInput\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<span class=\"text-base\">/Items</span>\n\t\t\t\t\t</template>\n\t\t\t\t</Input>\n\t\t\t\t<small\n\t\t\t\t\tclass=\"text-red-base block\"\n\t\t\t\t\tv-for=\"(error, errorIndex) of validation.widget_limit_qty_items.$errors\"\n\t\t\t\t\t:key=\"errorIndex\">\n\t\t\t\t\t{{ error.$message }}.\n\t\t\t\t</small>\n\t\t\t\t<small class=\"block mt-2\">\n\t\t\t\t\t<span class=\"font-semibold\">Max Items</span>\n\t\t\t\t\t: Up to 99 items\n\t\t\t\t</small>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport { computed, defineProps, defineEmits, defineExpose, reactive, watch } from 'vue'\nimport { maxValue, minValue, required } from '@vuelidate/validators'\nimport useVuelidate from '@vuelidate/core'\nimport Input from 'bbUi/components/input/input.vue'\n\nconst props = defineProps({\n\tdata: {\n\t\ttype: Object,\n\t\tdefault: () => ({})\n\t},\n\tstaticData: {\n\t\ttype: Object,\n\t\tdefault: () => ({})\n\t},\n\tloading: {\n\t\ttype: Object,\n\t\tdefault: () => ({})\n\t}\n})\nconst emit = defineEmits(['update:data'])\nconst form = reactive({\n\twidget_limit_qty_items: null\n})\nconst rules = {\n\twidget_limit_qty_items: {\n\t\trequired,\n\t\tminValue: minValue(1),\n\t\tmaxValue: maxValue(99)\n\t}\n}\nconst validation = useVuelidate(rules, form, {\n\t$lazy: true\n})\nconst handleInput = () => {\n\temit('update:data', {\n\t\twidget_limit_qty_items: form.widget_limit_qty_items\n\t})\n}\nconst handleSave = async () => {\n\tconst valid = await validation.value.$validate()\n\tif (!valid) {\n\t\treturn false\n\t}\n\temit('update:data', {\n\t\twidget_limit_qty_items: form.widget_limit_qty_items\n\t})\n\treturn true\n}\nwatch(\n\t() => props.data.widget_limit_qty_items,\n\tval => {\n\t\tif (val !== undefined && val !== null) {\n\t\t\tform.widget_limit_qty_items = val\n\t\t}\n\t},\n\t{ immediate: true }\n)\ndefineExpose({\n\thandleSave\n})\n</script>","import { defineComponent } from 'vue'\nimport { useSuspense } from 'composable/components'\nimport index from './index.vue'\n\nexport default defineComponent({\n  setup() {\n    const { genSuspense } = useSuspense()\n\n    return () => genSuspense(index)\n  }\n})"],"names":["_sfc_main","defineComponent","components","Input","props","data","type","Object","default","staticData","loading","emits","[object Object]","emit","form","reactive","prefix","_a","prefix_order_number_sequence","preview","computed","validation","useVuelidate","required","$lazy","watch","_a2","val","immediate","handleSave","async","value","$validate","$invalid","__spreadValues","_hoisted_1","class","key","_openBlock","_createElementBlock","_Fragment","_withDirectives","_createBlock","_component_Input","modelValue","_ctx","onUpdate:modelValue","_cache","$event","disabled","update","view","autocomplete","label","icon","icon-block","_withCtx","_directive_maska","_hoisted_3","_renderList","$errors","error","errorIndex","name","expDays","rules","minValue","maxValue","isValidNumber","num","parseInt","isNaN","exp_days_pricelock","newVal","onMounted","console","_createElementVNode","_hoisted_2","_createVNode","placement","content","all","max","right","Card","Checkbox","isAutoAcceptEnabled","expiryDays","requiredIf","minVal","booleanToString","v","stringToBoolean","widget_is_enable_auto_accept","_b","widget_auto_accept_expiry_days","isEnabled","expiry","String","handleInput","trim","handleBlur","Number","_component_Checkbox","_hoisted_4","onInput","i","Fieldset","TextEditor","expose","refTextEditor","ref","ckeditor","editor","ClassicEditor","exports","Editor","config","htmlSupport","allow","styles","classes","disabledImei","widget_auto_disabled_imei","localForm","widget_is_enable_imei_input","widget_is_enable_imei_ins_msg","widget_imei_ins_msg","widget_imei_icon_selected","updateParent","nextTick","keys","forEach","newData","deep","iconOptions","selectIcon","toolbarItems","items","_hoisted_5","_hoisted_6","_component_Fieldset","id","_component_TextEditor","options","_hoisted_7","option","_normalizeClass","onClick","_withModifiers","src","Modal","Button","InputFile","Boolean","initialData","title","description","hyperlink","dataCustom","show","handleShow","handleUpdate","loadingCustom","useWidgetCustomButton","rulesForm","maxLength","url","fileSize","initializeFormData","length","customModal","get","set","newValue","oldValue","$reset","handleOpenModal","handleCloseModal","log","some","handleFile","file","handleSubmit","CustomModal","_Teleport","to","size","footer","_component_Button","color","_component_InputFile","action","_createTextVNode","message","modal","mailin","instore","showCustomModal","currentPreviewType","mediaEmbed","previewsInData","toolbar","heading","model","staticTableRows","mailin_enabled","instore_enabled","custom_enabled","messageMailin","messageInstore","getEnabledCheckbox","getDisabledCheckbox","purchasing_method_rules","mailin_has_payout","mailin_has_locations","instore_has_payout","instore_has_locations","manualShippingData","manual_shipping_warning","manualShippingRules","is_manual_shipping_warning","manualShippingValidation","$scope","$autoDirty","validateManualShipping","errors","isRequired","tableData","map","row","__spreadProps","enabled","isPurchaseMethodEnabled","purchasingMethod","purchasing_method","purchasingValue","custom","confirmMsg","widget_confirm_msg","mailinMessage","instoreMessage","includes","replace","split","item","e","warn","warningData","initializeManualShippingData","hasTableData","purchasingMethodValue","existing_widget_confirm_msg","getStringValue","updatedData","toString","isLoading","copyText","handlePreview","_c","handleEdit","handleCustomSettings","handleCustomSaved","updated_widget_confirm_msg","handleCheckboxChange","getCustomData","customData","handleClose","this","canDisableMethod","methodKey","needsTooltip","_hoisted_8","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_18","_component_TableColumn","scope","for","_component_Dropdown","trigger","_component_DropdownItem","_createCommentVNode","dense","_component_Modal","value-off","width","placeholder","widget_confirm_msg_shortcode","prop","_hoisted_9","_toDisplayString","code","_hoisted_13","_hoisted_19","href","_hoisted_17","isEnableCollectLeads","is_enable_collectleads","Breadcrumb","Prefix","PriceLock","AutoAccept","LeadBooster","ConfirmationMessage","Imei","LimitItems","__props","__emit","widget_limit_qty_items","__expose","route","useRoute","router","useRouter","payload","modalWidget","actionShow","actionUpdate","state","actionCustomStartingPoint","actionShowLanguage","useWidget","widgetOptions","isProPlan","useUser","stateDevice","actionConditionDeviceWidgetAvailability","useDevice","prefixRef","priceLockRef","autoAcceAutoAcceptRef","leadBoosterRef","confirmationMessageRef","imeiRef","limitItemsRef","loadingAllForm","originalPayload","showUnsavedModal","loadingDiscard","loadingSaveBeforeLeave","pendingNavigation","navigationBlocked","isDataModified","JSON","stringify","priceLock","autoAcceAutoAccept","leadBooster","confirmationMessage","imei","handleUpdateWidget","debounce","mergedPayload","includedKeys","_u","duration","onBeforeRouteLeave","from","next","handleBeforeUnload","event","preventDefault","returnValue","Promise","parse","initializeData","window","addEventListener","onBeforeUnmount","removeEventListener","configurationSummary","summary","totalComponents","activeComponents","hasErrors","values","prefix_enabled","price_lock_enabled","auto_offers_enabled","lead_booster_enabled","imei_enabled","breadcrumb","text","handleSaveAll","validationResults","componentRefs","componentRef","result","push","success","toLowerCase","errorMessages","filter","join","handleReset","ElMessageBox","confirm","confirmButtonText","cancelButtonText","confirmButtonClass","assign","handleComponentUpdate","handleBeforeRouteLeave","handleDiscardChanges","location","handleSaveAndExit","handleCancelLeave","_component_Breadcrumb","page-title","back-to","_component_Card","header","_component_Prefix","static-data","_component_PriceLock","_component_LimitItems","_component_AutoAccept","_component_ConfirmationMessage","_component_LeadBooster","_component_Imei","closeTo","hide-header","_imports_0","index","genSuspense","useSuspense"],"mappings":"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"}