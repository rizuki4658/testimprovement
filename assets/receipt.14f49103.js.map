{"version":3,"file":"receipt.14f49103.js","sources":["../../src/store/pinia/setting/receipt.js"],"sourcesContent":["import { defineStore } from 'pinia'\nimport request from 'utils/request'\n\nexport const useSettingReceiptStore = defineStore('settingReceipt', {\n\tstate: () => {\n\t\treturn {\n\t\t\tlist: {\n\t\t\t\tisLoading: false,\n\t\t\t\tresult: [],\n\t\t\t},\n\t\t\tform: {\n\t\t\t\treceipt: {\n\t\t\t\t\tkey: '',\n\t\t\t\t\tname: '',\n\t\t\t\t\tsort_code: [],\n\t\t\t\t\ttextinfo: ''\n\t\t\t\t},\n\t\t\t\taddtional_provision: {\n\t\t\t\t\tkey: '',\n\t\t\t\t\tname: '',\n\t\t\t\t\tsort_code: [],\n\t\t\t\t\ttextinfo: ''\n\t\t\t\t},\n\t\t\t\tis_custom_addtional_provision: 0\n\t\t\t},\n\t\t\tget: {\n\t\t\t\tisLoading: false,\n\t\t\t\tresult: undefined,\n\t\t\t\terror: undefined\n\t\t\t},\n\t\t\tupdate: {\n\t\t\t\tisLoading: false,\n\t\t\t\terror: undefined\n\t\t\t},\n\t\t\tpreview: {\n\t\t\t\tisLoading: false,\n\t\t\t\tresult: undefined,\n\t\t\t\terror: undefined\n\t\t\t},\n\t\t\treset: {\n\t\t\t\tisLoading: false,\n\t\t\t\terror: undefined\n\t\t\t}\n\t\t}\n\t},\n\tgetters: {},\n\tactions: {\n\t\tasync $getList() {\n\t\t\tthis.$state.list.isLoading = true\n\n\t\t\tconst response = await request({\n\t\t\t\turl: '/v1/pos/settings/receipt/list',\n\t\t\t\tmethod: 'get',\n\t\t\t}).catch(error => {\n\t\t\t\tthis.$state.list.error = error.message || 'Failed to fetch list receipts'\n\t\t\t})\n\n\t\t\tthis.$state.list.result = response\n\n\t\t\treturn response\n\t\t},\n\t\tasync $get(payload) {\n\t\t\tthis.$state.get.error = undefined\n\n\t\t\tconst response = await request({\n\t\t\t\turl: `/v1/pos/settings/receipt`,\n\t\t\t\tmethod: 'get',\n\t\t\t\tparams: payload.params\n\t\t\t}).catch(error => {\n\t\t\t\tthis.$state.get.error = error.message || 'Failed to fetch bulk quote'\n\t\t\t})\n\n\t\t\tthis.$state.get.result = response\n\n\t\t\treturn response\n\t\t},\n\t\tasync $update(payload) {\n\t\t\tthis.$state.update.error = undefined\n\n\t\t\treturn await request({\n\t\t\t\turl: '/v1/pos/settings/receipt',\n\t\t\t\tmethod: 'put',\n\t\t\t\tdata: payload.data,\n\t\t\t\tparams: payload.params\n\t\t\t}).catch(error => {\n\t\t\t\tthis.$state.update.error = error.message || 'Failed to save bulk quote'\n\t\t\t})\n\t\t},\n\t\tasync $preview(payload) {\n\t\t\tthis.$state.preview.result = undefined\n\t\t\tthis.$state.preview.error = undefined\n\n\t\t\tconst response = await request({\n\t\t\t\turl: '/v1/pos/settings/receipt/preview',\n\t\t\t\tmethod: 'post',\n\t\t\t\tdata: payload.data,\n\t\t\t\tparams: payload.params,\n\t\t\t\tresponseType: 'arraybuffer'\n\t\t\t}).catch(error => {\n\t\t\t\tthis.$state.preview.error = error.message || 'Failed to preview bulk quote'\n\t\t\t})\n\n\t\t\tthis.$state.preview.result = response\n\n\t\t\treturn response\n\t\t},\n\t\tasync $reset(payload) {\n\t\t\tthis.$state.reset.error = undefined\n\n\t\t\treturn await request({\n\t\t\t\turl: '/v1/pos/settings/receipt/reset',\n\t\t\t\tmethod: 'put',\n\t\t\t\tparams: payload.params,\n\t\t\t\tdata: payload.data\n\t\t\t}).catch(error => {\n\t\t\t\tthis.$state.reset.error = error.message || 'Failed to reset bulk quote'\n\t\t\t})\n\t\t}\n\t}\n})\n"],"names":["useSettingReceiptStore","defineStore","state","list","isLoading","result","form","receipt","key","name","sort_code","textinfo","addtional_provision","is_custom_addtional_provision","get","error","update","preview","reset","getters","actions","[object Object]","this","$state","response","request","url","method","catch","message","payload","params","data","responseType"],"mappings":"iFAGY,MAACA,EAAyBC,EAAY,iBAAkB,CACnEC,MAAO,KACC,CACNC,KAAM,CACLC,WAAW,EACXC,OAAQ,IAETC,KAAM,CACLC,QAAS,CACRC,IAAK,GACLC,KAAM,GACNC,UAAW,GACXC,SAAU,IAEXC,oBAAqB,CACpBJ,IAAK,GACLC,KAAM,GACNC,UAAW,GACXC,SAAU,IAEXE,8BAA+B,GAEhCC,IAAK,CACJV,WAAW,EACXC,YAAQ,EACRU,WAAO,GAERC,OAAQ,CACPZ,WAAW,EACXW,WAAO,GAERE,QAAS,CACRb,WAAW,EACXC,YAAQ,EACRU,WAAO,GAERG,MAAO,CACNd,WAAW,EACXW,WAAO,KAIVI,QAAS,GACTC,QAAS,CAAAC,iBAEFC,KAAAC,OAAOpB,KAAKC,WAAY,EAEvB,MAAAoB,QAAiBC,EAAQ,CAC9BC,IAAK,gCACLC,OAAQ,QACNC,OAAeb,IACjBO,KAAKC,OAAOpB,KAAKY,MAAQA,EAAMc,SAAW,mCAKpC,OAFFP,KAAAC,OAAOpB,KAAKE,OAASmB,EAEnBA,GAAAH,WAEGS,GACLR,KAAAC,OAAOT,IAAIC,WAAQ,EAElB,MAAAS,QAAiBC,EAAQ,CAC9BC,IAAK,2BACLC,OAAQ,MACRI,OAAQD,EAAQC,SACdH,OAAeb,IACjBO,KAAKC,OAAOT,IAAIC,MAAQA,EAAMc,SAAW,gCAKnC,OAFFP,KAAAC,OAAOT,IAAIT,OAASmB,EAElBA,GAAAH,cAEMS,GAGb,OAFKR,KAAAC,OAAOP,OAAOD,WAAQ,QAEdU,EAAQ,CACpBC,IAAK,2BACLC,OAAQ,MACRK,KAAMF,EAAQE,KACdD,OAAQD,EAAQC,SACdH,OAAeb,IACjBO,KAAKC,OAAOP,OAAOD,MAAQA,EAAMc,SAAW,gCAAAR,eAG/BS,GACTR,KAAAC,OAAON,QAAQZ,YAAS,EACxBiB,KAAAC,OAAON,QAAQF,WAAQ,EAEtB,MAAAS,QAAiBC,EAAQ,CAC9BC,IAAK,mCACLC,OAAQ,OACRK,KAAMF,EAAQE,KACdD,OAAQD,EAAQC,OAChBE,aAAc,gBACZL,OAAeb,IACjBO,KAAKC,OAAON,QAAQF,MAAQA,EAAMc,SAAW,kCAKvC,OAFFP,KAAAC,OAAON,QAAQZ,OAASmB,EAEtBA,GAAAH,aAEKS,GAGZ,OAFKR,KAAAC,OAAOL,MAAMH,WAAQ,QAEbU,EAAQ,CACpBC,IAAK,iCACLC,OAAQ,MACRI,OAAQD,EAAQC,OAChBC,KAAMF,EAAQE,OACZJ,OAAeb,IACjBO,KAAKC,OAAOL,MAAMH,MAAQA,EAAMc,SAAW"}