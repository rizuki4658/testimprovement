{"version":3,"file":"index.5cb44e3b.js","sources":["../../src/views/integration/shipengine/config/index.vue"],"sourcesContent":["<template>\n  <div>\n    <Tab :items=\"tabs\" />\n    <template v-if=\"isEmptyCarriers && !loading.shippingProvider.fetchCarriers\">\n      <ShippingProviderEmptyCarrier\n        shipping-type=\"Shipengine\"\n        @action=\"handleSetupAccount\"\n      />\n    </template>\n    <template v-else>\n      <div\n        :style=\"{ maxHeight: '50vh', overflowY: 'auto', paddingRight: '10px' }\"\n      >\n        <RouterView v-slot=\"{ Component, route }\">\n          <template v-if=\"Component\">\n            <Transition name=\"slide-fade\" :key=\"route.name\">\n              <KeepAlive>\n                <Suspense>\n                  <template #default>\n                    <component\n                      ref=\"componentElement\"\n                      :is=\"Component\"\n                      :key=\"route.name\"\n                    ></component>\n                  </template>\n                  <template #fallback>\n                    <div class=\"w-full flex items-center justify-center py-12\">\n                      <BaseLoading />\n                    </div>\n                  </template>\n                </Suspense>\n              </KeepAlive>\n            </Transition>\n          </template>\n        </RouterView>\n      </div>\n    </template>\n  </div>\n</template>\n<script>\nimport { computed, defineComponent, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useShippingKit } from 'composable/integration/shipengine'\nimport {\n  useConfig,\n  useShippingProvider\n} from 'composable/integration/shipengine'\n\nimport Tab from 'bbUi/components/tab/tab.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nimport ShippingProviderEmptyCarrier from 'components/Integration/ShippingProviderEmptyCarrier.vue'\nimport BaseLoading from 'components/BaseLoading.vue'\n\nexport default defineComponent({\n  components: {\n    Tab,\n    Button,\n    ShippingProviderEmptyCarrier,\n    BaseLoading\n  },\n  async setup() {\n    const router = useRouter()\n    const { tabs } = useConfig()\n    const { carriers, fetchCarriers, loading } = useShippingProvider()\n    const { fetchShippingKit } = useShippingKit()\n\n    const componentElement = ref(null)\n    const isEmptyCarriers = computed(() => carriers.value.length === 0)\n    const handleSetupAccount = () => {\n      window.open(\n        'https://dashboard.shipengine.com',\n        '_blank',\n        'noreferrer noopener'\n      )\n    }\n\n    const isErrorFetchingCarriers = await fetchCarriers()\n    if(isErrorFetchingCarriers) await router.push({\n      name: 'integrationShipengineConnect'\n    })\n    await fetchShippingKit()\n\n    return {\n      tabs,\n      loading,\n      componentElement,\n      isEmptyCarriers,\n      handleSetupAccount\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.loading-logo {\n  animation: rotate 0.8s infinite linear;\n}\n@keyframes rotate {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(-360deg);\n  }\n}\n</style>\n"],"names":["_sfc_main","defineComponent","components","Tab","Button","ShippingProviderEmptyCarrier","BaseLoading","[object Object]","router","useRouter","tabs","useConfig","carriers","fetchCarriers","loading","useShippingProvider","fetchShippingKit","useShippingKit","componentElement","ref","isEmptyCarriers","computed","value","length","push","name","handleSetupAccount","window","open","key","_openBlock","_createElementBlock","_createVNode","_component_Tab","items","_ctx","shippingProvider","shipping-type","_hoisted_1","_withCtx","Component","route","_createBlock","_Transition","_KeepAlive","_Suspense","default","_resolveDynamicComponent","fallback","_hoisted_2"],"mappings":"8ZAsDA,MAAKA,EAAaC,EAAa,CAC7BC,WAAY,CACVC,IAAAA,EACAC,OAAAA,EACAC,6BAAAA,EACAC,YAAAA,GAAAC,cAGA,MAAMC,EAASC,KACTC,KAAEA,GAASC,KACXC,SAAEA,EAAUC,cAAAA,EAAAC,QAAeA,GAAYC,KACvCC,iBAAEA,GAAqBC,IAEvBC,EAAmBC,EAAI,MACvBC,EAAkBC,GAAS,IAAgC,IAA1BT,EAASU,MAAMC,SAe/C,aAN+BV,WACJL,EAAOgB,KAAK,CAC5CC,KAAM,uCAEFT,IAEC,CACLN,KAAAA,EACAI,QAAAA,EACAI,iBAAAA,EACAE,gBAAAA,EACAM,mBAnByB,KAClBC,OAAAC,KACL,mCACA,SACA,+BA9DCC,IAAK,gQATWC,OAAAA,IAAAC,EAAJ,MAAA,KAAA,CACDC,EAAAC,EAAoB,CAAAC,MAAOC,EAACzB,MAAA,KAA8B,EAAA,CAAA,8BAItEyB,EAAArB,QAAAsB,iBAAAvB,wBAFAgB,IAAA,EACCQ,gBAA0B,4CAI7B,KAAA,EAAA,CAAA,eAwBeN,IAAAA,EAAA,MAAAO,EAAA,KArByB,KAAA,SACXC,GAAA,EAAAC,UAAAA,EAAAC,MAAAA,KAAA,IACMC,IAAAA,EAAAC,EAAA,CAAElB,KAAU,qCAgB3B,IAAA,QADCmB,EAAA,KAAA,EAZEd,MAKIe,EAAA,KAAA,CAJbC,QAAAP,GAAA,IAAA,EACET,IAAsBY,EAAAK,EAAAP,GAAA,CAErBrB,IAAK,oCAIR6B,SAAAT,GAAA,OACiB,MAAAU,EAAA"}