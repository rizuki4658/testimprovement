{"version":3,"file":"PaymentMethod.391228b7.js","sources":["../../src/components/PaymentMethod.vue"],"sourcesContent":["<template>\n\t<TremendousCard class=\"mb-6\" />\n  <div\n    class=\"grid grid-cols-12 gap-6 rounded-lg\"\n    v-if=\"!isEmptyPayoutMethods\"\n  >\n    <div\n      class=\"lg:col-span-5 col-span-12 border rounded-lg border-grey-01 p-2 pt-6 relative\"\n    >\n    <p class=\"mb-3 absolute -top-3 -translate-y-1/2 bg-white px-2\">Payout</p>\n      <p class=\"mb-3 font-semibold ml-3\">Choose Payout Method</p>\n      <!--      <Tab color=\"teal\" v-model=\"paymentMethod\" :by=\"null\" :items=\"items\" :validate=\"validate\" component type=\"vertical\" />-->\n      <Tab\n        color=\"teal\"\n        v-model=\"paymentMethod\"\n        :by=\"null\"\n        :items=\"items\"\n        align=\"left\"\n        :use-external-icon=\"true\"\n        component\n        type=\"vertical\"\n      />\n    </div>\n    <div class=\"lg:col-span-7 col-span-12\">\n      <template v-if=\"paymentMethod.is_custom\">\n        <component\n          ref=\"refChildComponent\"\n          v-model:data=\"data\"\n          :payout=\"paymentMethod\"\n          :is=\"paymentMethod.component\"\n        />\n      </template>\n      <template v-else>\n        <component\n          v-bind=\"bind\"\n          v-model:data=\"data\"\n          :is=\"paymentMethod.component\"\n          ref=\"refChildComponent\"\n        />\n      </template>\n      <slot name=\"additional\" />\n    </div>\n  </div>\n  <div class=\"flex items-center justify-center flex-col my-10\" v-else>\n    <p class=\"text-grey-04 mb-4 text-center\">\n      Oops, you haven't set up payout for your customers. <br />\n      Please click the button below\n    </p>\n    <Button\n      color=\"teal\"\n      :to=\"{ name: 'settingPayoutsMethod' }\"\n      link\n      dense\n      >Payout Methods</Button\n    >\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref, computed, reactive, watch } from 'vue'\nimport Tab from 'bbUi/components/tab/tab.vue'\nimport AmazonGiftCard from './PaymentMethod/AmazonGiftCard.vue'\nimport BankTransfer from './PaymentMethod/BankTransfer.vue'\nimport PaperCheck from './PaymentMethod/PaperCheck.vue'\nimport ExpressCheck from './PaymentMethod/PaperCheck.vue'\nimport PayPal from './PaymentMethod/PayPal.vue'\nimport Swish from './PaymentMethod/Swish.vue'\nimport SquareCash from './PaymentMethod/SquareCash.vue'\nimport Venmo from './PaymentMethod/Venmo.vue'\nimport Coinbase from './PaymentMethod/Coinbase.vue'\nimport Zelle from './PaymentMethod/Zelle.vue'\nimport CashApp from './PaymentMethod/CashApp.vue'\nimport ApplePay from './PaymentMethod/ApplePay.vue'\nimport GooglePay from './PaymentMethod/GooglePay.vue'\nimport FacebookPay from './PaymentMethod/FacebookPay.vue'\nimport Cash from './PaymentMethod/Cash.vue'\nimport StoreCredit from './PaymentMethod/StoreCredit.vue'\nimport ChooseLater from './PaymentMethod/ChooseLater.vue'\nimport VirtualDebitCard from './PaymentMethod/VirtualDebitCard.vue'\nimport GiftCard from './PaymentMethod/GiftCard.vue'\nimport InteraceTransfer from './PaymentMethod/InteracTransfer.vue'\nimport Echeck from './PaymentMethod/Echeck.vue'\nimport Donate from './PaymentMethod/Donate.vue'\nimport Bill from './PaymentMethod/Bill.vue'\nimport Rebate from './PaymentMethod/Rebate.vue'\nimport Custom from './PaymentMethod/Custom.vue'\nimport Default from './PaymentMethod/Default.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport TremendousCard from \"components/Shared/TremendousCard/TremendousCard.vue\";\nimport Revolut from './PaymentMethod/Revolut.vue'\n\nimport { PAYMENT_ID } from '@/constants/payment.js'\n\nexport default defineComponent({\n  components: {\n    Tab,\n    AmazonGiftCard,\n    BankTransfer,\n    PaperCheck,\n    ExpressCheck,\n    PayPal,\n    Swish,\n    SquareCash,\n    Venmo,\n    Coinbase,\n    Cash,\n    Zelle,\n    CashApp,\n    ApplePay,\n    GooglePay,\n    FacebookPay,\n    StoreCredit,\n\t\tChooseLater,\n    VirtualDebitCard,\n    GiftCard,\n    InteraceTransfer,\n    Echeck,\n    Donate,\n    Bill,\n    Rebate,\n    Custom,\n    Default,\n    Button,\n\t\tTremendousCard,\n    Revolut\n  },\n  props: {\n    data: {\n      type: Object,\n      default: () => ({})\n    },\n    items: {\n      type: Array,\n      default: () => ([])\n    },\n    autoSelect: {\n      type: Boolean,\n      default: false\n    },\n    showTip: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\n    'update:data'\n  ],\n  setup(props, { emit }) {\n    const refChildComponent = ref(null)\n    const paymentMethod = ref(null)\n    const data = ref(null)\n    const tempData = reactive(props.data || {})\n    const find = props.data ? props.items.findIndex(item => item.name === tempData.payment_method) : -1\n    const index = find !== -1 ? find : 0\n\n    if( props.autoSelect ){\n      paymentMethod.value = props.items[index] ? props.items[index] : null\n    }else{\n      paymentMethod.value = {\n        component: 'default'\n      }\n    }\n    const isEmptyPayoutMethods = computed(() => Object.keys(props.items).length < 1)\n\n    watch(paymentMethod, () => {\n      let temp\n\n      if(props.data && find !== -1 && props.items[index].name === paymentMethod.value.name) {\n        temp = tempData\n      }\n      else if (paymentMethod.value && !paymentMethod.value.attributes?.length && paymentMethod.value.name !== 'Bank Transfer'){\n        temp = paymentMethod.value.attributes\n      }\n      else if(paymentMethod.value && paymentMethod.value.default_value !== '-' && !paymentMethod.value.default_value?.length) {\n        temp = paymentMethod.value.default_value\n      }\n      else {\n        temp = {}\n      }\n\n      data.value = Object.assign({\n        payment_method: paymentMethod.value?.name || null\n      }, temp)\n      emit('update:data', data.value)\n    }, {\n      immediate: true\n    })\n    const list = computed(() => {\n      if(paymentMethod.value && paymentMethod.value.default_value !== '-' && paymentMethod.value.default_value?.length) {\n        return paymentMethod.value.default_value\n      }\n      return null\n    })\n    const bind = computed(() => {\n      const bind = {}\n      // data.value = Object.assign({\n      //   payment_method: paymentMethod.value.name\n      // }, data.value)\n      if(list.value) bind.list = list.value\n\n      // to show and remove arrow on cash payout method component\n      const isEmptyFormPayoutIds = [PAYMENT_ID.CASH, PAYMENT_ID.STORE_CREDIT, PAYMENT_ID.VIRTUAL_DEBIT_CARD, PAYMENT_ID.GIFT_CARD]\n      if(isEmptyFormPayoutIds.includes(paymentMethod.value?.id) && props.showTip) Object.assign(bind, {showTip: true})\n\n      const isBankTransfer = paymentMethod.value?.id === PAYMENT_ID.BANK_TRANSFER && paymentMethod.value?.name === 'Bank Transfer'\n      if(isBankTransfer) {\n        const hasPredefinedAttributes = props.data?.bank_transfer\n        if(hasPredefinedAttributes){\n          bind.attributes = props.data.bank_transfer\n          bind.defaultAttributes = paymentMethod.value?.attributes\n        }else{\n          bind.defaultAttributes = paymentMethod.value?.attributes\n        }\n      }\n\n      // emit('update:data', bind.data)\n      return bind\n    })\n    watch(() => ({...data.value}), () => {\n      emit('update:data', data.value)\n    },{\n      immediate: true\n    })\n    const validate = data => {\n      return data.default_value !== '-'\n    }\n\n    return {\n      paymentMethod,\n      isEmptyPayoutMethods,\n      bind,\n      data,\n      refChildComponent,\n      validate\n    }\n  }\n})\n</script>\n"],"names":["_sfc_main","defineComponent","components","Tab","AmazonGiftCard","BankTransfer","PaperCheck","ExpressCheck","PayPal","Swish","SquareCash","Venmo","Coinbase","Cash","Zelle","CashApp","ApplePay","GooglePay","FacebookPay","StoreCredit","ChooseLater","VirtualDebitCard","GiftCard","InteraceTransfer","Echeck","Donate","Bill","Rebate","Custom","Default","Button","TremendousCard","Revolut","props","data","type","Object","default","items","Array","autoSelect","Boolean","showTip","emits","[object Object]","emit","refChildComponent","ref","paymentMethod","tempData","reactive","find","findIndex","item","name","payment_method","index","value","component","isEmptyPayoutMethods","computed","keys","length","watch","temp","_a","attributes","default_value","_b","assign","_c","immediate","list","bind","bind2","PAYMENT_ID","CASH","STORE_CREDIT","VIRTUAL_DEBIT_CARD","GIFT_CARD","includes","id","BANK_TRANSFER","_d","bank_transfer","defaultAttributes","_e","_f","__spreadValues","validate","data2","key","_hoisted_2","class","_openBlock","_createElementBlock","_Fragment","_component_TremendousCard","_ctx","_hoisted_4","_cache","_createElementVNode","_createTextVNode","_createVNode","_component_Button","color","to","link","_hoisted_1","_component_Tab","onUpdate:modelValue","$event","by","align","use-external-icon","_hoisted_3","is_custom","onUpdate:data","_createBlock","_resolveDynamicComponent","_mergeProps"],"mappings":"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"}