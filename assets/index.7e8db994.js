var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{u as r}from"./components.4d38f2db.js";import{C as s}from"./card.0f43ecfb.js";import{_ as i,e as c,f as n,j as d,b as m,P as u,u as f,g as p}from"./index.73ae30fa.js";import{_ as b}from"./badge.809b6147.js";import{B as _}from"./Breadcrumb.8a4b1e47.js";import{_ as w}from"./radio.8e5ba094.js";import{_ as g}from"./group-container.65872e02.js";import{a as k}from"./report.af1df290.js";import{c as h}from"./status.6f59bf91.js";import{a as y}from"./date.f86face7.js";import{C as x}from"./Currency.2f332742.js";import{T as v}from"./TextLimit.bef1a674.js";import{k as C,y as j,m as D,$ as F,o as B,t as O,B as V,D as T,w as L,I as S,K as P,a3 as A,U as R,a1 as U,a2 as I,n as $,A as G}from"./vendor.9695fe57.js";import"./LoadingCard.d1cef10f.js";import"./breadcrumb.fd540912.js";import"./dymo.843c8f66.js";const N=C({components:{Card:s,Checkbox:c,Input:n,Alert:d,Button:m,Badge:b,Breadcrumb:_,Radio:w,GroupContainer:g,Pagination:u,Currency:x,TextLimit:v},async setup(e,{emit:r}){const{me:s}=f(),{state:i,data:c,loading:n,downloadCSV:d,filterList:m,clearFilter:u,clearAllFilter:b,isFiltered:_,filterDateRef:w,filterDateOptions:g,filterDateFocus:x,actionShow:v,actionPrintCheck:C}=k();await v();return j((()=>({limit:c.limit,search:c.search,date:c.date})),(()=>{c.page=1}),{deep:!0}),j((()=>((e,r)=>{for(var s in r||(r={}))t.call(r,s)&&o(e,s,r[s]);if(a)for(var s of a(r))l.call(r,s)&&o(e,s,r[s]);return e})({},c)),p((async()=>{await v()}),500),{deep:!0}),{state:i,data:c,breadcrumb:[{text:"Report",to:{name:"report"}},{text:"Check Register"}],color:h,me:s,loading:n,filterList:m,isFiltered:_,download:async()=>{await d()},clearFilter:u,clearAllFilter:b,filterDateOptions:g,filterDateRef:w,filterDateFocus:x,format:y,printCheck:async e=>{await C(e)}}}}),E={class:"flex xl:flex-row flex-col justify-between mb-8"},K={class:"flex items-center py-4 px-10"},M={class:"text-xl"},q={class:"flex justify-end items-center mb-6"},z={class:"flex flex-col md:flex-row mb-6"},H={class:"flex-grow md:mr-3 md:mb-0 mb-3"},J={class:"flex-grow-0"},Q={key:0,class:"flex-grow-0 self-center ml-4"},W={class:"flex items-center flex-row mb-6"},X=["onClick"],Y={class:"inline-block ml-3"},Z={class:"flex flex-col mt-6"},ee={class:"lg:opacity-0 group-hover:opacity-100 transition-opacity"};var ae=i(N,[["render",function(e,a,t,l,o,r){const s=D("Breadcrumb"),i=D("Currency"),c=D("Alert"),n=D("Button"),d=D("Input"),m=D("DatePicker"),u=D("GroupContainer"),f=D("Checkbox"),p=D("router-link"),b=D("TableColumn"),_=D("TextLimit"),w=D("Badge"),g=D("Table"),k=D("Pagination"),h=D("Card"),y=F("loading");return B(),O(U,null,[V("div",E,[T(s,{pageTitle:"Check Register",backTo:{name:"report"},items:e.breadcrumb},null,8,["items"])]),T(h,null,{default:L((()=>[T(c,{color:"blue",view:"smooth",class:"my-6"},{default:L((()=>[V("div",K,[a[7]||(a[7]=V("img",{src:"/icon/check-register/calculator.svg",alt:"Calculator icon",class:"mr-10"},null,-1)),V("span",M,[a[6]||(a[6]=S("Total Spent: ")),V("b",null,[T(i,{value:e.state.show.total_spent},null,8,["value"])])])])])),_:1}),V("div",q,[T(n,{view:"smooth",color:"grey"},{default:L((()=>[S(P("2"===e.data.buyback_type?`Local - ${e.state.show.local_account_number}`:`Online - ${e.state.show.online_account_number}`),1)])),_:1})]),V("div",z,[V("div",H,[T(d,{placeholder:"Search everything",class:"w-full",icon:"",modelValue:e.data.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.search=a)},{icon:L((()=>a[8]||(a[8]=[V("span",{class:"material-icons"},"search",-1)]))),_:1},8,["modelValue"])]),V("div",J,[T(u,null,{default:L((()=>[T(n,{view:"outlined",color:"white",onClick:e.download},{default:L((()=>a[9]||(a[9]=[V("span",{class:"material-icons"},"get_app",-1),S(" CSV ")]))),_:1},8,["onClick"]),T(n,{view:"outlined",color:"white",onClick:e.filterDateFocus,onBlur:e.filterDateFocus},{default:L((()=>[T(m,A({modelValue:e.data.date,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.date=a)},e.filterDateOptions,{type:"daterange",ref:"filterDateRef",class:"hide-picker"}),null,16,["modelValue"]),a[10]||(a[10]=S(" Select Date "))])),_:1},8,["onClick","onBlur"])])),_:1})]),e.me.package_id>2?(B(),O("div",Q,[T(f,{modelValue:e.data.buyback_type,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.buyback_type=a),type:"toggle",color:"teal",value:"1","value-off":"2"},{default:L((()=>a[11]||(a[11]=[S("Mail-in")]))),_:1},8,["modelValue"])])):R("",!0)]),V("div",W,[(B(!0),O(U,null,I(e.filterList,((a,t)=>(B(),O("div",{class:"inline-block",key:t},[a.value?(B(),$(n,{key:0,color:"grey",view:"smooth",dense:"",class:"mx-1"},{default:L((()=>[V("b",null,P(a.name)+":",1),S(" "+P(a.value),1),V("i",{class:"material-icons text-sm ml-2",onClick:t=>e.clearFilter(a)},"close",8,X)])),_:2},1024)):R("",!0)])))),128)),V("div",Y,[e.isFiltered?(B(),$(n,{key:0,onClick:e.clearAllFilter,color:"teal",view:"smooth",dense:""},{default:L((()=>a[12]||(a[12]=[V("i",{class:"material-icons text-sm mr-1"},"close",-1),S("Clear all ")]))),_:1},8,["onClick"])):R("",!0)])]),V("div",Z,[G((B(),$(g,{class:"mb-6",data:e.state.show.table.data,"onUpdate:data":a[3]||(a[3]=a=>e.state.show.table.data=a)},{default:L((()=>[T(b,{prop:"box_id",label:"Buyback ID"},{default:L((a=>[T(p,{tag:"a",class:"font-bold",to:{name:"2"===e.data.buyback_type?"buybackLocalDetail":"buybackOnlineDetail",params:{buybackId:a.row.box_id}}},{default:L((()=>[S(P(a.row.box_id),1)])),_:2},1032,["to"])])),_:1}),T(b,{label:"Customer Name"},{default:L((e=>[T(_,{text:e.row.customer||e.row.customer_name||""},null,8,["text"])])),_:1}),T(b,{prop:"order_status.short_name",label:"Status"},{default:L((a=>[T(w,{color:e.color(a.row.order_status.short_name)},{default:L((()=>[S(P(a.row.order_status.short_name),1)])),_:2},1032,["color"])])),_:1}),T(b,{prop:"check_date",label:"Check Date"},{default:L((a=>[S(P(a.row.check_date?e.format(a.row.check_date):"-"),1)])),_:1}),T(b,{prop:"check_number",label:"Check Number"}),T(b,{prop:"sub_total",label:"Total Check Amount"},{default:L((e=>[T(i,{value:e.row.sub_total},null,8,["value"])])),_:1}),T(b,{prop:"action"},{default:L((t=>[V("div",ee,[T(n,{dense:"",color:"teal",view:"smooth",loading:e.loading.print[t.row.box_id]||!1,onClick:a=>e.printCheck(t.row.box_id)},{default:L((()=>a[13]||(a[13]=[V("i",{class:"material-icons text-lg"},"print",-1)]))),_:2},1032,["loading","onClick"])])])),_:1})])),_:1},8,["data"])),[[y,e.loading.show]]),T(k,{page:e.data.page,"onUpdate:page":a[4]||(a[4]=a=>e.data.page=a),limit:e.data.limit,"onUpdate:limit":a[5]||(a[5]=a=>e.data.limit=a),data:e.state.show.table},null,8,["page","limit","data"])])])),_:1})],64)}]]),te=C({setup(){const{genSuspense:e}=r();return()=>e(ae)}});export{te as default};
