{"version":3,"file":"index.b8c0b0e6.js","sources":["../../src/views/setting/faq/index.vue","../../src/views/setting/faq/index.js"],"sourcesContent":["<template>\n  <div class=\"flex xl:flex-row flex-col justify-between mb-8\">\n    <div class=\"lg:flex lg:divide-x lg:divide-grey-01\">\n        <div class=\"flex items-center lg:pr-4 lg:mb-0 mb-4\">\n          <router-link :to=\"{ name: 'setting' }\" class=\"text-dark mr-4\"><span class=\"material-icons\">chevron_left</span></router-link>\n          <h5>FAQ</h5>\n        </div>\n        <div class=\"lg:pl-4 flex items-center\">\n          <Breadcrumb :items=\"breadcrumb\">\n            <span class=\"material-icons\">chevron_right</span>\n          </Breadcrumb>\n        </div>\n      </div>\n      <Button view=\"outlined\" color=\"teal\" class=\"lg:mt-0 mt-4 ml-auto\" :to=\"{ name: 'settingFaqCreate' }\" link><span class=\"material-icons\">add</span> Add New FAQ</Button>\n  </div>\n  <Card v-loading=\"loading.all\">\n    <div class=\"flex flex-col mt-2\">\n      <Table :data=\"stateAll.data\">\n        <TableColumn label=\"Category\">\n          <template #default=\"scope\">\n            {{scope.row.faq_category.name}}\n          </template>\n        </TableColumn>\n        <TableColumn prop=\"question\" label=\"Question\" />\n        <TableColumn label=\"Answer\">\n          <template #default=\"scope\">\n            <div v-html=\"sanitize(scope.row.answer)\" class=\"ck-content-preview\"></div>\n          </template>\n        </TableColumn>\n        <TableColumn label=\"\">\n          <template #default=\"scope\">\n            <div class=\"flex items-center justify-center lg:opacity-0 group-hover:opacity-100 transition-opacity\">\n              <Button view=\"smooth\" color=\"blue\" class=\"mr-4\" dense @click=\"editFaq(scope.row.id)\">\n                <span class=\"material-icons text-xl\">edit</span>\n              </Button>\n               <Button view=\"smooth\" color=\"red\" dense @click=\"openDeleteModal(scope.row)\">\n                <span class=\"material-icons text-xl\">delete</span>\n              </Button>\n            </div>\n          </template>\n        </TableColumn>\n      </Table>\n      <Pagination v-model:page=\"filters.page\" v-model:limit=\"filters.limit\" :data=\"stateAll\" />\n    </div>\n  </Card>\n  <Modal v-model=\"modal.delete\" hide-footer hide-header>\n    <div class=\"flex flex-col items-center justify-center my-10\">\n      <div class=\"flex flex-col items-center justify-center mb-6\">\n        <img class=\"mb-6\" src=\"@/assets/icon/attention.svg\" alt=\"Success Icon\">\n        <h2 class=\"text-2xl mb-2\">Delete this FAQ</h2>\n        <p>Are you sure want to delete this FAQ?</p>\n      </div>\n      <div class=\"flex flex-wrap\">\n        <Button color=\"teal\" view=\"smooth\" class=\"mr-4\" @click=\"modal.delete = false\">Cancel</Button>\n        <Button color=\"red\" view=\"smooth\" @click=\"deleteFaq\" :loading=\"loading.delete\">Yes</Button>\n      </div>\n    </div>\n  </Modal>\n</template>\n\n<script>\nimport { defineComponent, watch, ref } from 'vue'\nimport { useFaq } from 'composable/setting'\nimport { useRouter } from 'vue-router'\nimport Card from 'bbUi/components/card/card.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Pagination from 'components/Pagination.vue'\nimport Breadcrumb from 'bbUi/components/breadcrumb/breadcrumb.vue'\nimport Modal from 'bbUi/components/modal/modal.vue'\nimport debounce from 'utils/debounce'\nimport { sanitize } from 'utils/dom'\nimport { ElMessage } from 'element-plus'\n\nexport default defineComponent({\n  components: {\n    Card,\n    Input,\n    Button,\n    Breadcrumb,\n    Pagination,\n    Modal\n  },\n  async setup(props, { emit }) {\n    const { stateAll, loading, filters, actionAll, actionDelete, modal } = useFaq()\n    const router = useRouter()\n    const selectedItem = ref(null)\n    const breadcrumb = [{\n      text: 'Settings',\n      to: {\n        name: 'setting'\n      }\n    }, {\n      text: 'FAQ'\n    }]\n    const openDeleteModal = (item) => {\n      selectedItem.value = item\n      modal.delete = true\n    }\n    const deleteFaq = async () => {\n      await actionDelete(selectedItem.value.id, async() => {\n        ElMessage({\n          type: 'success',\n          message: 'FAQ deleted'\n        })\n        await actionAll()\n      })\n      selectedItem.value = null\n      modal.delete = false\n    }\n    const editFaq = (id) => router.push({\n      name: 'settingFaqEdit',\n      params: {\n        id\n      }\n    })\n    watch(() => ({...filters}), debounce(async () => {\n      await actionAll()\n    }, 400), {\n      deep: true\n    })\n    \n    watch(() => ({limit: filters.limit}), () => filters.page = 1, {\n      deep: true\n    })\n    await actionAll()\n\n    return {\n      stateAll,\n      loading,\n      filters,\n      modal,\n      breadcrumb,\n      openDeleteModal,\n      deleteFaq,\n      editFaq,\n      sanitize\n    }\n  }\n})\n</script>","import { defineComponent } from 'vue'\nimport { useSuspense } from 'composable/components'\nimport index from './index.vue'\n\nexport default defineComponent({\n  setup() {\n    const { genSuspense } = useSuspense()\n\n    return () => genSuspense(index)\n  }\n})"],"names":["_sfc_main","defineComponent","components","Card","Input","Button","Breadcrumb","Pagination","Modal","[object Object]","props","emit","stateAll","loading","filters","actionAll","actionDelete","modal","useFaq","router","useRouter","selectedItem","ref","watch","__spreadValues","debounce","async","deep","limit","page","breadcrumb","text","to","name","openDeleteModal","item","value","delete","deleteFaq","id","_u","type","message","editFaq","push","params","sanitize","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_6","_hoisted_7","_hoisted_8","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_createVNode","_component_router_link","default","_withCtx","_cache","items","_ctx","_component_Button","view","color","_createBlock","_component_Card","_hoisted_5","_component_Table","_component_TableColumn","label","scope","prop","innerHTML","row","answer","dense","_component_Pagination","onUpdate:page","$event","onUpdate:limit","_component_Modal","modelValue","onUpdate:modelValue","hide-footer","src","_imports_0","_hoisted_9","onClick","index","genSuspense","useSuspense"],"mappings":"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"}