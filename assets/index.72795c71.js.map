{"version":3,"file":"index.72795c71.js","sources":["../../src/views/setting/faq/edit/index.vue","../../src/views/setting/faq/edit/index.js"],"sourcesContent":["<template>\n <div class=\"flex xl:flex-row flex-col justify-between mb-8\">\n    <div class=\"lg:flex lg:divide-x lg:divide-grey-01\">\n        <div class=\"flex items-center lg:pr-4 lg:mb-0 mb-4\">\n          <router-link :to=\"{ name: 'settingFaq' }\" class=\"text-dark mr-4\"><span class=\"material-icons\">chevron_left</span></router-link>\n          <h5>Edit FAQ</h5>\n        </div>\n        <div class=\"lg:pl-4 flex items-center\">\n          <Breadcrumb :items=\"breadcrumb\">\n            <span class=\"material-icons\">chevron_right</span>\n          </Breadcrumb>\n        </div>\n      </div>\n  </div>\n  <Card>\n    <FaqForm ref=\"refForm\" v-model:data=\"formData\" :categories=\"faqCategories\" />\n    <template #footer>\n      <div class=\"flex justify-end\">\n        <Button color=\"teal\" view=\"smooth\" @click=\"updateFaq\" :loading=\"loading.update\">Save</Button>\n      </div>\n    </template>\n  </Card>\n</template>\n\n<script>\nimport { defineComponent, ref } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useFaq } from 'composable/setting'\nimport Card from 'bbUi/components/card/card.vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\nimport Pagination from 'components/Pagination.vue'\nimport Breadcrumb from 'bbUi/components/breadcrumb/breadcrumb.vue'\nimport FaqForm from 'components/Faq/Form.vue'\nimport { ElMessage } from 'element-plus'\n\nexport default defineComponent({\n  components: {\n    Card,\n    Input,\n    Button,\n    Breadcrumb,\n    Pagination,\n    FaqForm\n  },\n  async setup(props, { emit }) {\n    const { formData, loading, actionAll, actionShow, actionUpdate, stateAll, stateShow } = useFaq()\n    const refForm = ref(null)\n    const router = useRouter()\n    const route = useRoute()\n    const breadcrumb = [{\n      text: 'Settings',\n      to: {\n        name: 'setting'\n      }\n    }, {\n      text: 'FAQ',\n      to: {\n        name: 'settingFaq'\n      }\n    },{\n      text: 'Edit FAQ'\n    }]\n    const faqCategories = ref([])\n    const updateFaq = async () => {\n      loading.update = true\n      const isValid = refForm.value?.validate && refForm.value.validate() || false\n      if(isValid) await actionUpdate(route.params.id, () => {\n        router.push({\n          name: 'settingFaq'\n        })\n        ElMessage({\n          type: 'success',\n          message: 'FAQ updated'\n        })\n      })\n    }\n    await Promise.all([\n      actionAll(),\n      actionShow(route.params.id)\n    ])\n\n    faqCategories.value = stateAll.value.faq_categories || []\n\n    Object.assign(formData, {\n      faq_category_id: stateShow.value.faq_category_id,\n      question: stateShow.value.question,\n      answer: stateShow.value.answer\n    })\n\n    return {\n      refForm,\n      formData,\n      loading,\n      breadcrumb,\n      faqCategories,\n      updateFaq\n    }\n  }\n})\n</script>","import { defineComponent } from 'vue'\nimport { useSuspense } from 'composable/components'\nimport index from './index.vue'\n\nexport default defineComponent({\n  setup() {\n    const { genSuspense } = useSuspense()\n\n    return () => genSuspense(index)\n  }\n})"],"names":["_sfc_main","defineComponent","components","Card","Input","Button","Breadcrumb","Pagination","FaqForm","[object Object]","props","emit","formData","loading","actionAll","actionShow","actionUpdate","stateAll","stateShow","useFaq","refForm","ref","router","useRouter","route","useRoute","faqCategories","Promise","all","params","id","value","faq_categories","Object","assign","faq_category_id","question","answer","breadcrumb","text","to","name","updateFaq","async","update","_a","validate","push","_u","type","message","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_createVNode","_component_router_link","default","_withCtx","_cache","items","_ctx","footer","_hoisted_5","_component_Button","color","view","onClick","_component_FaqForm","onUpdate:data","$event","index","genSuspense","useSuspense"],"mappings":"6jBAoCA,MAAKA,EAAaC,EAAa,CAC7BC,WAAY,CACVC,KAAAA,QACAC,EACAC,OAAAA,aACAC,EACAC,WAAAA,EACAC,QAAAA,GAEIC,YAAMC,GAAOC,KAAEA,IACnB,MAAMC,SAAEA,EAAUC,QAAAA,EAAAC,UAASA,aAAWC,EAAYC,aAAAA,EAAAC,SAAcA,YAAUC,GAAcC,IAClFC,EAAUC,EAAI,MACdC,EAASC,IACTC,EAAQC,IAcRC,EAAgBL,EAAI,IA2BnB,aAbDM,QAAQC,IAAI,CAChBd,IACAC,EAAWS,EAAMK,OAAOC,MAGZJ,EAAAK,MAAQd,EAASc,MAAMC,gBAAkB,GAEvDC,OAAOC,OAAOtB,EAAU,CACtBuB,gBAAiBjB,EAAUa,MAAMI,gBACjCC,SAAUlB,EAAUa,MAAMK,SAC1BC,OAAQnB,EAAUa,MAAMM,SAGnB,CACLjB,QAAAA,EACAR,SAAAA,EACAC,QAAAA,EACAyB,WA5CiB,CAAC,CAClBC,KAAM,WACNC,GAAI,CACFC,KAAM,YAEP,CACDF,KAAM,MACNC,GAAI,CACFC,KAAM,eAER,CACAF,KAAM,aAkCNb,cAAAA,EACAgB,UAhCgBC,gBAChB9B,EAAQ+B,QAAS,IACD,OAAQC,EAAAzB,EAAAW,gBAAOe,WAAY1B,EAAQW,MAAMe,aAAc,UACrD9B,EAAaQ,EAAMK,OAAOC,IAAI,KAC9CR,EAAOyB,KAAK,CACVN,KAAM,eAEEO,EAAA,CACRC,KAAM,UACNC,QAAS,wBAvEVC,EAAA,CAAAC,MAAM,kDACFC,EAAA,CAAAD,MAAM,yCAINE,EAAA,CAAAF,MAAM,0CAURG,EAAA,CAAAH,MAAM,yLAhBhBI,OAAAA,IAYOC,EAAAC,EAAA,KAAA,CAXJC,EAAA,QAUQ,CATJA,EAAA,QAGM,GAF2H,MAAAL,EAAA,CAAjHM,EAA0BC,EAAA,CAAErB,GAAA,MAAsB,uCAACsB,QAAAC,GAAA,IAAMC,EAAA,OAAM,GAAA,4GAMhE,MAAAT,EAAA,KADsC,CAAAU,MAAAC,EAAA5B,YAAA,CAAjDwB,QAAAC,GAAA,IAAMC,EAAA,OAAM,GAAA,mFAOTJ,IAGH,KAAA,CAFNO,OAAAJ,GAAA,OAC+F,MAAAK,EAAA,CAArFR,EAAYS,EAAA,CAACC,MAAa,OAAEC,KAAA,SAAmBC,QAASN,EAAOxB,oDAAasB,EAAA,OAAA,GAAA,0DAHXD,GAAA,IAAA,CAApEH,EAAaa,EAAA,CAASpD,8BAAiBqD,gBAAyBV,EAAA,OAAA,GAAAW,GAAAT,EAAAtD,SAAA+D,+ECX7EC,EAAe3E,EAAgB,CAC7BQ,QACE,MAAMoE,YAAEA,GAAgBC,IAExB,MAAO,IAAMD,EAAYD"}