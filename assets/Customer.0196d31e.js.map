{"version":3,"file":"Customer.0196d31e.js","sources":["../../src/components/Customer.js"],"sourcesContent":["import { defineComponent, defineAsyncComponent, ref, reactive, watch, h } from 'vue'\nimport { useSuspense } from 'composable/components'\nimport Card from 'bbUi/components/card/card.vue'\nimport Tab from 'bbUi/components/tab/tab.vue'\nimport CustomerForm from 'components/Customer/Form.vue'\nconst CustomerTable = defineAsyncComponent(() => import('components/Customer/Table.vue'))\n\nexport default defineComponent({\n  components: {\n    Card,\n    Tab,\n    CustomerForm,\n    CustomerTable\n  },\n  emits: ['choose', 'data', 'change'],\n  setup(props, {emit}){\n    const refChildComponent = ref(null)\n    const { genSuspense } = useSuspense()\n    const items = [{\n      name: 'New Customer',\n      component: 'CustomerForm',\n      is_new_customer: true\n    },{\n      name: 'Existing Customer',\n      component: 'CustomerTable',\n      is_existing_customer: true\n    }]\n    let selectedTab = ref(items[0].component)\n\n    watch(selectedTab, (tab) => {\n      emit('change', tab)\n    },{\n      immediate: true\n    })\n\n    const genTab = () => {\n      return h(Tab, {\n        modelValue: selectedTab.value,\n        items: items,\n        component: true,\n        'onUpdate:modelValue': (selected) => selectedTab.value = selected\n      })\n    }\n    const genContent = () => {\n      if( selectedTab.value === 'CustomerTable' ){\n        return h(genSuspense({\n          component: CustomerTable,\n          props: {\n            choose: true,\n            linkCustomer: false,\n            onChoose: (selected) => emit('choose', selected),\n            ref: refChildComponent\n          }\n        }))\n      }\n\n      if( selectedTab.value === 'CustomerForm' ){\n        return h(CustomerForm, {\n          hide: {\n            country: true,\n            use_company_name: true\n          },\n          ref: refChildComponent,\n          'onUpdate:data': (data) => emit('data', data)\n        })\n      }\n    }\n\n    const genAll = () => {\n      return h('div', [\n        genTab(),\n        genContent()\n      ])\n    }\n\n    return {\n      items,\n      selectedTab,\n      genAll,\n      refChildComponent\n    }\n  },\n  render(){\n    return h(Card, {}, {\n      default: () => this.genAll()\n    })\n  }\n})"],"names":["CustomerTable","defineAsyncComponent","__vitePreload","import","Customer","defineComponent","components","Card","Tab","CustomerForm","emits","[object Object]","props","emit","refChildComponent","ref","genSuspense","useSuspense","items","name","component","is_new_customer","is_existing_customer","selectedTab","watch","tab","immediate","genAll","h","modelValue","value","onUpdate:modelValue","selected","choose","linkCustomer","onChoose","hide","country","use_company_name","onUpdate:data","data","default","this"],"mappings":"+QAKA,MAAMA,EAAgBC,GAAqB,IAAMC,GAAA,IAAAC,OAAA,wBAAA,sBAEjD,IAAAC,EAAeC,EAAgB,CAC7BC,WAAY,CACVC,KAAAA,EACJC,IAAIA,EACAC,aAAAA,EACAT,cAAAA,GAEFU,MAAO,CAAC,SAAU,OAAQ,UAC1BC,MAAMC,GAAOC,KAACA,IACZ,MAAMC,EAAoBC,EAAI,OACxBC,YAAEA,GAAgBC,IAClBC,EAAQ,CAAC,CACbC,KAAM,eACNC,UAAW,eACXC,iBAAiB,GACjB,CACAF,KAAM,oBACNC,UAAW,gBACXE,sBAAsB,IAEpB,IAAAC,EAAcR,EAAIG,EAAM,GAAGE,WAEzBI,EAAAD,GAAcE,IAClBZ,EAAK,SAAUY,KACf,CACAC,WAAW,IA2CN,MAAA,CACLR,MAAAA,EACAK,YAAAA,EACAI,OAVa,IACNC,EAAE,MAAO,CAjCTA,EAAEpB,EAAK,CACZqB,WAAYN,EAAYO,MACxBZ,MAAAA,EACAE,WAAW,EACXW,sBAAwBC,GAAaT,EAAYO,MAAQE,IAIjC,kBAAtBT,EAAYO,MACPF,EAAEZ,EAAY,CACnBI,UAAWpB,EACXY,MAAO,CACLqB,QAAQ,EACRC,cAAc,EACdC,SAAWH,GAAanB,EAAK,SAAUmB,GACvCjB,IAAKD,MAKe,iBAAtBS,EAAYO,MACPF,EAAEnB,EAAc,CACrB2B,KAAM,CACJC,SAAS,EACTC,kBAAkB,GAEpBvB,IAAKD,EACLyB,gBAAkBC,GAAS3B,EAAK,OAAQ2B,UAPxC,IAuBJ1B,kBAAAA,IAGJH,SACS,OAAAiB,EAAErB,EAAM,GAAI,CACjBkC,QAAS,IAAMC,KAAKf"}