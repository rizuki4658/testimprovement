var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,n=(e,a)=>{for(var l in a||(a={}))o.call(a,l)&&s(e,l,a[l]);if(t)for(var l of t(a))i.call(a,l)&&s(e,l,a[l]);return e},d=(e,t)=>a(e,l(t));import{v as r,c,e as u,d as m,f as p,h,j as v,k as g,w as b,l as f,x as _,b as y,y as k,z as w,A as x,B as C,C as S,D as I,K as P}from"./buyback.362c230f.js";import{u as B}from"./bulkquote.f2b8aab4.js";import{B as O,_ as T,u as V,a as M,S as D,b as j,c as U,d as A}from"./data-match-icon.f1ebc3d2.js";import{a5 as L,m as N,o as F,n as $,w as R,B as Q,K as E,ap as q,D as z,av as K,k as G,g as Y,t as W,U as J,a2 as X,a3 as Z,I as H,A as ee,L as ae,f as le,y as te,S as oe,F as ie,O as se,_ as ne,a0 as de,r as re,s as ce,a6 as ue,a4 as me,aU as pe,a1 as he,T as ve,ar as ge,q as be,j as fe,W as _e}from"./vendor.f1efedad.js";import{_ as ye,d as ke,f as we,e as xe,b as Ce,a4 as Se,j as Ie,i as Pe,u as Be,a8 as Oe,a9 as Te,a7 as Ve,aa as Me,T as De,a5 as je,g as Ue,z as Ae,B as Le}from"./index.e231b017.js";import{_ as Ne}from"./badge.3a8a2c41.js";import{C as Fe}from"./Currency.3768e3b3.js";import{u as $e}from"./notes.a1013ac0.js";import{_ as Re}from"./tab.9f764545.js";import{u as Qe}from"./index.32689823.js";import{c as Ee,d as qe}from"./index.1c09f422.js";import{I as ze}from"./ItemTable.20c5842c.js";import{_ as Ke}from"./BuybackNotesWarning.bdbf8010.js";import{c as Ge,s as Ye}from"./status.6f59bf91.js";import{_ as We}from"./changelog.c96fc65d.js";import{B as Je}from"./Breadcrumb.e5dd1515.js";import{b as Xe}from"./customer.a2559fd1.js";import{p as Ze,l as He}from"./dymo.5603a15d.js";import{c as ea}from"./copy.ef53d68d.js";import{C as aa}from"./card.de1f0319.js";import{P as la}from"./PaymentMethod.10916ac1.js";import{T as ta}from"./TextLimit.43017255.js";import{r as oa}from"./index.2fb3814c.js";import{S as ia}from"./select.04e4ee62.js";import{A as sa,D as na,a as da}from"./DetailCustomerPortalLink.950fb29e.js";import{A as ra}from"./index.0dabe17d.js";import{_ as ca}from"./ExpeditedIcon.db9b60c4.js";import{L as ua}from"./LoadingCard.9892fd7a.js";import{u as ma}from"./integration.19f1b956.js";import{b as pa}from"./device.153e721f.js";import{u as ha}from"./golf.1b742650.js";import{D as va}from"./Form.7a132e01.js";import{P as ga}from"./Info.8c3330bf.js";import{P as ba}from"./PrintLabel.2242c58e.js";import{B as fa}from"./BBTable.ed269e36.js";import{B as _a}from"./ChooseCondition.43587654.js";import{B as ya,a as ka}from"./Input.89a82cd5.js";import{G as wa}from"./DeviceGolfSpecBadge.1e94addc.js";import{M as xa}from"./MultipleInputFile.34c66527.js";import Ca from"./BuybackNotes.1159864d.js";import"./date.f86face7.js";import"./fieldset.32ceb9ab.js";import"./BTable.e686e826.js";import"./InputPhone.f8d9b657.js";import"./SelectCountry.75182cc2.js";import"./setting.86482221.js";import"./breadcrumb.e60df23d.js";import"./format.f845777a.js";import"./Custom.9820d20d.js";import"./payment.20cfce93.js";import"./TremendousCard.12fd5823.js";import"./auto-complete.e1e9f5d6.js";import"./Accordion.d79a8173.js";import"./DeviceSearch.34393d74.js";import"./BDropdown.58f98060.js";import"./DeviceGolfSpec.d24334a7.js";import"./BSelect.221faeb2.js";const Sa={class:"ml-auto font-normal text-base"},Ia={class:"w-full mb-10"},Pa={class:"align-top"},Ba={class:"text-right"},Oa={class:"w-full"},Ta={class:"text-2xl font-semibold"},Va={class:"overflow-y-auto custom-max-h"};var Ma=ye({__name:"ShowOriginal",setup(e){const{state:a,loading:l,modal:t,openModal:o,action:i}=r();return L(),(e,l)=>{const o=N("TableColumn"),i=N("Table");return F(),$(ke,{modelValue:q(t),"onUpdate:modelValue":l[0]||(l[0]=e=>K(t)?t.value=e:null),"hide-footer":""},{header:R((()=>l[1]||(l[1]=[Q("div",{class:"w-full flex"}," Original Quote ",-1)]))),default:R((()=>{var e,t,s,n,d,r,c,u,m;return[Q("div",Sa,[Q("table",Ia,[Q("tr",null,[Q("td",Pa," Total Number of Items: "+E(null==(s=null==(t=null==(e=q(a))?void 0:e.data)?void 0:t.items)?void 0:s.length),1),Q("td",Ba,[Q("table",Oa,[Q("tr",null,[l[2]||(l[2]=Q("td",null,"Subtotal :",-1)),Q("td",null,[z(Fe,{value:null==(d=null==(n=q(a))?void 0:n.data)?void 0:d.sub_total},null,8,["value"])])]),Q("tr",null,[l[3]||(l[3]=Q("td",{class:"font-semibold"},"Total :",-1)),Q("td",Ta,[z(Fe,{value:null==(c=null==(r=q(a))?void 0:r.data)?void 0:c.total},null,8,["value"])])])])])])])]),Q("div",Va,[z(i,{data:null==(m=null==(u=q(a))?void 0:u.data)?void 0:m.items},{default:R((()=>[z(o,{label:"Product Name",prop:"product_name"}),z(o,{label:"IMEI/SN",prop:"imei_sn"}),z(o,{label:"Notes",prop:"notes"}),z(o,{label:"Price",prop:"price"}),z(o,{label:"Quantity",prop:"qty"}),z(o,{label:"Condition",prop:"condition"})])),_:1},8,["data"])])]})),_:1},8,["modelValue"])}}},[["__scopeId","data-v-430c90f2"]]);var Da=ye(G({components:{Input:we,Checkbox:xe},props:{data:{type:Object,default:()=>({list_reason:null,notes:"",returned_tracking:null,is_send_email:1})},disabled:{type:Boolean,default:!1}},emits:["update:data"],setup(e,{emit:a}){const l=Y((()=>7==e.data.status_id||3==e.data.status_id)),t=Y((()=>![1001,10,2002,1e3].includes(e.data.status_id))),o={list_reason:{required:Ee.withMessage("Reason is required",qe((()=>5==e.data.status_id)))}},i=Qe(o,e.data,{$lazy:!0});return{data:e.data,isPaymentPending:l,hasEmailTemplate:t,validation:i,validate:()=>(i.value.$validate(),!i.value.$invalid),handleUpdateData:(l,t)=>{if(!l)return;const o=n({},e.data);o[l]=t,a("update:data",o)}}}}),[["render",function(e,a,l,t,o,i){const s=N("Input"),n=N("Checkbox");return F(),W(X,null,[6===e.data.status_id?(F(),$(s,{key:0,modelValue:e.data.returned_tracking,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.returned_tracking=a),type:"input",label:"Returned Tracking",class:"w-full mt-6",disabled:e.disabled},null,8,["modelValue","disabled"])):J("",!0),Q("div",null,[5===e.data.status_id?(F(),$(s,{key:0,modelValue:e.data.list_reason,"onUpdate:modelValue":a[1]||(a[1]=a=>e.handleUpdateData("list_reason",a)),view:e.validation.list_reason.$invalid?"danger":"default",type:"textarea",label:"Reason",class:"w-full my-6",disabled:e.disabled,rows:"6"},null,8,["modelValue","view","disabled"])):J("",!0),(F(!0),W(X,null,Z(e.validation.list_reason.$errors,((e,a)=>(F(),W("small",{class:"text-red-base block mb-2",key:a},E(e.$message)+". ",1)))),128))]),Q("div",null,[a[5]||(a[5]=Q("label",{for:""},"Email Settings",-1)),a[6]||(a[6]=H()),a[7]||(a[7]=Q("br",null,null,-1)),z(n,{modelValue:e.hasEmailTemplate?e.data.is_send_email:0,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.is_send_email=a),value:1,"value-off":0,disabled:!e.hasEmailTemplate,type:"toggle",class:"mt-4"},{default:R((()=>a[4]||(a[4]=[Q("span",{class:"toggle-label"},"Send Email",-1)]))),_:1},8,["modelValue","disabled"]),ee(z(s,{modelValue:e.data.transaction_id,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data.transaction_id=a),class:"my-4",label:"Transaction ID",block:""},null,8,["modelValue"]),[[ae,e.isPaymentPending]])])],64)}],["__scopeId","data-v-3e798a18"]]);const ja={key:0},Ua={class:"flex flex-col"},Aa={key:1},La={key:2},Na={class:"grid grid-cols-12 gap-6"},Fa={class:"max-w-sm"},$a={class:"w-max ml-auto"};const Ra=G({components:{Button:Ce,Modal:ke,Badge:Ne,ShowOriginal:Ma,StatusesBtn:ye({__name:"StatusesBtn",setup(e){const a=$e(),{data:l,modal:t,loading:o,openModal:i,unsetData:s,actionAll:r,actionUpdate:h}=c("easy-offer");u("online");const{state:v,action:g}=m("online"),{stateOption:b,actionStatusOptions:f}=p("easy-offer",null),{state:_,actionAll:y}=u("online"),k=le(null),w={id:"",product_name:"",condition:"",qty:"",price:"",total:"",action:""},x=Y((()=>[...b.value].map((e=>d(n({},e),{disabled:e.is_disabled}))))),C=Y((()=>{var e;return 1e3==(null==(e=v.value)?void 0:e.status_id)})),S=Y((()=>{var e,a;return C.value&&(null==(e=v.value)?void 0:e.is_fulfilled_address)&&(null==(a=v.value)?void 0:a.is_fulfilled_payout)})),I=Y((()=>v.value&&v.value.is_readonly)),P=L(),B=e=>{i(e,(()=>{var e,a;l.status_id=v.value.status_id,l.transaction_id=null==(a=null==(e=v.value)?void 0:e.billing)?void 0:a.transaction_id}))},O=async()=>{var e,t,i;if(null==(t=null==(e=k.value)?void 0:e.validate)?void 0:t.call(e))return[3,7].includes(l.status_id)&&(o.update=!0,a.warningNotes.ids=[null==(i=v.value)?void 0:i.id],!a.warningNotes.isReviewed&&await a.$getNotesUnread(),a.warningNotes.notes.length)?(a.warningNotes.modal=!0,void(o.update=!1)):void(await h(P.params.buybackId,(async()=>{await Promise.all([y(P.params.buybackId),g(P.params.buybackId)])})))};te((()=>l.status_id),(()=>{if(!l.status_id)return;l.ids=[];const e=b.value.find((e=>e.id==l.status_id));e&&(l.is_send_email=e.is_send_email)}));const T=e=>{l.ids=e.map((e=>e.id))},V=e=>{Object.assign(l,e)};Y((()=>l.ids.length>0));const M=Y((()=>5==l.status_id&&l.ids.length<1)),D=Y((()=>M.value?"Please select at least one item":"Cannot update status")),j=Y((()=>M.value));return Promise.all([r(P.params.buybackId),f(),g(P.params.buybackId)]),(e,a)=>{const i=N("Popover"),n=N("Tooltip");return F(),W("div",null,[C.value?(F(),W("div",ja,[z(i,{trigger:"hover",placement:"left",disabled:S.value,width:300},{default:R((()=>{var e,l;return[a[6]||(a[6]=Q("div",{style:{"word-break":"normal"},class:"text-left p-2"},[Q("p",{class:"font-semibold"}," Insufficient details prevent the status change of an Abandoned Buyback Offer. "),Q("p",{class:"my-2"},"To change the status, you need to:")],-1)),Q("div",Ua,[z(xe,{modelValue:null==(e=q(v))?void 0:e.is_fulfilled_address,onClick:a[0]||(a[0]=oe((()=>{}),["prevent"]))},{default:R((()=>{var e;return[Q("span",{class:ie(["font-normal",(null==(e=q(v))?void 0:e.is_fulfilled_address)?"line-through-text":""])},"Complete your order information",2)]})),_:1},8,["modelValue"]),z(xe,{modelValue:null==(l=q(v))?void 0:l.is_fulfilled_payout,onClick:a[1]||(a[1]=oe((()=>{}),["prevent"])),class:"my-2"},{default:R((()=>{var e;return[Q("span",{class:ie(["font-normal",(null==(e=q(v))?void 0:e.is_fulfilled_payout)?"line-through-text":""])},"Complete your payout",2)]})),_:1},8,["modelValue"])])]})),reference:R((()=>{var e;return[Q("div",null,[z(Ce,{disabled:null!=(null==(e=q(v))?void 0:e.deleted_at)||!S.value,color:"teal",onClick:a[2]||(a[2]=e=>B("update")),dense:""},{default:R((()=>a[7]||(a[7]=[Q("i",{class:"material-icons text-base"},"edit",-1)]))),_:1},8,["disabled"])])]})),_:1},8,["disabled"])])):I.value?(F(),W("div",Aa,[z(n,{placement:"top"},{content:R((()=>a[8]||(a[8]=[Q("div",{class:"w-52 text-sm"}," You can no longer edit the status of this offer. ",-1)]))),default:R((()=>[a[9]||(a[9]=Q("button",{view:"smooth",color:"grey",dense:"",class:"cursor-not-allowed py-1 px-2 text-sm leading-6 rounded-md bg-grey-01 text-grey-03"},[Q("i",{class:"material-icons text-base"},"edit")],-1))])),_:1})])):(F(),W("div",La,[z(Ce,{color:"teal",onClick:a[3]||(a[3]=e=>B("update")),dense:""},{default:R((()=>a[10]||(a[10]=[Q("i",{class:"material-icons text-base"},"edit",-1)]))),_:1})])),z(ke,{modelValue:q(t).update,"onUpdate:modelValue":a[5]||(a[5]=e=>q(t).update=e),title:"Update Status",onClose:q(s),size:[5,6].includes(q(l).status_id)?"xl":"md"},{default:R((()=>[Q("div",Na,[Q("div",{class:ie(["border-r border-grey-01",[[5,6].includes(q(l).status_id)?"col-span-2":"col-span-4"]])},[a[11]||(a[11]=Q("div",{class:"pl-4"},[Q("p",{class:"text-md font-semibold"},"Choose Status")],-1)),z(Re,{color:"teal",view:"smooth",modelValue:q(l).status_id,"onUpdate:modelValue":a[4]||(a[4]=e=>q(l).status_id=e),by:"id",name:"short_name",items:x.value,component:"",type:"vertical","disabled-items":""},null,8,["modelValue","items"])],2),Q("div",{class:ie([[5,6].includes(q(l).status_id)?"col-span-10":"col-span-8"])},[5==q(l).status_id?(F(),$(ze,{key:0,"show-print-label":!1,"show-table-summary":!1,selectable:!0,"width-column":w,onSelectedItems:T,"buyback-type":"mailin"})):J("",!0),z(q(Da),{ref_key:"refStatusForm",ref:k,data:q(l),"onUpdate:data":V},null,8,["data"])],2)])])),footer:R((()=>[z(n,{disabled:!j.value,placement:"top"},{content:R((()=>[Q("div",Fa,E(D.value),1)])),default:R((()=>[Q("div",$a,[z(Ce,{disabled:j.value,color:"teal",loading:q(o).update,onClick:O},{default:R((()=>a[12]||(a[12]=[H("Update Status")]))),_:1},8,["disabled","loading"])])])),_:1},8,["disabled"])])),_:1},8,["modelValue","onClose","size"]),z(Ke,{onProceed:O})])}}},[["__scopeId","data-v-0065c6e0"]]),BulkQuoteDetailStatus:O,BuybackShippingKitDownload:T},props:{bulkQuote:{type:Object,default:()=>({restrictedQuoteUpdate:!1,restrictedQuoteItemUpdate:!1,restrictedQuoteStatusUpdate:!1,restrictedQuotePercentageUpdate:!1,isReconcilable:!1})},order:{type:Object,default:void 0}},setup(e){const a=V(),{isBulkQuote:l}=B(),{data:t,modal:o,loading:i,actionArchive:s,unsetData:d}=h("online"),{data:c,modal:u,loading:p,actionUnarchive:f,unsetData:_}=v("online"),{state:y,loading:k,action:w}=m("online"),{actionShippingKit:x,actionReceipt:C,loading:S}=g("online"),{state:I,loading:P,modal:O,openModal:T,action:M}=r(),{actionOffer:D,actionRejectOffer:j,loading:U}=b(),A=L(),N=se(),F=Y((()=>{var e;return null==(null==(e=y.value)?void 0:e.order_status)})),$=Y((()=>{var e,a;return 0===(null==(e=y.value)?void 0:e.shipping_label_is_generate)||2==(null==(a=y.value)?void 0:a.shipping_label_status)||!0===k.value})),R=Y((()=>{var e;return 0==(null==(e=y.value)?void 0:e.is_print_receipt)})),Q=Y((()=>{var e;return!!(null==(e=y.value)?void 0:e.id)})),E=le(!1),q=le(!1),z=()=>{o.value=!1},K=()=>{u.value=!1};return E.value=Y((()=>null!=y.value.deleted_at)),q.value=Y((()=>null==y.value.deleted_at)),{state:y,stateOriginalQuote:I,loadingOriginalQuote:P,modalOriginalQuote:O,loadingPrint:S,printReceipt:async()=>{if(R.value)return;const e=y.value.box_id;await C(e)},printShippingKit:async()=>{A.params.buybackId&&!$.value&&(a.shippingKit.modal=!0)},openModalOriginalQuote:T,openChangelog:()=>N.push({name:"easyOfferChangelog",params:n(n({buybackId:A.params.buybackId},A.params.marketerId&&{marketerId:A.params.marketerId}),A.params.status&&{status:A.params.status})}),showOriginalQuote:async()=>{await M(A.params.buybackId),T()},isReady:Q,isDisabledPrintShippingKit:$,isDisabledPrintReceipt:R,handleCustomOffer:()=>D(A.params.buybackId,(async()=>{ne({type:"success",message:"Offer sent"}),await action(A.params.buybackId)})),handleRejectCustomOffer:()=>j(A.params.buybackId,(async()=>{ne({type:"success",message:"Offer rejected"}),await action(A.params.buybackId)})),loadingCustomOffer:U,handleArchiveModal:()=>{o.value=!0},handleCloseArchiveModal:z,handleUnarchiveModal:()=>{u.value=!0},handleCloseUnarchiveModal:K,archiveOrder:async()=>{t.id=y.value.id,await s((()=>{ne({type:"success",message:"Success archiving order"}),z(),d()})),w(n({id:A.params.buybackId},A.params.marketerId&&"me"===A.params.marketerId&&{marketer_id:""}||A.params.marketerId&&{marketer_id:A.params.marketerId}))},unarchiveOrder:async()=>{c.id=y.value.id,await f((()=>{ne({type:"success",message:"Success restoring order"}),K(),_()})),w(n({id:A.params.buybackId},A.params.marketerId&&"me"===A.params.marketerId&&{marketer_id:""}||A.params.marketerId&&{marketer_id:A.params.marketerId}))},archiveModal:o,unarchiveModal:u,archiveLoading:i,unarchiveLoading:p,handleBulkQuoteStatusUpdate:async()=>{await w(n({id:A.params.buybackId},A.params.marketerId&&"me"===A.params.marketerId&&{marketer_id:""}||A.params.marketerId&&{marketer_id:A.params.marketerId}))},btnMenuArchive:E,btnMenuUnarchive:q,color:Ge,isLoading:F,isBulkQuote:l,loadingShow:k}}}),Qa={class:"flex items-center gap-4"},Ea={key:2,class:"rounded-md bg-white p-3 items-center"},qa={class:"flex justify-between items-center"},za={class:"flex items-center"},Ka={key:0,class:"mr-4"},Ga={key:0},Ya={class:"py-10"},Wa={class:"text-center"},Ja={class:"py-10"},Xa={class:"text-center"};var Za=ye(Ra,[["render",function(e,a,l,t,o,i){var s,n,d,r,c,u;const m=N("Tooltip"),p=N("BulkQuoteDetailStatus"),h=N("Badge"),v=N("StatusesBtn"),g=N("Button"),b=N("DropdownItem"),f=N("DropdownMenu"),_=N("Dropdown"),y=N("ShowOriginal"),k=N("Modal"),w=N("BuybackShippingKitDownload"),x=de("loading");return F(),W(X,null,[Q("div",Qa,[null!=(null==(s=e.state)?void 0:s.deleted_at)?(F(),$(m,{key:0,content:"Archived",placement:"top"},{default:R((()=>a[5]||(a[5]=[Q("div",{class:"flex items-center justify-center w-12 h-12 bg-orange-lighten rounded-full text-orange-04 mx-4 select-none"},[Q("i",{class:"material-icons"},"archive")],-1)]))),_:1})):J("",!0),e.isBulkQuote?(F(),$(p,{key:1,onUpdateStatus:e.handleBulkQuoteStatusUpdate,status:null==(n=e.state)?void 0:n.order_status,loading:e.loadingShow,"quote-id":e.$route.params.buybackId,disabled:e.bulkQuote.restrictedQuoteStatusUpdate,order:e.order},null,8,["onUpdateStatus","status","loading","quote-id","disabled","order"])):ee((F(),W("div",Ea,[Q("div",qa,[a[6]||(a[6]=Q("h6",null,"Status :",-1)),z(h,{color:e.color((null==(r=null==(d=e.state)?void 0:d.order_status)?void 0:r.short_name)||""),class:"ml-2 mr-2 text-status",view:"smooth"},{default:R((()=>{var a,l;return[H(E(null==(l=null==(a=e.state)?void 0:a.order_status)?void 0:l.status_name),1)]})),_:1},8,["color"]),z(v,{data:e.state},null,8,["data"])])])),[[x,e.isLoading]]),Q("div",za,[e.isReady?(F(),W("div",Ka,[0==e.state.is_offered&&4==e.state.type?(F(),W("div",Ga,[z(g,{onClick:e.handleCustomOffer,loading:e.loadingCustomOffer.offer,class:"mr-2",color:"teal"},{default:R((()=>a[7]||(a[7]=[Q("i",{class:"material-icons"},"local_offer",-1),H(" Offer")]))),_:1},8,["onClick","loading"]),z(g,{onClick:e.handleRejectCustomOffer,loading:e.loadingCustomOffer.rejectOffer,color:"red"},{default:R((()=>a[8]||(a[8]=[Q("i",{class:"material-icons"},"close",-1),H(" Reject Offer")]))),_:1},8,["onClick","loading"])])):J("",!0)])):J("",!0),z(_,{placement:"bottom","hide-on-click":!1},{default:R((()=>[z(g,{style:{padding:".8rem"},color:"teal"},{default:R((()=>a[9]||(a[9]=[Q("i",{class:"material-icons"},"more_vert",-1)]))),_:1})])),dropdown:R((()=>[z(f,null,{default:R((()=>{var l,t;return[z(m,{placement:"left",disabled:!e.isDisabledPrintShippingKit},{content:R((()=>a[11]||(a[11]=[Q("p",null,[H(" Unable to generate a shipping label. "),Q("br"),H(" Please contact support for more detail ")],-1)]))),default:R((()=>[ee((F(),$(b,{class:ie(e.isDisabledPrintShippingKit?"el-dropdown-menu__item--disabled":""),onClick:e.printShippingKit},{default:R((()=>a[10]||(a[10]=[Q("i",{class:"material-icons mr-2 text-xl"},"print",-1),H(" Shipping Kit ")]))),_:1},8,["class","onClick"])),[[x,e.loadingPrint.shippingKit]])])),_:1},8,["disabled"]),e.isReady?(F(),W(X,{key:0},[e.isBulkQuote?J("",!0):ee((F(),$(b,{key:0,class:ie(e.isDisabledPrintReceipt?"el-dropdown-menu__item--disabled":""),onClick:e.printReceipt},{default:R((()=>a[12]||(a[12]=[Q("i",{class:"material-icons mr-2 text-xl"},"insert_drive_file",-1),H(" Print Receipt")]))),_:1},8,["class","onClick"])),[[x,e.loadingPrint.receipt]])],64)):(F(),$(b,{key:1},{default:R((()=>a[13]||(a[13]=[Q("span",{class:"text-grey-02"},[Q("i",{class:"material-icons mr-2 text-xl"},"print"),H(" Print Receipt")],-1)]))),_:1})),e.isBulkQuote?J("",!0):ee((F(),$(b,{key:2,onClick:e.showOriginalQuote},{default:R((()=>a[14]||(a[14]=[Q("img",{src:M,alt:"show-original",class:"inline-block mr-2"},null,-1),H(" Show Original")]))),_:1},8,["onClick"])),[[x,e.loadingOriginalQuote]]),z(b,{onClick:e.openChangelog},{default:R((()=>a[15]||(a[15]=[Q("img",{src:We,alt:"changelog",class:"inline-block mr-2"},null,-1),H(" Changelog ")]))),_:1},8,["onClick"]),null==(null==(l=e.state)?void 0:l.deleted_at)?(F(),$(b,{key:3,onClick:e.handleArchiveModal},{default:R((()=>[z(g,{class:"my-2",color:"orange",dense:"",block:""},{default:R((()=>[a[16]||(a[16]=Q("i",{class:"material-icons"},"archive",-1)),H(" Archive "+E(e.isBulkQuote?"Quote":"Order"),1)])),_:1})])),_:1},8,["onClick"])):J("",!0),null!=(null==(t=e.state)?void 0:t.deleted_at)?(F(),$(b,{key:4,onClick:e.handleUnarchiveModal},{default:R((()=>[z(g,{class:"my-2",color:"orange",dense:"",block:""},{default:R((()=>[a[17]||(a[17]=Q("i",{class:"material-icons"},"archive",-1)),H(" Restore "+E(e.isBulkQuote?"Quote":"Order"),1)])),_:1})])),_:1},8,["onClick"])):J("",!0)]})),_:1})])),_:1})]),z(y,{modelValue:e.modalOriginalQuote,"onUpdate:modelValue":a[0]||(a[0]=a=>e.modalOriginalQuote=a)},null,8,["modelValue"])]),z(k,{size:"xs",modelValue:e.archiveModal,"onUpdate:modelValue":a[2]||(a[2]=a=>e.archiveModal=a),title:"Archive Order","hide-header":"","hide-footer":"",onClose:e.handleCloseArchiveModal},{default:R((()=>[Q("div",Ya,[a[20]||(a[20]=Q("img",{class:"mb-10 mx-auto",src:Se,alt:"Success Icon"},null,-1)),a[21]||(a[21]=Q("div",{class:"mt-8 mb-10"},[Q("h5",{class:"mb-4 text-center"},"Archiving this Order"),Q("p",{class:"text-center mb-4"},[H(" Are you sure you want to archive this order? "),Q("br"),H(' Once archived, orders can be recovered from the "Archived" menu ')])],-1)),Q("div",Wa,[z(g,{view:"outlined",color:"teal",class:"bg-white",disabled:e.archiveLoading,onClick:a[1]||(a[1]=a=>e.archiveModal=!1)},{default:R((()=>a[18]||(a[18]=[H("Cancel")]))),_:1},8,["disabled"]),z(g,{color:"orange",class:"ml-3",loading:e.archiveLoading,onClick:e.archiveOrder},{default:R((()=>a[19]||(a[19]=[H("Yes, Archive")]))),_:1},8,["loading","onClick"])])])])),_:1},8,["modelValue","onClose"]),z(k,{size:"xs",modelValue:e.unarchiveModal,"onUpdate:modelValue":a[4]||(a[4]=a=>e.unarchiveModal=a),title:"Archive Order","hide-header":"","hide-footer":"",onClose:e.handleCloseUnarchiveModal},{default:R((()=>[Q("div",Ja,[a[24]||(a[24]=Q("img",{class:"mb-10 mx-auto",src:Se,alt:"Success Icon"},null,-1)),a[25]||(a[25]=Q("div",{class:"mt-8 mb-10"},[Q("h5",{class:"mb-4 text-center"},"Restoring this Order"),Q("p",{class:"text-center mb-4"}," Are you sure you want to restore this order ? ")],-1)),Q("div",Xa,[z(g,{view:"outlined",color:"teal",class:"bg-white",disabled:e.unarchiveLoading,onClick:a[3]||(a[3]=a=>e.unarchiveModal=!1)},{default:R((()=>a[22]||(a[22]=[H("Cancel")]))),_:1},8,["disabled"]),z(g,{color:"orange",class:"ml-3",loading:e.unarchiveLoading,onClick:e.unarchiveOrder},{default:R((()=>a[23]||(a[23]=[H("Yes, Restore")]))),_:1},8,["loading","onClick"])])])])),_:1},8,["modelValue","onClose"]),z(w,{id:null==(c=e.state)?void 0:c.box_id,shippings:null==(u=e.state)?void 0:u.shipping_label},null,8,["id","shippings"])],64)}],["__scopeId","data-v-1cfdfd36"]]);const Ha={__name:"Breadcrumb",setup(e){const a=Y((()=>({name:"easyOfferTab",params:{statusId:"all",category:"active"},query:{}}))),l=[{text:"Easy Offer",to:{name:"easyOffer"}},{text:"Offer Details"}];return(e,t)=>(F(),$(Je,{backTo:a.value,items:l},{"page-title":R((()=>t[0]||(t[0]=[Q("div",{class:"flex gap-2 items-center flex-wrap"},[Q("h5",null,"Offer Detail")],-1)]))),_:1},8,["backTo"]))}},el={class:"flex items-center flex-col"},al={class:"flex w-full justify-between items-center"},ll={class:"flex"},tl={__name:"OrderInfo",setup(e){const{state:a,action:l}=m("online"),{loading:t,actionUpdate:o,data:i}=f("online"),{actionAll:s}=c("online"),n=L(),d=async(e,a)=>{i.is_accept=e,await o(n.params.buybackId,a,(async()=>{await Promise.all([l(n.params.buybackId),s(n.params.buybackId)]),ne({message:"Offer updated!",type:"success"})}))};return(e,l)=>{var o,i,s,n,r,c,u,m,p,h,v,g,b;const f=N("router-link"),_=de("loading");return F(),W("div",el,[(null==(o=q(a))?void 0:o.parent)?(F(),$(Ie,{key:0,class:"mb-4",color:"orange",view:"smooth"},{default:R((()=>[l[3]||(l[3]=H(" This buyback is part of ")),z(f,{class:"mr-2",to:{name:"buybackOnlineDetail",params:{buybackId:q(a).parent.box_id}}},{default:R((()=>[H(" #"+E(q(a).parent.box_id)+" ",1),l[2]||(l[2]=Q("i",{class:"material-icons text-lg ml-1"},"open_in_new",-1))])),_:1},8,["to"])])),_:1})):J("",!0),(null==(s=null==(i=q(a))?void 0:i.split_order)?void 0:s.length)>0?(F(),$(Ie,{key:1,class:"mb-4",color:"orange",view:"smooth"},{default:R((()=>[l[5]||(l[5]=H(" Some of these items have been split into a new order. Please use this order number to view them ")),(F(!0),W(X,null,Z(q(a).split_order,((e,a)=>(F(),$(f,{class:"mr-2",key:a,to:{name:"buybackOnlineDetail",params:{buybackId:e.box_id}}},{default:R((()=>[H(" #"+E(e.box_id)+" ",1),l[4]||(l[4]=Q("i",{class:"material-icons text-lg ml-1"},"open_in_new",-1))])),_:2},1032,["to"])))),128))])),_:1})):J("",!0),2===(null==(n=q(a))?void 0:n.is_accepted)&&12===(null==(c=null==(r=q(a))?void 0:r.order_status)?void 0:c.id)&&5===(null==(m=null==(u=q(a))?void 0:u.order_status)?void 0:m.parent_id)?(F(),$(Ie,{key:2,class:"mb-4",color:"orange",view:"smooth"},{default:R((()=>l[6]||(l[6]=[H(" The customer has declined the offer. ")]))),_:1})):J("",!0),0===(null==(p=q(a))?void 0:p.is_accepted)&&12===(null==(v=null==(h=q(a))?void 0:h.order_status)?void 0:v.id)&&5===(null==(b=null==(g=q(a))?void 0:g.order_status)?void 0:b.parent_id)?ee((F(),$(Ie,{key:3,class:"mb-4",color:"orange",view:"smooth"},{default:R((()=>[Q("div",al,[l[9]||(l[9]=Q("p",null,"Waiting for customer response. You can also manually accept or decline the offer here",-1)),Q("div",ll,[z(Ce,{color:"teal",class:"mr-2",dense:"",onClick:l[0]||(l[0]=e=>d(1,!0)),disabled:q(t).update},{default:R((()=>l[7]||(l[7]=[H("Accept")]))),_:1},8,["disabled"]),z(Ce,{color:"red",dense:"",onClick:l[1]||(l[1]=e=>d(2,!0)),disabled:q(t).update},{default:R((()=>l[8]||(l[8]=[H("Decline")]))),_:1},8,["disabled"])])])])),_:1})),[[_,q(t).update]]):J("",!0)])}}},ol=G({components:{Input:we,Button:Ce,Modal:ke,Select:ia},props:{show:{type:Boolean,default:!1},shipping_number:{type:String,default:""},boxId:{type:String,default:""},originalTracking:{type:String,default:""},shippingLabelStatus:{type:String,default:""},regenerateShippingLabel:{type:String,default:""}},emits:["update:show","save"],async setup(e,{emit:a}){const{data:l,loading:t,action:o,actionCheckCourier:i,unsetData:s}=_();L();const n=le(e.show),d=le(null),r=le(!1),c=le(0),u=le(!1),m=le(!0),p=le([]),h=re({courier_code:"",courier_name:""}),v=Y((()=>[...p.value.map((e=>e.courier_name)),"Other"])),g=Qe({shipping_tracking:{required:oa}},l,{$lazy:!0}),b=()=>g.value.$reset(),f=()=>(b(),g.value.$validate(),!g.value.$invalid),y=async()=>{if(f())try{await o(d.value,(()=>{ne({type:"success",message:"Custom tracking saved"}),a("update:show",!1),a("save",!0),s(),b(),u.value=!1,m.value=!0,h.courier_name="",h.courier_code=""}))}catch(e){e.response&&422===e.response.status&&(r.value=!0,c.value=0,l.force_courier_code=1)}};return te((()=>e),(e=>{const a=!!e.shipping_number,t=!l.shipping_tracking;a&&t&&(l.shipping_tracking=e.shipping_number),d.value=e.boxId,n.value=e.show}),{deep:!0,immediate:!0}),{copyText:ea,isShow:n,data:l,loading:t,validation:g,handleSaveChanges:async()=>{if(f())if(m.value){m.value=!1;try{const e=await i(l.shipping_tracking);4110===e.code||4121===e.code?(r.value=!0,c.value=0,p.value=[],l.courier_code=null,l.courier_name=null):1===e.length?(l.courier_code=e[0].courier_code,l.courier_name=e[0].courier_name,y()):e.length>1&&(p.value=e,u.value=!0,r.value=!1)}catch(e){ne({type:"error",message:"Error checking courier service"})}}else if("Other"===h.courier_name)l.courier_code="other",l.courier_name="Other",y();else{if(!h.courier_name&&u.value)return;y()}},handleCloseModal:()=>{a("update:show",!1),u.value=!1,r.value=!1,m.value=!0,s(),b()},handleSelectCourier:()=>{l.force_courier_code=0;const e=p.value.find((e=>e.courier_name===h.courier_name));"Other"===e?(l.courier_code="other",l.courier_name="Other"):e&&(r.value=!1,l.courier_code=e.courier_code,l.courier_name=e.courier_name)},handleTrackingChange:()=>{r.value=!1,u.value=!1,l.force_courier_code=0,u.value=!1,m.value=!0},selectedCourier:h,courierOptions:v,showWarning:r,warningType:c,showCourierSelect:u}}}),il={key:0,class:"border border-grey-01 rounded-xl p-6 w-full mb-6"},sl={class:"flex-col my-4"},nl={key:0,class:"mr-4 text-grey-04"},dl={key:1,class:"text-red-base inline-block mr-4"},rl={key:2,class:"text-red-base mt-4 block"},cl={key:3,class:"flex items-start gap-2 text-orange-03 mt-4"},ul={key:0},ml={key:4,class:"flex items-start gap-2 text-orange-03 mt-4"};const pl=G({components:{Currency:Fe,Alert:Ie,Badge:Ne,Button:Ce,Card:aa,Modal:ke,Tab:Re,Input:we,Loading:Pe,PaymentMethod:la,ShippingLabelInfo:D,TextLimit:ta,CustomTracking:ye(ol,[["render",function(e,a,l,t,o,i){const s=N("Button"),n=N("Input"),d=N("Select"),r=N("Modal"),c=de("maska");return F(),$(r,{modelValue:e.isShow,"onUpdate:modelValue":a[3]||(a[3]=a=>e.isShow=a),title:"Shipping Information",onClose:e.handleCloseModal},{default:R((()=>["1"!==e.shippingLabelStatus?(F(),W("div",il,[a[5]||(a[5]=Q("div",{class:"flex items-center gap-2 mb-4"},[Q("i",{class:"material-icons text-red-base icon-md"},"warning"),Q("p",{class:"text-2xl font-bold"},"Regenerate Shiping Label")],-1)),a[6]||(a[6]=Q("p",null,'The shipping label failed to generate. Once the root cause is resolved, you can click "Regenerate Shipping Label" to generate both the shipping label and the shipping kit again. The new tracking number and shipping kit will then be automatically attached to the Offer Details page.',-1)),z(s,{class:"btn btn-teal btn-outlined mt-6",rounded:"",dense:"",onClick:e.regenerateShippingLabel},{default:R((()=>a[4]||(a[4]=[Q("div",{class:"flex items-center gap-2 px-2 py-1"},[Q("i",{class:"material-icons text-base"},"refresh"),Q("span",{class:"font-medium"},"Regenerate Shiping Label")],-1)]))),_:1},8,["onClick"])])):J("",!0),a[11]||(a[11]=Q("p",{class:"font-bold"},"Original Tracking Number",-1)),Q("div",null,[Q("p",{class:ie(["mb-2 mt-2 inline-block mr-4",{"text-red-base":null===e.originalTracking||""===e.originalTracking}])},E(e.originalTracking||"Not Available"),3),e.originalTracking?(F(),$(s,{key:0,color:"teal",dense:"",onClick:a[0]||(a[0]=a=>e.copyText(e.originalTracking||"-"))},{default:R((()=>a[7]||(a[7]=[Q("i",{class:"material-symbols-outlined"},"content_copy",-1)]))),_:1})):J("",!0)]),Q("div",sl,[a[8]||(a[8]=Q("p",{class:"font-bold mb-1"},"Shipping Label Status",-1)),1==e.shippingLabelStatus?(F(),W("span",nl,"Available")):(F(),W("p",dl," Not Available "))]),a[12]||(a[12]=Q("p",{class:"font-bold mt-4"},"Custom Tracking Number",-1)),ee(z(n,{modelValue:e.data.shipping_tracking,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.shipping_tracking=a),onInput:e.handleTrackingChange,block:"",view:e.validation.shipping_tracking.$invalid?"danger":"default"},null,8,["modelValue","onInput","view"]),[[c,"X*"]]),(F(!0),W(X,null,Z(e.validation.shipping_tracking.$errors,((e,a)=>(F(),W("small",{class:"text-red-base block",key:a},E(e.$message)+". ",1)))),128)),e.showCourierSelect?(F(),$(d,{key:1,modelValue:e.selectedCourier.courier_name,"onUpdate:modelValue":a[2]||(a[2]=a=>e.selectedCourier.courier_name=a),onChange:e.handleSelectCourier,items:e.courierOptions,placeholder:"Select one of the available carriers",label:"Carrier",class:"w-full",block:""},null,8,["modelValue","onChange","items"])):J("",!0),!e.selectedCourier.courier_name&&e.showCourierSelect?(F(),W("small",rl,"Please select a carrier.")):J("",!0),e.showWarning?(F(),W("div",cl,[a[9]||(a[9]=Q("span",{class:"material-icons"},"info",-1)),0===e.warningType?(F(),W("p",ul,"The tracking number is either incorrect or not recogniced. You can still save the changes. but the offer status will not automatically updates to 'in-transit'.")):J("",!0)])):J("",!0),"Other"===e.selectedCourier.courier_name?(F(),W("div",ml,a[10]||(a[10]=[Q("span",{class:"material-icons"},"info",-1),Q("p",null,"You can still save the changes, but the offer status will not automatically update to 'in-transit'.",-1)]))):J("",!0)])),footer:R((()=>[z(s,{onClick:e.handleSaveChanges,color:"teal",loading:e.loading},{default:R((()=>a[13]||(a[13]=[H("Save Changes")]))),_:1},8,["onClick","loading"])])),_:1},8,["modelValue","onClose"])}]]),AbandonBuybackCustomerForm:sa,Address:ra,ExpeditedIcon:ca,DetailContactOrderInformation:na,DetailCustomerPortalLink:da,BuybackShippingOptions:j},props:{bulkQuote:{type:Object,default:()=>({restrictedQuoteUpdate:!1,restrictedQuoteItemUpdate:!1,restrictedQuoteStatusUpdate:!1,restrictedQuotePercentageUpdate:!1,isReconcilable:!1,totalQuoteItems:0})},isBulkQuote:{type:Boolean,default:!1}},async setup(e){const{state:a,modal:l,openModal:t,action:o,stateOrdersToReloads:i,resetStateOrdersToReloads:s}=m("online"),{state:r}=u("online"),{state:c,data:p,loading:h,errors:v,showBankNumber:b,actionAll:f,actionUpdate:C,actionShowBankNumber:S,actionShowCheckSettings:I}=y("online"),{loading:P,actionPaperCheck:B}=g(),{loading:O,action:T}=k("online"),{modal:V,openModal:M}=_(),{bankTransferConfig:D,me:j}=Be(),{state:U,action:A}=Xe(),{data:N,modal:F,updateCustomer:$,loading:R}=w("online"),{loading:Q,regenerateShipping:E}=x("online"),q=re({selected:"PaymentMethod"}),z=Y((()=>{var l;const t=[{name:e.isBulkQuote?"Shipping Label Info":"Offer Details",component:"ShippingLabelInfo"},{name:e.isBulkQuote?"Payment Method":"Offer Payout Method",component:"PaymentMethod"}];return e.isBulkQuote&&9e3!==(null==(l=a.value)?void 0:l.status_id)?[{name:"Payment Method",component:"PaymentMethod"}]:t})),K=L(),G=se(),W=le(null),J=le(null),X=le(!1),Z=le({}),H=re({}),ee=le(!1),ae=le(!1),oe=Y((()=>{var e;return"PaymentMethod"===q.selected?{autoSelect:!0,items:c.value,data:a.value.billing}:"ShippingLabelInfo"===q.selected?{data:Object.assign(p.shippingLabelInfo,d(n({},a.value.shipping),{company_name:null==(e=null==a?void 0:a.value.billing)?void 0:e.company_name,custom_fields:ue.value})),isEasyOffer:me.value}:void 0})),ie=Y((()=>"PaymentMethod"===q.selected?Object.assign({},{"update:data":e=>Z.value=e}):{})),de=Y((()=>{const e=a.value.custom_fields;return!e?[]:Object.entries(e).map((([e,a])=>({label:a.key,value:a.value})))})),ue=Y((()=>Object.fromEntries(de.value.map((e=>[e.label,e.value]))))),me=Y((()=>3===(null==a?void 0:a.value.type)&&"Easy Offer"===(null==a?void 0:a.value.type_text))),pe=()=>{Object.assign(H,n(n({},p.shippingLabelInfo),a.value.shipping))},he=Y((()=>0===Object.keys(a.value).length)),ve=Y((()=>{var e;return 1e3==(null==(e=a.value)?void 0:e.status_id)})),ge=Y((()=>!ve.value)),be=Y((()=>a.value&&a.value.is_readonly));await o({id:K.params.buybackId,is_store:1},(async e=>{await f({id:e.customer_id,params:{box_id:K.params.buybackId}}),await A(e.customer_id),pe()})),await I((e=>{ee.value=1==e.is_ready_in_store&&1==e.is_enable_check})),"Local Buyback"===a.value.buyback_type&&G.push({name:"buybackLocalDetail",params:{buybackId:K.params.buybackId}});const fe=Y((()=>{var e;return j.value.is_view_confidential&&"Bank Transfer"===(null==(e=a.value.billing)?void 0:e.payment_method)})),_e=Y((()=>{var e,l,t;const o=[];return(null==(e=a.value.billing)?void 0:e.bank_transfer.length)&&!X.value?(null==(l=a.value.billing)||l.bank_transfer.forEach((e=>{const a=n({},e);if("account_name"!==a.attribute_name)if(a.value){const e=a.value.split("").splice(0,a.value.length-3).map((()=>"*")),l=a.value.split("").splice(a.value.length-3,3);a.value=`${e.join("")}${l.join("")}`}else a.value="-";o.push(a)})),o):null==(t=a.value.billing)?void 0:t.bank_transfer})),ye=Y((()=>{const{shipping:e,customer:l}=a.value||{};return{firstName:e&&(null==e?void 0:e.shipping_firstname)||(null==l?void 0:l.first_name)||"-",lastName:e&&(null==e?void 0:e.shipping_lastname)||(null==l?void 0:l.last_name)||"-",email:e&&(null==e?void 0:e.email)||(null==l?void 0:l.email)||"-",phone:e&&(null==e?void 0:e.shipping_phone)||(null==l?void 0:l.phone)||"-",addressCustomer:(null==l?void 0:l.address_text)?(null==l?void 0:l.suite)?`${null==l?void 0:l.suite}, ${null==l?void 0:l.address_text}`:null==l?void 0:l.address_text:"-"}})),ke=Y((()=>{var l;if(e.isBulkQuote){return!["9000","9001"].includes(String(null==(l=a.value)?void 0:l.status_id))}return!0}));return te((()=>i.value),(async e=>{var a;(null==e?void 0:e.offer_id)&&(null==e?void 0:e.offer_has_changes)&&(null==(a=null==K?void 0:K.params)?void 0:a.buybackId)===(null==e?void 0:e.offer_id)&&(await o({id:K.params.buybackId,is_store:1}),s())}),{deep:!0}),{dataPaymentMethod:Z,dataAbandonBubyback:N,tab:q,componentBind:oe,componentOn:ie,customFields:de,stateShow:a,stateItems:r,statePaymentMethod:c,bankTransferConfig:D,showBankNumber:b,printAddressLabel:()=>{var e,l;const t=`${(null==(e=a.value.shipping)?void 0:e.shipping_suite)?Me(null==(l=a.value.shipping)?void 0:l.shipping_suite)+", ":""}${Me(a.value.shipping.shipping_address1)||""}\n${Me(a.value.shipping.shipping_city)||""} ${Me(a.value.shipping.shipping_state)||""} ${Me(a.value.shipping.shipping_zip)||""}`,o=`${a.value.shipping.shipping_firstname||""} ${a.value.shipping.shipping_lastname||""}`,i=a.value.shipping.shipping_imb||"";Ze(t,o,i)},isShowBankNumber:X,loadingPaymentMethod:h,loadingPrint:P,loadingPrintStatus:O,loadingAbandonBuyback:R,isLoading:he,isNotAbandonedBuyback:ge,isReadonly:be,isAbandonedBuyback:ve,isReadyPaperCheck:ee,errorsPaymentMethod:v,modal:l,modalCustomTracking:V,modalAbandonBuyback:F,refComponent:W,refAbandonBuybackCustomerForm:J,openModal:t,openModalCustomTracking:M,paperCheck:()=>B(K.params.buybackId),updatePaymentMethod:async()=>{Object.assign(Z.value,n(n({},a.value.shipping),p.shippingLabelInfo));const e=Object.entries(Z.value).filter((([e,a])=>!!Object.keys(H).includes(e)&&H[e]!==a)).length>0;await ce((()=>"PaymentMethod"===q.selected?W.value.refChildComponent.validate():W.value.validate()))&&C(K.params.buybackId,d(n({},Z.value),{is_generate_shipping:e?1:0}),(async()=>{l.paymentMethod=!1,await o({id:K.params.buybackId,is_store:1},(()=>{pe()}))}))},changeStatusPrint:()=>{T(K.params.buybackId,(async()=>{ne({message:"Print status updated",type:"success"}),await o({id:K.params.buybackId,is_store:1})}))},color:Ge,sellingTypeColor:Ye,kebabCase:Oe,toggleShowBankNumber:()=>{X.value=!X.value},handleCustomTrackingSaved:async()=>await o({id:K.params.buybackId,is_store:1},(async e=>{await f({id:e.customer_id,params:{box_id:K.params.buybackId}})})),CopyText:ea,phoneNumber:Te,handleLoginAsCustomer:(e=null)=>{if(!e)return null;window.open(e,"_blank").focus()},handleOpenShippingLabelInfoModal:()=>{q.selected="ShippingLabelInfo",a.value.shipping&&Object.keys(a.value.shipping).forEach((e=>{a.value.shipping[e]||(a.value.shipping[e]=a.value.customer[e.replace("shipping_","")])})),t("paymentMethod")},handleOpenPayoutMethodModal:()=>{q.selected="PaymentMethod",t("paymentMethod")},handleUpdateAbandonBuybackCustomer:async()=>{if(!J.value)return;J.value.validate()&&await $(a.value.customer.id,(async()=>{F.update.customer=!1,ne({type:"success",message:"Customer information saved"}),await o({id:K.params.buybackId,is_store:1}),await f({id:a.value.customer.id,params:{box_id:K.params.buybackId}})}))},handleOpenAbandonBuybackCustomerModal:()=>{F.update.customer=!0,Object.assign(N.customer,{box_id:a.value.box_id,email:a.value.customer.email,firstname:a.value.customer.first_name,lastname:a.value.customer.last_name,phone:a.value.customer.phone,address:a.value.customer.address1,suite:a.value.customer.suite,city:a.value.customer.city,state:a.value.customer.state,zip:a.value.customer.zip,country:a.value.customer.country,address_text:a.value.customer.address_text})},nameCapitalize:Ve,stateCustomer:U,computedBankTransfer:_e,confidentialView:fe,computedCustomer:ye,isShowTrackingNumber:ke,tabItems:z,actionShow:o,handleSucceedBuybackOption:async()=>{await o({id:K.params.buybackId,is_store:1})},loadingShippingInfo:ae,handleRegenerateShipping:async()=>{const e=a.value.box_id||K.params.buybackId;if(!e)return void ne({type:"warning",message:"Box ID Undefined"});const l=await E(e);ne({type:"success",message:(null==l?void 0:l.result)||(null==l?void 0:l.message)||"Success"}),await o({id:K.params.buybackId,is_store:1})},loadingRegenerateShipping:Q}}}),hl={class:"flex items-center justify-between mb-4"},vl={class:"text-lg text-grey-04 font-semibold"},gl={class:"flex items-center p-1"},bl=["src","alt"],fl={key:0,class:"bg-red-01 text-red-base px-4 py-2 mb-4 rounded-lg"},_l={key:1},yl={class:"my-6"},kl={class:"space-y-1"},wl={key:0,class:"relative"},xl={class:"flex items-center gap-x-2"},Cl=["href"],Sl={key:1,class:"relative"},Il={class:"flex items-center gap-x-2"},Pl={key:2},Bl={class:"my-6"},Ol={class:"flex items-center gap-2 font-semibold mr-2 mb-4"},Tl={style:{maxWidth:"300px"}},Vl={key:0,class:"my-6"},Ml={class:"text-grey-03"},Dl={class:"my-6"},jl={class:"text-grey-03"},Ul={class:"my-6",style:{"overflow-wrap":"anywhere"}},Al={class:"text-grey-03"},Ll={key:2,class:"my-6"},Nl={class:"text-grey-03"},Fl={class:"flex justify-between items-center"},$l={class:"flex items-center justify-end gap-x-2"},Rl={key:0},Ql={class:"text-xl font-medium mb-4"},El={key:1},ql={class:"inline-block"},zl={class:"w-full h-full flex justify-center items-center"},Kl={key:0,class:"p-5"},Gl={key:0},Yl={class:"space-y-2"},Wl={key:0},Jl={key:1,class:"text-teal-04"},Xl={key:1},Zl={class:"text-teal-04"},Hl={class:"flex flex-wrap items-center"},et={key:2,class:"my-5"},at={class:"flex items-center gap-x-1"},lt={class:"mb-2"},tt={key:3},ot={class:"font-semibold mb-2"},it={class:"text-grey-03"},st={class:"mb-2"},nt={class:"flex justify-between items-center"},dt={key:0},rt={class:"mb-2"},ct={key:0,class:"mb-2"},ut={class:"font-semibold mb-2 flex items-center gap-2"},mt={key:1,class:"text-teal-04 cursor-pointer"},pt={class:"flex items-center gap-2"},ht={class:"mt-2"},vt={key:0,class:"flex items-center gap-2"},gt={class:"flex items-center gap-2"},bt={key:1,class:"flex items-center gap-2"},ft={key:0,class:"flex items-center gap-2"},_t={key:1,class:"flex items-center gap-2"},yt={class:"flex items-center gap-2"},kt={class:"flex items-center gap-2"},wt={class:"flex items-center gap-2"},xt={class:"flex items-center gap-2"},Ct={key:4,class:"flex items-center"},St={key:5},It={class:"text-sm"},Pt=["onClick"],Bt={key:6,class:"flex items-center gap-2"},Ot={key:7,class:"flex items-center gap-2"},Tt={key:8,class:"flex items-center gap-2"},Vt={key:9,class:"flex items-center gap-2 mt-1"},Mt={class:"ml-2"},Dt={key:10,class:"flex items-center gap-2"},jt={key:11,class:"flex items-center gap-2"},Ut={key:12,class:"flex items-center gap-2"},At={class:"flex items-center gap-2"},Lt={key:0,class:"flex items-center gap-2"},Nt={key:14,class:"flex items-center gap-2"},Ft={key:15,class:"flex items-center gap-2"},$t={class:"flex items-center gap-2"},Rt={class:"flex items-center gap-2"},Qt={key:17,class:"flex items-center gap-2"},Et={key:18},qt={key:20,class:"flex items-center gap-2"},zt={key:21},Kt={key:1,class:"mb-2"},Gt={key:2},Yt={key:3},Wt={class:"flex justify-between items-center gap-4"},Jt={key:0,class:"flex items-center gap-2 bg-green-lighten text-green-04 py-2 px-4 rounded-full mr-auto text-sm"},Xt={key:0,class:"mb-4 flex flex-col items-center justify-center"},Zt={class:"flex justify-end"};var Ht=ye(pl,[["render",function(e,a,l,t,o,i){var s,n;const d=N("Badge"),r=N("Tooltip"),c=N("BuybackShippingOptions"),u=N("Card"),m=N("TextLimit"),p=N("router-link"),h=N("Popover"),v=N("DetailContactOrderInformation"),g=N("DetailCustomerPortalLink"),b=N("Button"),f=N("ExpeditedIcon"),_=N("Tab"),y=N("Modal"),k=N("AbandonBuybackCustomerForm"),w=N("CustomTracking"),x=de("loading");return F(),W(X,null,[ee((F(),$(u,{class:"mb-4"},{header:R((()=>{var l;return[Q("div",Fl,[a[53]||(a[53]=Q("h6",null,"Offer",-1)),Q("div",$l,[z(c,{id:null==(l=e.stateShow)?void 0:l.box_id,multiple:e.stateShow.is_multiple_shipping,total:e.stateShow.total_shipping_label,shippings:e.stateShow.shipping_label,shippingLabelStatus:e.stateShow.shipping_label_status,regenerateShippingLabel:e.handleRegenerateShipping,onSucceed:e.handleSucceedBuybackOption},null,8,["id","multiple","total","shippings","shippingLabelStatus","regenerateShippingLabel","onSucceed"])])])]})),default:R((()=>{var l,t,o,i,s,n,c,u,m,p,h,v;return[Q("div",hl,[Q("p",vl,"Offer ID # "+E(e.$route.params.buybackId),1),e.stateShow.type_text&&!e.isBulkQuote?(F(),$(d,{key:0,class:"whitespace-nowrap",color:e.sellingTypeColor(e.stateShow.type_text)},{default:R((()=>[Q("div",gl,[Q("img",{src:`/icon/selling-type/${e.kebabCase(e.stateShow.type_text,"lower")}.svg`,alt:`${e.stateShow.type_text} icon`},null,8,bl),Q("p",null,E(e.stateShow.type_text),1)])])),_:1},8,["color"])):J("",!0)]),2==e.stateShow.shipping_label_status?(F(),W("div",fl,a[39]||(a[39]=[Q("div",{class:"flex gap-x-2"},[Q("i",{class:"material-icons text-red-base text-center"},"warning"),Q("span",null,' Unable to generate the shipping label due to an error. Once the root cause is resolved, you can click "Regenerate Shipping Label" from the three-dot menu above. ')],-1)]))):J("",!0),Q("p",null,[a[40]||(a[40]=Q("span",{class:"material-icons text-base"},"date_range",-1)),H(" "+E(null==(l=e.stateShow)?void 0:l.created_at),1)]),e.isShowTrackingNumber?(F(),W("div",_l,[Q("div",yl,[Q("div",kl,[a[46]||(a[46]=Q("p",{class:"font-semibold mb-2"},"Shipping Information",-1)),1===(null==(o=null==(t=e.stateShow)?void 0:t.shipping_label)?void 0:o.length)?(F(),W("div",wl,[Q("div",xl,[a[42]||(a[42]=Q("span",{class:"material-icons"},"local_shipping",-1)),Q("span",null,E((null==(s=null==(i=e.stateShow)?void 0:i.shipping_label[0])?void 0:s.custom_tracking)||(null==(c=null==(n=e.stateShow)?void 0:n.shipping_label[0])?void 0:c.shipping_tracking)),1),Q("a",{href:e.stateShow.shipping_tracking_link,rel:"noreferrer noopener",class:"text-grey-03",target:"_blank"},a[41]||(a[41]=[Q("span",{class:"material-icons"},"launch",-1)]),8,Cl)]),a[43]||(a[43]=Q("div",{class:"flex items-center gap-x-2"},[Q("span",{class:"material-icons"},"qr_code"),Q("span",null,"Shipping Label Available")],-1))])):(null==(m=null==(u=e.stateShow)?void 0:u.shipping_label)?void 0:m.length)>1?(F(),W("div",Sl,[Q("div",Il,[a[44]||(a[44]=Q("span",{class:"material-icons"},"local_shipping",-1)),Q("span",null,E(e.stateShow.shipping_label.length)+" Available Shipping Label",1)])])):(F(),W("div",Pl,a[45]||(a[45]=[Q("div",null,[Q("div",{class:"flex items-center gap-x-2"},[Q("span",{class:"material-icons"},"local_shipping"),Q("span",{class:"text-red-base"},"Tracking Number is not available")]),Q("div",{class:"flex items-center gap-x-2"},[Q("span",{class:"material-icons"},"qr_code"),Q("span",{class:"text-red-base"},"Shipping Label Not Available")])],-1)])))])]),Q("div",Bl,[Q("p",Ol,[a[48]||(a[48]=Q("span",null,"Shipping Cost",-1)),z(r,{placement:"top"},{content:R((()=>[Q("div",Tl,[0==e.stateShow.shipping_cost?(F(),W(X,{key:0},[H(" This feature is available only for offers using EasyPost USPS services. The shipping service you are using doesn't support this feature. ")],64)):(F(),W(X,{key:1},[H(" The shipping cost is not final until USPS weighs the package, after which the actual shipping cost will be reflected here. ")],64))])])),default:R((()=>[a[47]||(a[47]=Q("span",{class:"material-icons"},"info",-1))])),_:1})]),Q("p",null,[0!=e.stateShow.shipping_cost?(F(),W(X,{key:0},[H(E(e.stateShow.shipping_cost),1)],64)):(F(),W(X,{key:1},[H("-")],64))])]),(null==(p=e.stateShow)?void 0:p.is_multiple_shipping)?J("",!0):(F(),W("div",Vl,[a[49]||(a[49]=Q("p",{class:"font-semibold mb-2"},"Status",-1)),Q("p",Ml,E((null==(v=null==(h=e.stateShow)?void 0:h.shipping_label[0])?void 0:v.shipping_status_summary)||"No Shipping Information"),1)]))])):J("",!0),Q("div",Dl,[a[50]||(a[50]=Q("p",{class:"font-semibold mb-2"},"Source",-1)),Q("p",jl,E(e.stateShow.source||"-"),1)]),Q("div",Ul,[a[51]||(a[51]=Q("p",{class:"font-semibold mb-2"},"Referral Source",-1)),Q("p",Al,E(e.stateShow.referral_source||"-"),1)]),e.stateShow.returned_tracking?(F(),W("div",Ll,[a[52]||(a[52]=Q("p",{class:"font-semibold mb-2"},"Returned Tracking ",-1)),Q("p",Nl,E(e.stateShow.returned_tracking),1)])):J("",!0)]})),_:1})),[[x,e.isLoading]]),ee((F(),$(u,{class:"mb-4",error:e.isAbandonedBuyback&&!(null==(s=e.stateShow)?void 0:s.is_fulfilled_address)},{header:R((()=>{var l,t,o,i,s,n;return[Q("div",nt,[Q("h6",null,E(e.isBulkQuote?"Quote Information":"Offer Information"),1),e.isReadonly?J("",!0):(F(),W("div",dt,[e.isAbandonedBuyback?(F(),$(b,{key:0,onClick:e.handleOpenAbandonBuybackCustomerModal,class:"mx-2",disabled:null!=(null==(l=e.stateShow)?void 0:l.deleted_at)||e.isBulkQuote&&9e3!==(null==(t=e.stateShow)?void 0:t.status_id),loading:e.loadingPaymentMethod.all,color:"teal",dense:""},{default:R((()=>a[62]||(a[62]=[Q("i",{class:"material-icons text-base"},"edit",-1),H(" Edit")]))),_:1},8,["onClick","disabled","loading"])):(F(),$(b,{key:1,onClick:e.handleOpenShippingLabelInfoModal,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.bulkQuote.restrictedQuoteUpdate||e.isBulkQuote&&9e3!==(null==(i=e.stateShow)?void 0:i.status_id),loading:e.loadingPaymentMethod.all,class:"mr-2",color:"teal",dense:""},{default:R((()=>a[63]||(a[63]=[Q("i",{class:"material-icons text-base"},"edit",-1),H(" Edit")]))),_:1},8,["onClick","disabled","loading"])),(null==(s=e.stateCustomer)?void 0:s.login_link)&&"#"!=(null==(n=e.stateCustomer)?void 0:n.login_link)?(F(),$(h,{key:2,trigger:"hover",width:"400"},{reference:R((()=>{var l;return[z(b,{disabled:1e3===(null==(l=e.stateShow)?void 0:l.status_id),onClick:a[2]||(a[2]=a=>{var l;return e.handleLoginAsCustomer(null==(l=e.stateCustomer)?void 0:l.login_link)}),color:"green",dense:""},{default:R((()=>a[64]||(a[64]=[Q("i",{class:"material-icons text-base"},"vpn_key",-1),H(" Login")]))),_:1},8,["disabled"])]})),default:R((()=>[a[65]||(a[65]=Q("span",{class:"font-normal"},"Login to customer account",-1))])),_:1})):J("",!0)]))])]})),default:R((()=>{var l,t,o,i;return[e.isBulkQuote?(F(),W("div",Rl,[Q("h6",Ql,E(null==(t=null==(l=e.stateShow)?void 0:l.customer)?void 0:t.company),1)])):(F(),W("div",El,[Q("div",ql,[z(h,{width:"400",trigger:"hover"},{reference:R((()=>{var l,t;return[e.isAbandonedBuyback?(F(),W("div",Gl,[z(m,{text:`${e.computedCustomer.firstName||""} ${e.computedCustomer.lastName||""}`},{default:R((({text:a})=>[Q("div",Yl,[e.nameCapitalize(a).length?(F(),W("h5",Wl,[(F(!0),W(X,null,Z(e.nameCapitalize(a),((e,a)=>(F(),W("span",{key:a,class:"text-teal-04 capitalize"},E(`${e} `),1)))),128))])):(F(),W("h5",Jl,E(a),1))])])),_:1},8,["text"])])):(F(),W("div",Xl,[z(p,{to:{name:"customerDetail",params:{customerId:null==(t=null==(l=e.stateShow)?void 0:l.customer)?void 0:t.id,category:"mail-in"}}},{default:R((()=>[z(m,{text:`${e.computedCustomer.firstName||""} ${e.computedCustomer.lastName||""}`},{default:R((e=>[Q("h5",Zl,[H(E(e.text)+" ",1),a[58]||(a[58]=Q("i",{class:"material-icons icon-visibility"},"visibility",-1))])])),_:1},8,["text"])])),_:1},8,["to"])]))]})),default:R((()=>[Q("div",zl,[(F(),W("div",Kl,[a[57]||(a[57]=Q("p",{class:"font-semibold"},"Customer Information",-1)),Q("p",null,[a[54]||(a[54]=Q("i",{class:"material-icons text-base mr-1"},"email",-1)),H(" "+E(e.computedCustomer.email),1)]),Q("p",null,[a[55]||(a[55]=Q("i",{class:"material-icons text-base mr-1"},"location_on",-1)),H(" "+E(e.computedCustomer.addressCustomer),1)]),Q("p",null,[a[56]||(a[56]=Q("i",{class:"material-icons text-base mr-1"},"call",-1)),H(" "+E(e.phoneNumber(e.computedCustomer.phone)),1)])]))])])),_:1})]),Q("i",{class:"material-icons hover:text-teal-04 text-teal-04 cursor-pointer ml-2",style:{"line-height":"2"},onClick:a[0]||(a[0]=oe((a=>e.CopyText(`${e.computedCustomer.firstName} ${e.computedCustomer.lastName}`)),["stop"]))}," file_copy ")])),Q("p",Hl,[a[59]||(a[59]=Q("i",{class:"material-icons text-base mr-2"}," assignment ",-1)),H(" "+E((e.isBulkQuote?e.bulkQuote.totalQuoteItems:null==(o=e.stateItems)?void 0:o.total_qty)||0)+" items ",1)]),e.stateShow.type_text&&"Easy Offer"===e.stateShow.type_text?(F(),W("div",et,[a[60]||(a[60]=Q("p",{class:"font-semibold"},"Company Name",-1)),Q("p",at,E((null==(i=e.stateShow.billing)?void 0:i.company_name)||"-"),1)])):J("",!0),Q("div",{class:ie(e.stateShow.type_text&&"Easy Offer"===e.stateShow.type_text?"mb-2":"mt-5")},[z(v,{title:e.isBulkQuote?"Order Information":"Contact Information",data:e.stateShow,type:"online"},null,8,["title","data"])],2),Q("div",lt,[Q("a",{class:"flex items-center",href:"",onClick:a[1]||(a[1]=oe(((...a)=>e.printAddressLabel&&e.printAddressLabel(...a)),["prevent"]))},a[61]||(a[61]=[Q("i",{class:"material-icons text-lg mt-2"},"print",-1),Q("span",{class:"mt-2 mx-3"},"Print Address Label",-1)]))]),e.customFields.length>0?(F(),W("div",tt,[(F(!0),W(X,null,Z(e.customFields,(e=>(F(),W("div",{key:e.label,class:"my-6"},[Q("p",ot,E(e.label),1),Q("p",it,E(e.value),1)])))),128))])):J("",!0),Q("div",st,[z(g,{title:"Customer Portal URL",data:e.stateShow},null,8,["data"])])]})),_:1},8,["error"])),[[x,e.isLoading]]),ee((F(),$(u,{class:"mb-4",error:e.isAbandonedBuyback&&!(null==(n=e.stateShow)?void 0:n.is_fulfilled_payout)},{header:R((()=>{var l,t,o,i;return[Q("div",Wt,[a[103]||(a[103]=Q("h6",null,"Payout",-1)),(null==(t=null==(l=e.stateShow)?void 0:l.billing)?void 0:t.expedited_payout)?(F(),W("div",Jt,[z(f,{class:"text-green-04"}),a[100]||(a[100]=Q("span",null,"Expedited Payout",-1))])):J("",!0),e.isAbandonedBuyback&&!e.isReadonly?(F(),$(b,{key:1,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.bulkQuote.restrictedQuoteUpdate,loading:e.loadingPaymentMethod.all,color:"teal",onClick:e.handleOpenPayoutMethodModal,dense:""},{default:R((()=>a[101]||(a[101]=[Q("i",{class:"material-icons text-base"},"edit",-1),H(" Edit")]))),_:1},8,["disabled","loading","onClick"])):e.isReadonly?J("",!0):(F(),$(b,{key:2,disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.bulkQuote.restrictedQuoteUpdate,loading:e.loadingPaymentMethod.all,color:"teal",onClick:e.handleOpenPayoutMethodModal,dense:""},{default:R((()=>a[102]||(a[102]=[Q("i",{class:"material-icons text-base"},"edit",-1),H(" Edit")]))),_:1},8,["disabled","loading","onClick"]))])]})),default:R((()=>{var l,t,o,i,s,n,d,c,u,p,h,v,g,f,_,y,k,w,C,S,I,P,B,O,T,V,M,D,j,U,A,L,N,q,K,G,Y,ae,le,te,ie,se,ne,de,re,ce,ue,me,pe,he,ve,ge,be,fe,_e,ye,ke,we,xe,Ce,Se,Ie,Pe,Be,Oe,Te,Ve,Me;return[Q("div",rt,[a[67]||(a[67]=Q("p",{class:"font-semibold mb-2"},"Payout Method",-1)),Q("p",null,[H(E(null==(l=e.stateShow.billing)?void 0:l.payment_method)+" ",1),e.isReadyPaperCheck?(F(),W(X,{key:0},["Paper Check"===(null==(t=e.stateShow.billing)?void 0:t.payment_method)||"Express Check"===(null==(o=e.stateShow.billing)?void 0:o.payment_method)?(F(),$(b,{key:0,class:"ml-8",color:"teal",loading:e.loadingPrint.paperCheck,onClick:oe(e.paperCheck,["prevent"]),disabled:0==(null==(i=e.stateShow.billing)?void 0:i.is_print_check),dense:""},{default:R((()=>a[66]||(a[66]=[Q("i",{class:"material-icons text-base"},"print",-1)]))),_:1},8,["loading","onClick","disabled"])):J("",!0)],64)):J("",!0)])]),(null==(s=e.stateShow.billing)?void 0:s.payment_method)&&!["Cash","Store Credit","Gift Card","Virtual Debit Card"].includes(null==(n=e.stateShow.billing)?void 0:n.payment_method)?(F(),W("div",ct,[Q("div",ut,[a[69]||(a[69]=H(" Payout Info ")),e.confidentialView?(F(),W(X,{key:0},[e.isShowBankNumber?(F(),W("span",{key:0,class:"text-teal-04 cursor-pointer",onClick:a[3]||(a[3]=(...a)=>e.toggleShowBankNumber&&e.toggleShowBankNumber(...a))},a[68]||(a[68]=[Q("i",{class:"material-icons icon-visibility"},"visibility",-1)]))):J("",!0),e.isShowBankNumber?J("",!0):(F(),W("span",mt,[Q("i",{class:"material-icons icon-visibility-off",onClick:a[4]||(a[4]=(...a)=>e.toggleShowBankNumber&&e.toggleShowBankNumber(...a))},"visibility_off")]))],64)):J("",!0)]),"Paper Check"===(null==(d=e.stateShow.billing)?void 0:d.payment_method)||"Express Check"===(null==(c=e.stateShow.billing)?void 0:c.payment_method)?(F(),W(X,{key:0},[Q("div",pt,[a[70]||(a[70]=Q("strong",{class:"text-sm"},"Customer Info",-1)),z(m,{text:`${(null==(u=e.stateShow.billing)?void 0:u.billing_firstname)||""} ${(null==(p=e.stateShow.billing)?void 0:p.billing_lastname)||""}`},{default:R((e=>[Q("p",null,E(e.text),1)])),_:1},8,["text"]),Q("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[5]||(a[5]=a=>{var l,t;return e.CopyText(`${(null==(l=e.stateShow.billing)?void 0:l.billing_firstname)||""} ${(null==(t=e.stateShow.billing)?void 0:t.billing_lastname)||""}`)})}," file_copy ")]),Q("div",ht,[a[72]||(a[72]=Q("p",{class:"font-semibold"},"Payout Address",-1)),"1"===e.stateShow.use_company_name?(F(),W("p",vt,[a[71]||(a[71]=Q("strong",{class:"text-sm"},"Company",-1)),H(" "+E(null==(h=e.stateShow.billing)?void 0:h.company_name)+" ",1),Q("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[6]||(a[6]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.company_name)})}," file_copy ")])):J("",!0),z(m,{text:`${(null==(v=e.stateShow.billing)?void 0:v.billing_firstname)||""} ${(null==(g=e.stateShow.billing)?void 0:g.billing_lastname)||""}`},{default:R((e=>[Q("p",null,E(e.text),1)])),_:1},8,["text"]),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[7]||(a[7]=a=>{var l,t;return e.CopyText(`${(null==(l=e.stateShow.billing)?void 0:l.billing_firstname)||""} ${(null==(t=e.stateShow.billing)?void 0:t.billing_lastname)||""}`)})}," file_copy "),Q("p",gt,[H(E((null==(f=e.stateShow.billing)?void 0:f.billing_address_text_suite)||(null==(_=e.stateShow.billing)?void 0:_.billing_address_text)||"-")+" ",1),Q("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[8]||(a[8]=a=>{var l,t;return e.CopyText((null==(l=e.stateShow.billing)?void 0:l.billing_address_text_suite)||(null==(t=e.stateShow.billing)?void 0:t.billing_address_text)||"-")})}," file_copy ")]),(null==(y=e.stateShow.billing)?void 0:y.billing_phone)?(F(),W("p",bt,[H(E(e.phoneNumber(null==(k=e.stateShow.billing)?void 0:k.billing_phone))+" ",1),Q("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[9]||(a[9]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.billing_phone))})}," file_copy ")])):J("",!0)])],64)):"Venmo"===(null==(w=e.stateShow.billing)?void 0:w.payment_method)?(F(),W(X,{key:1},[Q("p",null,E(null==(C=e.stateShow.billing)?void 0:C.venmo_email),1),Q("p",null,E(e.phoneNumber(null==(S=e.stateShow.billing)?void 0:S.venmo_phone_number)),1),(null==(I=e.stateShow.billing)?void 0:I.venmo_username)?(F(),W("div",ft,[a[73]||(a[73]=Q("strong",{class:"text-sm"},"Username",-1)),Q("p",null,E(null==(P=e.stateShow.billing)?void 0:P.venmo_username),1),Q("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[10]||(a[10]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.venmo_username)})}," file_copy ")])):J("",!0),(null==(B=e.stateShow.billing)?void 0:B.venmo_last_digit)?(F(),W("div",_t,[a[74]||(a[74]=Q("strong",{class:"text-sm"},"Last 4 digits of phone number",-1)),Q("p",null,E(null==(O=e.stateShow.billing)?void 0:O.venmo_last_digit),1),Q("i",{class:"material-icons ml-2 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[11]||(a[11]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.venmo_last_digit)})}," file_copy ")])):J("",!0)],64)):"Amazon Gift Card"===(null==(T=e.stateShow.billing)?void 0:T.payment_method)?(F(),W(X,{key:2},[Q("p",yt,[a[75]||(a[75]=Q("strong",{class:"text-sm"},"Email",-1)),H(E(null==(V=e.stateShow.billing)?void 0:V.amazon_card_email)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[12]||(a[12]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.amazon_card_email)})}," file_copy ")]),Q("p",kt,[a[76]||(a[76]=Q("strong",{class:"text-sm"},"Phone Number",-1)),H(E(e.phoneNumber(null==(M=e.stateShow.billing)?void 0:M.amazon_card_phone))+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[13]||(a[13]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.amazon_card_phone))})}," file_copy ")])],64)):"Square Cash"===(null==(D=e.stateShow.billing)?void 0:D.payment_method)?(F(),W(X,{key:3},[Q("p",wt,[a[77]||(a[77]=Q("strong",{class:"text-sm"},"Cash Tag",-1)),H(" "+E(null==(j=e.stateShow.billing)?void 0:j.square_cash_tag)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[14]||(a[14]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.square_cash_tag)})}," file_copy ")]),Q("p",xt,[a[78]||(a[78]=Q("strong",{class:"text-sm"},"Phone Number",-1)),H(E(e.phoneNumber(null==(U=e.stateShow.billing)?void 0:U.square_phone_number))+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[15]||(a[15]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.square_phone_number))})}," file_copy ")])],64)):"PayPal"===(null==(A=e.stateShow.billing)?void 0:A.payment_method)?(F(),W("div",Ct,[Q("p",null,[a[79]||(a[79]=Q("strong",{class:"mr-2 text-sm"},"PayPal Address",-1)),H(" "+E(null==(L=e.stateShow.billing)?void 0:L.paypal_address),1)]),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[16]||(a[16]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.paypal_address)})}," file_copy ")])):"Bank Transfer"===(null==(N=e.stateShow.billing)?void 0:N.payment_method)?ee((F(),W("div",St,[(F(!0),W(X,null,Z(e.computedBankTransfer,((l,t)=>(F(),W("p",{key:t,class:"flex items-center gap-2"},[Q("strong",It,E(l.name),1),H(" "+E(l.value)+" ",1),e.confidentialView?(F(),W("i",{key:0,class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a=>e.CopyText(l.value)}," file_copy ",8,Pt)):(F(),$(r,{key:1,placement:"top"},{content:R((()=>a[80]||(a[80]=[Q("div",{class:"max-w-sm"},"You don't have access to this data. Please request access from your account admin",-1)]))),default:R((()=>a[81]||(a[81]=[Q("i",{disabled:"",class:"material-icons ml-4 text-teal-02 cursor-not-allowed"}," file_copy ",-1)]))),_:1}))])))),128))])),[[x,e.loadingPaymentMethod.showBankNumber]]):"Bitcoin"===(null==(q=e.stateShow.billing)?void 0:q.payment_method)?(F(),W("p",Bt,[a[82]||(a[82]=Q("strong",{class:"text-sm"},"Bitcoin Address",-1)),H(E(null==(K=e.stateShow.billing)?void 0:K.bitcoin_crypto_address)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[17]||(a[17]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.bitcoin_crypto_address)})}," file_copy ")])):"Coinbase"===(null==(G=e.stateShow.billing)?void 0:G.payment_method)?(F(),W("p",Ot,[a[83]||(a[83]=Q("strong",{class:"text-sm"},"Coinbase Address",-1)),H(E(null==(Y=e.stateShow.billing)?void 0:Y.bitcoin_crypto_address)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[18]||(a[18]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.bitcoin_crypto_address)})}," file_copy ")])):"Zelle"===(null==(ae=e.stateShow.billing)?void 0:ae.payment_method)?(F(),W("p",Tt,[a[84]||(a[84]=Q("strong",{class:"text-sm"},"Email or Phone Number",-1)),H(" "+E(null==(le=e.stateShow.billing)?void 0:le.zelle_email_or_phone_number)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[19]||(a[19]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.zelle_email_or_phone_number)})}," file_copy ")])):"Cash App"===(null==(te=e.stateShow.billing)?void 0:te.payment_method)?(F(),W("p",Vt,[a[85]||(a[85]=Q("strong",{class:"text-sm"},"Email or Phone Number or Cash Tag",-1)),Q("span",Mt,E(null==(ie=e.stateShow.billing)?void 0:ie.cash_app_email_or_phone_number_or_cash_tag),1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[20]||(a[20]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.cash_app_email_or_phone_number_or_cash_tag)})}," file_copy ")])):"Apple Pay"===(null==(se=e.stateShow.billing)?void 0:se.payment_method)?(F(),W("p",Dt,[a[86]||(a[86]=Q("strong",{class:"text-sm"},"Phone Number",-1)),H(" "+E(e.phoneNumber(null==(ne=e.stateShow.billing)?void 0:ne.apple_pay_phone_number))+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[21]||(a[21]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.apple_pay_phone_number))})}," file_copy ")])):"Google Pay"===(null==(de=e.stateShow.billing)?void 0:de.payment_method)?(F(),W("p",jt,[a[87]||(a[87]=Q("strong",{class:"text-sm"},"Email or Phone Number",-1)),H(" "+E(null==(re=e.stateShow.billing)?void 0:re.google_play_email_or_phone_number)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[22]||(a[22]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.google_play_email_or_phone_number)})}," file_copy ")])):"Facebook Pay"===(null==(ce=e.stateShow.billing)?void 0:ce.payment_method)?(F(),W("p",Ut,[a[88]||(a[88]=Q("strong",{class:"text-sm"},"Email",-1)),H(" "+E(null==(ue=e.stateShow.billing)?void 0:ue.facebook_pay_email)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[23]||(a[23]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.facebook_pay_email)})}," file_copy ")])):"Interac e-Transfer"===(null==(me=e.stateShow.billing)?void 0:me.payment_method)?(F(),W(X,{key:13},[Q("p",At,[a[89]||(a[89]=Q("strong",{class:"text-sm"},"Full Name",-1)),H(E(null==(pe=e.stateShow.billing)?void 0:pe.interac_full_name)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[24]||(a[24]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.interac_full_name)})}," file_copy ")]),(null==(he=e.stateShow.billing)?void 0:he.interac_email_or_phone)?(F(),W("p",Lt,[a[90]||(a[90]=Q("strong",{class:"text-sm"}," Email or Phone Number ",-1)),H(" "+E(null==(ve=e.stateShow.billing)?void 0:ve.interac_email_or_phone)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[25]||(a[25]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.interac_email_or_phone)})}," file_copy ")])):J("",!0)],64)):"eCheck"===(null==(ge=e.stateShow.billing)?void 0:ge.payment_method)?(F(),W("p",Nt,[a[91]||(a[91]=Q("strong",{class:"text-sm"},"Email",-1)),H(" "+E(null==(be=e.stateShow.billing)?void 0:be.echeck_email)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[26]||(a[26]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.echeck_email)})}," file_copy ")])):"Swish"===(null==(fe=e.stateShow.billing)?void 0:fe.payment_method)?(F(),W("p",Ft,[a[92]||(a[92]=Q("strong",{class:"text-sm"},"Phone Number",-1)),H(" "+E(e.phoneNumber(null==(_e=e.stateShow.billing)?void 0:_e.swish_phone_number))+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[27]||(a[27]=a=>{var l;return e.CopyText(e.phoneNumber(null==(l=e.stateShow.billing)?void 0:l.swish_phone_number))})}," file_copy ")])):"Bill"===(null==(ye=e.stateShow.billing)?void 0:ye.payment_method)?(F(),W(X,{key:16},[Q("p",$t,[a[93]||(a[93]=Q("strong",{class:"text-sm"},"Legal Business Name",-1)),H(" "+E(null==(ke=e.stateShow.billing)?void 0:ke.bill_legal_business_name)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[28]||(a[28]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.bill_legal_business_name)})}," file_copy ")]),Q("p",Rt,[a[94]||(a[94]=Q("strong",{class:"text-sm"},"Network ID",-1)),H(" "+E(null==(we=e.stateShow.billing)?void 0:we.bill_network_id)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[29]||(a[29]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.bill_network_id)})}," file_copy ")])],64)):"Rebate"===(null==(xe=e.stateShow.billing)?void 0:xe.payment_method)?(F(),W("p",Qt,[a[95]||(a[95]=Q("strong",{class:"text-sm"},"Order Number",-1)),H(" "+E(null==(Ce=e.stateShow.billing)?void 0:Ce.rebate_order_number)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[30]||(a[30]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.rebate_order_number)})}," file_copy ")])):"Choose Later"===(null==(Se=e.stateShow.billing)?void 0:Se.payment_method)?(F(),W("p",Et," Choose Later (Tremendous) ")):(null==(Ie=e.stateShow.billing)?void 0:Ie.custom_payout)?(F(!0),W(X,{key:19},Z(null==(Pe=e.stateShow.billing)?void 0:Pe.custom_payout,((e,a)=>(F(),W("p",{key:a,class:"break-words"},[H(E(e.value)+" ",1),Q("small",null,"("+E(e.name)+")",1)])))),128)):"Revolut"===(null==(Be=e.stateShow.billing)?void 0:Be.payment_method)?(F(),W("p",qt,[a[96]||(a[96]=Q("strong",{class:"text-sm"},"Revtag, Email or Phone Number",-1)),H(E(null==(Oe=e.stateShow.billing)?void 0:Oe.revtag_or_email_or_phone)+" ",1),Q("i",{class:"material-icons ml-4 text-teal-04 hover:text-teal-03 cursor-pointer",onClick:a[31]||(a[31]=a=>{var l;return e.CopyText(null==(l=e.stateShow.billing)?void 0:l.revtag_or_email_or_phone)})}," file_copy ")])):(F(),W("p",zt,"No Payout Information"))])):J("",!0),"Choose Later"===(null==(Te=e.stateShow.billing)?void 0:Te.payment_method)?(F(),W("div",Kt,[a[97]||(a[97]=Q("p",{class:"font-semibold mb-2"},"Payout Status",-1)),Q("p",null,E(null==(Ve=e.stateShow.billing)?void 0:Ve.tremendous_status),1)])):J("",!0),e.stateItems.coupon_code?(F(),W("div",Gt,[a[98]||(a[98]=Q("p",{class:"font-semibold mb-2"},"Promo Code",-1)),Q("p",null,E(e.stateItems.coupon_code),1)])):J("",!0),(null==(Me=e.stateShow.billing)?void 0:Me.transaction_id)?(F(),W("div",Yt,[a[99]||(a[99]=Q("p",{class:"font-semibold mb-2"},"Transaction ID",-1)),Q("p",null,E(e.stateShow.billing.transaction_id),1)])):J("",!0)]})),_:1},8,["error"])),[[x,e.isLoading]]),z(y,{modelValue:e.modal.paymentMethod,"onUpdate:modelValue":a[35]||(a[35]=a=>e.modal.paymentMethod=a),title:e.isBulkQuote?"Update Payout":"Update Offer Information","hide-footer":e.errorsPaymentMethod.all},{footer:R((()=>[z(b,{color:"teal",loading:e.loadingPaymentMethod.update,onClick:a[34]||(a[34]=a=>e.updatePaymentMethod())},{default:R((()=>[H(E(e.isBulkQuote?"Save Payout":"Save Offer Information"),1)])),_:1},8,["loading"])])),default:R((()=>[e.errorsPaymentMethod.all?(F(),W("div",Xt,[a[105]||(a[105]=Q("p",null,"There's an error when getting payout info, please try again",-1)),z(b,{class:"mt-4",color:"teal",onClick:a[32]||(a[32]=()=>e.$router.go())},{default:R((()=>a[104]||(a[104]=[Q("i",{class:"material-icons text-lg"},"refresh",-1),H(" Reload Page")]))),_:1})])):(F(),W(X,{key:1},[z(_,{modelValue:e.tab.selected,"onUpdate:modelValue":a[33]||(a[33]=a=>e.tab.selected=a),items:e.tabItems,component:""},null,8,["modelValue","items"]),(F(),$(ue(e.tab.selected),me({ref:"refComponent"},e.componentBind,pe(e.componentOn)),null,16))],64))])),_:1},8,["modelValue","title","hide-footer"]),z(y,{modelValue:e.modalAbandonBuyback.update.customer,"onUpdate:modelValue":a[37]||(a[37]=a=>e.modalAbandonBuyback.update.customer=a),title:"Edit Customer"},{default:R((()=>[z(k,{ref:"refAbandonBuybackCustomerForm",data:e.dataAbandonBubyback.customer,"onUpdate:data":a[36]||(a[36]=a=>e.dataAbandonBubyback.customer=a)},null,8,["data"])])),footer:R((()=>[Q("div",Zt,[z(b,{onClick:e.handleUpdateAbandonBuybackCustomer,loading:e.loadingAbandonBuyback.update.customer,color:"teal"},{default:R((()=>a[106]||(a[106]=[H("Save")]))),_:1},8,["onClick","loading"])])])),_:1},8,["modelValue"]),z(w,{show:e.modalCustomTracking,"onUpdate:show":a[38]||(a[38]=a=>e.modalCustomTracking=a),"box-id":e.stateShow.box_id,"original-tracking":e.stateShow.original_tracking,onSave:e.handleCustomTrackingSaved},null,8,["show","box-id","original-tracking","onSave"])],64)}],["__scopeId","data-v-e28e129a"]]);const eo=G({components:{Input:we,Button:Ce,Modal:ke,Card:aa,Tab:Re,Badge:Ne,DeviceForm:va,PhonecheckInfo:ga,StatusesForm:Da,PrintLabel:ba,BBTable:fa,BBTColumn:_a,Currency:Fe,BulkCondition:ya,BulkImeiSNInput:ka,GolfSpecBadge:wa},props:{isBulkQuoteReconcile:{type:Boolean,default:!1}},emits:["reconcile"],async setup(){const{state:e,device:a,dataCoupon:l,loadingCoupon:t,loading:o,modal:i,selected:s,isCouponApplied:d,isCouponChanged:r,unsetData:c,openModal:h,actionAll:v,actionCreate:g,actionUpdate:b,actionDelete:f,actionImeiCheck:_,actionImeiCheckPrint:y,actionImeiCheckPrintBulk:k,applyCoupon:w,removeCoupon:x}=u("online"),{me:P}=Be(),{data:B,modal:O,action:T,unsetData:V,openModal:M,loading:D}=C("online"),{stateOption:j,actionStatusOptions:U}=p("easy-offer"),{state:A,action:N,batchPrintLabel:F}=m("online"),{update:$}=I("online"),{stateEnabledIntegration:R,actionEnabledIntegration:Q}=ma(),{data:E,action:q,loading:z,modal:K,unsetData:G}=S(),{loading:W,items:J,action:X,actionCustom:Z}=pa(),{transformSeperateCustomSpecs:H}=ha(),ee=L(),ae=se(),te=le(null),oe=le(null),ie=le(null),de=le(null),ue=le([]),me=le([]),pe=le(null),he=le(null),ve=le(!1),ge=le([]),be=le(!1),fe=le(!1),_e=le("qr"),ye=Y((()=>A.value&&A.value.is_readonly)),ke=Y((()=>P.value.package_id>=4&&1==R.value.is_phonecheck_enable)),we=Y({set(e){E.imei=e?e.split("\n"):null},get:()=>Array.isArray(E.imei)?E.imei.join("\n"):E.imei});a.marketerId=ee.params.marketerId;const xe=Ue((async e=>{await b(ee.params.buybackId,e.id,{imei_sn:e.imei_sn,notes:e.notes})}),300),Ce=Ue((async e=>{await b(ee.params.buybackId,e.id,{imei_sn:e.imei_sn,notes:e.notes})}),300),Se=Y((()=>JSON.parse(JSON.stringify(e.value)))),Ie=()=>{if(fe.value=!1,me.value.length>0){fe.value=!0;const e=me.value[0].is_mac,a=me.value[0].category_id;me.value.forEach((l=>{l.is_mac!=e&&(fe.value=!1),l.category_id!=a&&(fe.value=!1)}))}},Pe=()=>{var e;be.value=!1,K.value=!1,null==(e=null==de?void 0:de.value)||e.validate.$reset(),G()},Oe=re({modal:!1,loading:!1});return await Q(),await Promise.all([v(ee.params.buybackId),U()]),{me:P,device:a,state:e,stateStatuses:j,stateShow:A,items:Se,selectedItems:me,dataSplitItems:B,loading:o,loadingSplitItems:D,modal:i,modalSplitItems:O,printLabelData:ue,unsetData:c,unsetDataSplitItems:V,dataBulkImeiAddDevice:E,dataCoupon:l,loadingBulkImeiAddDevice:z,loadingCoupon:t,modalBulkImeiAddDevice:K,isBulkImei:be,bulkImei:we,splitItems:async()=>{const e=me.value.length>0,a=B.new_status;if(!e)return ne({message:"Please choose at least one item",type:"warning"});if(!a)return ne({message:"Please choose new status",type:"warning"});const l=me.value.map((e=>e.id));Object.assign(B,{ids:l}),await T(ee.params.buybackId,(async()=>{me.value=[],ne({message:"Order splitted!",type:"success"}),await Promise.all([v(ee.params.buybackId),N(ee.params.buybackId),U()])}))},openSplitItemsModal:M,rowKey:e=>{const a=e.child?"_parent":"_child";return e.id+a},isParent:(e,a)=>!(e.child&&e.child.length>0),refDeviceForm:te,refPhonecheckInfo:oe,refBulkImeiSNInput:de,openModalSelected:(e,l)=>h(e,(()=>{"update"===e&&(a.id=l.id,Object.assign(a.data,{product_name:l.product_name,product_id:l.product_id,category_id:l.category_id,category_name:l.category_name,condition:l.condition,is_mac:l.is_mac,is_custom:l.is_custom,imei_sn:l.imei_sn,imei_required:l.imei_required,price:l.price,qty:l.qty,color:l.color,color_id:l.color_id,notes:l.notes,golf_steps:l.golf_step?l.golf_step:[],is_custom_color:null!==l.custom_color,custom_color:l.custom_color||null}),Object.assign(a.original,{is_mac:l.is_mac||0,product_name:l.ori_product_name||"",processor:l.ori_processor_speed||"",hard_drive:l.ori_hard_drive||"",memory:l.ori_memory||"",graphics:l.ori_graphics||"",created_at:l.created_at}),Object.assign(a.golfSpecs,{length:{selected:l.golf_length||l.custom_length||null,is_custom:null!==l.custom_length},loft:{selected:l.golf_loft||l.custom_loft||null,is_custom:null!==l.custom_loft},gender:{selected:l.golf_gender||l.custom_gender||null,is_custom:null!==l.custom_gender},shaft_model:{selected:l.golf_shaft_model||l.custom_shaft_model||null,is_custom:null!==l.custom_shaft_model},shaft_material:{selected:l.golf_shaft_material||l.custom_shaft_material||null,is_custom:null!==l.custom_shaft_material}})),s.value=l.id})),deviceTableUpdate:Ce,addDevice:async()=>{if(await ce((()=>te.value.validate()))){const e=n(n(n({},a.data),H(a.golfSpecs)),a.data.is_custom_color?{custom_color:a.data.custom_color,color_id:null}:{color_id:a.data.color_id});delete e.color,a.data=Object.assign(e),await g(ee.params.buybackId)}},deleteDevice:async(e,a)=>{me.value=[],await f(ee.params.buybackId)},updateDevice:async()=>{var e,l,t,o,i,s,d,r,c,u,m,p;if(await ce((()=>te.value.validate()))){const h=n({},a.data);delete h.color,Object.assign(h,n(n({product_id:a.data.product_id?a.data.product_id+(a.computer.processor?`-${a.computer.processor.id}-${a.computer.memory.id}-${a.computer.hardDrive.id}-${a.computer.graphicsCard.id}`:""):-1,processor:(null==(e=a.computer.processor)?void 0:e.name)||null,hard_drive:(null==(l=a.computer.hardDrive)?void 0:l.name)||null,memory:(null==(t=a.computer.memory)?void 0:t.name)||null,graphics:(null==(o=a.computer.graphicsCard)?void 0:o.name)||null,device:(null==(s=null==(i=a.device)?void 0:i.detail)?void 0:s.device)||null,model:(null==(r=null==(d=a.device)?void 0:d.detail)?void 0:r.model)||null,network:(null==(u=null==(c=a.device)?void 0:c.detail)?void 0:u.network)||null,size:(null==(p=null==(m=a.device)?void 0:m.detail)?void 0:p.size)||null,is_custom:a.data.is_custom||0,notes:a.data.notes,buyback_type:a.data.buyback_type||"mailin"},H(a.golfSpecs)),a.data.is_custom_color?{custom_color:a.data.custom_color,color_id:null}:{color_id:a.data.color_id})),await b(ee.params.buybackId,a.id,h,(async()=>{await Promise.all([v(ee.params.buybackId),U()])}))}},money:De,openModal:h,tableSummary:({columns:a})=>a.map((a=>"total"===a.property?`${je(P.value,e.value.total)}`:"price"===a.property?"Total":"")),selectItems:e=>{me.value=e,ge.value=e.filter((e=>"exists"==e.phonecheck_status)),Ie()},tabValidate:e=>5!==e.id,openDataMatch:()=>ae.push({name:"easyOfferDataMatch",params:{buybackId:ee.params.buybackId}}),printQrLabel:e=>{const a=He({id:e.id,productName:e.product_name,isMac:e.is_mac,detail:e.detail,condition:e.condition,buybackId:ee.params.buybackId,imei:e.imei_sn});_e.value="qr",ue.value=[a],i.print_qr=!0},printBarcodeLabel:e=>{const a=He({id:e.id,productName:e.product_name,isMac:e.is_mac,detail:e.detail,condition:e.condition,buybackId:ee.params.buybackId,imei:e.imei_sn,price:je(P.value,e.price)});_e.value="barcode",ue.value=[a],i.print_barcode=!0},printQrLabelBatch:()=>{const e=[];for(let a of me.value)e.push(He({id:a.id,productName:a.product_name,isMac:a.is_mac,detail:a.detail,condition:a.condition,buybackId:ee.params.buybackId,imei:a.imei_sn}));_e.value="qr",ue.value=e,i.print_qr=!0},printBarcodeLabelBatch:()=>{const e=[];for(let a of me.value)e.push(He({id:a.id,productName:a.product_name,isMac:a.is_mac,detail:a.detail,condition:a.condition,buybackId:ee.params.buybackId,imei:a.imei_sn,price:je(P.value,a.price)}));_e.value="barcode",ue.value=e,i.print_barcode=!0},viewPhoneCheckData:e=>{pe.value=JSON.parse(e.phonecheck_info),he.value=e,h("phonecheck_info")},importPhoneCheck:async()=>{let e=me.value.map((e=>({id:e.id,imei_sn:e.imei_sn})));await _(ee.params.buybackId,{imei:e,origin:"mail-in"}),await Promise.all([v(ee.params.buybackId),U()])},PhonecheckInfoData:pe,PhonecheckDevice:he,isErrorSelectedPhonecheck:ve,printPhoneCheck:async e=>{await y(ee.params.buybackId,{id:e.id,imei:e.imei_sn,origin:"mail-in"})},imeiUpdate:xe,validPhonecheckselectedItems:ge,importBulkPhoneCheck:async()=>{await k(ee.params.buybackId,{ids:ge.value.map((e=>e.id)),origin:"mail-in"})},isReadonly:ye,isCouponApplied:d,isCouponChanged:r,hasEnablePhonecheck:ke,actionEnabledIntegration:Q,importSinglePhoneCheck:async e=>{var a;let l=[{id:e.id,imei_sn:e.imei_sn}],t=await _(ee.params.buybackId,{imei:l,origin:"mail-in"});if(0==t.data.length&&1!==(null==t?void 0:t.is_phonecheck_error))return ne({message:"IMEI/SN not found",type:"warning"});pe.value=null==(a=t.data[0])?void 0:a.info,he.value=e,t.data.length&&!t.is_phonecheck_error?ve.value=!1:ve.value=!t.is_phonecheck_error||1==t.is_phonecheck_error,h("phonecheck_info"),await Promise.all([v(ee.params.buybackId),U()])},handleOpenAddBulkImeiModal:e=>{var a;const{product_id:l,product_name:t,condition:o,price:i,qty:s}=e;E.product_id=l,E.product_name=t,E.condition=o,E.price=i,E.qty=s;const n=[];(null==(a=null==e?void 0:e.child)?void 0:a.length)&&e.child.forEach((e=>{n.push((null==e?void 0:e.imei_sn)||"")})),E.imei=n,be.value=!0,K.value=!0},handleCloseAddBulkImeiModal:Pe,handleAddBulkImeiDevice:async()=>{await de.value.validate.$validate()&&await q(ee.params.buybackId,(async()=>{Pe(),await Promise.all([v(ee.params.buybackId),N(ee.params.buybackId),U()]),ne({message:"Items added",type:"success"})}))},handleBulkChangeCondition:async()=>{Oe.modal=!0;me.value.length>0&&1==me.value[0].is_custom?await Z({category_id:me.value[0].category_id,is_mac:me.value[0].is_mac}):await X({product_id:me.value[0].product_id,is_mac:me.value[0].is_mac})},bulkCondition:Oe,handleCloseModalBulkCondition:()=>{Oe.modal=!1},handleBulkChangeItemCondition:async e=>{await $({boxId:ee.params.buybackId,data:e}),ne({type:"success",message:"Item conditions updated"}),Oe.modal=!1,me.value=[],ie.value.checkValue=[],await Promise.all([v(ee.params.buybackId),U()])},handleApplyCoupon:async()=>{await w({boxId:ee.params.buybackId},(async(e,a)=>{e||await v(ee.params.buybackId)}))},handleRemoveCoupon:async()=>{await x({boxId:ee.params.buybackId},(async(e,a)=>{e||await v(ee.params.buybackId)}))},refItemTable:ie,sameProduct:fe,loadingCondition:W,itemConditions:J,labelType:_e}}}),ao={class:"mb-8"},lo={key:0,class:"flex gap-4 flex-wrap flex-col items-center justify-center my-4"},to={key:1},oo={class:"flex gap-2"},io={key:0},so={key:0,class:"mb-4"},no={class:"font-bold mr-2"},ro={class:"whitespace-nowrap"},co={key:1,class:"block"},uo={key:2},mo={key:0},po={key:0,src:"https://d18hvo5uozp8li.cloudfront.net/public/images/phonecheck.svg",alt:"",class:"h-4"},ho={key:1},vo={key:0,class:"flex flex-row items-center justify-center"},go={key:1,class:"flex flex-wrap justify-center"},bo={class:"space-x-2 mb-2"},fo={class:"font-bold"},_o={class:"whitespace-nowrap"},yo={key:0},ko={key:0,src:"https://d18hvo5uozp8li.cloudfront.net/public/images/phonecheck.svg",alt:"",class:"h-4"},wo={key:1},xo={class:"flex flex-row items-center justify-center"},Co={key:0,class:"mb-2"},So={key:1,class:"mb-2"},Io={key:2,class:"mb-2"},Po={key:3,class:"mb-2"},Bo={key:4,class:"flex items-center justify-end gap-2 mb-2"},Oo={style:{maxWidth:"300px"}},To={class:"mb-2"},Vo={key:5},Mo={class:"mb-2"},Do={key:0,class:"mb-2"},jo={class:"mb-2"},Uo={key:0,class:"mb-2 text-red-03"},Ao={key:1,class:"mb-2"},Lo={key:2,class:"mb-2"},No={key:3,class:"mb-2"},Fo={key:4,class:"mb-2"},$o={class:"mb-2"},Ro={key:5},Qo={class:"bb-table-row group"},Eo=["colspan"],qo={class:"relative"},zo={class:"absolute right-3 top-1/2 transform -translate-y-1/2"},Ko={key:0,class:"text-green-04 block mt-2"},Go={class:"bb-table-column text-right"},Yo={class:"bb-table-column"},Wo={key:0},Jo={key:1,class:"group-hover:opacity-100 opacity-0 transition-all duration-200"},Xo={class:"grid grid-cols-5"},Zo={class:"col-span-2"},Ho={class:"col-span-3 border-l border-grey-01 px-6"},ei={class:"w-full"},ai={class:"modal__content-header-title"},li={class:"flex justify-between items-center"};var ti=ye(eo,[["render",function(e,a,l,t,o,i){var s,n;const d=N("Button"),r=N("Popover"),c=N("BBTColumn"),u=N("GolfSpecBadge"),m=N("Badge"),p=N("Input"),h=N("Currency"),v=N("DropdownItem"),g=N("DropdownMenu"),b=N("Dropdown"),f=N("Tooltip"),_=N("BBTable"),y=N("Modal"),k=N("DeviceForm"),w=N("PrintLabel"),x=N("Tab"),C=N("PhonecheckInfo"),S=N("BulkImeiSNInput"),I=N("BulkCondition");return F(),W("div",ao,[e.isBulkQuoteReconcile&&(null==(s=e.items.items)?void 0:s.length)<1?(F(),W("div",lo,[a[40]||(a[40]=Q("img",{src:U,class:"h-20"},null,-1)),a[41]||(a[41]=Q("h2",{class:"text-2xl font-medium"},"No item Reconcile yet",-1)),z(d,{onClick:a[0]||(a[0]=a=>e.$emit("reconcile",!0)),color:"teal",view:"outlined"},{default:R((()=>a[39]||(a[39]=[Q("span",null,"Reconcile on Item",-1),H(),Q("i",{class:"material-icons"},"chevron_right",-1)]))),_:1})])):(F(),W("div",to,[Q("div",oo,[e.selectedItems.length>0?(F(),$(d,{key:0,color:"teal",view:"outlined",class:"mb-4",onClick:e.printQrLabelBatch,dense:""},{default:R((()=>a[42]||(a[42]=[Q("span",{class:"material-symbols-outlined text-lg mr-2"},"qr_code",-1),H(" Print QR Label")]))),_:1},8,["onClick"])):J("",!0),e.selectedItems.length>0?(F(),$(d,{key:1,color:"teal",view:"outlined",class:"mb-4",onClick:e.printBarcodeLabelBatch,dense:""},{default:R((()=>a[43]||(a[43]=[Q("span",{class:"material-symbols-outlined text-lg mr-2"},"barcode",-1),H(" Print Barcode Label")]))),_:1},8,["onClick"])):J("",!0),e.selectedItems.length>0&&e.sameProduct&&!e.isReadonly?(F(),$(d,{key:2,onClick:e.handleBulkChangeCondition,color:"teal",class:"mb-4",dense:""},{default:R((()=>a[44]||(a[44]=[H("Change Conditions and Payout")]))),_:1},8,["onClick"])):J("",!0),e.selectedItems.length>0&&!e.sameProduct&&!e.isReadonly?(F(),$(r,{key:3,width:"400",trigger:"hover"},{reference:R((()=>[Q("div",null,[z(d,{view:"smooth",color:"grey",class:"mb-4 ml-2",disabled:"",dense:""},{default:R((()=>a[45]||(a[45]=[H("Change Conditions and Payout")]))),_:1})])])),default:R((()=>[a[46]||(a[46]=Q("div",{class:"w-full h-full flex justify-center items-center"},[Q("span",{class:"whitespace-pre-line"},"Change conditions only available for the device with the same category")],-1))])),_:1})):J("",!0),e.hasEnablePhonecheck&&e.selectedItems.length>0&&!e.isReadonly?(F(),$(d,{key:4,color:"teal",class:"mb-4 ml-2",onClick:a[1]||(a[1]=a=>e.importPhoneCheck()),dense:""},{default:R((()=>a[47]||(a[47]=[H("Import from Phonecheck")]))),_:1})):J("",!0),e.hasEnablePhonecheck&&e.validPhonecheckselectedItems.length>0&&!e.isReadonly?(F(),$(d,{key:5,color:"teal",class:"mb-4 ml-2",onClick:a[2]||(a[2]=a=>e.importBulkPhoneCheck()),dense:""},{default:R((()=>a[48]||(a[48]=[H("Print All Phonecheck Data")]))),_:1})):J("",!0)]),z(_,{ref:"refItemTable",items:e.items.items,loading:e.loading.all,children:"child",selectable:!e.isReadonly,header:["Item #","Item",{label:"Condition",align:"center"},{label:"Payout",align:"right"},{label:"Qty",align:"right"},{label:"Total Payout",align:"right"},{label:" ",align:"right"}],"header-key":"label","show-footer":"","footer-align":"right",footer:[{key:"Payout",value:"Total"},{key:"Qty",value:e.items.total_qty},{key:"Total Payout",value:""},{key:" ",value:""}],onSelectionChange:e.selectItems,"collapse-all":"","disable-expand":e.isBulkImei},{item:R((({item:l,collapsed:t})=>[z(c,null,{default:R((()=>[0==l.child.length?(F(),W("span",io,E(l.id),1)):J("",!0)])),_:2},1024),z(c,{width:"200"},{default:R((()=>{var o,i,s,n,c;return[t?J("",!0):(F(),W("div",so,[Q("span",no,E(l.product_name),1),z(u,{length:l.golf_length||l.custom_length,loft:l.golf_loft||l.custom_loft,gender:l.golf_gender||l.custom_gender,shaft_model:l.golf_shaft_model||l.custom_shaft_model,shaft_material:l.golf_shaft_material||l.custom_shaft_material},null,8,["length","loft","gender","shaft_model","shaft_material"]),l.custom_color||l.color?(F(),$(m,{key:0,color:"grey"},{default:R((()=>[Q("span",ro,E(l.custom_color||l.color.name),1)])),_:2},1024)):J("",!0)])),0===l.is_mac||t?J("",!0):(F(),W("small",co,E(l.detail),1)),l.child&&0!==l.child.length?J("",!0):(F(),W("div",uo,[e.hasEnablePhonecheck&&l.imei_required?(F(),W("div",mo,["exists"==l.phonecheck_status?(F(),$(p,{key:0,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full xl:w-3/5",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.imeiUpdate(l),onKeypress:a[3]||(a[3]=he(oe((()=>{}),["prevent"]),["space"])),dense:"",icon:""},{icon:R((()=>["exists"==l.phonecheck_status?(F(),W("img",po)):J("",!0)])),_:2},1032,["disabled","modelValue","onUpdate:modelValue","onInput"])):(F(),$(p,{key:1,disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full xl:w-3/5",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.imeiUpdate(l),onKeypress:a[4]||(a[4]=he(oe((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])),"exists"==l.phonecheck_status?(F(),$(d,{key:2,disabled:null!=(null==(s=e.stateShow)?void 0:s.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),class:"ml-2 mb-6 mt-4 float-right relative",onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:R((()=>a[49]||(a[49]=[H("View Phonecheck Data")]))),_:2},1032,["disabled","loading","onClick"])):"not_found"==l.phonecheck_status?(F(),$(r,{key:3,width:"400",trigger:"hover"},{reference:R((()=>{var t;return[z(d,{disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),class:"ml-2 mb-6 mt-4 float-right relative",onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:R((()=>a[50]||(a[50]=[H("View Phonecheck Data")]))),_:2},1032,["disabled","loading","onClick"])]})),default:R((()=>[a[51]||(a[51]=Q("div",{class:"w-full h-full flex justify-center items-center"},[Q("span",{class:"whitespace-pre-line"},"IMEI not found")],-1))])),_:2},1024)):(F(),$(r,{key:4,width:"400",trigger:"hover"},{reference:R((()=>{var t;return[z(d,{disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),class:"ml-2 mb-6 mt-4 float-right relative",onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:R((()=>a[52]||(a[52]=[H("View Phonecheck Data")]))),_:2},1032,["disabled","loading","onClick"])]})),default:R((()=>[a[53]||(a[53]=Q("div",{class:"w-full h-full flex justify-center items-center"},[Q("span",{class:"whitespace-pre-line"},"Import from Phonecheck first")],-1))])),_:2},1024))])):l.imei_required?(F(),W("div",ho,[z(p,{disabled:null!=(null==(n=e.stateShow)?void 0:n.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.deviceTableUpdate(l),onKeypress:a[5]||(a[5]=he(oe((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])):J("",!0),Q("div",null,[z(p,{disabled:null!=(null==(c=e.stateShow)?void 0:c.deleted_at)||e.isReadonly,type:"textarea",placeholder:"Notes...",class:"w-full",modelValue:l.notes,"onUpdate:modelValue":e=>l.notes=e,onInput:a=>e.deviceTableUpdate(l),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])]))]})),_:2},1024),z(c,{align:"center"},{default:R((()=>[H(E(t?"":l.condition),1)])),_:2},1024),z(c,{align:"right"},{default:R((()=>[t?J("",!0):(F(),$(h,{key:0,value:l.price},null,8,["value"]))])),_:2},1024),z(c,{align:"right"},{default:R((()=>[H(E(t?"":l.qty),1)])),_:2},1024),z(c,{width:"120",align:"right"},{default:R((()=>[t?J("",!0):(F(),$(h,{key:0,value:l.total},null,8,["value"]))])),_:2},1024),z(c,null,{default:R((()=>[l.child&&0!==l.child.length?(F(),W("div",go,[e.isReadonly||1!=l.imei_required?J("",!0):(F(),$(d,{key:0,onClick:a=>e.handleOpenAddBulkImeiModal(l),dense:"",color:"teal"},{default:R((()=>a[59]||(a[59]=[H("Add Bulk IMEI/SN")]))),_:2},1032,["onClick"]))])):(F(),W("div",vo,[z(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printQrLabel(l)},{default:R((()=>a[54]||(a[54]=[Q("span",{class:"material-symbols-outlined"},"qr_code",-1)]))),_:2},1032,["loading","onClick"]),z(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printBarcodeLabel(l)},{default:R((()=>a[55]||(a[55]=[Q("span",{class:"material-symbols-outlined"},"barcode",-1)]))),_:2},1032,["loading","onClick"]),e.isReadonly?J("",!0):(F(),$(b,{key:0,trigger:"click",placement:"bottom-end","hide-on-click":!0},{dropdown:R((()=>[z(g,{class:"py-1 text-sm"},{default:R((()=>{var t,o;return[z(v,{disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("update",l)},{default:R((()=>a[57]||(a[57]=[Q("span",{class:"material-icons mr-2"},"edit",-1),H(" Edit ")]))),_:2},1032,["disabled","onClick"]),z(v,{disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("delete",l)},{default:R((()=>a[58]||(a[58]=[Q("span",{class:"material-icons mr-2"},"delete",-1),H(" Delete ")]))),_:2},1032,["disabled","onClick"])]})),_:2},1024)])),default:R((()=>[z(d,{view:"outlined",style:{border:"none !important"},color:"teal",class:"mr-2",loading:e.loading.update,dense:"",icon:""},{default:R((()=>a[56]||(a[56]=[Q("span",{class:"material-icons"},"more_horiz",-1)]))),_:1},8,["loading"])])),_:2},1024))]))])),_:2},1024)])),child:R((({child:l})=>[z(c,null,{default:R((()=>[H(E(l.id),1)])),_:2},1024),z(c,null,{default:R((()=>{var t,o,i,s,n;return[Q("div",bo,[Q("span",fo,E(l.product_name),1),l.custom_color||l.color?(F(),$(m,{key:0,color:"grey"},{default:R((()=>[Q("span",_o,E(l.custom_color||l.color.name),1)])),_:2},1024)):J("",!0)]),e.hasEnablePhonecheck&&1==l.imei_required?(F(),W("div",yo,["exists"==l.phonecheck_status?(F(),$(p,{key:0,disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full xl:w-3/5",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.imeiUpdate(l),onKeypress:a[6]||(a[6]=he(oe((()=>{}),["prevent"]),["space"])),dense:"",icon:""},{icon:R((()=>["exists"==l.phonecheck_status?(F(),W("img",ko)):J("",!0)])),_:2},1032,["disabled","modelValue","onUpdate:modelValue","onInput"])):(F(),$(p,{key:1,disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full xl:w-3/5",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.imeiUpdate(l),onKeypress:a[7]||(a[7]=he(oe((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])),"exists"==l.phonecheck_status?(F(),$(d,{key:2,disabled:null!=(null==(i=e.stateShow)?void 0:i.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),class:"ml-2 mb-2 mt-4 float-right relative",onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:R((()=>a[60]||(a[60]=[H("View Phonecheck Data")]))),_:2},1032,["disabled","loading","onClick"])):"not_found"==l.phonecheck_status?(F(),$(r,{key:3,width:"400",trigger:"hover"},{reference:R((()=>{var t;return[z(d,{disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),class:"ml-2 mb-2 mt-4 float-right relative",onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:R((()=>a[61]||(a[61]=[H("View Phonecheck Data")]))),_:2},1032,["disabled","loading","onClick"])]})),default:R((()=>[a[62]||(a[62]=Q("div",{class:"w-full h-full flex justify-center items-center"},[Q("span",{class:"whitespace-pre-line"},"IMEI not found")],-1))])),_:2},1024)):(F(),$(r,{key:4,width:"400",trigger:"hover"},{reference:R((()=>{var t;return[z(d,{disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at)||e.loading.import.size>0,color:"teal",loading:e.loading.import.has(l.id),class:"ml-2 mb-2 mt-4 float-right relative",onClick:a=>e.importSinglePhoneCheck(l),dense:""},{default:R((()=>a[63]||(a[63]=[H("View Phonecheck Data")]))),_:2},1032,["disabled","loading","onClick"])]})),default:R((()=>[a[64]||(a[64]=Q("div",{class:"w-full h-full flex justify-center items-center"},[Q("span",{class:"whitespace-pre-line"},"Import from Phonecheck first")],-1))])),_:2},1024))])):1==l.imei_required?(F(),W("div",wo,[z(p,{disabled:null!=(null==(s=e.stateShow)?void 0:s.deleted_at)||e.isReadonly,type:"text",placeholder:"IMEI/SN",class:"mb-2 mt-4 w-full",modelValue:l.imei_sn,"onUpdate:modelValue":e=>l.imei_sn=e,onInput:a=>e.deviceTableUpdate(l),onKeypress:a[8]||(a[8]=he(oe((()=>{}),["prevent"]),["space"])),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])):J("",!0),Q("div",null,[z(p,{disabled:null!=(null==(n=e.stateShow)?void 0:n.deleted_at)||e.isReadonly,type:"textarea",placeholder:"Notes...",class:"w-full",modelValue:l.notes,"onUpdate:modelValue":e=>l.notes=e,onInput:a=>e.deviceTableUpdate(l),dense:""},null,8,["disabled","modelValue","onUpdate:modelValue","onInput"])])]})),_:2},1024),z(c,{align:"center"},{default:R((()=>[H(E(l.condition),1)])),_:2},1024),z(c,{align:"right"},{default:R((()=>[z(h,{value:l.price},null,8,["value"])])),_:2},1024),z(c,{align:"right"},{default:R((()=>[H(E(l.qty),1)])),_:2},1024),z(c,{width:"120",align:"right"},{default:R((()=>[z(h,{value:l.total},null,8,["value"])])),_:2},1024),z(c,null,{default:R((()=>[Q("div",xo,[z(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printQrLabel(l)},{default:R((()=>a[65]||(a[65]=[Q("span",{class:"material-symbols-outlined"},"qr_code",-1)]))),_:2},1032,["loading","onClick"]),z(d,{view:"outlined",color:"teal",class:"mr-2",style:{border:"none !important"},loading:e.loading.update,dense:"",icon:"",onClick:a=>e.printBarcodeLabel(l)},{default:R((()=>a[66]||(a[66]=[Q("span",{class:"material-symbols-outlined"},"barcode",-1)]))),_:2},1032,["loading","onClick"]),e.isReadonly?J("",!0):(F(),$(b,{key:0,trigger:"click",placement:"bottom-end","hide-on-click":!0},{dropdown:R((()=>[z(g,{class:"py-1 text-sm"},{default:R((()=>{var t,o;return[z(v,{disabled:null!=(null==(t=e.stateShow)?void 0:t.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("update",l)},{default:R((()=>a[68]||(a[68]=[Q("span",{class:"material-icons mr-2"},"edit",-1),H(" Edit ")]))),_:2},1032,["disabled","onClick"]),z(v,{disabled:null!=(null==(o=e.stateShow)?void 0:o.deleted_at),class:"text-base",onClick:a=>e.openModalSelected("delete",l)},{default:R((()=>a[69]||(a[69]=[Q("span",{class:"material-icons mr-2"},"delete",-1),H(" Delete ")]))),_:2},1032,["disabled","onClick"])]})),_:2},1024)])),default:R((()=>[z(d,{view:"outlined",style:{border:"none !important"},color:"teal",class:"mr-2",loading:e.loading.update,dense:"",icon:""},{default:R((()=>a[67]||(a[67]=[Q("span",{class:"material-icons"},"more_horiz",-1)]))),_:1},8,["loading"])])),_:2},1024))])])),_:2},1024)])),footer:R((l=>{var t,o,i,s,n;return["Payout"===(null==(t=l.column.footer)?void 0:t.key)?(F(),W(X,{key:0},[a[72]||(a[72]=Q("p",{class:"mb-2"},"Subtotal",-1)),0!==e.items.express_check_fee?(F(),W("p",Co,"Express Check")):J("",!0),0!==e.items.payment_extra_amount?(F(),W("p",So,"Payout Bonus")):J("",!0),0!==e.items.coupon_amount?(F(),W("p",Io,"Promo Code")):J("",!0),e.items.is_expedited_payout?(F(),W("p",Po,"Expedited Payout")):J("",!0),null!=e.items.shipping_cost?(F(),W("p",Bo,[a[71]||(a[71]=H(" Shipping Cost ")),z(f,{placement:"top"},{content:R((()=>[Q("div",Oo,[0==e.items.shipping_cost?(F(),W(X,{key:0},[H(" This feature is available only for offers using EasyPost USPS services. The shipping service you are using doesn't support this feature. ")],64)):(F(),W(X,{key:1},[H(" The shipping cost is not final until USPS weighs the package, after which the actual shipping cost will be reflected here. ")],64))])])),default:R((()=>[a[70]||(a[70]=Q("span",{class:"material-icons"},"info",-1))])),_:1})])):J("",!0),Q("p",To,E(0!==e.items.shipping_cost&&null!==e.items.shipping_cost?"Grand Total":"Total"),1),(null==(o=e.stateShow)?void 0:o.affiliate_id)?(F(),W("p",Vo,"Commision for "+E(e.items.affiliate_name),1)):J("",!0)],64)):J("",!0),"Qty"===(null==(i=l.column.footer)?void 0:i.key)?(F(),W(X,{key:1},[Q("p",Mo,E(e.items.total_qty),1),null!=e.items.shipping_cost?(F(),W("p",Do," ")):J("",!0),a[73]||(a[73]=Q("p",{class:"mb-2"}," ",-1))],64)):J("",!0),"Total Payout"===(null==(s=l.column.footer)?void 0:s.key)?(F(),W(X,{key:2},[Q("p",jo,[z(h,{value:e.items.sub_total},null,8,["value"])]),0!==e.items.express_check_fee?(F(),W("p",Uo,[a[74]||(a[74]=H("- ")),z(h,{value:e.items.express_check_fee},null,8,["value"])])):J("",!0),0!==e.items.payment_extra_amount?(F(),W("p",Ao,[z(h,{value:e.items.payment_extra_amount},null,8,["value"])])):J("",!0),0!==e.items.coupon_amount?(F(),W("p",Lo,[a[75]||(a[75]=H("+ ")),z(h,{value:e.items.coupon_amount},null,8,["value"])])):J("",!0),e.items.is_expedited_payout?(F(),W("p",No,[a[76]||(a[76]=H("- ")),z(h,{value:e.items.expedited_payout_fee},null,8,["value"])])):J("",!0),null!=e.items.shipping_cost?(F(),W("p",Fo,[0!==e.items.shipping_cost?(F(),W(X,{key:0},[H(E(e.items.shipping_cost),1)],64)):(F(),W(X,{key:1},[H("-")],64))])):J("",!0),Q("p",$o,[z(h,{value:e.items.total},null,8,["value"])]),(null==(n=e.stateShow)?void 0:n.affiliate_id)?(F(),W("p",Ro,[z(h,{value:e.items.affiliate_commision},null,8,["value"])])):J("",!0)],64)):J("",!0)]})),"footer-prepend":R((()=>[Q("tr",Qo,[a[81]||(a[81]=Q("td",{class:"bb-table-column",colspan:"4"},null,-1)),a[82]||(a[82]=Q("td",{class:"bb-table-column text-right"},[Q("span",null,"Have a Promo Code?")],-1)),Q("td",{class:"bb-table-column",colspan:e.isCouponApplied?1:2},[Q("div",qo,[z(p,{modelValue:e.dataCoupon.code,"onUpdate:modelValue":a[9]||(a[9]=a=>e.dataCoupon.code=a),disabled:e.isCouponApplied,dense:"",placeholder:"Promo Code",block:""},null,8,["modelValue","disabled"]),ee(Q("div",zo,a[77]||(a[77]=[Q("i",{class:"material-icons text-green-04"},"check_circle",-1)]),512),[[ae,e.isCouponApplied]])]),e.isCouponApplied?(F(),W("small",Ko,"Promo code is valid")):J("",!0)],8,Eo),ee(Q("td",Go,[z(h,{value:e.state.coupon_amount},null,8,["value"])],512),[[ae,e.isCouponApplied]]),Q("td",Yo,[z(ve,{name:"slide-fade"},{default:R((()=>[e.isCouponChanged?(F(),W("div",Wo,[z(d,{onClick:e.handleApplyCoupon,loading:e.loadingCoupon.applyCoupon,class:"mx-1",color:"teal",dense:""},{default:R((()=>a[78]||(a[78]=[Q("i",{class:"material-icons text-lg"},"check",-1)]))),_:1},8,["onClick","loading"]),z(d,{onClick:a[10]||(a[10]=a=>e.dataCoupon.code=e.dataCoupon.codeOriginal),disabled:e.loadingCoupon.applyCoupon,class:"mx-1",color:"red",dense:""},{default:R((()=>a[79]||(a[79]=[Q("i",{class:"material-icons text-lg"},"close",-1)]))),_:1},8,["disabled"])])):e.isCouponApplied?(F(),W("div",Jo,[z(d,{onClick:e.handleRemoveCoupon,loading:e.loadingCoupon.removeCoupon,class:"mx-1",color:"red",dense:""},{default:R((()=>a[80]||(a[80]=[Q("i",{class:"material-icons text-lg"},"delete",-1)]))),_:1},8,["onClick","loading"])])):J("",!0)])),_:1})])])])),_:1},8,["items","loading","selectable","footer","onSelectionChange","disable-expand"])])),z(y,{modelValue:e.modal.delete,"onUpdate:modelValue":a[11]||(a[11]=a=>e.modal.delete=a),title:"Delete Item",onClose:e.unsetData},{footer:R((()=>[z(d,{color:"teal",loading:e.loading.delete,onClick:e.deleteDevice},{default:R((()=>a[83]||(a[83]=[H("Delete Item")]))),_:1},8,["loading","onClick"])])),default:R((()=>[a[84]||(a[84]=Q("p",null,"Are you sure want to delete this item?",-1))])),_:1},8,["modelValue","onClose"]),z(y,{modelValue:e.modal.create,"onUpdate:modelValue":a[17]||(a[17]=a=>e.modal.create=a),title:"Add Item",onClose:e.unsetData},{default:R((()=>[z(k,{ref:"refDeviceForm",data:e.device.data,"onUpdate:data":a[12]||(a[12]=a=>e.device.data=a),"data-computer":e.device.computer,"onUpdate:dataComputer":a[13]||(a[13]=a=>e.device.computer=a),"data-golf":e.device.golfSpecs,"onUpdate:dataGolf":a[14]||(a[14]=a=>e.device.golfSpecs=a),"is-custom-color":e.device.data.is_custom_color,"onUpdate:isCustomColor":a[15]||(a[15]=a=>e.device.data.is_custom_color=a),"custom-color":e.device.data.custom_color,"onUpdate:customColor":a[16]||(a[16]=a=>e.device.data.custom_color=a),"multi-imei":"","buyback-type":"mailin"},null,8,["data","data-computer","data-golf","is-custom-color","custom-color"])])),footer:R((()=>[z(d,{color:"teal",loading:e.loading.create,onClick:e.addDevice},{default:R((()=>a[85]||(a[85]=[H("Add Item")]))),_:1},8,["loading","onClick"])])),_:1},8,["modelValue","onClose"]),z(y,{modelValue:e.modal.update,"onUpdate:modelValue":a[24]||(a[24]=a=>e.modal.update=a),title:"Update Item",onClose:e.unsetData},{default:R((()=>[z(k,{ref:"refDeviceForm",data:e.device.data,"onUpdate:data":a[18]||(a[18]=a=>e.device.data=a),device:e.device.device,"onUpdate:device":a[19]||(a[19]=a=>e.device.device=a),"data-computer":e.device.computer,"onUpdate:dataComputer":a[20]||(a[20]=a=>e.device.computer=a),"data-golf":e.device.golfSpecs,"onUpdate:dataGolf":a[21]||(a[21]=a=>e.device.golfSpecs=a),"is-custom-color":e.device.data.is_custom_color,"onUpdate:isCustomColor":a[22]||(a[22]=a=>e.device.data.is_custom_color=a),"custom-color":e.device.data.custom_color,"onUpdate:customColor":a[23]||(a[23]=a=>e.device.data.custom_color=a),"golf-steps":e.device.data.golf_steps,"auto-fill":"","original-specs":e.device.original,hide:{qty:!0},"buyback-type":"mailin","is-editable":""},null,8,["data","device","data-computer","data-golf","is-custom-color","custom-color","golf-steps","original-specs"])])),footer:R((()=>[z(d,{color:"teal",loading:e.loading.update,onClick:e.updateDevice},{default:R((()=>a[86]||(a[86]=[H("Update")]))),_:1},8,["loading","onClick"])])),_:1},8,["modelValue","onClose"]),z(y,{modelValue:e.modal.print_qr,"onUpdate:modelValue":a[26]||(a[26]=a=>e.modal.print_qr=a),title:"Print QR Label"},{footer:R((()=>a[87]||(a[87]=[]))),default:R((()=>[z(w,{data:e.printLabelData,"label-type":e.labelType,onCloseModal:a[25]||(a[25]=a=>e.modal.print_qr=!1)},null,8,["data","label-type"])])),_:1},8,["modelValue"]),z(y,{modelValue:e.modal.print_barcode,"onUpdate:modelValue":a[28]||(a[28]=a=>e.modal.print_barcode=a),title:"Print Barcode Label"},{footer:R((()=>a[88]||(a[88]=[]))),default:R((()=>[z(w,{data:e.printLabelData,"label-type":e.labelType,onCloseModal:a[27]||(a[27]=a=>e.modal.print_barcode=!1)},null,8,["data","label-type"])])),_:1},8,["modelValue"]),z(y,{modelValue:e.modalSplitItems,"onUpdate:modelValue":a[31]||(a[31]=a=>e.modalSplitItems=a),title:"Split Order",onClose:e.unsetDataSplitItems,size:"md"},{default:R((()=>[Q("div",Xo,[Q("div",Zo,[a[89]||(a[89]=Q("div",{class:"px-6"},[Q("p",{class:"text-md font-semibold"},"Choose New Status")],-1)),z(x,{modelValue:e.dataSplitItems.new_status,"onUpdate:modelValue":a[29]||(a[29]=a=>e.dataSplitItems.new_status=a),validate:e.tabValidate,color:"teal",view:"smooth",by:"id",name:"short_name",items:e.stateStatuses,component:"",type:"vertical"},null,8,["modelValue","validate","items"])]),Q("div",Ho,[z(p,{modelValue:e.dataSplitItems.note,"onUpdate:modelValue":a[30]||(a[30]=a=>e.dataSplitItems.note=a),type:"textarea",label:"Notes",block:""},null,8,["modelValue"])])])])),footer:R((()=>[z(d,{color:"teal",onClick:e.splitItems,loading:e.loadingSplitItems},{default:R((()=>a[90]||(a[90]=[H("Split")]))),_:1},8,["onClick","loading"])])),_:1},8,["modelValue","onClose"]),z(y,{modelValue:e.modal.phonecheck_info,"onUpdate:modelValue":a[34]||(a[34]=a=>e.modal.phonecheck_info=a),title:null==(n=e.PhonecheckDevice)?void 0:n.product_name,onClose:a[35]||(a[35]=a=>e.isErrorSelectedPhonecheck=!1)},{header:R((()=>{var l;return[Q("div",ei,[Q("h5",ai,E(null==(l=e.PhonecheckDevice)?void 0:l.product_name),1),z(d,{color:"teal",class:"ml-2 mb-2 mt-4 absolute inset-y-2 right-11",onClick:a[32]||(a[32]=a=>e.printPhoneCheck(e.PhonecheckDevice)),dense:""},{default:R((()=>a[91]||(a[91]=[Q("i",{class:"material-icons text-lg"},"print",-1)]))),_:1})])]})),default:R((()=>[z(C,{ref:"refPhonecheckInfo",data:e.PhonecheckInfoData,"onUpdate:data":a[33]||(a[33]=a=>e.PhonecheckInfoData=a),"is-error":e.isErrorSelectedPhonecheck},null,8,["data","is-error"])])),_:1},8,["modelValue","title"]),z(y,{modelValue:e.modalBulkImeiAddDevice,"onUpdate:modelValue":a[38]||(a[38]=a=>e.modalBulkImeiAddDevice=a),size:"xs",title:"Add Bulk IMEI/SN",onClose:e.handleCloseAddBulkImeiModal},{default:R((()=>{var l;return[a[92]||(a[92]=Q("div",{class:"flex bg-orange-lighten text-orange-04 p-4 rounded-lg mb-4"},[Q("div",{class:"mr-4"},[Q("i",{class:"material-icons"},"info")]),Q("div",{class:"mt-1"}," IMEIs/SNs entered here will overwrite those already input on the Quote Details page for these items. ")],-1)),z(S,{ref:"refBulkImeiSNInput",modelValue:e.bulkImei,"onUpdate:modelValue":a[36]||(a[36]=a=>e.bulkImei=a),qty:null==(l=e.dataBulkImeiAddDevice)?void 0:l.qty,block:"",rows:"5"},null,8,["modelValue","qty"])]})),footer:R((()=>[Q("div",li,[Q("span",{onClick:a[37]||(a[37]=(...a)=>e.handleCloseAddBulkImeiModal&&e.handleCloseAddBulkImeiModal(...a)),class:"text-red-04 cursor-pointer px-2"},"Cancel"),z(d,{onClick:e.handleAddBulkImeiDevice,loading:e.loadingBulkImeiAddDevice,disabled:!e.bulkImei,color:"teal",dense:""},{default:R((()=>a[93]||(a[93]=[Q("span",{class:"px-2"},"Add",-1)]))),_:1},8,["onClick","loading","disabled"])])])),_:1},8,["modelValue","onClose"]),z(I,{loading:e.bulkCondition.loading,show:e.bulkCondition.modal,onClose:e.handleCloseModalBulkCondition,items:e.selectedItems,conditions:e.itemConditions,loadingCondition:e.loadingCondition,me:e.me,onSubmit:e.handleBulkChangeItemCondition},null,8,["loading","show","onClose","items","conditions","loadingCondition","me","onSubmit"])])}]]);const oi={class:"flex items-center justify-between"},ii={key:0},si={key:0},ni={__name:"Items",setup(e){const a=le(null),l=Y((()=>a.value||null));return(e,t)=>(F(),$(ge,null,{default:R((()=>[z(aa,null,{header:R((()=>{var e,a,o,i;return[Q("div",oi,[t[4]||(t[4]=Q("h6",null,"Items",-1)),l.value?(F(),W("div",ii,[l.value.isReadonly?J("",!0):(F(),W("div",si,[1e3!==l.value.stateShow.status_id&&l.value.selectedItems.length>0&&l.value.state.total_qty>1?(F(),$(Ce,{key:0,disabled:null!=(null==(e=l.value.stateShow)?void 0:e.deleted_at),loading:0===l.value.stateStatuses.length,class:"mr-4",color:"teal",dense:"",onClick:l.value.openSplitItemsModal},{default:R((()=>t[1]||(t[1]=[Q("span",{class:"material-icons transform rotate-90 text-lg"},"arrow_circle_up",-1),H(" Split Buyback ")]))),_:1},8,["disabled","loading","onClick"])):J("",!0),3!==(null==(a=l.value.stateShow)?void 0:a.status_id)&&l.value.state.total_qty>=3?(F(),$(Ce,{key:1,disabled:null!=(null==(o=l.value.stateShow)?void 0:o.deleted_at),class:"mr-4",color:"teal",dense:"",onClick:l.value.openDataMatch},{default:R((()=>t[2]||(t[2]=[Q("img",{alt:"data-match-icon",class:"inline-block mr-1 w-5",src:A},null,-1),H(" Data Match ")]))),_:1},8,["disabled","onClick"])):J("",!0),z(Ce,{disabled:null!=(null==(i=l.value.stateShow)?void 0:i.deleted_at),color:"teal",dense:"",onClick:t[0]||(t[0]=e=>l.value.openModal("create"))},{default:R((()=>t[3]||(t[3]=[Q("span",{class:"material-icons text-lg"},"add",-1),H(" Add Item ")]))),_:1},8,["disabled"])]))])):J("",!0)])]})),default:R((()=>[z(ti,{ref_key:"refItems",ref:a},null,512)])),_:1})])),fallback:R((()=>[Q("div",null,[z(ua)])])),_:1}))}};const di={key:0,class:"input-file-preview space-y-4"},ri={class:"file-card"},ci={class:"flex gap-4 items-center"},ui={class:"material-icons icon-md"},mi={class:"text-black"},pi={class:"text-sm"},hi={key:0,class:"text-grey-02"},vi=["href"],gi=["accept","disabled"],bi={class:"my-12"},fi={class:"flex flex-col justify-center items-center text-center"};var _i=ye({__name:"DocumentFileInput",props:{data:{type:Object,default:()=>({id:Math.floor(1e6*Math.random()),nad:[],custom_offer:[]})},preview:{type:Boolean,default:!0},rules:{type:Object,default:()=>({maxFileSize:"50MB",allowedFiles:[{name:"PDF",mime:"application/pdf"},{name:"CSV",mime:"text/csv"},{name:"XLSX",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}]})},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["input","remove"],setup(e,{expose:a,emit:l}){const t=e,o=l,i=le(null),s=le(!1),n=le(!1);let d=0;const r=Y((()=>t.rules.allowedFiles.map((e=>e.mime)).filter(Boolean).join(","))),c=Y((()=>{var e,a;return[...Array.isArray(null==(e=t.data)?void 0:e.nad)?t.data.nad:[],...Array.isArray(null==(a=t.data)?void 0:a.custom_offer)?t.data.custom_offer:[]]})),u=e=>{try{return decodeURIComponent(e.split("/").pop())}catch{return"File"}};function m(e){if(!e)return"";const a=new URL(e).pathname,l=a.lastIndexOf(".");return-1===l?"":a.substring(l+1)}const p=e=>{if(!e)return"";return{pdf:"application/pdf",csv:"text/csv",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xls:"application/vnd.ms-excel"}[e.split(".").pop().toLowerCase()]||"application/octet-stream"},h=e=>{const a=new Date(e);return`${a.getDate()}/${a.getMonth()+1}/${a.getFullYear()}`},v=e=>{if(0===e)return"0 Bytes";const a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB"][a]},g=()=>{i.value.click()},b=e=>{const a=Array.from(e.target.files);a.length>0&&o("input",a)},f=e=>{t.disabled||(d++,n.value=!0)},_=e=>{t.disabled||(e.dataTransfer.dropEffect="copy",n.value=!0)},y=e=>{t.disabled||(d--,0===d&&(n.value=!1))},k=e=>{if(t.disabled)return;d=0,n.value=!1;const a=Array.from(e.dataTransfer.files);a.length>0&&o("input",a)},w=async e=>{try{if(!e||!e.file)return void ne({message:"File URL not found",type:"error"});s.value=!0;const a=e.file,l=document.createElement("a");l.href=a,l.target="_blank";const t=e.name||u(a);l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),ne({message:"File downloaded successfully",type:"success"})}catch(a){console.error("Download error:",a),ne({message:"Failed to download file",type:"error"})}finally{s.value=!1}};return a({triggerFileInput:g,triggerInput:g,resetUpload:()=>{i.value&&(i.value.value=null)},downloadFile:w}),(a,l)=>{const t=N("DropdownItem"),s=N("DropdownMenu"),d=N("Dropdown"),x=de("loading");return F(),W(X,null,[ee((F(),W("div",null,[e.preview&&c.value.length>0?(F(),W("div",di,[be(a.$slots,"preview",{},(()=>[(F(!0),W(X,null,Z(c.value,((a,i)=>{return F(),W("div",{class:"w-full",key:i},[Q("div",ri,[Q("div",ci,[Q("span",ui,E((n=a.type||p(a.file),{"application/pdf":"description","text/csv":"description","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"description","application/vnd.ms-excel":"description"}[n]||"description")),1),Q("span",mi,E(a.name||u(a.file)),1),Q("span",pi,E(a.size?v(a.size):""),1),a.created_at?(F(),W("span",hi," Uploaded on "+E(h(a.created_at)),1)):J("",!0)]),z(d,{trigger:"click","hide-on-click":"",placement:"bottom-end",class:"mr-8"},{dropdown:R((()=>[z(s,{class:"py-1 text-sm"},{default:R((()=>["pdf"==m(a.file)?(F(),$(t,{key:0,class:"text-base"},{default:R((()=>[Q("a",{href:a.file,target:"_blank",class:"text-grey-03"},l[1]||(l[1]=[Q("span",{class:"material-icons mr-2"},"visibility",-1),H(" Preview ")]),8,vi)])),_:2},1024)):J("",!0),z(t,{class:"text-base",onClick:e=>w(a)},{default:R((()=>l[2]||(l[2]=[Q("span",{class:"material-icons mr-2"},"download",-1),H(" Download ")]))),_:2},1032,["onClick"]),z(t,{class:"text-base",onClick:e=>{return l=a.id,void o("remove",l);var l}},{default:R((()=>l[3]||(l[3]=[Q("span",{class:"material-icons mr-2"},"delete",-1),H(" Remove ")]))),_:2},1032,["onClick"])])),_:2},1024)])),default:R((()=>[z(Ce,{loading:e.loading,color:"teal",view:"outlined",class:"btn-action",dense:"",icon:""},{default:R((()=>l[0]||(l[0]=[Q("span",{class:"material-icons"},"more_horiz",-1)]))),_:1},8,["loading"])])),_:2},1024)])]);var n})),128))]),!0)])):(F(),W("div",{key:1,class:ie(["input-file",e.disabled?"opacity-30":"",n.value?"dragging":""]),onDragenter:oe(f,["prevent"]),onDragover:oe(_,["prevent"]),onDragleave:oe(y,["prevent"]),onDrop:oe(k,["prevent"])},[Q("input",{ref_key:"fileInput",ref:i,type:"file",accept:r.value,class:"input-file-form",multiple:"",disabled:e.disabled,onChange:b},null,40,gi),Q("div",bi,[be(a.$slots,"default",{},(()=>[Q("div",fi,[l[5]||(l[5]=Q("span",{class:"material-symbols-outlined icon-xl"},"upload",-1)),l[6]||(l[6]=Q("strong",{class:"text-xl"},"Choose files or drag them here",-1)),l[7]||(l[7]=Q("p",{class:"text-base text-grey-02 font-light"},"Upload PDF, CSV, or XLSX files",-1)),z(Ce,{class:"mt-4",color:"teal",view:"outlined",onClick:oe(g,["prevent"])},{default:R((()=>l[4]||(l[4]=[H(" Upload Files ")]))),_:1})])]),!0)])],34))])),[[x,e.loading]]),Q("small",null,[l[8]||(l[8]=Q("b",null,"File",-1)),H(": "+E(e.rules.allowedFiles.map((e=>e.name)).join(", ")),1)])],64)}}},[["__scopeId","data-v-2a89da44"]]);const yi=fe("easyOfferDetail",{state:()=>({easyOfferDetail:null,fileUpload:null,loading:{getDetail:!1,getFiles:!1,uploadFiles:!1,deleteFiles:!1}}),getters:{},actions:{async $actionShow(e){try{this.$state.loading.getDetail=!0;const a=await Ae({url:`/v1/pos/easy-offer/show/${e}`,method:"get"});return this.$state.easyOfferDetail=a,a}catch(a){console.error(a)}finally{this.$state.loading.getDetail=!1}},async $getFiles(e){try{this.$state.loading.getFiles=!0;const a=await Ae({url:`/v1/pos/easy-offer/file/${e}`,method:"get"});return this.$state.fileUpload=a,a}catch(a){console.error(a)}finally{this.$state.loading.getFiles=!1}},async $uploadFiles(e,a){try{this.$state.loading.uploadFiles=!0;return await Ae({url:`/v1/pos/easy-offer/file/${e}`,method:"post",data:a})}catch(l){console.error(l)}finally{this.$state.loading.uploadFiles=!1}},async $deleteFiles(e){try{this.$state.loading.deleteFiles=!0;return Ae({url:`/v1/pos/easy-offer/file/${e}`,method:"delete"})}catch(a){console.error(a)}finally{this.$state.loading.deleteFiles=!1}}}});const ki=G({components:{Card:aa,MultipleInputFile:xa,DocumentFileInput:_i,Button:Ce,Tab:Re,Files:{__name:"Files",setup(e){const a=L(),l=le(null),t=re({getFiles:!1,uploadFiles:!1,removeFiles:!1}),o=le([]),i=yi(),s=async()=>{t.getFiles=!0;const e=await i.$getFiles(a.params.buybackId);e&&(o.value=e),t.getFiles=!1};_e((async()=>{await s()}));const n=async e=>{if(!e)return;o.value=[];const l=new FormData;for(let a=0;a<e.length;a++){const t=e[a];o.value.push({name:t.name,type:t.type,size:t.size,file:t}),l.append("files[]",t)}try{t.uploadFiles=!0;"saved"==await i.$uploadFiles(a.params.buybackId,l)&&(ne({message:"File uploaded!",type:"success"}),await s())}catch(n){console.error("Upload failed:",n)}finally{t.uploadFiles=!1}},d=async e=>{t.removeFiles=!0,await i.$deleteFiles(e),await s(),t.removeFiles=!1};return(e,a)=>(F(),$(_i,{ref_key:"documentFileInputRef",ref:l,preview:"",data:o.value,onInput:n,onRemove:d,loading:t.getFiles||t.uploadFiles||t.removeFiles},null,8,["data","loading"]))}}},props:{},async setup(e){const a=le(null),{isBulkQuote:l}=B(),t=L(),{state:o,action:i}=m("online"),{loading:s,state:n,actionShow:d,actionCreate:r,actionDelete:c}=P("online"),u=Y((()=>o.value&&o.value.is_readonly)),p=Y((()=>!l.value)),h=yi(),v=Y((()=>{var e,a,l,t;return[...null!=(a=null==(e=null==h?void 0:h.fileUpload)?void 0:e.nad)?a:[],...null!=(t=null==(l=null==h?void 0:h.fileUpload)?void 0:l.custom_offer)?t:[]].length})),g=Y((()=>{var e,a,l,t;return[...null!=(a=null==(e=n.value)?void 0:e.nad)?a:[],...null!=(t=null==(l=n.value)?void 0:l.custom_offer)?t:[]].length})),b=le("files");return await d(t.params.buybackId),{multipleInputFileRef:a,isBulkQuote:l,route:t,stateShow:o,isReadonly:u,isShowPictures:p,statePictures:n,showPictureLoading:s,showPictureDelete:async e=>{await c(e,(async()=>{await d(t.params.buybackId),ne({message:"Picture deleted!",type:"success"})}))},uploadFiles:async e=>{const a=new FormData;for(let[l,t]of Object.entries(e))a.append(`picture_files[${l}]`,t);await r(t.params.buybackId,a,(async()=>{await d(t.params.buybackId),ne({message:"Picture uploaded!",type:"success"})}))},handleZoomImage:e=>{e&&window.open(e,"_blank")},triggerFileInput:()=>{a.value.triggerFileInput()},selectedTab:b,tabOption:[{id:"files",name:"Files"},{id:"images",name:"Images"}],filesCount:v,imagesCount:g}}}),wi={class:"flex flex-row items-center justify-center"},xi={class:"block"},Ci={class:"py-1 px-2.5 ml-4 bg-teal-04 text-white rounded-full flex items-center justify-center box-border text-sm"},Si={key:0},Ii={key:1},Pi={class:"w-full flex flex-wrap justify-center"},Bi=["onClick"],Oi=["onClick","src","alt"],Ti={class:"flex flex-col justify-center items-center text-center"};var Vi=ye(ki,[["render",function(e,a,l,t,o,i){const s=N("Tab"),n=N("Files"),d=N("Button"),r=N("MultipleInputFile"),c=N("Card"),u=de("loading");return e.isShowPictures?(F(),$(c,{key:0,class:"mt-6 mb-6"},{header:R((()=>a[1]||(a[1]=[Q("h6",null,"Attachment",-1)]))),default:R((()=>{var l,t;return[z(s,{view:"smooth",items:e.tabOption,by:"id",name:"name",modelValue:e.selectedTab,"onUpdate:modelValue":a[0]||(a[0]=a=>e.selectedTab=a),component:""},{title:R((a=>[Q("div",wi,[Q("span",xi,E(a.item.name),1),Q("div",Ci,E("images"===a.item.id?e.imagesCount:e.filesCount),1)])])),_:1},8,["items","modelValue"]),e.statePictures&&null==(null==(l=e.stateShow)?void 0:l.deleted_at)&&"files"===e.selectedTab?ee((F(),W("div",Si,[z(n)])),[[u,e.showPictureLoading.show||e.showPictureLoading.create||e.showPictureLoading.delete]]):J("",!0),e.statePictures&&null==(null==(t=e.stateShow)?void 0:t.deleted_at)&&"images"===e.selectedTab?ee((F(),W("div",Ii,[z(r,{ref:"multipleInputFileRef",disabled:e.isReadonly,preview:"",onInput:e.uploadFiles},{preview:R((()=>[Q("div",Pi,[(F(!0),W(X,null,Z([...e.statePictures.nad,...e.statePictures.custom_offer],((l,t)=>(F(),W("div",{class:"m-4 relative transition duration-200 transform hover:scale-105 cursor-pointer",key:t},["unlinked"!=e.route.params.status?(F(),W("div",{key:0,onClick:a=>e.showPictureDelete(l.id),class:"absolute top-0 right-0 bg-teal-04 w-1 h-1 p-4 box-content flex items-center justify-center transform -translate-x-2 -translate-y-1/2 rounded-full font-semibold text-white hover:bg-white hover:text-teal-04 transition duration-200 cursor-pointer"},a[2]||(a[2]=[Q("i",{class:"material-icons text-lg"},"close",-1)]),8,Bi)):J("",!0),Q("img",{onClick:a=>e.handleZoomImage(l.picture),class:"rounded-md",src:l.picture,alt:`picture-${t}`},null,8,Oi)])))),128))])])),default:R((()=>[Q("div",Ti,[a[4]||(a[4]=Q("span",{class:"material-symbols-outlined icon-xl"},"upload",-1)),a[5]||(a[5]=Q("strong",{class:"text-xl"},"Choose files or drag them here",-1)),a[6]||(a[6]=Q("p",{class:"text-base text-grey-02 font-light"},"Upload multiple PNG, JPG, or JPEG images",-1)),z(d,{class:"mt-4",color:"teal",view:"outlined",onClick:oe(e.triggerFileInput,["prevent"])},{default:R((()=>a[3]||(a[3]=[H("Upload Files")]))),_:1},8,["onClick"])])])),_:1},8,["disabled","onInput"])])),[[u,e.showPictureLoading.show||e.showPictureLoading.create||e.showPictureLoading.delete]]):J("",!0)]})),_:1})):J("",!0)}],["__scopeId","data-v-4e86929e"]]);const Mi={class:"grid gap-4 my-4"},Di={class:"flex flex-wrap items-center justify-between gap-4"},ji={class:"md:flex-none flex-auto"},Ui={class:"md:flex-none flex-auto"},Ai={class:"my-2"},Li={class:"grid md:grid-cols-3 grid-cols-1 gap-4 my-2"},Ni={class:"my-2 mb-6"},Fi={class:"my-2"},$i={class:"my-2"},Ri={__name:"Detail",setup(e){const a=yi(),l=L(),t=Y((()=>a.stateShow));return _e((()=>{a.$actionShow(l.params.buybackId)})),(e,a)=>(F(),W("div",null,[Q("div",null,[Q("div",Mi,[Q("div",Di,[Q("div",ji,[(F(),$(ge,null,{default:R((()=>[Q("div",null,[z(Ha,{class:"w-full"})])])),fallback:R((()=>[z(ua)])),_:1}))]),Q("div",Ui,[(F(),$(ge,null,{default:R((()=>[z(Za,{order:t.value},null,8,["order"])])),fallback:R((()=>[z(ua)])),_:1}))])])]),Q("div",Ai,[(F(),$(ge,null,{default:R((()=>[z(tl)])),fallback:R((()=>[z(ua)])),_:1}))]),Q("div",Li,[(F(),$(ge,null,{default:R((()=>[z(Ht)])),fallback:R((()=>[z(ua)])),_:1}))]),Q("div",Ni,[(F(),$(ge,null,{default:R((()=>[z(ni)])),fallback:R((()=>[z(ua)])),_:1}))]),Q("div",Fi,[(F(),$(ge,null,{default:R((()=>[z(Vi)])),fallback:R((()=>[z(ua)])),_:1}))]),Q("div",$i,[(F(),$(ge,null,{default:R((()=>[z(Ca)])),fallback:R((()=>[z(ua)])),_:1}))])])]))}},Qi={class:"flex item-center justify-center w-full h-full bg-red-04"},Ei={__name:"index",setup:e=>(e,a)=>(F(),$(ge,null,{default:R((()=>[z(Ri)])),fallback:R((()=>[Q("div",Qi,[z(Le)])])),_:1}))};export{Ei as default};
