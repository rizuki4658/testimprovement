import{u as e}from"./components.aaee2f92.js";import{k as a,f as t,a5 as l,g as s,y as o,_ as i,m as c,o as d,t as n,B as r,D as u,w as p,a1 as m,O as y,r as b,x as f}from"./vendor.9695fe57.js";import{b as x,j as w,f as k,d as P,u as _,_ as g,am as v}from"./index.35a87af4.js";import{a as A}from"./integration.5191ede6.js";import"./LoadingCard.fae900cb.js";import"./card.85454cb1.js";const h=a({components:{Button:x,Alert:w,Input:k,Modal:P},async setup(){const{state:e,data:a,actionPublicApi:c,actionGeneratePublicApiKey:d,loading:n}=A(),{isProPlan:r,me:u,hasPublicApiAccess:p}=_(),{open:m}=v(),y=t(!1),b=l(),f=s((()=>!r.value&&0==p.value));return o((()=>b.fullPath),(async()=>{await c()})),await Promise.all([c()]),{me:u,state:e,data:a,loading:n,showModal:y,isRestrictedPublicApi:f,copyText:e=>{f.value?m({title:"API",description:"With our API, there are endless possibilities for what you can do with buybacks. Create your own custom buyback website or features, or integrate buyback directly into your app.",image_url:"/images/paywall/paywall-public-api.svg"}):navigator.clipboard.writeText(e).then((()=>{i({type:"success",message:"Text copied to clipboard"})}))}}}}),V={class:"my-4"},j={class:"flex"},I={class:"my-4"},T={class:"flex"},C={class:"my-4"},K={class:"flex mb-6"};var R=g(h,[["render",function(e,a,t,l,s,o){const i=c("Input"),y=c("Button");return d(),n(m,null,[r("div",V,[a[7]||(a[7]=r("label",{for:""},"Secret Key",-1)),r("div",j,[u(i,{modelValue:e.data.secret_key,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.secret_key=a),type:e.isRestrictedPublicApi?"password":"text",view:"default",class:"mr-2",placeholder:"",block:"",disabled:""},null,8,["modelValue","type"]),u(y,{color:"teal",onClick:a[1]||(a[1]=a=>e.copyText(e.data.secret_key)),dense:""},{default:p((()=>a[6]||(a[6]=[r("i",{class:"material-symbols-outlined text-lg mx-2"},"content_copy",-1)]))),_:1})])]),r("div",I,[a[9]||(a[9]=r("label",{for:""},"Tenant ID",-1)),r("div",T,[u(i,{modelValue:e.data.tenant_id,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.tenant_id=a),type:e.isRestrictedPublicApi?"password":"text",view:"default",class:"mr-2",placeholder:"",block:"",disabled:""},null,8,["modelValue","type"]),u(y,{color:"teal",onClick:a[3]||(a[3]=a=>e.copyText(e.data.tenant_id)),dense:""},{default:p((()=>a[8]||(a[8]=[r("i",{class:"material-symbols-outlined text-lg mx-2"},"content_copy",-1)]))),_:1})])]),r("div",C,[a[11]||(a[11]=r("label",{for:""},"Public API Key",-1)),r("div",K,[u(i,{modelValue:e.data.api_key,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.api_key=a),type:e.isRestrictedPublicApi?"password":"text",view:"default",class:"mr-2",placeholder:"",block:"",disabled:""},null,8,["modelValue","type"]),u(y,{color:"teal",onClick:a[5]||(a[5]=a=>e.copyText(e.data.api_key)),dense:""},{default:p((()=>a[10]||(a[10]=[r("i",{class:"material-symbols-outlined text-lg mx-2"},"content_copy",-1)]))),_:1})])])],64)}]]),q=a({async setup(){const{genSuspense:a}=e(),s=t(null),o=l(),i=y(),c=b({modelValue:!0,closeTo:{name:"integration",query:{reload:1}},size:"xs"}),d=b({header:()=>f("div",{class:"flex justify-between items-center w-full"},[f("span","Public API Account"),f(x,{color:"teal",dense:!0,onClick:()=>{i.push({name:"integrationModal",query:{back:o.query.back}})}},(()=>"Generate New API Key"))]),default:()=>a(f(R,{ref:s})),footer:()=>""});return()=>f(P,c,d)}});export{q as default};
