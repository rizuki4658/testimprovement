var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;import{f as s,b as l,_ as i}from"./index.9aa6481b.js";import{S as d}from"./select.15c77568.js";import{T as n,c}from"./TextEditor.457bdbf9.js";import{u}from"./index.32689823.js";import{r as m}from"./index.a87b789d.js";import{k as p,f as y,r as f,y as g,m as v,o as b,t as q,B as _,D as x,a2 as w,a3 as j,K as k}from"./vendor.f1efedad.js";const $=p({name:"FaqForm",components:{Input:s,Button:l,Select:d,TextEditor:n},props:{categories:{type:Array,default:()=>[]},categoryBy:{type:String,default:"id"},categoryName:{type:String,default:"name"},data:{type:Object,default:()=>({question:"",answer:"",faq_category_id:null})}},emits:["change"],setup(e,{emit:s}){const l=y(null),i=y(e.categories),d=f(e.data);i.value.length&&!d.faq_category_id&&Object.assign(d,{faq_category_id:i.value[0][e.categoryBy]});const n={question:{required:m},answer:{required:m},faq_category_id:{required:m}},p=f({editor:c.exports.Editor,config:{htmlSupport:{allow:[{styles:!0,classes:!0}]}}}),v=u(n,d,{$lazy:!0});return g((()=>((e,s)=>{for(var l in s||(s={}))t.call(s,l)&&o(e,l,s[l]);if(a)for(var l of a(s))r.call(s,l)&&o(e,l,s[l]);return e})({},d)),(e=>{s("change",e)}),{deep:!0}),{refTextEditor:l,data:d,categories:i,validation:v,ckeditor:p,validate:async()=>{if(!l.value.isEditorReady)return!1;return!!(await l.value.forceSave())&&(v.value.$validate(),!v.value.$invalid)}}}}),V={class:"grid grid-cols-3 gap-4"},E={class:"col-span-1 col-start-1"},O={class:"col-start-1"},S={class:"col-start-1 col-span-2"};var T=i($,[["render",function(e,a,t,r,o,s){const l=v("Select"),i=v("Input"),d=v("TextEditor");return b(),q("div",V,[_("div",E,[x(l,{modelValue:e.data.faq_category_id,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.faq_category_id=a),class:"w-full",items:e.categories,label:"Category",name:e.categoryName||"name",by:e.categoryBy||"id"},null,8,["modelValue","items","name","by"]),(b(!0),q(w,null,j(e.validation.faq_category_id.$errors,((e,a)=>(b(),q("small",{class:"text-red-base mt-2 block",key:a},k(e.$message)+". ",1)))),128))]),_("div",O,[x(i,{modelValue:e.data.question,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.question=a),view:e.validation.question.$invalid?"danger":"default",type:"text",label:"Question",block:""},null,8,["modelValue","view"]),(b(!0),q(w,null,j(e.validation.question.$errors,((e,a)=>(b(),q("small",{class:"text-red-base mt-2 block",key:a},k(e.$message)+". ",1)))),128))]),_("div",S,[x(d,{ref:"refTextEditor",modelValue:e.data.answer,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.answer=a),options:e.ckeditor},null,8,["modelValue","options"]),(b(!0),q(w,null,j(e.validation.answer.$errors,((e,a)=>(b(),q("small",{class:"text-red-base mt-2 block",key:a},k(e.$message)+". ",1)))),128))])])}]]);export{T as F};
