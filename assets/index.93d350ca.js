import{u as a}from"./components.41c6afd8.js";import{k as e,a5 as t,O as s,f as o,m as n,o as r,t as d,B as i,D as m,w as l,I as u,a2 as c}from"./vendor.f1efedad.js";import{l as p}from"./setting.86482221.js";import{_ as f,b as g,u as b}from"./index.e231b017.js";import{M as j,u as U}from"./Form.a67e08e7.js";import{B as _}from"./Breadcrumb.e5dd1515.js";import{C as v}from"./card.de1f0319.js";import"./LoadingCard.9892fd7a.js";import"./dashboard.3d50f896.js";import"./date.f86face7.js";import"./index.1c09f422.js";import"./index.2fb3814c.js";import"./index.32689823.js";import"./fieldset.32ceb9ab.js";import"./breadcrumb.e60df23d.js";const x=e({components:{Button:g,Breadcrumb:_,Card:v,ManageUserForm:j},async setup(){const a=t(),e=s(),{data:n,loading:r,actionShow:d,actionUpdate:i,getMenu:m}=p(),{action:l}=b(),{selectDefaultLocation:u,selectedLocations:c,selectedDefaultLocationDetailed:f}=U(),g=o(null);return await Promise.all([d(a.params.userId),m(a.params.userId)]),u({id:n.default_location_id,name:n.default_location_name}),{data:n,breadcrumb:[{text:"Settings",to:{name:"setting"}},{text:"Manage Users",to:{name:"settingManageUser"}},{text:"Edit User"}],refComponent:g,loading:r,updateUser:async()=>{n.locations=c.value,n.default_location_id=f.value.id,n.default_location_name=f.value.name,g.value.validate()&&await i(a.params.userId,(async()=>{await l(),e.push({name:"settingManageUser"})}))}}}}),y={class:"flex justify-between items-center mb-8"},C={class:"text-right"};var M=f(x,[["render",function(a,e,t,s,o,p){const f=n("Breadcrumb"),g=n("ManageUserForm"),b=n("Button"),j=n("Card");return r(),d(c,null,[i("div",y,[m(f,{pageTitle:"Edit User",backTo:{name:"settingManageUser"},items:a.breadcrumb},null,8,["items"])]),m(j,null,{footer:l((()=>[i("div",C,[m(b,{disabled:0==a.data.permission.update,color:"teal",loading:a.loading.form,onClick:a.updateUser},{default:l((()=>e[1]||(e[1]=[u("Save")]))),_:1},8,["disabled","loading","onClick"])])])),default:l((()=>[m(g,{ref:"refComponent",data:a.data,"onUpdate:data":e[0]||(e[0]=e=>a.data=e),edit:"",readonly:0==a.data.permission.update,"permission-readonly":0==a.data.menu_list.permission.update},null,8,["data","readonly","permission-readonly"])])),_:1})],64)}]]),B=e({setup(){const{genSuspense:e}=a();return()=>e(M)}});export{B as default};
