{"version":3,"file":"expandable-panel.4fc35914.js","sources":["../../system-design/src/components/expandable-panel/expandable-panel.vue","../../system-design/src/mixins/triggered.js"],"sourcesContent":["<script>\nimport {defineComponent, h, ref, watch} from 'vue'\nimport { mixinTriggered } from '../../mixins'\nimport { addMixinPrefix } from '../../util/helpers'\n\nexport default defineComponent({\n  name: 'ExpandablePanel',\n  mixins: [\n    ...addMixinPrefix([ mixinTriggered\n    ], 'expandable-panel')\n  ],\n  props: {\n    label: {\n      type: String,\n      default: ''\n    },\n    modelValue: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\n    'update:modelValue',\n    'clickHeader'\n  ],\n  setup(props, { slots, emit }) {\n    let isTriggered = ref(props.modelValue)\n    const onTriggered = $event => {\n      isTriggered.value = !isTriggered.value\n      emit('update:modelValue', isTriggered.value)\n      emit('clickHeader')\n    }\n\n    const defaultPanelHeader = () => {\n      return h('div', { \n        class: ['panel__header'],\n      }, slots.header && slots.header({\n        toggle: onTriggered,\n        isExpanded: isTriggered.value\n      }) ||\n      [\n        h('span', { class: ['panel__label'], onClick: onTriggered }, props.label || ''),\n        h('span', { class: ['panel__caret'], onClick: onTriggered }, '^')\n      ])\n    }\n\n    const defaultPanelContent = () => {\n      return h('div', {\n        class: [\n          'panel__content',\n          isTriggered.value ? 'expand-enter-active' : 'expand-leave-active'\n        ]\n      }, slots.default?.() || '')\n    }\n\n    watch(() => props.modelValue, newValue => {\n      isTriggered.value = newValue\n    })\n\n    return {\n      defaultPanelHeader,\n      defaultPanelContent,\n      isTriggered\n    }\n  },\n  render() {\n    const childrens = [this.defaultPanelHeader(), this.defaultPanelContent()]\n    const listClass = [\n      'expandable-panel',\n      this.isTriggered && 'expandable-panel-triggered' || this.classTriggered\n    ]\n\n    return h('div', {\n      class: listClass\n    }, childrens)\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.panel__content {\n  opacity: 0;\n  max-height: 0;\n  overflow: hidden;\n  transition: opacity 0.3s ease-in-out, max-height 0.3s ease-in-out;\n\n  &.expand-enter-active {\n    opacity: 1;\n    max-height: calc(100vh * 4);\n  }\n\n  &.expand-leave-active {\n    opacity: 0;\n    max-height: 0;\n  }\n}\n\n</style>","export default (prefix = null) => ({\n  props: {\n    triggered: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    classTriggered() {\n      return this.triggered ? `${prefix + '-' || ''}triggered` : ''\n    }\n  }\n})"],"names":["defineComponent","name","mixins","addMixinPrefix","prefix","props","triggered","type","Boolean","default","computed","[object Object]","this","label","String","modelValue","emits","slots","emit","isTriggered","ref","onTriggered","$event","value","watch","newValue","defaultPanelHeader","h","class","header","toggle","isExpanded","onClick","defaultPanelContent","_a","call","childrens","listClass","classTriggered"],"mappings":"qHAKkBA,EAAa,CAC7BC,KAAM,kBACNC,OAAQ,IACHC,EAAe,CCRP,CAACC,EAAS,QAAU,CACjCC,MAAO,CACLC,UAAW,CACTC,KAAMC,QACNC,SAAS,IAGbC,SAAU,CACRC,iBACE,OAAOC,KAAKN,UAAY,GAAGF,EAAS,KAAO,cAAgB,QDA1D,qBAELC,MAAO,CACLQ,MAAO,CACLN,KAAMO,OACNL,QAAS,IAEXM,WAAY,CACVR,KAAMC,QACNC,SAAS,IAGbO,MAAO,CACL,oBACA,eAEFL,MAAMN,GAAOY,MAAEA,EAAAC,KAAOA,IAChB,IAAAC,EAAcC,EAAIf,EAAMU,YAC5B,MAAMM,EAAwBC,IAChBH,EAAAI,OAASJ,EAAYI,MACjCL,EAAK,oBAAqBC,EAAYI,OACjCL,EAAA,gBA6BA,OAJDM,GAAA,IAAMnB,EAAMU,aAAwBU,IACxCN,EAAYI,MAAQE,KAGf,CACLC,mBA3ByB,IAClBC,EAAE,MAAO,CACdC,MAAO,CAAC,kBACPX,EAAMY,QAAUZ,EAAMY,OAAO,CAC9BC,OAAQT,EACRU,WAAYZ,EAAYI,SAE1B,CACEI,EAAE,OAAQ,CAAEC,MAAO,CAAC,gBAAiBI,QAASX,GAAehB,EAAMQ,OAAS,IAC5Ec,EAAE,OAAQ,CAAEC,MAAO,CAAC,gBAAiBI,QAASX,GAAe,OAmB/DY,oBAf0B,WAC1B,OAAON,EAAE,MAAO,CACdC,MAAO,CACL,iBACAT,EAAYI,MAAQ,sBAAwB,yBAE7C,OAAAW,EAAAjB,EAAMR,cAAe,EAAAyB,EAAAC,KAAAlB,KAAA,KAUxBE,YAAAA,IAGJR,SACE,MAAMyB,EAAY,CAACxB,KAAKc,qBAAsBd,KAAKqB,uBAC7CI,EAAY,CAChB,mBACAzB,KAAKO,YAAe,6BAAgCP,KAAK0B,gBAG3D,OAAOX,EAAE,MAAO,CACdC,MAAOS,GACND"}