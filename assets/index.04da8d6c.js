import{u as e}from"./components.d5e25037.js";import{_ as t,e as a,b as i,f as r,u as n,g as o}from"./index.dcc9fc55.js";import{z as m}from"./setting.7b680124.js";import{B as s}from"./Breadcrumb.5b80dabd.js";import{C as d}from"./card.323f324c.js";import{k as l,y as u,W as c,m as p,o as b,t as _,B as y,D as g,w as f,I as x,F as h,K as v,U as C,_ as w}from"./vendor.9695fe57.js";import"./LoadingCard.d443bc39.js";import"./breadcrumb.82cee0bd.js";const k=l({components:{Breadcrumb:s,Card:d,Checkbox:a,Button:i,Input:r},setup(){const{state:e,loading:t,data:a,getMinimumOrder:i,updateMinimumOrder:r}=m(),{me:s}=n(),d=async()=>{await r().then((e=>{w({type:"success",message:"Minimum offer setting updated!"})}))},l=o((async()=>{await d()}),500);return u((()=>e.value),(e=>{e&&Object.assign(a,{is_enable_minimum_order:Number(e.is_enable_minimum_order),minimum_order_type:Number(e.minimum_order_type),minimum_order_qty:Number(e.minimum_order_qty),minimum_order_price:Number(e.minimum_order_price)})}),{immediate:!0}),c((()=>{i()})),{state:e,loading:t,data:a,breadcrumb:[{text:"Settings",to:{name:"setting"}},{text:"Minimum Offer Setting"}],me:s,updateEnable:d,updatingQtyPrice:l,updatingType:async e=>{a.minimum_order_type=e,await d()}}}}),j={class:"flex justify-between lg:items-center md:items-end md:flex-row flex-col items-start mb-8"},V={class:"grid grid-cols-2"},M={class:"xl:col-span-1 lg:col-span-1 col-span-2"},q={key:0,class:"visible opacity-100 h-72 transition-all ease-in-out duration-300 overflow-hidden"},B={class:"mt-8"},T={class:"mt-6"},I={class:"flex items-center w-60"},O={key:0,class:"visible opacity-100 transition-opacity ease-in-out duration-300 mt-6"},P={key:1,class:"visible opacity-100 transition-opacity ease-in-out duration-300 mt-6"};var Q=t(k,[["render",function(e,t,a,i,r,n){const o=p("Breadcrumb"),m=p("Checkbox"),s=p("Popover"),d=p("Input"),l=p("Card");return b(),_("div",null,[y("div",j,[g(o,{pageTitle:"Minimum Offer Setting",backTo:{name:"setting"},items:e.breadcrumb},null,8,["items"])]),g(l,null,{default:f((()=>[y("div",V,[y("div",M,[g(m,{modelValue:e.data.is_enable_minimum_order,"onUpdate:modelValue":t[0]||(t[0]=t=>e.data.is_enable_minimum_order=t),value:1,"value-off":0,class:"font-medium",color:"teal",view:"smooth",type:"toggle",block:"",onChange:e.updateEnable},{default:f((()=>t[5]||(t[5]=[x("Minimum shipping rule")]))),_:1},8,["modelValue","onChange"])])]),e.data.is_enable_minimum_order?(b(),_("div",q,[y("p",B,[t[8]||(t[8]=x(" Limit buyback offers by quantity or total price in cart ")),g(s,{trigger:"hover",placement:"bottom",width:"400px"},{reference:f((()=>t[6]||(t[6]=[y("i",{class:"fas fa-info-circle cursor-pointer hover:text-green-base"},null,-1)]))),default:f((()=>[t[7]||(t[7]=x(" If you are a wholesaler and want to receive a minimum of 5 items per buyback. Enable this rule and set the minimum item quantity to 5 "))])),_:1})]),y("div",T,[t[9]||(t[9]=y("h5",{class:"text-lg mb-2"},"Shipping Rules",-1)),y("div",I,[y("div",{class:h([1===e.data.minimum_order_type?"bg-teal-04 border-teal-04 text-white":"border-grey-03","flex-1 py-1.5 border border-r-0 rounded-xl rounded-r-none text-center transition-all ease-in-out duration-300 cursor-pointer px-6 py-6"]),onClick:t[1]||(t[1]=t=>e.updatingType(1))}," Quantity ",2),y("div",{class:h([2===e.data.minimum_order_type?"bg-teal-04 border-teal-04 text-white":"border-grey-03","flex-1 py-1.5 border border-l-0 rounded-xl rounded-l-none text-center transition-all ease-in-out duration-300 cursor-pointer px-6 py-6"]),onClick:t[2]||(t[2]=t=>e.updatingType(2))}," Price ",2)])]),1===e.data.minimum_order_type?(b(),_("div",O,[t[10]||(t[10]=y("h5",{class:"text-lg mb-2"},"Min. Item Qty",-1)),g(d,{modelValue:e.data.minimum_order_qty,"onUpdate:modelValue":t[3]||(t[3]=t=>e.data.minimum_order_qty=t),type:"number",min:"1",class:"border-0 text-right",onChange:e.updatingQtyPrice},null,8,["modelValue","onChange"])])):(b(),_("div",P,[t[11]||(t[11]=y("h5",{class:"text-lg mb-2"},"Min. Total in Cart",-1)),g(d,{modelValue:e.data.minimum_order_price,"onUpdate:modelValue":t[4]||(t[4]=t=>e.data.minimum_order_price=t),type:"number",icon:"",onChange:e.updatingQtyPrice},{icon:f((()=>[x(v(e.me.currency_symbol),1)])),_:1},8,["modelValue","onChange"])]))])):C("",!0)])),_:1})])}]]),S=l({setup(){const{genSuspense:t}=e();return()=>t(Q)}});export{S as default};
