import{k as a,r as e,y as s,m as t,o,t as n,B as l,D as d,a1 as r,a2 as i,K as u,w as m,I as c,S as p,O as b}from"./vendor.9695fe57.js";import{u as g,a as f}from"./shipmondo.80427ac3.js";import{f as h,b as v,_ as w}from"./index.9c4dcead.js";import{u as y}from"./index.f40e4a9e.js";import{r as S}from"./index.54844a74.js";import"./index.6b6f6369.js";const x=a({components:{Input:h,Button:v},props:{data:{type:Object,default:()=>({username:"",password:""})},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["submit"],setup(a,{emit:t}){const o=e({username:a.data.username,password:a.data.password}),n=y({username:{required:S},password:{required:S}},o,{$lazy:!0});return s((()=>a.data),(a=>{o.username=a.username,o.password=a.password})),{data:o,validation:n,handleSubmit:()=>{n.value.$validate(),n.value.$invalid||t("submit",o)}}}}),k={class:"my-4"},$={class:"my-4"},j={class:"flex items-center"};const _=a({components:{Input:h,Button:v,FormConnect:w(x,[["render",function(a,e,s,b,g,f){const h=t("Input"),v=t("Button"),w=t("Tooltip");return o(),n("form",{onSubmit:e[2]||(e[2]=p(((...e)=>a.handleSubmit&&a.handleSubmit(...e)),["prevent"]))},[l("div",k,[d(h,{modelValue:a.data.username,"onUpdate:modelValue":e[0]||(e[0]=e=>a.data.username=e),disabled:a.disabled,class:"mb-2",label:"User",placeholder:"User",autocomplete:"email",block:"",view:a.validation.username.$invalid?"danger":"default"},null,8,["modelValue","disabled","view"]),(o(!0),n(r,null,i(a.validation.username.$errors,((a,e)=>(o(),n("small",{class:"text-red-04",key:e},u(a.$message),1)))),128))]),l("div",$,[d(h,{modelValue:a.data.password,"onUpdate:modelValue":e[1]||(e[1]=e=>a.data.password=e),disabled:a.disabled,class:"mb-2",label:"Key",placeholder:"Key",block:"",view:a.validation.password.$invalid?"danger":"default"},null,8,["modelValue","disabled","view"]),(o(!0),n(r,null,i(a.validation.password.$errors,((a,e)=>(o(),n("small",{class:"text-red-04",key:e},u(a.$message),1)))),128))]),l("div",j,[d(v,{disabled:a.disabled||!(a.data.username&&a.data.password),loading:a.loading,class:"my-4",color:"teal",block:""},{default:m((()=>e[3]||(e[3]=[c("Connect")]))),_:1},8,["disabled","loading"]),d(w,{placement:"top"},{content:m((()=>e[4]||(e[4]=[l("div",{class:"w-96"},[l("span",null,"To find the User and Key section in your Shipmondo Account settings, use this button for quick access to your Shipmondo account.")],-1)]))),default:m((()=>[e[5]||(e[5]=l("a",{class:"border border-teal-04 px-4 py-2 rounded-lg mx-3",href:"https://app.shipmondo.com/main/app/#/setting/api",rel:"noopener noreferrer",target:"_blank"},[l("i",{class:"material-icons"},"launch")],-1))])),_:1})])],32)}]])},async setup(){const a=b(),{credentials:s,loading:t,connect:o,setCredential:n}=g(),{status:l,loading:d,fetchStatus:r}=f(),i=e({username:null,password:null});return await r(),Object.assign(i,{username:s.value.username,password:s.value.password}),{data:i,loading:t,status:l,loadingStatus:d,handleSubmit:async({username:e,password:s})=>{n({username:e,password:s});try{await o(),a.push({name:"integrationShipmondoConfig"})}catch(t){}}}}}),B={class:"pb-16 pt-4"},C={class:"md:w-1/2 w-full mx-auto my-8"};var V=w(_,[["render",function(a,e,s,r,i,u){const m=t("FormConnect");return o(),n("div",B,[e[1]||(e[1]=l("div",{class:"text-center my-6"},[l("img",{draggable:"false",class:"mx-auto my-2 select-none",src:"/assets/connect-shipmondo.96290664.svg",alt:"Connect Shipmondo",whitelabel:"image-replace","data-image-type":"shipmondo"}),l("p",{whitelabel:"text-replace","data-label":"addons host"}," Reusely.com would like to connect to your Default Shipping Label account ")],-1)),l("div",C,[d(m,{data:a.data,disabled:0==a.status.is_ready,loading:a.loading,onSubmit:a.handleSubmit},null,8,["data","disabled","loading","onSubmit"]),e[0]||(e[0]=l("div",{class:"my-2 text-center"},[l("a",{class:"transition duration:300 hover:bg-teal-01 hover:text-teal-04 rounded-lg p-4 block w-full",href:"https://app.shipmondo.com/account/login/?locale=en&redirect_to=/main/app",target:"_blank",rel:"noopener noreferrer"},"Login to your Shipmondo Account")],-1))])])}]]);export{V as default};
