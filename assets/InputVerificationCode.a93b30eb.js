import{k as e,f as a,aJ as t,W as o,y as l,$ as n,o as s,t as d,a1 as u,a2 as r,A as i,aF as p,B as c,S as m}from"./vendor.9695fe57.js";import{_ as v}from"./index.10c203ea.js";const f=e({props:{codeLength:{type:Number,default:6},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:n}){const s=a([]),d=a([]),u=t((()=>d.value.join("")));return o((()=>{const a=[...new Array(parseInt(e.codeLength))];if(e.modelValue&&"string"==typeof e.modelValue){const t=e.modelValue.split("");d.value=a.map(((e,a)=>a<t.length?t[a]:""))}else d.value=a})),l((()=>e.codeLength),(()=>{d.value=[...new Array(parseInt(e.codeLength))].map((()=>""))})),l((()=>e.modelValue),(a=>{const t=[...new Array(parseInt(e.codeLength))];if(a&&"string"==typeof a){const a=e.modelValue.split("");d.value=t.map(((e,t)=>t<a.length?a[t]:""))}})),{refCodeFields:s,parsedCodes:u,codes:d,onInput:(e,a)=>{var t,o,l,r;if(!e.data&&"deleteContentBackward"===e.inputType){return a>0&&(null==(o=null==(t=s.value[a-1])?void 0:t.focus)||o.call(t)),void n("update:modelValue",u.value)}a<s.value.length&&(null==(r=null==(l=s.value[a+1])?void 0:l.focus)||r.call(l)),d.value[a]=e.data,n("update:modelValue",u.value)},onPaste:async e=>{const a=(e.clipboardData||window.clipboardData).getData("Text");n("update:modelValue",a)}}}}),g={class:"verification-code"},V=["onUpdate:modelValue","onInput"];var y=v(f,[["render",function(e,a,t,o,l,v){const f=n("maska");return s(),d("div",g,[(s(!0),d(u,null,r(e.codes,((t,o)=>(s(),d("div",{class:"verification-code__field",key:o},[i(c("input",{autocomplete:"none",class:"verification-code__input","onUpdate:modelValue":a=>e.codes[o]=a,ref_for:!0,ref:a=>e.refCodeFields[o]=a,onInput:m((a=>e.onInput(a,o)),["prevent"]),onPaste:a[0]||(a[0]=m(((...a)=>e.onPaste&&e.onPaste(...a)),["prevent"]))},null,40,V),[[f,"#"],[p,e.codes[o]]])])))),128))])}]]);export{y as I};
