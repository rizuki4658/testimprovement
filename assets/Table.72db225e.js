var e=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,s=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,o=(e,o)=>{for(var i in o||(o={}))a.call(o,i)&&s(e,i,o[i]);if(l)for(var i of l(o))t.call(o,i)&&s(e,i,o[i]);return e};import{k as i,f as n,g as r,y as d,o as c,t as u,B as m,F as p,j as v,m as f,D as b,w as k,I as y,n as g,ap as h,a4 as C,_ as x,s as w,q as _,G as I,H as B,O as F,$ as S,a3 as D,U as T,K as V,a1 as U,a2 as j,A as L,L as A,aO as R,S as $}from"./vendor.9695fe57.js";import{g as E}from"./customer.1464571e.js";import{_ as O,z,b as P,j as M,f as N,d as H,t as Y,e as q,P as G,u as K,a9 as J,a7 as Q,ad as W,g as X}from"./index.67cab78b.js";import{_ as Z}from"./tab.0e26a59e.js";import{T as ee}from"./TextLimit.08767f7e.js";import{A as le}from"./index.e106da6d.js";import{C as ae,a as te}from"./CustomTableExport.a23fa9d2.js";import{B as se}from"./BTable.07463b10.js";import{F as oe}from"./FilterDropdown.b6183eb4.js";import{B as ie}from"./Input.21757a34.js";import{f as ne}from"./date.f86face7.js";import{_ as re}from"./attention.c511405b.js";import"./format.f845777a.js";import"./index.f40e4a9e.js";import"./index.6b6f6369.js";import"./vue-draggable-next.esm-bundler.4467bcb1.js";import"./fieldset.684cbbdd.js";import"./BDropdown.a42e07ae.js";var de=O(i({props:{type:{type:String,default:"none"}},emits:["change"],setup(e,{emit:l}){const a=["ascending","asc","descending","desc","none"],t=n(null),s=r((()=>{const e=["sort"];if("string"==typeof t.value)switch(t.value.toLowerCase()){case"ascending":e.push("--asc");break;case"descending":e.push("--desc");break;default:e.push("--none")}else e.push("--none");return e}));return d((()=>e.type),(e=>{if("string"==typeof e&&a.includes(e.toLowerCase()))return"asc"===e.toLowerCase()&&(e="ascending"),"desc"===e.toLowerCase()&&(e="descending"),t.value=e,null;t.value="none"}),{immediate:!0}),{sortType:t,sortClasses:s,handleChangeSortType:e=>{"string"==typeof e&&(t.value=e===t.value?"none":e,l("change",t.value))}}}}),[["render",function(e,l,a,t,s,o){return c(),u("div",{class:p(e.sortClasses)},[m("div",{onClick:l[0]||(l[0]=l=>e.handleChangeSortType("ascending")),class:"sort__icon --asc"}),m("div",{onClick:l[1]||(l[1]=l=>e.handleChangeSortType("descending")),class:"sort__icon --desc"})],2)}],["__scopeId","data-v-912c3ae0"]]);const ce=v("customerBlock",{state:()=>({form:{isLoading:!1,modal:!1,list:null},block:{isLoading:!1,modal:!1}}),actions:{$setBlockCustomer:async e=>z("/v2/pos/customer/blocked-list",{method:"post",data:e}),$setBlockCustomerById:async e=>z(`/v2/pos/customer/block/${e.id}`,{method:"put",data:e.data}),$setUnblockCustomerById:async e=>z(`/v2/pos/customer/blocked-list/${e}`,{method:"delete"})}}),ue={class:"inline-block"},me={class:"space-y-6"},pe={class:"flex items-center gap-x-2"},ve={class:"flex items-center justify-between"};var fe="/assets/attention-light.f04e103a.svg";const be={class:"inline-block"},ke={class:"space-y-10 py-10 max-w-2xl mx-auto"},ye={class:"flex items-center justify-center gap-x-4"},ge={class:"inline-block"},he={class:"space-y-10 py-10 max-w-2xl mx-auto"},Ce={class:"flex items-center justify-center gap-x-4"},xe=i({components:{Tab:Z,Button:P,Checkbox:q,Input:N,Pagination:G,Modal:H,TextLimit:ee,TableSort:de,Address:le,CustomTableManager:ae,CustomTableExport:te,BTable:se,FilterDropdown:oe,CustomerBlockList:{__name:"CustomerBlockList",emits:["submit","succeed","error"],setup(e,{emit:l}){const a=l,t=ce(),s=n(""),o=n(""),i=r((()=>s.value.split("\n").map((e=>e.trim())).filter((e=>""!==e)).length>0)),d=()=>{t.form.modal=!0},p=async()=>{var e,l,i;const n=null!=(l=null==(e=s.value)?void 0:e.split("\n"))?l:[],r=null!=(i=null==n?void 0:n.filter((e=>""!==e.trim())))?i:[];if(0!==(null==r?void 0:r.length)){t.form.list=null!=r?r:[];try{await Y(t.form,(()=>t.$setBlockCustomer({entries_to_block:t.form.list,blocked_reason:o.value}))),x({message:`${t.form.list.length} data successfully blocked!`,type:"success"}),await w(),v(),await w(),a("succeed")}catch(d){await w(),a("error",d)}}else x({message:"Please enter at least one valid data to block.",type:"warning"})},v=()=>{t.form.modal=!1,t.form.list=null,t.form.isLoading=!1,s.value="",o.value=""};return(e,l)=>{const a=f("Tooltip");return c(),u("div",ue,[b(P,{color:"white",view:"outlined",onClick:d},{default:k((()=>l[3]||(l[3]=[m("div",{class:"flex items-center justify-center gap-x-4 text-grey-03"},[m("i",{class:"material-icons"},"lock"),y(" Block Customer ")],-1)]))),_:1}),(c(),g(C,{to:"body"},[b(H,{modelValue:h(t).form.modal,"onUpdate:modelValue":l[2]||(l[2]=e=>h(t).form.modal=e),"no-close":h(t).form.isLoading,onClose:v},{header:k((()=>l[4]||(l[4]=[m("h5",{class:"font-medium"},"Block Customer",-1)]))),default:k((()=>[m("div",me,[b(M,{color:"blue",view:"smooth"},{default:k((()=>l[5]||(l[5]=[m("div",{class:"flex gap-x-4 text-left"},[m("i",{class:"material-icons"},"info"),m("div",{class:"text-blue-04 text-sm"},[y(" Important Notes: "),m("ul",{class:"list list-inside"},[m("li",{class:"text-blue-04"},"Blocking an IP prevents all access (widget and API)."),m("li",{class:"text-blue-04"},"Blocking an email only restricts widget access."),m("li",{class:"text-blue-04"},"Blocking a domain restricts all emails under that domain.")])])],-1)]))),_:1}),m("div",null,[m("div",pe,[l[8]||(l[8]=m("label",{class:"font-medium"},"Entries to block",-1)),b(a,{placement:"top"},{content:k((()=>l[6]||(l[6]=[m("p",null,"You can only block up to 100 entries.",-1)]))),default:k((()=>[l[7]||(l[7]=m("i",{class:"material-icons"},"info",-1))])),_:1})]),b(ie,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),limited:!1,"imei-input":!1,qty:10,rows:"10",disabled:h(t).form.isLoading},null,8,["modelValue","disabled"]),l[9]||(l[9]=m("p",{class:"text-sm text-grey-02"},"Block users by entering IP addresses, email addresses, or domains. Types are automatically detected.",-1))]),m("div",null,[l[10]||(l[10]=m("div",{class:"flex items-center gap-x-2"},[m("label",{class:"font-medium"},"Reason for Blocking (Optional)")],-1)),b(N,{modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value=e),disabled:h(t).form.isLoading,block:""},null,8,["modelValue","disabled"])])])])),footer:k((()=>[m("div",ve,[b(P,{disabled:h(t).form.isLoading,color:"white",onClick:v},{default:k((()=>l[11]||(l[11]=[y(" Cancel ")]))),_:1},8,["disabled"]),b(P,{disabled:!i.value||h(t).form.isLoading,color:"teal",onClick:p},{default:k((()=>l[12]||(l[12]=[y(" Block Customer ")]))),_:1},8,["disabled"])])])),_:1},8,["modelValue","no-close"])]))])}}},CustomerBlock:{__name:"CustomerBlock",props:{customer:{type:Object,default:null}},emits:["succeed","error"],setup(e,{emit:l}){const a=e,t=l,s=ce(),o=n(""),i=n({}),r=n(!1),d=n(!1),p=()=>{r.value=!0,i.value=a.customer},v=async()=>{try{d.value=!0,await Y({},(()=>s.$setBlockCustomerById({id:i.value.customer_id,data:{blocked_reason:o.value}}))),f(),await w(),t("succeed")}catch(e){d.value=!1,await w(),t("error",e)}},f=()=>{r.value=!1,d.value=!1,o.value="",i.value={}};return(e,l)=>(c(),u("div",be,[m("div",{class:"inline-block",onClick:p},[_(e.$slots,"default",I(B({onClick:p,onClose:f})))]),l[7]||(l[7]=m("div",null,null,-1)),(c(),g(C,{to:"body"},[b(H,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),"hide-header":"","hide-footer":"","no-close":"",size:"xs",onClose:f},{default:k((()=>[m("div",ke,[l[5]||(l[5]=m("img",{class:"mx-auto w-48",src:fe,alt:"warning icon"},null,-1)),l[6]||(l[6]=m("div",{class:"space-y-4 text-center"},[m("h5",{class:"font-medium"},"Block Customer?"),m("p",{class:"text-grey-03"},"Are you sure you want to block this customer? Blocking them will prevent them from placing any future orders.")],-1)),m("div",null,[l[2]||(l[2]=m("div",{class:"flex items-center gap-x-2"},[m("label",{class:"font-medium"},"Reason")],-1)),b(N,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),disabled:d.value,block:""},null,8,["modelValue","disabled"])]),m("div",ye,[b(P,{disabled:d.value,color:"red",onClick:v},{default:k((()=>l[3]||(l[3]=[y(" Confirm ")]))),_:1},8,["disabled"]),b(P,{disabled:d.value,color:"white",onClick:f},{default:k((()=>l[4]||(l[4]=[y(" Cancel ")]))),_:1},8,["disabled"])])])])),_:1},8,["modelValue"])]))]))}},CustomerUnblock:{__name:"CustomerUnblock",props:{customer:{type:Object,default:null}},emits:["succeed","error"],setup(e,{emit:l}){const a=e,t=l,s=ce(),o=n({}),i=n(!1),r=n(!1),d=()=>{i.value=!0,o.value=a.customer},p=async()=>{try{r.value=!0,await Y({},(()=>{var e,l;return s.$setUnblockCustomerById((null==(e=o.value)?void 0:e.customer_id)||(null==(l=o.value)?void 0:l.id))})),v(),await w(),t("succeed")}catch(e){r.value=!1,await w(),t("error",e)}},v=()=>{i.value=!1,r.value=!1,o.value={}};return(e,l)=>(c(),u("div",ge,[m("div",{class:"inline-block",onClick:d},[_(e.$slots,"default",I(B({onClick:d,onClose:v})))]),l[5]||(l[5]=m("div",null,null,-1)),(c(),g(C,{to:"body"},[b(H,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),"hide-header":"","hide-footer":"","no-close":"",size:"xs",onClose:v},{default:k((()=>[m("div",he,[l[3]||(l[3]=m("img",{class:"mx-auto w-48",src:fe,alt:"warning icon"},null,-1)),l[4]||(l[4]=m("div",{class:"space-y-4 text-center"},[m("h5",{class:"font-medium"},"Unblock Customer?"),m("p",{class:"text-grey-03"},"Are you sure you want to unblock this customer? Unblocking them will allow them to place future orders again.")],-1)),m("div",Ce,[b(P,{disabled:r.value,color:"red",onClick:p},{default:k((()=>l[1]||(l[1]=[y(" Confirm ")]))),_:1},8,["disabled"]),b(P,{disabled:r.value,color:"white",onClick:v},{default:k((()=>l[2]||(l[2]=[y(" Cancel ")]))),_:1},8,["disabled"])])])])),_:1},8,["modelValue"])]))]))}}},props:{statusId:{type:[Number,String],default:1},choose:{type:Boolean,default:!1},linkCustomer:{type:Boolean,default:!0},loadingExport:{type:Boolean,default:!1},statusName:{type:String,default:"Active"},showCustomTableSetting:{type:Boolean,default:!1}},emits:["choose","export-customer"],async setup(e,{emit:l}){const{data:a,state:t,loading:s,modal:i,selected:c,filterList:u,filterDateOptions:m,isDateShow:p,filterDateFocus:v,filterDateRef:f,isFiltered:b,clearFilter:k,clearAllFilter:y,unsetData:g,openModal:h,actionAll:C,actionDelete:x,actionRestore:w,blockedStatus:_}=E(),{me:I}=K(),B=F(),S=n(!0),D=n("csv"),T=n(!1),V=n(!1),U=r((()=>{const e={from:null,to:null};if(!!a.date){const[l,t]=a.date;e.from=ne(l),e.to=ne(t)}return e})),j=r((()=>{const l=U.value,a=!!l.from&&!!l.to;return`${e.statusName}${a?` ${l.from} to ${l.to}`:""}`})),L=r((()=>[{name:"Select Date",key:"date",count_selected:0},..."2"==e.statusId?[{name:"Blocked Type",key:"type",count_selected:0}]:[]])),A=r((()=>0===u.value.filter((e=>!!e.value)).length));d((()=>({route:e.statusId,limit:a.limit,search:a.search})),(()=>{a.page=1}),{deep:!0}),d((()=>({statusId:e.statusId,page:a.page,limit:a.limit,search:a.search})),X((async()=>{await C(e.statusId)}),500),{immediate:!0,deep:!0});const R=async()=>{const l=u.value.filter((e=>!!(null==e?void 0:e.value)));(null==l?void 0:l.length)&&(T.value=!0,V.value=!0,await C(e.statusId),T.value=!1)},$=async()=>{T.value=!0,V.value=!1,y(),await C(e.statusId),T.value=!1};return{isClickableRow:S,data:a,state:t,loading:s,modal:i,unsetModal:()=>{S.value=!0,g()},me:I,filterList:u,filterDateOptions:m,isDateShow:p,filterDateFocus:v,filterDateRef:f,isFiltered:b,clearFilter:k,clearAllFilter:y,blockedStatus:_,openModalSelected:(e,l)=>{S.value=!1,h(e,(()=>{c.value=l.customer_id}))},deleteCustomer:()=>x(e.statusId),restoreCustomer:()=>w(e.statusId),onChoose:e=>{S.value&&l("choose",e)},phoneNumber:J,nameCapitalize:Q,handleTableSort:(e,l)=>{if(e&&l){const t="ascending"===l?"ASC":"descending"===l?"DESC":null;a[e]=t}},titleCase:W,loginCustomer:e=>{S.value=!0,window.open(e,"_blank","noreferrer noopener"),S.value=!1},handleUpdateCustomTable:async()=>{await C(e.statusId)},handleExportCustomerData:()=>{const t=D.value;l("export-customer",{format:t,filename:j.value,filters:o(o({status:e.statusId,page:a.page,limit:a.limit,search:a.search},V.value&&o(o({},U.value),a.type&&{type:a.type})),2==e.statusId&&{type:a.type||"all"})})},exportCustomerFormat:D,exportFilename:j,isLoadingDropdownFilter:T,isAppliedFilter:V,dropdownFilterOptions:L,handlSelectFilterType:(e,l=(()=>{}))=>{a.type=e,V.value=!1,"function"==typeof l&&l()},handleSelectFilterDate:()=>{V.value=!1},handleApplyFilter:R,handleResetFilter:$,handleDropdownItemClick:e=>{e&&"date"===e.key&&v()},handleClearFilter:e=>{k(e),R(),A.value&&(V.value=!1)},dropdownItemFilterLoading:()=>s.all,dropdownItemFilterDisableHover:e=>"date"===e.key,handleSucceedBlock:async()=>{await $()},handleSucceedUnblock:async()=>{await $()},onActionEdit:e=>{B.push({name:"customerDetail",params:{customerId:e.customer_id,category:"in-store"}})}}}}),we={class:"flex lg:flex-row flex-col mb-6 gap-y-6"},_e={class:"flex flex-wrap flex-auto md:mr-3 md:mb-0 mb-3"},Ie={class:"flex-auto mr-2"},Be={class:"lg:flex-auto mr-2"},Fe={class:"text-grey-03"},Se=["onClick"],De={class:"px-6 py-4 flex items-center gap-x-2 hover:bg-teal-04 cursor-pointer hover:text-white text-teal-04"},Te={class:"material-icons"},Ve={key:0,class:"flex flex-wrap gap-2"},Ue={class:"flex flex-start flex-row my-4"},je=["onClick"],Le={key:0,class:"inline-block mx-2"},Ae={style:{minHeight:"100px"},class:"mb-1"},Re={key:0},$e={key:0,class:"mb-2"},Ee={key:1,class:"block text-teal-04 mb-2"},Oe={key:0,class:"mb-2"},ze={key:1,class:"block text-teal-04 mb-2"},Pe={key:1},Me=["onClick"],Ne=["href","onClick"],He=["onClick"],Ye=["onClick"],qe=["onClick"],Ge=["onClick"],Ke={key:1,class:"b-table-container"},Je={class:"b-table"},Qe={class:"b-table__header"},We={class:"b-table__row b-table__row--header"},Xe={class:"b-table__body"},Ze={class:"b-table__row b-table__row--body"},el=["colspan"],ll={class:"text-center py-10"},al={class:"text-center py-10"};var tl=O(xe,[["render",function(e,l,a,t,s,o){var i,n,r,d;const p=f("Input"),v=f("DatePicker"),h=f("FilterDropdown"),C=f("CustomTableManager"),x=f("CustomerBlockList"),w=f("CustomTableExport"),_=f("Button"),I=f("TextLimit"),B=f("router-link"),F=f("CustomerBlock"),E=f("CustomerUnblock"),O=f("BTable"),z=f("Pagination"),P=f("Modal"),M=S("loading");return c(),u("div",null,[m("div",we,[m("div",_e,[m("div",Ie,[b(p,{modelValue:e.data.search,"onUpdate:modelValue":l[0]||(l[0]=l=>e.data.search=l),placeholder:"Search Everything",class:"w-full",icon:""},{icon:k((()=>l[10]||(l[10]=[m("span",{class:"material-icons"},"search",-1)]))),_:1},8,["modelValue"])]),m("div",Be,[b(h,{onItemClick:e.handleDropdownItemClick,onApplyFilter:e.handleApplyFilter,onResetFilter:e.handleResetFilter,onCollapse:l[2]||(l[2]=l=>e.isDateShow=!1),"item-loading":e.dropdownItemFilterLoading,"item-disable-hover":e.dropdownItemFilterDisableHover,filters:e.dropdownFilterOptions,loading:e.isLoadingDropdownFilter},{label:k((({item:a})=>["date"===a.key?(c(),g(v,D({key:0,modelValue:e.data.date,"onUpdate:modelValue":l[1]||(l[1]=l=>e.data.date=l)},e.filterDateOptions,{ref:"filterDateRef",type:"daterange",class:"hide-picker",onChange:e.handleSelectFilterDate}),null,16,["modelValue","onChange"])):T("",!0),m("p",Fe,V(a.name)+V(e.data[null==a?void 0:a.key]?"(1)":""),1)])),dropdown:k((({filter:l,collapse:a})=>["type"===l.key?(c(!0),u(U,{key:0},j(e.blockedStatus,(l=>(c(),u("div",{key:l.type,onClick:t=>e.handlSelectFilterType(l.type,a)},[m("div",De,[L(m("span",Te," check_circle ",512),[[A,l.type===e.data.type]]),y(" "+V(null==l?void 0:l.name),1)])],8,Se)))),128)):T("",!0)])),_:1},8,["onItemClick","onApplyFilter","onResetFilter","item-loading","item-disable-hover","filters","loading"])])]),e.showCustomTableSetting?(c(),u("div",Ve,[L((c(),u("div",null,[2==e.statusId?(c(),g(C,{key:0,type:"customer-block",status:e.statusId,onUpdateTable:e.handleUpdateCustomTable},null,8,["status","onUpdateTable"])):(c(),g(C,{key:1,type:"customer",status:e.statusId,onUpdateTable:e.handleUpdateCustomTable},null,8,["status","onUpdateTable"]))])),[[M,e.loading.all]]),L((c(),u("div",null,[b(x,{onSucceed:e.handleSucceedBlock},null,8,["onSucceed"])])),[[M,e.loading.all]]),L((c(),u("div",null,[b(w,{modelValue:e.exportCustomerFormat,"onUpdate:modelValue":l[3]||(l[3]=l=>e.exportCustomerFormat=l),onExport:e.handleExportCustomerData,"export-filename":e.exportFilename,loading:e.loadingExport},null,8,["modelValue","onExport","export-filename","loading"])])),[[M,e.loading.all]])])):T("",!0)]),m("div",Ue,[e.isAppliedFilter?(c(),u(U,{key:0},[(c(!0),u(U,null,j(e.filterList,((l,a)=>(c(),u("div",{class:"inline-block",key:a},[l.value?(c(),g(_,{key:0,color:"grey",view:"smooth",dense:"",class:"mx-1"},{default:k((()=>{var a;return[m("b",null,V(l.name)+":",1),y(" "+V("object"==typeof l.value?null!=(a=e.titleCase(l.value.name))?a:"-":e.titleCase(l.value)),1),m("i",{class:"material-icons text-sm ml-2",onClick:a=>e.handleClearFilter(l)},"close",8,je)]})),_:2},1024)):T("",!0)])))),128)),e.isFiltered?(c(),u("div",Le,[b(_,{onClick:e.handleResetFilter,color:"teal",view:"smooth",dense:""},{default:k((()=>l[11]||(l[11]=[m("i",{class:"material-icons text-sm mr-1"},"close",-1),y("Clear all ")]))),_:1},8,["onClick"])])):T("",!0)],64)):T("",!0)]),L((c(),u("div",Ae,[(null==(i=e.state.data)?void 0:i.length)?(c(),g(O,{key:0,class:"mb-4","more-actions":["edit","login","block","unblock","archive","restore"],items:e.state.data||[],headers:e.state.header_table||[],onRowClick:e.onChoose,"clickable-row":e.isClickableRow},R({column:k((({row:l,column:a,key:t})=>["customer_name"===t?(c(),u("td",Re,[e.linkCustomer?(c(),g(B,{key:0,class:"font-bold",to:{name:"customerDetail",params:{customerId:l.customer_id,category:"in-store"}}},{default:k((()=>[b(I,{text:a||""},{default:k((({text:l})=>[e.nameCapitalize(l).length?(c(),u("div",$e,[(c(!0),u(U,null,j(e.nameCapitalize(l),((e,l)=>(c(),u("span",{key:l,class:"text-teal-04 capitalize"},V(`${e} `),1)))),128))])):(c(),u("span",Ee,V(l),1))])),_:2},1032,["text"])])),_:2},1032,["to"])):(c(),g(I,{key:1,text:a||""},{default:k((({text:l})=>[e.nameCapitalize(l).length?(c(),u("div",Oe,[(c(!0),u(U,null,j(e.nameCapitalize(l),((e,l)=>(c(),u("span",{key:l,class:"text-teal-04 capitalize"},V(`${e} `),1)))),128))])):(c(),u("span",ze,V(l),1))])),_:2},1032,["text"]))])):(c(),u("td",Pe,V(a||"-"),1))])),actionUnblock:k((({row:a})=>[2==e.statusId?(c(),g(E,{key:a.customer_id,customer:a,onSucceed:e.handleSucceedUnblock},{default:k((({onClick:e})=>[m("div",{class:"flex items-center gap-x-2 px-4 py-2 w-56 text-grey-03",onClick:e},l[15]||(l[15]=[m("span",{class:"material-icons"},"no_encryption",-1),m("span",{class:"text-sm"},"Unblock Customer",-1)]),8,Ye)])),_:2},1032,["customer","onSucceed"])):T("",!0)])),_:2},[2!=e.statusId?{name:"actionEdit",fn:k((({row:a})=>[m("div",{class:"flex items-center gap-x-2 px-4 py-2 w-56 text-grey-03",onClick:l=>e.onActionEdit(a)},l[12]||(l[12]=[m("span",{class:"material-icons"},"mode_edit",-1),m("span",{class:"text-sm"},"Edit",-1)]),8,Me)])),key:"0"}:void 0,2!=e.statusId&&0!=e.statusId?{name:"actionLogin",fn:k((({row:a})=>[m("a",{target:"_blank",href:a.login_link,class:"flex items-center gap-x-2 px-4 py-2 w-56 text-grey-03",onClick:$((l=>e.loginCustomer(a.login_link)),["prevent"])},l[13]||(l[13]=[m("span",{class:"material-icons"},"vpn_key",-1),m("span",{class:"text-sm"},"Customer Portal Login",-1)]),8,Ne)])),key:"1"}:void 0,1==e.statusId?{name:"actionBlock",fn:k((({row:a})=>[(c(),g(F,{key:a.customer_id,customer:a,onSucceed:e.handleSucceedBlock},{default:k((({onClick:e})=>[m("div",{class:"flex items-center gap-x-2 px-4 py-2 w-56 text-grey-03",onClick:e},l[14]||(l[14]=[m("span",{class:"material-icons"},"lock",-1),m("span",{class:"text-sm"},"Block Customer",-1)]),8,He)])),_:2},1032,["customer","onSucceed"]))])),key:"2"}:void 0,1==e.statusId?{name:"actionArchive",fn:k((({row:a})=>[m("div",{class:"flex items-center gap-x-2 px-4 py-2 w-56 text-grey-03",onClick:l=>e.openModalSelected("delete",a)},l[16]||(l[16]=[m("span",{class:"material-icons"},"archive",-1),m("span",{class:"text-sm"},"Archive",-1)]),8,qe)])),key:"3"}:void 0,0==e.statusId?{name:"actionRestore",fn:k((({row:a})=>[m("div",{class:"flex items-center gap-x-2 px-4 py-2 w-56 text-grey-03",onClick:l=>e.openModalSelected("restore",a)},l[17]||(l[17]=[m("span",{class:"material-icons"},"replay",-1),m("span",{class:"text-sm"},"Restore",-1)]),8,Ge)])),key:"4"}:void 0]),1032,["items","headers","onRowClick","clickable-row"])):(c(),u("div",Ke,[m("table",Je,[m("thead",Qe,[m("tr",We,[(c(!0),u(U,null,j(e.state.header_table,((e,l)=>(c(),u("th",{key:l,class:"b-table__column-selection"},V(e.column_name),1)))),128))])]),m("tbody",Xe,[m("tr",Ze,[m("td",{colspan:null!=(d=null==(r=null==(n=e.state)?void 0:n.header_table)?void 0:r.length)?d:0,style:{"text-align":"center"}},"Nothing To Show",8,el)])])])]))])),[[M,e.loading.all]]),b(z,{page:e.data.page,"onUpdate:page":l[4]||(l[4]=l=>e.data.page=l),limit:e.data.limit,"onUpdate:limit":l[5]||(l[5]=l=>e.data.limit=l),data:e.state},null,8,["page","limit","data"]),b(P,{size:"xs",modelValue:e.modal.delete,"onUpdate:modelValue":l[7]||(l[7]=l=>e.modal.delete=l),title:"Archive Customer Location",onClose:e.unsetModal,"hide-header":"","hide-footer":""},{default:k((()=>[m("div",ll,[l[20]||(l[20]=m("img",{class:"mb-10 mx-auto",src:re,alt:"Success Icon"},null,-1)),l[21]||(l[21]=m("div",{class:"mt-8 mb-10"},[m("h6",null,"Archive Customer Data?")],-1)),b(_,{view:"smooth",color:"teal",class:"mr-5",loading:e.loading.delete,disabled:e.loading.delete,onClick:e.deleteCustomer},{default:k((()=>l[18]||(l[18]=[y("Yes, Archive")]))),_:1},8,["loading","disabled","onClick"]),b(_,{view:"outlined",color:"teal",disabled:e.loading.delete,onClick:l[6]||(l[6]=l=>e.modal.delete=!1)},{default:k((()=>l[19]||(l[19]=[y("Cancel")]))),_:1},8,["disabled"])])])),_:1},8,["modelValue","onClose"]),b(P,{size:"xs",modelValue:e.modal.restore,"onUpdate:modelValue":l[9]||(l[9]=l=>e.modal.restore=l),title:"Restore Customer",onClose:e.unsetModal,"hide-header":"","hide-footer":""},{default:k((()=>[m("div",al,[l[24]||(l[24]=m("img",{class:"mb-10 mx-auto",src:re,alt:"Success Icon"},null,-1)),l[25]||(l[25]=m("div",{class:"mt-8 mb-10"},[m("h5",{class:"mb-4"},"Attention?"),m("p",null,"Are you sure want to restore this data?")],-1)),b(_,{view:"smooth",color:"teal",class:"mr-3",loading:e.loading.restore,onClick:e.restoreCustomer},{default:k((()=>l[22]||(l[22]=[y("Yes, Restore")]))),_:1},8,["loading","onClick"]),b(_,{view:"outlined",color:"teal",class:"bg-white",disabled:e.loading.restore,onClick:l[8]||(l[8]=l=>e.modal.restore=!1)},{default:k((()=>l[23]||(l[23]=[y("Cancel")]))),_:1},8,["disabled"])])])),_:1},8,["modelValue","onClose"])])}]]);export{tl as default};
