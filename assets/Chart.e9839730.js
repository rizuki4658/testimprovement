var a=Object.defineProperty,e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(e,t,l)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,s=(a,s)=>{for(var r in s||(s={}))t.call(s,r)&&o(a,r,s[r]);if(e)for(var r of e(s))l.call(s,r)&&o(a,r,s[r]);return a};import{h as r}from"./dashboard.9cadbe3e.js";import{C as n}from"./card.0f43ecfb.js";import{C as d}from"./CardHeader.318d9ab2.js";import{p as i}from"./chartjs-plugin-zoom.esm.f842a922.js";import{_ as c,b as u,u as p,a5 as m}from"./index.73ae30fa.js";import{f,y as b,W as h,o as y,t as v,B as g,k as C,m as j,n as w,w as x,I as S,K as k,D as R}from"./vendor.9695fe57.js";import{C as M}from"./chart.b16d9eb5.js";import{S as V}from"./select.a72384b0.js";import{C as _}from"./Currency.2f332742.js";import{_ as A}from"./group-container.65872e02.js";import"./date.f86face7.js";import"./setting.70ebc1f0.js";const B={ref:"chartRef",height:"105",id:"charts"};const F=C({components:{Card:n,CardHeader:d,ChartDashboard:c({components:{Button:u},props:{labels:Array,data:Array,dataLeads:Array,type:{default:"line",type:String}},setup(a){const e=f(null),{me:t}=p(),l=f(!1),o={chart:null,props:s({},a)},r={id:"extraLegendSpacing",beforeInit(a){const e=a.legend.fit;a.legend.fit=function(){e.bind(a.legend)(),this.height+=20}}},n=(a,s,n)=>{o.chart&&(o.chart.destroy(),o.chart=null);const d=[...s,...n].filter((a=>"number"==typeof a&&!isNaN(a))),c=(a=>{if(!a||a<=0)return 10;const e=Math.pow(10,Math.floor(Math.log10(a)));return Math.ceil(a/e)*e})(Math.max(...d)),u=Math.max(s.filter((a=>a>0)).length,n.filter((a=>a>0)).length,1),p=Math.ceil(c/u),f=e.value.getContext("2d"),b=f.createLinearGradient(0,0,0,400);b.addColorStop(0,"#4ED3BB"),b.addColorStop(.5,"#4ED3BB"),b.addColorStop(1,"#FFFFFF"),M.register(i,r),M.defaults.font.family="'Poppins'",o.chart=new M(f,{type:o.props.type,responsive:!1,maintainAspectRatio:!1,options:{plugins:{legend:{display:!0,labels:{usePointStyle:!0,pointStyle:"circle",color:"#a8a8a890"}},tooltip:{callbacks:{label:function(a){let e=a.dataset.label||"";return e&&(e+=": "),null!==a.parsed.y&&(e+=m(t.value,a.parsed.y)),e}}}},scales:{y:{max:c+p,ticks:{stepSize:p,beginAtZero:!0,color:"#a8a8a890",callback:a=>m(t.value,a),autoSkip:!0,font:{size:12}}},x:{ticks:{callback:function(a){const e=this.getLabelForValue(a);return window.innerWidth<=1028?e.slice(0,3):e},color:"#a8a8a890",autoSkip:!1,maxRotation:0,minRotation:0,font:{size:12}}}}},data:{labels:a,datasets:[{label:"Paid",data:s,fill:!1,backgroundColor:"#424242",borderColor:"#424242",tension:.4,borderWidth:1.5,pointRadius:l.value?3:0,pointHoverRadius:5,pointHitRadius:20},{label:"Leads",data:n,fill:!1,backgroundColor:"#1672ec",borderColor:"#1672ec",tension:.4,borderWidth:1.5,pointRadius:l.value?3:0,pointHoverRadius:5,pointHitRadius:20}]}})};return b([()=>a.labels,()=>a.data,()=>a.dataLeads],(()=>{n(a.labels,a.data,a.dataLeads)}),{deep:!0}),h((()=>n(a.labels,a.data,a.dataLeads))),{chartRef:e,togglePoints:()=>{l.value=!l.value,o.chart&&(o.chart.data.datasets.forEach((a=>{a.pointRadius=l.value?3:0,a.pointHoverRadius=l.value?5:6})),o.chart.update())}}}},[["render",function(a,e,t,l,o,s){return y(),v("div",null,[g("canvas",B,null,512)])}]]),Select:V,Currency:_,GroupContainer:A},async setup(){const{data:a,state:e,chart:t}=r(),l=(()=>{for(var a=(new Date).getFullYear(),e=a-9,t=[],l=a;l>=e;l--)t.push(l);return t})();return await t(),b((()=>a),(async()=>{await t()}),{deep:!0}),{data:a,state:e,months:[{id:"all",name:"All"},{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}],years:l,localBuyback:[{id:"",name:"All"},{id:"leads",name:"Leads"},{id:"paid",name:"Paid"}]}}}),L={class:"sm:flex"},P={class:"w-1/2 space-y-3"},D={class:"text-teal-02"},H={class:"text-teal-04 font-bold"},O={class:"text-teal-02"},I={class:"text-teal-04 font-bold"},z={class:"text-teal-02"},E={class:"text-teal-04 font-bold"},W={class:"w-1/2 flex"};var G=c(F,[["render",function(a,e,t,l,o,s){const r=j("Currency"),n=j("Select"),d=j("GroupContainer"),i=j("ChartDashboard"),c=j("Card");return y(),w(c,{class:"shadow-lg h-full"},{default:x((()=>[g("div",L,[g("div",P,[g("p",D,[e[3]||(e[3]=S(" Total Buybacks: ")),g("span",H,k(a.state.total_count),1)]),g("p",O,[e[4]||(e[4]=S(" Total Payouts: ")),g("span",I,[R(r,{value:a.state.total},null,8,["value"])])]),g("p",z,[e[5]||(e[5]=S(" Total Item Quantity: ")),g("span",E,k(a.state.total_device_quantity),1)])]),g("div",W,[R(d,{class:"filter-container"},{default:x((()=>[R(n,{placeholder:"Status",class:"w-full",items:a.localBuyback,by:"id",name:"name",modelValue:a.data.local,"onUpdate:modelValue":e[0]||(e[0]=e=>a.data.local=e)},null,8,["items","modelValue"]),R(n,{placeholder:"Month",class:"w-full",items:a.months,by:"id",name:"name",modelValue:a.data.month,"onUpdate:modelValue":e[1]||(e[1]=e=>a.data.month=e)},null,8,["items","modelValue"]),R(n,{class:"w-full",items:a.years,modelValue:a.data.year,"onUpdate:modelValue":e[2]||(e[2]=e=>a.data.year=e)},null,8,["items","modelValue"])])),_:1})])]),R(i,{labels:a.state.labels,data:a.state.data,"data-leads":a.state.data_leads},null,8,["labels","data","data-leads"])])),_:1})}],["__scopeId","data-v-30e5daf0"]]);export{G as default};
