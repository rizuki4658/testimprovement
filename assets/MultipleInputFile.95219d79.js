import{k as e,f as a,r as l,o as s,t as i,B as t,q as r,a1 as n,a2 as o,U as d,F as p,S as u,I as m,K as f}from"./vendor.9695fe57.js";import{b as g,_ as c}from"./index.10c203ea.js";const v=e({components:{Button:g},props:{preview:{type:Boolean,default:!0},rules:{type:Object,default:()=>({maxFileSize:"50MB",allowedFiles:[{name:"PNG",mime:""},{name:"JPG",mime:""},{name:"HEIC",mime:""}]})},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:s,expose:i}){const t=a(null),r=l({id:Math.floor(1e6*Math.random()),images:[]});return i({triggerFileInput:()=>{t.value.click()}}),{fileInput:t,data:r,input:e=>{for(let a of e.target.files){const e=new FileReader;e.onload=e=>{r.images.push(e.target.result)},e.readAsDataURL(a)}s("input",e.target.files)},drag:a=>{if(!e.disabled){for(let e of a.dataTransfer.files){const a=new FileReader;a.onload=e=>{r.images.push(e.target.result)},a.readAsDataURL(e)}s("input",a.dataTransfer.files)}},remove:()=>{r.images=[],s("input",null)},disabled:e.disabled}}}),b=["id","disabled"],w={key:0,class:"input-file-preview"},y={class:"w-full flex flex-wrap col"},x=["src","alt"],F={class:"my-12"},h=["for"];var j=c(v,[["render",function(e,a,l,g,c,v){return s(),i(n,null,[t("div",{class:p([e.disabled?"opacity-30":"","input-file"]),onDragenter:a[1]||(a[1]=u((()=>{}),["prevent","stop"])),onDragover:a[2]||(a[2]=u((()=>{}),["prevent","stop"])),onDragleave:a[3]||(a[3]=u((()=>{}),["prevent","stop"])),onDrop:a[4]||(a[4]=u(((...a)=>e.drag&&e.drag(...a)),["prevent","stop"]))},[t("input",{ref:"fileInput",type:"file",accept:"image/jpg, image/jpeg, image/png",class:"input-file-form",id:`file${e.data.id}`,onInput:a[0]||(a[0]=(...a)=>e.input&&e.input(...a)),multiple:"",disabled:e.disabled},null,40,b),e.preview?(s(),i("div",w,[r(e.$slots,"preview",{},(()=>[t("div",y,[(s(!0),i(n,null,o(e.data.images,((e,a)=>(s(),i("div",{key:a,class:"mx-4 my-4"},[t("img",{src:e,alt:`image-${a}`},null,8,x)])))),128))])]))])):d("",!0),t("div",F,[t("label",{for:`file${e.data.id}`},[r(e.$slots,"default",{},(()=>[a[5]||(a[5]=t("strong",{class:"pointer"},"Choose a file",-1)),a[6]||(a[6]=t("span",{class:"font-normal"}," or drag it here.",-1))]))],8,h)])],34),t("small",{class:p(e.disabled?"opacity-30":"")},[a[7]||(a[7]=t("b",null,"Max",-1)),m(" "+f(e.rules.maxFileSize)+" ; ",1),a[8]||(a[8]=t("b",null,"File",-1)),m(": "+f(e.rules.allowedFiles.map((e=>e.name)).join(", ")),1)],2)],64)}]]);export{j as M};
