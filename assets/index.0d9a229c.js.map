{"version":3,"file":"index.0d9a229c.js","sources":["../../src/components/Easypost/FormConnect.vue","../../src/views/integration/easypost/connect/index.vue","../../src/assets/icon/connect-easypost.svg"],"sourcesContent":["<template>\n  <form @submit.prevent=\"handleSubmit\">\n    <div class=\"my-4\">\n      <Input\n        v-model=\"data.api_key\"\n        :disabled=\"disabled\"\n        class=\"mb-2\"\n        label=\"API Key\"\n        placeholder=\"Your API key\"\n        block\n        :view=\"(validation.api_key.$invalid && 'danger') || 'default'\"\n      />\n      <small\n        v-for=\"(error, errorIndex) of validation.api_key.$errors\"\n        class=\"text-red-04\"\n        :key=\"errorIndex\"\n        >{{ error.$message }}</small\n      >\n    </div>\n    <div class=\"flex items-center\">\n      <Button\n        :disabled=\"disabled || !data.api_key\"\n        :loading=\"loading\"\n        class=\"my-4\"\n        color=\"teal\"\n        block\n        >Connect</Button\n      >\n    </div>\n  </form>\n</template>\n<script>\nimport { defineComponent, reactive, watch } from 'vue'\n\nimport { useConnect } from 'composable/integration/easypost'\n\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nimport { useVuelidate } from '@vuelidate/core'\n\nexport default defineComponent({\n  components: {\n    Input,\n    Button\n  },\n  props: {\n    data: {\n      type: Object,\n      default: () => ({\n        api_key: ''\n      })\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['submit'],\n  setup(props, { emit }) {\n    const { rules } = useConnect()\n    const data = reactive({\n      api_key: props.data.api_key\n    })\n    const validation = useVuelidate(rules, data, {\n      $lazy: true\n    })\n    const validate = () => {\n      validation.value.$validate()\n      return !validation.value.$invalid\n    }\n    const handleSubmit = () => {\n      if (validate()) emit('submit', data)\n    }\n    watch(\n      () => props.data,\n      (newData) => {\n        data.api_key = newData.api_key\n      }\n    )\n    return {\n      data,\n      validation,\n      handleSubmit\n    }\n  }\n})\n</script>\n","<template>\n  <div class=\"pb-16 pt-4\">\n    <div class=\"text-center my-6\">\n      <img\n        draggable=\"false\"\n        class=\"mx-auto my-2 select-none\"\n        src=\"@/assets/icon/connect-easypost.svg\"\n        alt=\"Connect Easypost\"\n        whitelabel=\"image-replace\"\n        data-image-type=\"easypost\"\n      />\n      <p whitelabel=\"text-replace\" data-label=\"addons host\">\n        Reusely.com would like to connect to your Easypost account\n      </p>\n    </div>\n    <div class=\"md:w-1/3 w-full mx-auto my-8\">\n      <FormConnect\n        :data=\"data\"\n        :disabled=\"status.is_ready == 0\"\n        :loading=\"loading\"\n        @submit=\"handleSubmit\"\n      ></FormConnect>\n      <div class=\"my-2 text-center\">\n        <a\n          class=\"transition duration:300 hover:bg-teal-01 hover:text-teal-04 rounded-lg p-4 block w-full\"\n          href=\"https://www.easypost.com/login\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          >Login to your Easypost Account</a\n        >\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { defineComponent, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\n\nimport { useConnect, useStatus } from 'composable/integration/easypost'\n\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nimport FormConnect from '@/components/Easypost/FormConnect.vue'\n\nexport default defineComponent({\n  components: {\n    Input,\n    Button,\n    FormConnect\n  },\n  async setup() {\n    const router = useRouter()\n    const { credentials, loading, connect, setCredential } = useConnect()\n    const { status, loading: loadingStatus, fetchStatus } = useStatus()\n    const data = reactive({\n      api_key: null\n    })\n\n    const handleSubmit = async ({ api_key }) => {\n      setCredential({\n        api_key\n      })\n      try {\n        await connect()\n        router.push({\n          name: 'integrationEasypostConfig'\n        })\n      } catch (err) {}\n    }\n    await fetchStatus()\n\n    Object.assign(data, {\n      api_key: credentials.value.api_key,\n    })\n    return {\n      data,\n      loading,\n      status,\n      loadingStatus,\n      handleSubmit\n    }\n  }\n})\n</script>\n","export default \"__VITE_ASSET__6f88dcc3__\""],"names":["_sfc_main","defineComponent","components","Input","Button","props","data","type","Object","default","api_key","loading","Boolean","disabled","emits","[object Object]","emit","rules","useConnect","reactive","validation","useVuelidate","$lazy","watch","newData","handleSubmit","value","$validate","$invalid","_hoisted_1","class","FormConnect","_openBlock","_createVNode","_component_Input","modelValue","_ctx","onUpdate:modelValue","_cache","$event","label","placeholder","block","_Fragment","_renderList","$errors","error","errorIndex","_createElementBlock","key","_hoisted_2","_component_Button","color","router","useRouter","credentials","connect","setCredential","status","loadingStatus","fetchStatus","useStatus","assign","async","push","name","err","_createElementVNode","draggable","src","alt","whitelabel","_component_FormConnect","is_ready","href","target"],"mappings":"qVAyCA,MAAKA,EAAaC,EAAa,CAC7BC,WAAY,OACVC,SACAC,GAEFC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,QAAS,KAAO,CACdC,QAAS,MAGbC,QAAS,CACPJ,KAAMK,QACNH,SAAS,GAEXI,SAAU,CACRN,KAAMK,QACNH,SAAS,IAGbK,MAAO,CAAC,UACRC,MAAMV,GAAOW,KAAEA,IACb,MAAMC,MAAEA,GAAUC,IACZZ,EAAOa,EAAS,CACpBT,QAASL,EAAMC,KAAKI,UAEhBU,EAAaC,EAAaJ,EAAOX,EAAM,CAC3CgB,OAAO,IAeF,OANPC,GACE,IAAMlB,EAAMC,OACXkB,IACClB,EAAKI,QAAUc,EAAQd,WAGpB,CACLJ,KAAAA,EACAc,WAAAA,EACAK,aAZmB,KAHnBL,EAAWM,MAAMC,YACTP,EAAWM,MAAME,UAGTZ,EAAK,SAAUV,QAzD5BuB,EAAA,CAAAC,MAAM,sCC0Bf,MAAK9B,EAAaC,EAAa,CAC7BC,WAAY,OACVC,EACAC,OAAAA,EACA2B,kFDhDKC,OAAAA,mGACL,GASI,MAAAH,EAAA,CAPSI,EAAAC,EAAY,CAAZC,WAAAC,EAAA9B,KAAAI,QACR2B,sBAAkBC,EAAA,KAAAA,EAAA,GAAAC,GAAAH,EAAA9B,KAAAI,QAAA6B,GACnB1B,SAAYuB,EAAAvB,SACZiB,MAAM,OACNU,MAAA,UACAC,YAAK,eACJC,MAAO,+EAOT,WAAA,kBAAAC,EAAA,KAAAC,EAAAR,EAAAhB,WAAAV,QAAAmC,SAAA,CAAAC,EAAAC,SAHoBC,EAAA,QAAA,CAClBlB,MAAe,cACZmB,IAAAF,iCAWL,MAAAG,EAAA,CANEjB,EAAUkB,EAAa,CACvBtC,SAAgBuB,EAAAvB,WAAAuB,EAAA9B,KAAAI,QACjBC,QAAYyB,EAAAzB,QACZmB,MAAM,OACNsB,MAAA,iCACQd,EAAA,OAAA,GAAA,6DCuBZvB,cAGA,MAAMsC,EAASC,KACTC,YAAEA,EAAA5C,QAAaA,EAAS6C,QAAAA,EAAAC,cAASA,GAAkBvC,KACnDwC,OAAEA,EAAQ/C,QAASgD,EAAAC,YAAeA,GAAgBC,IAClDvD,EAAOa,EAAS,CACpBT,QAAS,OAmBJ,aALDkD,IAENpD,OAAOsD,OAAOxD,EAAM,CAClBI,QAAS6C,EAAY7B,MAAMhB,UAEtB,CACLJ,KAAAA,EACAK,QAAAA,EACA+C,OAAAA,EACAC,cAAAA,EACAlC,aArBmBsC,OAASrD,QAAAA,MACd+C,EAAA,CACZ/C,QAAAA,IAEE,UACI8C,IACNH,EAAOW,KAAK,CACVC,KAAM,8BAAA,MAEDC,UArDNrC,EAAA,CAAAC,MAAM,wIADL,MAAAD,EAZI,GAQN,KAAAS,EAAA,GAAA6B,EAAA,MAAA,CAAArC,MAAA,oBAAA,CANAqC,EAAiB,MAAA,CACjBC,UAAgC,QAChCtC,MAAwC,2BACxCuC,ICPO,wCDQPC,IAAA,mBACAC,WAAA,+CAECJ,EAAyB,IAAA,CAACI,WAAU,4BAEvC,iFAEF,MAMiB,MAAArB,EAAA,CAJZjB,EAAUuC,EAAA,CACVlE,KAAQ8B,EAAQ9B,KAChBO,SAAgB,GAAAuB,EAAAsB,OAAAe,SAChB9D,UAAoBA,2DAUjB,UAAA,eADH,KAAA2B,EAAA,GAAA6B,EAAA,MAAA,CAAArC,MAAA,oBAAA,CALCqC,EAA+F,IAAA,CAC/FrC,MAAqC,0FACrC4C,KAAM,iCACNC,OAAyB,aACM"}