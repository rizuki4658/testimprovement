{"version":3,"file":"Detail.c9864f09.js","sources":["../../src/components/Invoice/Detail.vue"],"sourcesContent":["<template>\n  <div class=\"block mb-5\">\n    <label class=\"font-bold\">Invoice Date</label>\n    <DatePicker\n      v-model=\"data.invoice_date\"\n      v-bind=\"filterDateOptions\"\n      :format=\"dateFormat\"\n      type=\"date\"\n      placeholder=\"Pick a day\"\n      class=\"block\"\n      :disabled=\"disabled\"\n    />\n  </div>\n  <div class=\"block mb-5\">\n    <label class=\"font-bold\">Payment Term</label>\n    <Select\n      v-model=\"data.payment_term_id\"\n      by=\"id\"\n      name=\"name\"\n      class=\"w-full\"\n      :items=\"terms\"\n      @input=\"setDueDate\"\n    />\n  </div>\n  <div class=\"block mb-5\">\n    <label class=\"font-bold\">Due Date</label>\n    <DatePicker\n      v-model=\"data.due_date\"\n      v-bind=\"filterDateOptions\"\n      :format=\"dateFormat\"\n      type=\"date\"\n      placeholder=\"Pick a day\"\n      class=\"block\"\n      disabled\n    />\n  </div>\n  <Input\n    v-model=\"data.reference\"\n    type=\"text\"\n    label=\"Reference\"\n    class=\"w-full\"\n    :disabled=\"disabled\"\n  />\n</template>\n\n<script>\nimport { defineComponent, ref, reactive, computed } from 'vue'\nimport { useDetail } from 'composable/invoice'\nimport { useUser } from 'composable/user'\nimport Input from 'bbUi/components/input/input.vue'\nimport Select from 'bbUi/components/select/select.vue'\n\nexport default defineComponent({\n  components: {\n    Input,\n    Select\n  },\n  props: {\n    data: {\n      type: Object,\n      default: () => ({\n        due_date: null,\n        invoice_date: null,\n        payment_term_id: null,\n        reference: null\n      })\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props, { emit }) {\n    const { filterDateOptions } = useDetail('invoice')\n    const { me } = useUser()\n    const data = reactive(props.data)\n    // TODO: Need get it from API\n    const terms = ref([\n      {\n        id: 1,\n        name: \"Due on receipt\",\n        days: 0\n      },\n      {\n        id: 2,\n        name: \"Net 7 Days\",\n        days: 7\n      },\n      {\n        id: 3,\n        name: \"Net 14 Days\",\n        days: 14\n      }\n    ])\n    const dateFormat = computed(() => me.value?.date_format ? me.value.date_format : 'DD/MM/YYYY')\n    const setDueDate = (item) => {\n      data.due_date = new Date(data.invoice_date.getTime() + 3600 * 1000 * 24 * item.days)\n    }\n\n    return {\n      data,\n      terms,\n      filterDateOptions,\n      dateFormat,\n      setDueDate\n    }\n  }\n})\n</script>"],"names":["_sfc_main","defineComponent","components","Input","Select","props","data","type","Object","default","due_date","invoice_date","payment_term_id","reference","disabled","Boolean","[object Object]","emit","filterDateOptions","useDetail","me","useUser","reactive","terms","ref","id","name","days","dateFormat","computed","_a","value","date_format","setDueDate","item","Date","getTime","_hoisted_1","class","_hoisted_2","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_cache","_createVNode","_component_DatePicker","_mergeProps","modelValue","_ctx","$event","format","placeholder","_component_Select","onUpdate:modelValue","by","items","_hoisted_3","_component_Input","label"],"mappings":"0PAoDA,MAAKA,EAAaC,EAAa,CAC7BC,WAAY,OACVC,EACAC,OAAAA,GAEFC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,QAAS,KAAO,CACdC,SAAU,KACVC,aAAc,KACdC,gBAAiB,KACjBC,UAAW,QAGfC,SAAU,CACRP,KAAMQ,QACNN,SAAS,IAGbO,MAAMX,GAAOY,KAAEA,IACb,MAAMC,kBAAEA,GAAsBC,KACxBC,GAAEA,GAAOC,IACTf,EAAOgB,EAASjB,EAAMC,MAEtBiB,EAAQC,EAAI,CAChB,CACEC,GAAI,EACJC,KAAM,iBACNC,KAAM,GAER,CACEF,GAAI,EACJC,KAAM,aACNC,KAAM,GAER,CACEF,GAAI,EACJC,KAAM,cACNC,KAAM,MAGJC,EAAaC,GAAS,WAAM,OAAA,OAAAC,EAAAV,EAAGW,YAAH,EAAAD,EAAUE,aAAcZ,EAAGW,MAAMC,YAAc,gBAK1E,MAAA,CACL1B,KAAAA,EACAiB,MAAAA,EACAL,kBAAAA,EACAU,WAAAA,EACAK,WATkBC,IACb5B,EAAAI,SAAW,IAAIyB,KAAK7B,EAAKK,aAAayB,UAAY,MAAmBF,EAAKP,WAnF9EU,EAAA,CAAAC,MAAM,cAWNC,EAAA,CAAAD,MAAM,mIAvBXE,OAAAA,IAWMC,EAAAC,EAAA,KAAA,CAVJC,EAAA,MAAAN,EAAA,CACAO,EAAA,YAQE,QAAA,CAAAN,MAAA,aAAA,gBAAA,IAPSO,EAAAC,EAAiBC,EAAA,CAAjBC,WAAAC,EAAA3C,KAAAK,mCACgBiC,EAAA,KAAAA,EAAA,GAAAM,GAAAD,EAAA3C,KAAAK,aAAAuC,IACxBD,EAAM/B,kBAAY,CACnBiC,OAAWF,EAAArB,WACXrB,KAAA,OACA6C,YAAa,aACZd,MAAA,4EAIHK,EAAA,MAAAJ,EAAA,CACAK,EAOE,KAAAA,EAAA,GAAAD,EAAA,QAAA,CAAAL,MAAA,aAAA,gBAAA,IANSO,EAAAQ,EAAoB,CAApBL,WAAAC,EAAA3C,KAAAM,gBACT0C,sBAAOV,EAAA,KAAAA,EAAA,GAAAM,GAAAD,EAAA3C,KAAAM,gBAAAsC,GACPK,GAAI,KACJ7B,YACCY,MAAO,SACPkB,MAAKP,EAAY1B,uEAIpBoB,EAAA,MAAAc,EAAA,CACAb,EAAA,YAQE,QAAA,CAAAN,MAAA,aAAA,YAAA,IAPSO,EAAAC,EAAaC,EAAA,CAAbC,WAAAC,EAAA3C,KAAAI,+BACgBkC,EAAA,KAAAA,EAAA,GAAAM,GAAAD,EAAA3C,KAAAI,SAAAwC,IACxBD,EAAM/B,kBAAY,CACnBiC,OAAWF,EAAArB,WACXrB,KAAA,OACA6C,YAAa,aACbd,MAAA,yDAIOO,EAAAa,EAAc,CAAdV,WAAAC,EAAA3C,KAAAO,UACTyC,sBAAWV,EAAA,KAAAA,EAAA,GAAAM,GAAAD,EAAA3C,KAAAO,UAAAqC,GACX3C,YACAoD,MAAM,YACLrB,MAAA"}