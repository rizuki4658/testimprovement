{"version":3,"file":"index.b123e6ca.js","sources":["../../src/components/Shipmondo/FormConnect.vue","../../src/views/integration/shipmondo/connect/index.vue","../../src/assets/icon/connect-shipmondo.svg"],"sourcesContent":["<template>\n  <form @submit.prevent=\"handleSubmit\">\n    <div class=\"my-4\">\n      <Input\n        v-model=\"data.username\"\n        :disabled=\"disabled\"\n        class=\"mb-2\"\n        label=\"User\"\n        placeholder=\"User\"\n        autocomplete=\"email\"\n        block\n        :view=\"(validation.username.$invalid && 'danger') || 'default'\"\n      />\n      <small\n        v-for=\"(error, errorIndex) of validation.username.$errors\"\n        class=\"text-red-04\"\n        :key=\"errorIndex\"\n        >{{ error.$message }}</small\n      >\n    </div>\n    <div class=\"my-4\">\n      <Input\n        v-model=\"data.password\"\n        :disabled=\"disabled\"\n        class=\"mb-2\"\n        label=\"Key\"\n        placeholder=\"Key\"\n        block\n        :view=\"(validation.password.$invalid && 'danger') || 'default'\"\n      />\n      <small\n        v-for=\"(error, errorIndex) of validation.password.$errors\"\n        class=\"text-red-04\"\n        :key=\"errorIndex\"\n        >{{ error.$message }}</small\n      >\n    </div>\n    <div class=\"flex items-center\">\n      <Button\n        :disabled=\"disabled || !(data.username && data.password)\"\n        :loading=\"loading\"\n        class=\"my-4\"\n        color=\"teal\"\n        block\n        >Connect</Button\n      >\n      <Tooltip placement=\"top\">\n        <template #content>\n          <div class=\"w-96\">\n            <span\n              >To find the User and Key section in your Shipmondo Account\n              settings, use this button for quick access to your Shipmondo\n              account.</span\n            >\n          </div>\n        </template>\n        <a\n          class=\"border border-teal-04 px-4 py-2 rounded-lg mx-3\"\n          href=\"https://app.shipmondo.com/main/app/#/setting/api\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n          ><i class=\"material-icons\">launch</i></a\n        >\n      </Tooltip>\n    </div>\n  </form>\n</template>\n<script>\nimport { defineComponent, reactive, watch } from 'vue'\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nimport { useVuelidate } from '@vuelidate/core'\nimport { required } from '@/validations/index'\n\nexport default defineComponent({\n  components: {\n    Input,\n    Button\n  },\n  props: {\n    data: {\n      type: Object,\n      default: () => ({\n        username: '',\n        password: ''\n      })\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['submit'],\n  setup(props, { emit }) {\n    const data = reactive({\n      username: props.data.username,\n      password: props.data.password\n    })\n    const rules = {\n      username: {\n        required\n      },\n      password: {\n        required\n      }\n    }\n    const validation = useVuelidate(rules, data, {\n      $lazy: true\n    })\n    const validate = () => {\n      validation.value.$validate()\n      return !validation.value.$invalid\n    }\n    const handleSubmit = () => {\n      if (validate()) emit('submit', data)\n    }\n    watch(\n      () => props.data,\n      (newData) => {\n        data.username = newData.username\n        data.password = newData.password\n      }\n    )\n    return {\n      data,\n      validation,\n      handleSubmit\n    }\n  }\n})\n</script>\n","<template>\n  <div class=\"pb-16 pt-4\">\n    <div class=\"text-center my-6\">\n      <img\n        draggable=\"false\"\n        class=\"mx-auto my-2 select-none\"\n        src=\"@/assets/icon/connect-shipmondo.svg\"\n        alt=\"Connect Shipmondo\"\n        whitelabel=\"image-replace\"\n        data-image-type=\"shipmondo\"\n      />\n      <p whitelabel=\"text-replace\" data-label=\"addons host\">\n        Reusely.com would like to connect to your Default Shipping Label account\n      </p>\n    </div>\n    <div class=\"md:w-1/2 w-full mx-auto my-8\">\n      <FormConnect\n        :data=\"data\"\n        :disabled=\"status.is_ready == 0\"\n        :loading=\"loading\"\n        @submit=\"handleSubmit\"\n      ></FormConnect>\n      <div class=\"my-2 text-center\">\n        <a\n          class=\"transition duration:300 hover:bg-teal-01 hover:text-teal-04 rounded-lg p-4 block w-full\"\n          href=\"https://app.shipmondo.com/account/login/?locale=en&redirect_to=/main/app\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          >Login to your Shipmondo Account</a\n        >\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { defineComponent, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\n\nimport { useConnect, useStatus } from 'composable/integration/shipmondo'\n\nimport Input from 'bbUi/components/input/input.vue'\nimport Button from 'bbUi/components/button/button.vue'\n\nimport FormConnect from '@/components/Shipmondo/FormConnect.vue'\n\nexport default defineComponent({\n  components: {\n    Input,\n    Button,\n    FormConnect\n  },\n  async setup() {\n    const router = useRouter()\n    const { credentials, loading, connect, setCredential } = useConnect()\n    const { status, loading: loadingStatus, fetchStatus } = useStatus()\n    const data = reactive({\n      username: null,\n      password: null\n    })\n\n    const handleSubmit = async ({ username, password }) => {\n      setCredential({\n        username,\n        password\n      })\n      try {\n        await connect()\n        router.push({\n          name: 'integrationShipmondoConfig'\n        })\n      } catch (err) {}\n    }\n    await fetchStatus()\n\n    Object.assign(data, {\n      username: credentials.value.username,\n      password: credentials.value.password\n    })\n    return {\n      data,\n      loading,\n      status,\n      loadingStatus,\n      handleSubmit\n    }\n  }\n})\n</script>\n","export default \"__VITE_ASSET__96290664__\""],"names":["_sfc_main","defineComponent","components","Input","Button","props","data","type","Object","default","username","password","loading","Boolean","disabled","emits","[object Object]","emit","reactive","validation","useVuelidate","required","$lazy","watch","newData","handleSubmit","value","$validate","$invalid","_hoisted_1","class","_hoisted_2","FormConnect","_openBlock","_createVNode","_component_Input","modelValue","_ctx","onUpdate:modelValue","_cache","$event","label","placeholder","autocomplete","block","_Fragment","_renderList","$errors","error","errorIndex","_createElementBlock","key","_hoisted_3","color","placement","_withCtx","_createElementVNode","href","rel","router","useRouter","credentials","connect","setCredential","useConnect","status","loadingStatus","fetchStatus","useStatus","assign","async","push","name","err","draggable","src","alt","whitelabel","_component_FormConnect","is_ready","target"],"mappings":"6VA2EA,MAAKA,EAAaC,EAAa,CAC7BC,WAAY,OACVC,SACAC,GAEFC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,QAAS,KAAO,CACdC,SAAU,GACVC,SAAU,MAGdC,QAAS,CACPL,KAAMM,QACNJ,SAAS,GAEXK,SAAU,CACRP,KAAMM,QACNJ,SAAS,IAGbM,MAAO,CAAC,UACRC,MAAMX,GAAOY,KAAEA,IACb,MAAMX,EAAOY,EAAS,CACpBR,SAAUL,EAAMC,KAAKI,SACrBC,SAAUN,EAAMC,KAAKK,WAUjBQ,EAAaC,EARL,CACZV,SAAU,CACRW,SAAAA,GAEFV,SAAU,CACRU,SAAAA,IAGmCf,EAAM,CAC3CgB,OAAO,IAgBF,OAPPC,GACE,IAAMlB,EAAMC,OACXkB,IACClB,EAAKI,SAAWc,EAAQd,SACxBJ,EAAKK,SAAWa,EAAQb,YAGrB,CACLL,KAAAA,EACAa,WAAAA,EACAM,aAbmB,KAHnBN,EAAWO,MAAMC,YACTR,EAAWO,MAAME,UAGTX,EAAK,SAAUX,QAnG5BuB,EAAA,CAAAC,MAAM,QAiBNC,EAAA,CAAAD,MAAM,sCCQf,MAAK9B,EAAaC,EAAa,CAC7BC,WAAY,OACVC,EACAC,OAAAA,EACA4B,iGDhDKC,OAAAA,mGACL,GAUI,MAAAJ,EAAA,CARSK,EAAAC,EAAa,CAAbC,WAAAC,EAAA/B,KAAAI,SACR4B,sBAAkBC,EAAA,KAAAA,EAAA,GAAAC,GAAAH,EAAA/B,KAAAI,SAAA8B,GACnB1B,SAAYuB,EAAAvB,SACZgB,MAAM,OACNW,MAAA,OACAC,mBACAC,aAAK,QACJC,MAAO,gFAOT,WAAA,kBAAAC,EAAA,KAAAC,EAAAT,EAAAlB,WAAAT,SAAAqC,SAAA,CAAAC,EAAAC,SAHoBC,EAAA,QAAA,CAClBpB,MAAe,cACZqB,IAAAF,iCAYJ,MAAAlB,EAAA,CAPSG,EAAAC,EAAa,CAAbC,WAAAC,EAAA/B,KAAAK,SACR2B,sBAAkBC,EAAA,KAAAA,EAAA,GAAAC,GAAAH,EAAA/B,KAAAK,SAAA6B,GACnB1B,SAAYuB,EAAAvB,SACZgB,MAAM,OACNW,MAAA,MACAC,YAAK,MACJE,MAAO,gFAOT,WAAA,kBAAAC,EAAA,KAAAC,EAAAT,EAAAlB,WAAAR,SAAAoC,SAAA,CAAAC,EAAAC,SAHoBC,EAAA,QAAA,CAClBpB,MAAe,cACZqB,IAAAF,iCAWL,MAAAG,EAAA,KAN0B,CACxBtC,SAAgBuB,EAAAvB,cAAAR,KAAAI,UAAA2B,EAAA/B,KAAAK,UACjBC,QAAYyB,EAAAzB,QACZkB,MAAM,OACNuB,MAAA,iCACQd,EAAA,OAAA,GAAA,uBAmBA,EAAA,CAAA,WAAA,YAhBGL,IAOH,CAAAoB,UAAA,OAAA,SAAAC,GAAA,IAAAhB,EAND,OAAY,GAAA,CACfiB,EAAA,aACG,QAEO,4KAKZjB,EAAK,KAAkDA,EAAA,GAAAiB,EAAA,IAAA,CACvD1B,MAAuD,kDACvD2B,KAAyB,mDACzBC,IAAA,uCACC,qECZP1C,cAGA,MAAM2C,EAASC,KACTC,YAAEA,EAAAjD,QAAaA,EAASkD,QAAAA,EAAAC,cAASA,GAAkBC,KACnDC,OAAEA,EAAQrD,QAASsD,EAAAC,YAAeA,GAAgBC,IAClD9D,EAAOY,EAAS,CACpBR,SAAU,KACVC,SAAU,OAqBL,aANDwD,IAEN3D,OAAO6D,OAAO/D,EAAM,CAClBI,SAAUmD,EAAYnC,MAAMhB,SAC5BC,SAAUkD,EAAYnC,MAAMf,WAEvB,CACLL,KAAAA,EACAM,QAAAA,EACAqD,OAAAA,EACAC,cAAAA,EACAzC,aAvBmB6C,OAAS5D,SAAAA,EAAUC,SAAAA,MACxBoD,EAAA,CACZrD,SAAAA,EACAC,SAAAA,IAEE,UACImD,IACNH,EAAOY,KAAK,CACVC,KAAM,+BAAA,MAEDC,UAvDN5C,EAAA,CAAAC,MAAM,wIADL,MAAAD,EAZI,GAQN,KAAAU,EAAA,GAAAiB,EAAA,MAAA,CAAA1B,MAAA,oBAAA,CANA0B,EAAiB,MAAA,CACjBkB,UAAgC,QAChC5C,MAAyC,2BACzC6C,ICPO,yCDQPC,IAAA,oBACAC,WAAA,gDAECrB,EAAyB,IAAA,CAACqB,WAAU,4BAEvC,+FAEF,MAMiB,MAAA9C,EAAA,CAJZG,EAAU4C,EAAA,CACVxE,KAAQ+B,EAAQ/B,KAChBQ,SAAgB,GAAAuB,EAAA4B,OAAAc,SAChBnE,UAAoBA,2DAUjB,UAAA,eADH,KAAA2B,EAAA,GAAAiB,EAAA,MAAA,CAAA1B,MAAA,oBAAA,CALC0B,EAA+F,IAAA,CAC/F1B,MAA+E,0FAC/E2B,KAAM,2EACNuB,OAAyB,aACO"}